import{r as $E,a as A,R as pd,j as v,b as $e,G as Ct,c as Ze,S as P1,g as D1}from"./index-CIZYMsXm.js";var gd=$E();const kc=A.createContext(null);kc.displayName="PanelGroupContext";const bt={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},md=10,ts=A.useLayoutEffect,p0=pd.useId,zE=typeof p0=="function"?p0:()=>null;let UE=0;function vd(n=null){const e=zE(),t=A.useRef(n||e||null);return t.current===null&&(t.current=""+UE++),n??t.current}function q1({children:n,className:e="",collapsedSize:t,collapsible:r,defaultSize:o,forwardedRef:l,id:a,maxSize:u,minSize:f,onCollapse:d,onExpand:h,onResize:g,order:p,style:b,tagName:y="div",...w}){const E=A.useContext(kc);if(E===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:S,expandPanel:R,getPanelSize:I,getPanelStyle:j,groupId:z,isPanelCollapsed:J,reevaluatePanelConstraints:V,registerPanel:ne,resizePanel:pe,unregisterPanel:fe}=E,N=vd(a),D=A.useRef({callbacks:{onCollapse:d,onExpand:h,onResize:g},constraints:{collapsedSize:t,collapsible:r,defaultSize:o,maxSize:u,minSize:f},id:N,idIsFromProps:a!==void 0,order:p});A.useRef({didLogMissingDefaultSizeWarning:!1}),ts(()=>{const{callbacks:G,constraints:P}=D.current,H={...P};D.current.id=N,D.current.idIsFromProps=a!==void 0,D.current.order=p,G.onCollapse=d,G.onExpand=h,G.onResize=g,P.collapsedSize=t,P.collapsible=r,P.defaultSize=o,P.maxSize=u,P.minSize=f,(H.collapsedSize!==P.collapsedSize||H.collapsible!==P.collapsible||H.maxSize!==P.maxSize||H.minSize!==P.minSize)&&V(D.current,H)}),ts(()=>{const G=D.current;return ne(G),()=>{fe(G)}},[p,N,ne,fe]),A.useImperativeHandle(l,()=>({collapse:()=>{S(D.current)},expand:G=>{R(D.current,G)},getId(){return N},getSize(){return I(D.current)},isCollapsed(){return J(D.current)},isExpanded(){return!J(D.current)},resize:G=>{pe(D.current,G)}}),[S,R,I,J,N,pe]);const O=j(D.current,o);return A.createElement(y,{...w,children:n,className:e,id:N,style:{...O,...b},[bt.groupId]:z,[bt.panel]:"",[bt.panelCollapsible]:r||void 0,[bt.panelId]:N,[bt.panelSize]:parseFloat(""+O.flexGrow).toFixed(1)})}const Mf=A.forwardRef((n,e)=>A.createElement(q1,{...n,forwardedRef:e}));q1.displayName="Panel";Mf.displayName="forwardRef(Panel)";let jf=null,lc=-1,mi=null;function WE(n,e,t){const r=(e&U1)!==0,o=(e&W1)!==0,l=(e&V1)!==0,a=(e&G1)!==0;if(e){if(r)return l?"se-resize":a?"ne-resize":"e-resize";if(o)return l?"sw-resize":a?"nw-resize":"w-resize";if(l)return"s-resize";if(a)return"n-resize"}switch(n){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function VE(){mi!==null&&(document.head.removeChild(mi),jf=null,mi=null,lc=-1)}function rf(n,e,t){var r,o;const l=WE(n,e);if(jf!==l){if(jf=l,mi===null&&(mi=document.createElement("style"),document.head.appendChild(mi)),lc>=0){var a;(a=mi.sheet)===null||a===void 0||a.removeRule(lc)}lc=(r=(o=mi.sheet)===null||o===void 0?void 0:o.insertRule(`*{cursor: ${l} !important;}`))!==null&&r!==void 0?r:-1}}function F1(n){return n.type==="keydown"}function H1(n){return n.type.startsWith("pointer")}function $1(n){return n.type.startsWith("mouse")}function Ic(n){if(H1(n)){if(n.isPrimary)return{x:n.clientX,y:n.clientY}}else if($1(n))return{x:n.clientX,y:n.clientY};return{x:1/0,y:1/0}}function GE(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function ZE(n,e,t){return n.x<e.x+e.width&&n.x+n.width>e.x&&n.y<e.y+e.height&&n.y+n.height>e.y}function KE(n,e){if(n===e)throw new Error("Cannot compare node with itself");const t={a:v0(n),b:v0(e)};let r;for(;t.a.at(-1)===t.b.at(-1);)n=t.a.pop(),e=t.b.pop(),r=n;De(r,"Stacking order can only be calculated for elements with a common ancestor");const o={a:m0(g0(t.a)),b:m0(g0(t.b))};if(o.a===o.b){const l=r.childNodes,a={a:t.a.at(-1),b:t.b.at(-1)};let u=l.length;for(;u--;){const f=l[u];if(f===a.a)return 1;if(f===a.b)return-1}}return Math.sign(o.a-o.b)}const YE=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function XE(n){var e;const t=getComputedStyle((e=z1(n))!==null&&e!==void 0?e:n).display;return t==="flex"||t==="inline-flex"}function JE(n){const e=getComputedStyle(n);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||XE(n))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||YE.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function g0(n){let e=n.length;for(;e--;){const t=n[e];if(De(t,"Missing node"),JE(t))return t}return null}function m0(n){return n&&Number(getComputedStyle(n).zIndex)||0}function v0(n){const e=[];for(;n;)e.push(n),n=z1(n);return e}function z1(n){const{parentNode:e}=n;return e&&e instanceof ShadowRoot?e.host:e}const U1=1,W1=2,V1=4,G1=8,QE=GE()==="coarse";let Yn=[],co=!1,vi=new Map,Oc=new Map;const _l=new Set;function eA(n,e,t,r,o){var l;const{ownerDocument:a}=e,u={direction:t,element:e,hitAreaMargins:r,setResizeHandlerState:o},f=(l=vi.get(a))!==null&&l!==void 0?l:0;return vi.set(a,f+1),_l.add(u),uc(),function(){var h;Oc.delete(n),_l.delete(u);const g=(h=vi.get(a))!==null&&h!==void 0?h:1;if(vi.set(a,g-1),uc(),g===1&&vi.delete(a),Yn.includes(u)){const p=Yn.indexOf(u);p>=0&&Yn.splice(p,1),Bc(),o("up",!0,null)}}}function tA(n){const{target:e}=n,{x:t,y:r}=Ic(n);co=!0,bd({target:e,x:t,y:r}),uc(),Yn.length>0&&(fc("down",n),Bc(),n.preventDefault(),Z1(e)||n.stopImmediatePropagation())}function sf(n){const{x:e,y:t}=Ic(n);if(co&&n.buttons===0&&(co=!1,fc("up",n)),!co){const{target:r}=n;bd({target:r,x:e,y:t})}fc("move",n),Bc(),Yn.length>0&&n.preventDefault()}function of(n){const{target:e}=n,{x:t,y:r}=Ic(n);Oc.clear(),co=!1,Yn.length>0&&(n.preventDefault(),Z1(e)||n.stopImmediatePropagation()),fc("up",n),bd({target:e,x:t,y:r}),Bc(),uc()}function Z1(n){let e=n;for(;e;){if(e.hasAttribute(bt.resizeHandle))return!0;e=e.parentElement}return!1}function bd({target:n,x:e,y:t}){Yn.splice(0);let r=null;(n instanceof HTMLElement||n instanceof SVGElement)&&(r=n),_l.forEach(o=>{const{element:l,hitAreaMargins:a}=o,u=l.getBoundingClientRect(),{bottom:f,left:d,right:h,top:g}=u,p=QE?a.coarse:a.fine;if(e>=d-p&&e<=h+p&&t>=g-p&&t<=f+p){if(r!==null&&document.contains(r)&&l!==r&&!l.contains(r)&&!r.contains(l)&&KE(r,l)>0){let y=r,w=!1;for(;y&&!y.contains(l);){if(ZE(y.getBoundingClientRect(),u)){w=!0;break}y=y.parentElement}if(w)return}Yn.push(o)}})}function lf(n,e){Oc.set(n,e)}function Bc(){let n=!1,e=!1;Yn.forEach(r=>{const{direction:o}=r;o==="horizontal"?n=!0:e=!0});let t=0;Oc.forEach(r=>{t|=r}),n&&e?rf("intersection",t):n?rf("horizontal",t):e?rf("vertical",t):VE()}let af;function uc(){var n;(n=af)===null||n===void 0||n.abort(),af=new AbortController;const e={capture:!0,signal:af.signal};_l.size&&(co?(Yn.length>0&&vi.forEach((t,r)=>{const{body:o}=r;t>0&&(o.addEventListener("contextmenu",of,e),o.addEventListener("pointerleave",sf,e),o.addEventListener("pointermove",sf,e))}),vi.forEach((t,r)=>{const{body:o}=r;o.addEventListener("pointerup",of,e),o.addEventListener("pointercancel",of,e)})):vi.forEach((t,r)=>{const{body:o}=r;t>0&&(o.addEventListener("pointerdown",tA,e),o.addEventListener("pointermove",sf,e))}))}function fc(n,e){_l.forEach(t=>{const{setResizeHandlerState:r}=t,o=Yn.includes(t);r(n,o,e)})}function nA(){const[n,e]=A.useState(0);return A.useCallback(()=>e(t=>t+1),[])}function De(n,e){if(!n)throw console.error(e),Error(e)}function ns(n,e,t=md){return n.toFixed(t)===e.toFixed(t)?0:n>e?1:-1}function Dr(n,e,t=md){return ns(n,e,t)===0}function mn(n,e,t){return ns(n,e,t)===0}function rA(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){const o=n[r],l=e[r];if(!mn(o,l,t))return!1}return!0}function lo({panelConstraints:n,panelIndex:e,size:t}){const r=n[e];De(r!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:o=0,collapsible:l,maxSize:a=100,minSize:u=0}=r;if(ns(t,u)<0)if(l){const f=(o+u)/2;ns(t,f)<0?t=o:t=u}else t=u;return t=Math.min(a,t),t=parseFloat(t.toFixed(md)),t}function pl({delta:n,initialLayout:e,panelConstraints:t,pivotIndices:r,prevLayout:o,trigger:l}){if(mn(n,0))return e;const a=[...e],[u,f]=r;De(u!=null,"Invalid first pivot index"),De(f!=null,"Invalid second pivot index");let d=0;if(l==="keyboard"){{const g=n<0?f:u,p=t[g];De(p,`Panel constraints not found for index ${g}`);const{collapsedSize:b=0,collapsible:y,minSize:w=0}=p;if(y){const E=e[g];if(De(E!=null,`Previous layout not found for panel index ${g}`),mn(E,b)){const S=w-E;ns(S,Math.abs(n))>0&&(n=n<0?0-S:S)}}}{const g=n<0?u:f,p=t[g];De(p,`No panel constraints found for index ${g}`);const{collapsedSize:b=0,collapsible:y,minSize:w=0}=p;if(y){const E=e[g];if(De(E!=null,`Previous layout not found for panel index ${g}`),mn(E,w)){const S=E-b;ns(S,Math.abs(n))>0&&(n=n<0?0-S:S)}}}}{const g=n<0?1:-1;let p=n<0?f:u,b=0;for(;;){const w=e[p];De(w!=null,`Previous layout not found for panel index ${p}`);const S=lo({panelConstraints:t,panelIndex:p,size:100})-w;if(b+=S,p+=g,p<0||p>=t.length)break}const y=Math.min(Math.abs(n),Math.abs(b));n=n<0?0-y:y}{let p=n<0?u:f;for(;p>=0&&p<t.length;){const b=Math.abs(n)-Math.abs(d),y=e[p];De(y!=null,`Previous layout not found for panel index ${p}`);const w=y-b,E=lo({panelConstraints:t,panelIndex:p,size:w});if(!mn(y,E)&&(d+=y-E,a[p]=E,d.toFixed(3).localeCompare(Math.abs(n).toFixed(3),void 0,{numeric:!0})>=0))break;n<0?p--:p++}}if(rA(o,a))return o;{const g=n<0?f:u,p=e[g];De(p!=null,`Previous layout not found for panel index ${g}`);const b=p+d,y=lo({panelConstraints:t,panelIndex:g,size:b});if(a[g]=y,!mn(y,b)){let w=b-y,S=n<0?f:u;for(;S>=0&&S<t.length;){const R=a[S];De(R!=null,`Previous layout not found for panel index ${S}`);const I=R+w,j=lo({panelConstraints:t,panelIndex:S,size:I});if(mn(R,j)||(w-=j-R,a[S]=j),mn(w,0))break;n>0?S--:S++}}}const h=a.reduce((g,p)=>p+g,0);return mn(h,100)?a:o}function iA({layout:n,panelsArray:e,pivotIndices:t}){let r=0,o=100,l=0,a=0;const u=t[0];De(u!=null,"No pivot index found"),e.forEach((g,p)=>{const{constraints:b}=g,{maxSize:y=100,minSize:w=0}=b;p===u?(r=w,o=y):(l+=w,a+=y)});const f=Math.min(o,100-l),d=Math.max(r,100-a),h=n[u];return{valueMax:f,valueMin:d,valueNow:h}}function Tl(n,e=document){return Array.from(e.querySelectorAll(`[${bt.resizeHandleId}][data-panel-group-id="${n}"]`))}function K1(n,e,t=document){const o=Tl(n,t).findIndex(l=>l.getAttribute(bt.resizeHandleId)===e);return o??null}function Y1(n,e,t){const r=K1(n,e,t);return r!=null?[r,r+1]:[-1,-1]}function sA(n){return n instanceof HTMLElement?!0:typeof n=="object"&&n!==null&&"tagName"in n&&"getAttribute"in n}function X1(n,e=document){if(sA(e)&&e.dataset.panelGroupId==n)return e;const t=e.querySelector(`[data-panel-group][data-panel-group-id="${n}"]`);return t||null}function Mc(n,e=document){const t=e.querySelector(`[${bt.resizeHandleId}="${n}"]`);return t||null}function oA(n,e,t,r=document){var o,l,a,u;const f=Mc(e,r),d=Tl(n,r),h=f?d.indexOf(f):-1,g=(o=(l=t[h])===null||l===void 0?void 0:l.id)!==null&&o!==void 0?o:null,p=(a=(u=t[h+1])===null||u===void 0?void 0:u.id)!==null&&a!==void 0?a:null;return[g,p]}function lA({committedValuesRef:n,eagerValuesRef:e,groupId:t,layout:r,panelDataArray:o,panelGroupElement:l,setLayout:a}){A.useRef({didWarnAboutMissingResizeHandle:!1}),ts(()=>{if(!l)return;const u=Tl(t,l);for(let f=0;f<o.length-1;f++){const{valueMax:d,valueMin:h,valueNow:g}=iA({layout:r,panelsArray:o,pivotIndices:[f,f+1]}),p=u[f];if(p!=null){const b=o[f];De(b,`No panel data found for index "${f}"`),p.setAttribute("aria-controls",b.id),p.setAttribute("aria-valuemax",""+Math.round(d)),p.setAttribute("aria-valuemin",""+Math.round(h)),p.setAttribute("aria-valuenow",g!=null?""+Math.round(g):"")}}return()=>{u.forEach((f,d)=>{f.removeAttribute("aria-controls"),f.removeAttribute("aria-valuemax"),f.removeAttribute("aria-valuemin"),f.removeAttribute("aria-valuenow")})}},[t,r,o,l]),A.useEffect(()=>{if(!l)return;const u=e.current;De(u,"Eager values not found");const{panelDataArray:f}=u,d=X1(t,l);De(d!=null,`No group found for id "${t}"`);const h=Tl(t,l);De(h,`No resize handles found for group id "${t}"`);const g=h.map(p=>{const b=p.getAttribute(bt.resizeHandleId);De(b,"Resize handle element has no handle id attribute");const[y,w]=oA(t,b,f,l);if(y==null||w==null)return()=>{};const E=S=>{if(!S.defaultPrevented)switch(S.key){case"Enter":{S.preventDefault();const R=f.findIndex(I=>I.id===y);if(R>=0){const I=f[R];De(I,`No panel data found for index ${R}`);const j=r[R],{collapsedSize:z=0,collapsible:J,minSize:V=0}=I.constraints;if(j!=null&&J){const ne=pl({delta:mn(j,z)?V-z:z-j,initialLayout:r,panelConstraints:f.map(pe=>pe.constraints),pivotIndices:Y1(t,b,l),prevLayout:r,trigger:"keyboard"});r!==ne&&a(ne)}}break}}};return p.addEventListener("keydown",E),()=>{p.removeEventListener("keydown",E)}});return()=>{g.forEach(p=>p())}},[l,n,e,t,r,o,a])}function b0(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function J1(n,e){const t=n==="horizontal",{x:r,y:o}=Ic(e);return t?r:o}function aA(n,e,t,r,o){const l=t==="horizontal",a=Mc(e,o);De(a,`No resize handle element found for id "${e}"`);const u=a.getAttribute(bt.groupId);De(u,"Resize handle element has no group id attribute");let{initialCursorPosition:f}=r;const d=J1(t,n),h=X1(u,o);De(h,`No group element found for id "${u}"`);const g=h.getBoundingClientRect(),p=l?g.width:g.height;return(d-f)/p*100}function cA(n,e,t,r,o,l){if(F1(n)){const a=t==="horizontal";let u=0;n.shiftKey?u=100:o!=null?u=o:u=10;let f=0;switch(n.key){case"ArrowDown":f=a?0:u;break;case"ArrowLeft":f=a?-u:0;break;case"ArrowRight":f=a?u:0;break;case"ArrowUp":f=a?0:-u;break;case"End":f=100;break;case"Home":f=-100;break}return f}else return r==null?0:aA(n,e,t,r,l)}function uA({panelDataArray:n}){const e=Array(n.length),t=n.map(l=>l.constraints);let r=0,o=100;for(let l=0;l<n.length;l++){const a=t[l];De(a,`Panel constraints not found for index ${l}`);const{defaultSize:u}=a;u!=null&&(r++,e[l]=u,o-=u)}for(let l=0;l<n.length;l++){const a=t[l];De(a,`Panel constraints not found for index ${l}`);const{defaultSize:u}=a;if(u!=null)continue;const f=n.length-r,d=o/f;r++,e[l]=d,o-=d}return e}function Gs(n,e,t){e.forEach((r,o)=>{const l=n[o];De(l,`Panel data not found for index ${o}`);const{callbacks:a,constraints:u,id:f}=l,{collapsedSize:d=0,collapsible:h}=u,g=t[f];if(g==null||r!==g){t[f]=r;const{onCollapse:p,onExpand:b,onResize:y}=a;y&&y(r,g),h&&(p||b)&&(b&&(g==null||Dr(g,d))&&!Dr(r,d)&&b(),p&&(g==null||!Dr(g,d))&&Dr(r,d)&&p())}})}function Oa(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t])return!1;return!0}function fA({defaultSize:n,dragState:e,layout:t,panelData:r,panelIndex:o,precision:l=3}){const a=t[o];let u;return a==null?u=n!=null?n.toFixed(l):"1":r.length===1?u="1":u=a.toFixed(l),{flexBasis:0,flexGrow:u,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function dA(n,e=10){let t=null;return(...o)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{n(...o)},e)}}function x0(n){try{if(typeof localStorage<"u")n.getItem=e=>localStorage.getItem(e),n.setItem=(e,t)=>{localStorage.setItem(e,t)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),n.getItem=()=>null,n.setItem=()=>{}}}function Q1(n){return`react-resizable-panels:${n}`}function em(n){return n.map(e=>{const{constraints:t,id:r,idIsFromProps:o,order:l}=e;return o?r:l?`${l}:${JSON.stringify(t)}`:JSON.stringify(t)}).sort((e,t)=>e.localeCompare(t)).join(",")}function tm(n,e){try{const t=Q1(n),r=e.getItem(t);if(r){const o=JSON.parse(r);if(typeof o=="object"&&o!=null)return o}}catch{}return null}function hA(n,e,t){var r,o;const l=(r=tm(n,t))!==null&&r!==void 0?r:{},a=em(e);return(o=l[a])!==null&&o!==void 0?o:null}function pA(n,e,t,r,o){var l;const a=Q1(n),u=em(e),f=(l=tm(n,o))!==null&&l!==void 0?l:{};f[u]={expandToSizes:Object.fromEntries(t.entries()),layout:r};try{o.setItem(a,JSON.stringify(f))}catch(d){console.error(d)}}function y0({layout:n,panelConstraints:e}){const t=[...n],r=t.reduce((l,a)=>l+a,0);if(t.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${t.map(l=>`${l}%`).join(", ")}`);if(!mn(r,100)&&t.length>0)for(let l=0;l<e.length;l++){const a=t[l];De(a!=null,`No layout data found for index ${l}`);const u=100/r*a;t[l]=u}let o=0;for(let l=0;l<e.length;l++){const a=t[l];De(a!=null,`No layout data found for index ${l}`);const u=lo({panelConstraints:e,panelIndex:l,size:a});a!=u&&(o+=a-u,t[l]=u)}if(!mn(o,0))for(let l=0;l<e.length;l++){const a=t[l];De(a!=null,`No layout data found for index ${l}`);const u=a+o,f=lo({panelConstraints:e,panelIndex:l,size:u});if(a!==f&&(o-=f-a,t[l]=f,mn(o,0)))break}return t}const gA=100,gl={getItem:n=>(x0(gl),gl.getItem(n)),setItem:(n,e)=>{x0(gl),gl.setItem(n,e)}},w0={};function nm({autoSaveId:n=null,children:e,className:t="",direction:r,forwardedRef:o,id:l=null,onLayout:a=null,keyboardResizeBy:u=null,storage:f=gl,style:d,tagName:h="div",...g}){const p=vd(l),b=A.useRef(null),[y,w]=A.useState(null),[E,S]=A.useState([]),R=nA(),I=A.useRef({}),j=A.useRef(new Map),z=A.useRef(0),J=A.useRef({autoSaveId:n,direction:r,dragState:y,id:p,keyboardResizeBy:u,onLayout:a,storage:f}),V=A.useRef({layout:E,panelDataArray:[],panelDataArrayChanged:!1});A.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),A.useImperativeHandle(o,()=>({getId:()=>J.current.id,getLayout:()=>{const{layout:X}=V.current;return X},setLayout:X=>{const{onLayout:de}=J.current,{layout:Y,panelDataArray:ae}=V.current,ce=y0({layout:X,panelConstraints:ae.map(ue=>ue.constraints)});b0(Y,ce)||(S(ce),V.current.layout=ce,de&&de(ce),Gs(ae,ce,I.current))}}),[]),ts(()=>{J.current.autoSaveId=n,J.current.direction=r,J.current.dragState=y,J.current.id=p,J.current.onLayout=a,J.current.storage=f}),lA({committedValuesRef:J,eagerValuesRef:V,groupId:p,layout:E,panelDataArray:V.current.panelDataArray,setLayout:S,panelGroupElement:b.current}),A.useEffect(()=>{const{panelDataArray:X}=V.current;if(n){if(E.length===0||E.length!==X.length)return;let de=w0[n];de==null&&(de=dA(pA,gA),w0[n]=de);const Y=[...X],ae=new Map(j.current);de(n,Y,ae,E,f)}},[n,E,f]),A.useEffect(()=>{});const ne=A.useCallback(X=>{const{onLayout:de}=J.current,{layout:Y,panelDataArray:ae}=V.current;if(X.constraints.collapsible){const ce=ae.map(ge=>ge.constraints),{collapsedSize:ue=0,panelSize:xe,pivotIndices:_e}=Ji(ae,X,Y);if(De(xe!=null,`Panel size not found for panel "${X.id}"`),!Dr(xe,ue)){j.current.set(X.id,xe);const ve=to(ae,X)===ae.length-1?xe-ue:ue-xe,he=pl({delta:ve,initialLayout:Y,panelConstraints:ce,pivotIndices:_e,prevLayout:Y,trigger:"imperative-api"});Oa(Y,he)||(S(he),V.current.layout=he,de&&de(he),Gs(ae,he,I.current))}}},[]),pe=A.useCallback((X,de)=>{const{onLayout:Y}=J.current,{layout:ae,panelDataArray:ce}=V.current;if(X.constraints.collapsible){const ue=ce.map(me=>me.constraints),{collapsedSize:xe=0,panelSize:_e=0,minSize:ge=0,pivotIndices:ve}=Ji(ce,X,ae),he=de??ge;if(Dr(_e,xe)){const me=j.current.get(X.id),ke=me!=null&&me>=he?me:he,it=to(ce,X)===ce.length-1?_e-ke:ke-_e,Je=pl({delta:it,initialLayout:ae,panelConstraints:ue,pivotIndices:ve,prevLayout:ae,trigger:"imperative-api"});Oa(ae,Je)||(S(Je),V.current.layout=Je,Y&&Y(Je),Gs(ce,Je,I.current))}}},[]),fe=A.useCallback(X=>{const{layout:de,panelDataArray:Y}=V.current,{panelSize:ae}=Ji(Y,X,de);return De(ae!=null,`Panel size not found for panel "${X.id}"`),ae},[]),N=A.useCallback((X,de)=>{const{panelDataArray:Y}=V.current,ae=to(Y,X);return fA({defaultSize:de,dragState:y,layout:E,panelData:Y,panelIndex:ae})},[y,E]),D=A.useCallback(X=>{const{layout:de,panelDataArray:Y}=V.current,{collapsedSize:ae=0,collapsible:ce,panelSize:ue}=Ji(Y,X,de);return De(ue!=null,`Panel size not found for panel "${X.id}"`),ce===!0&&Dr(ue,ae)},[]),O=A.useCallback(X=>{const{layout:de,panelDataArray:Y}=V.current,{collapsedSize:ae=0,collapsible:ce,panelSize:ue}=Ji(Y,X,de);return De(ue!=null,`Panel size not found for panel "${X.id}"`),!ce||ns(ue,ae)>0},[]),G=A.useCallback(X=>{const{panelDataArray:de}=V.current;de.push(X),de.sort((Y,ae)=>{const ce=Y.order,ue=ae.order;return ce==null&&ue==null?0:ce==null?-1:ue==null?1:ce-ue}),V.current.panelDataArrayChanged=!0,R()},[R]);ts(()=>{if(V.current.panelDataArrayChanged){V.current.panelDataArrayChanged=!1;const{autoSaveId:X,onLayout:de,storage:Y}=J.current,{layout:ae,panelDataArray:ce}=V.current;let ue=null;if(X){const _e=hA(X,ce,Y);_e&&(j.current=new Map(Object.entries(_e.expandToSizes)),ue=_e.layout)}ue==null&&(ue=uA({panelDataArray:ce}));const xe=y0({layout:ue,panelConstraints:ce.map(_e=>_e.constraints)});b0(ae,xe)||(S(xe),V.current.layout=xe,de&&de(xe),Gs(ce,xe,I.current))}}),ts(()=>{const X=V.current;return()=>{X.layout=[]}},[]);const P=A.useCallback(X=>{let de=!1;const Y=b.current;return Y&&window.getComputedStyle(Y,null).getPropertyValue("direction")==="rtl"&&(de=!0),function(ce){ce.preventDefault();const ue=b.current;if(!ue)return()=>null;const{direction:xe,dragState:_e,id:ge,keyboardResizeBy:ve,onLayout:he}=J.current,{layout:me,panelDataArray:ke}=V.current,{initialLayout:tt}=_e??{},it=Y1(ge,X,ue);let Je=cA(ce,X,xe,_e,ve,ue);const Qe=xe==="horizontal";Qe&&de&&(Je=-Je);const ze=ke.map(Pn=>Pn.constraints),Xe=pl({delta:Je,initialLayout:tt??me,panelConstraints:ze,pivotIndices:it,prevLayout:me,trigger:F1(ce)?"keyboard":"mouse-or-touch"}),Pt=!Oa(me,Xe);(H1(ce)||$1(ce))&&z.current!=Je&&(z.current=Je,!Pt&&Je!==0?Qe?lf(X,Je<0?U1:W1):lf(X,Je<0?V1:G1):lf(X,0)),Pt&&(S(Xe),V.current.layout=Xe,he&&he(Xe),Gs(ke,Xe,I.current))}},[]),H=A.useCallback((X,de)=>{const{onLayout:Y}=J.current,{layout:ae,panelDataArray:ce}=V.current,ue=ce.map(me=>me.constraints),{panelSize:xe,pivotIndices:_e}=Ji(ce,X,ae);De(xe!=null,`Panel size not found for panel "${X.id}"`);const ve=to(ce,X)===ce.length-1?xe-de:de-xe,he=pl({delta:ve,initialLayout:ae,panelConstraints:ue,pivotIndices:_e,prevLayout:ae,trigger:"imperative-api"});Oa(ae,he)||(S(he),V.current.layout=he,Y&&Y(he),Gs(ce,he,I.current))},[]),W=A.useCallback((X,de)=>{const{layout:Y,panelDataArray:ae}=V.current,{collapsedSize:ce=0,collapsible:ue}=de,{collapsedSize:xe=0,collapsible:_e,maxSize:ge=100,minSize:ve=0}=X.constraints,{panelSize:he}=Ji(ae,X,Y);he!=null&&(ue&&_e&&Dr(he,ce)?Dr(ce,xe)||H(X,xe):he<ve?H(X,ve):he>ge&&H(X,ge))},[H]),U=A.useCallback((X,de)=>{const{direction:Y}=J.current,{layout:ae}=V.current;if(!b.current)return;const ce=Mc(X,b.current);De(ce,`Drag handle element not found for id "${X}"`);const ue=J1(Y,de);w({dragHandleId:X,dragHandleRect:ce.getBoundingClientRect(),initialCursorPosition:ue,initialLayout:ae})},[]),$=A.useCallback(()=>{w(null)},[]),Z=A.useCallback(X=>{const{panelDataArray:de}=V.current,Y=to(de,X);Y>=0&&(de.splice(Y,1),delete I.current[X.id],V.current.panelDataArrayChanged=!0,R())},[R]),le=A.useMemo(()=>({collapsePanel:ne,direction:r,dragState:y,expandPanel:pe,getPanelSize:fe,getPanelStyle:N,groupId:p,isPanelCollapsed:D,isPanelExpanded:O,reevaluatePanelConstraints:W,registerPanel:G,registerResizeHandle:P,resizePanel:H,startDragging:U,stopDragging:$,unregisterPanel:Z,panelGroupElement:b.current}),[ne,y,r,pe,fe,N,p,D,O,W,G,P,H,U,$,Z]),Q={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return A.createElement(kc.Provider,{value:le},A.createElement(h,{...g,children:e,className:t,id:l,ref:b,style:{...Q,...d},[bt.group]:"",[bt.groupDirection]:r,[bt.groupId]:p}))}const rm=A.forwardRef((n,e)=>A.createElement(nm,{...n,forwardedRef:e}));nm.displayName="PanelGroup";rm.displayName="forwardRef(PanelGroup)";function to(n,e){return n.findIndex(t=>t===e||t.id===e.id)}function Ji(n,e,t){const r=to(n,e),l=r===n.length-1?[r-1,r]:[r,r+1],a=t[r];return{...e.constraints,panelSize:a,pivotIndices:l}}function mA({disabled:n,handleId:e,resizeHandler:t,panelGroupElement:r}){A.useEffect(()=>{if(n||t==null||r==null)return;const o=Mc(e,r);if(o==null)return;const l=a=>{if(!a.defaultPrevented)switch(a.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{a.preventDefault(),t(a);break}case"F6":{a.preventDefault();const u=o.getAttribute(bt.groupId);De(u,`No group element found for id "${u}"`);const f=Tl(u,r),d=K1(u,e,r);De(d!==null,`No resize element found for id "${e}"`);const h=a.shiftKey?d>0?d-1:f.length-1:d+1<f.length?d+1:0;f[h].focus();break}}};return o.addEventListener("keydown",l),()=>{o.removeEventListener("keydown",l)}},[r,n,e,t])}function im({children:n=null,className:e="",disabled:t=!1,hitAreaMargins:r,id:o,onBlur:l,onClick:a,onDragging:u,onFocus:f,onPointerDown:d,onPointerUp:h,style:g={},tabIndex:p=0,tagName:b="div",...y}){var w,E;const S=A.useRef(null),R=A.useRef({onClick:a,onDragging:u,onPointerDown:d,onPointerUp:h});A.useEffect(()=>{R.current.onClick=a,R.current.onDragging=u,R.current.onPointerDown=d,R.current.onPointerUp=h});const I=A.useContext(kc);if(I===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:j,groupId:z,registerResizeHandle:J,startDragging:V,stopDragging:ne,panelGroupElement:pe}=I,fe=vd(o),[N,D]=A.useState("inactive"),[O,G]=A.useState(!1),[P,H]=A.useState(null),W=A.useRef({state:N});ts(()=>{W.current.state=N}),A.useEffect(()=>{if(t)H(null);else{const le=J(fe);H(()=>le)}},[t,fe,J]);const U=(w=r?.coarse)!==null&&w!==void 0?w:15,$=(E=r?.fine)!==null&&E!==void 0?E:5;A.useEffect(()=>{if(t||P==null)return;const le=S.current;De(le,"Element ref not attached");let Q=!1;return eA(fe,le,j,{coarse:U,fine:$},(de,Y,ae)=>{if(!Y){D("inactive");return}switch(de){case"down":{D("drag"),Q=!1,De(ae,'Expected event to be defined for "down" action'),V(fe,ae);const{onDragging:ce,onPointerDown:ue}=R.current;ce?.(!0),ue?.();break}case"move":{const{state:ce}=W.current;Q=!0,ce!=="drag"&&D("hover"),De(ae,'Expected event to be defined for "move" action'),P(ae);break}case"up":{D("hover"),ne();const{onClick:ce,onDragging:ue,onPointerUp:xe}=R.current;ue?.(!1),xe?.(),Q||ce?.();break}}})},[U,j,t,$,J,fe,P,V,ne]),mA({disabled:t,handleId:fe,resizeHandler:P,panelGroupElement:pe});const Z={touchAction:"none",userSelect:"none"};return A.createElement(b,{...y,children:n,className:e,id:o,onBlur:()=>{G(!1),l?.()},onFocus:()=>{G(!0),f?.()},ref:S,role:"separator",style:{...Z,...g},tabIndex:p,[bt.groupDirection]:j,[bt.groupId]:z,[bt.resizeHandle]:"",[bt.resizeHandleActive]:N==="drag"?"pointer":O?"keyboard":void 0,[bt.resizeHandleEnabled]:!t,[bt.resizeHandleId]:fe,[bt.resizeHandleState]:N})}im.displayName="PanelResizeHandle";const vA=({children:n,isSavePanelSize:e,direction:t,minHeight:r,maxHeight:o})=>v.jsx(rm,{autoSaveId:e?"conditional":void 0,direction:t,className:`resizable-panel-group ${t}`,style:{minHeight:r,maxHeight:o},children:n});var sm={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},C0=$e.createContext&&$e.createContext(sm),bA=["attr","size","title"];function xA(n,e){if(n==null)return{};var t=yA(n,e),r,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(o=0;o<l.length;o++)r=l[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function yA(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function dc(){return dc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},dc.apply(this,arguments)}function E0(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,r)}return t}function hc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?E0(Object(t),!0).forEach(function(r){wA(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):E0(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function wA(n,e,t){return e=CA(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function CA(n){var e=EA(n,"string");return typeof e=="symbol"?e:e+""}function EA(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function om(n){return n&&n.map((e,t)=>$e.createElement(e.tag,hc({key:t},e.attr),om(e.child)))}function Se(n){return e=>$e.createElement(AA,dc({attr:hc({},n.attr)},e),om(n.child))}function AA(n){var e=t=>{var{attr:r,size:o,title:l}=n,a=xA(n,bA),u=o||t.size||"1em",f;return t.className&&(f=t.className),n.className&&(f=(f?f+" ":"")+n.className),$e.createElement("svg",dc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:f,style:hc(hc({color:n.color||t.color},t.style),n.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&$e.createElement("title",null,l),n.children)};return C0!==void 0?$e.createElement(C0.Consumer,null,t=>e(t)):e(sm)}function _A(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208,136H140V120h44a20,20,0,0,0,20-20V60a20,20,0,0,0-20-20H140V32a12,12,0,0,0-24,0v8H72A20,20,0,0,0,52,60v40a20,20,0,0,0,20,20h44v16H48a20,20,0,0,0-20,20v40a20,20,0,0,0,20,20h68v8a12,12,0,0,0,24,0v-8h68a20,20,0,0,0,20-20V156A20,20,0,0,0,208,136ZM76,64H180V96H76ZM204,192H52V160H204Z"},child:[]}]})(n)}function TA(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M44,56V200a12,12,0,0,1-24,0V56a12,12,0,0,1,24,0ZM244,96v64a20,20,0,0,1-20,20H80a20,20,0,0,1-20-20V96A20,20,0,0,1,80,76H224A20,20,0,0,1,244,96Zm-24,4H84v56H220Z"},child:[]}]})(n)}function SA(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M236,56V200a12,12,0,0,1-24,0V56a12,12,0,0,1,24,0ZM196,96v64a20,20,0,0,1-20,20H32a20,20,0,0,1-20-20V96A20,20,0,0,1,32,76H176A20,20,0,0,1,196,96Zm-24,4H36v56H172Z"},child:[]}]})(n)}function LA(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208.49,152.49l-72,72a12,12,0,0,1-17,0l-72-72a12,12,0,0,1,17-17L116,187V40a12,12,0,0,1,24,0V187l51.51-51.52a12,12,0,0,1,17,17Z"},child:[]}]})(n)}function pc(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M224.49,136.49l-72,72a12,12,0,0,1-17-17L187,140H40a12,12,0,0,1,0-24H187L135.51,64.48a12,12,0,0,1,17-17l72,72A12,12,0,0,1,224.49,136.49Z"},child:[]}]})(n)}function NA(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208,28H48A20,20,0,0,0,28,48V208a20,20,0,0,0,20,20H208a20,20,0,0,0,20-20V48A20,20,0,0,0,208,28Zm-4,176H52V52H204ZM76,128a12,12,0,0,1,12-12h51l-11.52-11.51a12,12,0,1,1,17-17l32,32a12,12,0,0,1,0,17l-32,32a12,12,0,1,1-17-17L139,140H88A12,12,0,0,1,76,128Z"},child:[]}]})(n)}function RA(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208.49,120.49a12,12,0,0,1-17,0L140,69V216a12,12,0,0,1-24,0V69L64.49,120.49a12,12,0,0,1-17-17l72-72a12,12,0,0,1,17,0l72,72A12,12,0,0,1,208.49,120.49Z"},child:[]}]})(n)}function kA(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M54.8,119.49A35.06,35.06,0,0,1,49.05,128a35.06,35.06,0,0,1,5.75,8.51C60,147.24,60,159.83,60,172c0,25.94,1.84,32,20,32a12,12,0,0,1,0,24c-19.14,0-32.2-6.9-38.8-20.51C36,196.76,36,184.17,36,172c0-25.94-1.84-32-20-32a12,12,0,0,1,0-24c18.16,0,20-6.06,20-32,0-12.17,0-24.76,5.2-35.49C47.8,34.9,60.86,28,80,28a12,12,0,0,1,0,24c-18.16,0-20,6.06-20,32C60,96.17,60,108.76,54.8,119.49ZM240,116c-18.16,0-20-6.06-20-32,0-12.17,0-24.76-5.2-35.49C208.2,34.9,195.14,28,176,28a12,12,0,0,0,0,24c18.16,0,20,6.06,20,32,0,12.17,0,24.76,5.2,35.49A35.06,35.06,0,0,0,207,128a35.06,35.06,0,0,0-5.75,8.51C196,147.24,196,159.83,196,172c0,25.94-1.84,32-20,32a12,12,0,0,0,0,24c19.14,0,32.2-6.9,38.8-20.51C220,196.76,220,184.17,220,172c0-25.94,1.84-32,20-32a12,12,0,0,0,0-24Z"},child:[]}]})(n)}function xd(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216.49,104.49l-80,80a12,12,0,0,1-17,0l-80-80a12,12,0,0,1,17-17L128,159l71.51-71.52a12,12,0,0,1,17,17Z"},child:[]}]})(n)}function IA(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M184.49,136.49l-80,80a12,12,0,0,1-17-17L159,128,87.51,56.49a12,12,0,1,1,17-17l80,80A12,12,0,0,1,184.49,136.49Z"},child:[]}]})(n)}function lm(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216.49,168.49a12,12,0,0,1-17,0L128,97,56.49,168.49a12,12,0,0,1-17-17l80-80a12,12,0,0,1,17,0l80,80A12,12,0,0,1,216.49,168.49Z"},child:[]}]})(n)}function am(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M184.49,167.51a12,12,0,0,1,0,17l-48,48a12,12,0,0,1-17,0l-48-48a12,12,0,0,1,17-17L128,207l39.51-39.52A12,12,0,0,1,184.49,167.51Zm-96-79L128,49l39.51,39.52a12,12,0,0,0,17-17l-48-48a12,12,0,0,0-17,0l-48,48a12,12,0,0,0,17,17Z"},child:[]}]})(n)}function xi(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M176.49,95.51a12,12,0,0,1,0,17l-56,56a12,12,0,0,1-17,0l-24-24a12,12,0,1,1,17-17L112,143l47.51-47.52A12,12,0,0,1,176.49,95.51ZM236,128A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-24,0a84,84,0,1,0-84,84A84.09,84.09,0,0,0,212,128Z"},child:[]}]})(n)}function A0(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Z"},child:[]}]})(n)}function OA(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M51.51,104.49l-32-32a12,12,0,0,1,0-17l32-32a12,12,0,1,1,17,17L45,64,68.49,87.51a12,12,0,0,1-17,17Zm48,0a12,12,0,0,0,17,0l32-32a12,12,0,0,0,0-17l-32-32a12,12,0,1,0-17,17L123,64,99.51,87.51A12,12,0,0,0,99.51,104.49ZM200,36H180a12,12,0,0,0,0,24h16V196H60V140a12,12,0,0,0-24,0v60a20,20,0,0,0,20,20H200a20,20,0,0,0,20-20V56A20,20,0,0,0,200,36Z"},child:[]}]})(n)}function cm(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M71.68,97.22,34.74,128l36.94,30.78a12,12,0,1,1-15.36,18.44l-48-40a12,12,0,0,1,0-18.44l48-40A12,12,0,0,1,71.68,97.22Zm176,21.56-48-40a12,12,0,1,0-15.36,18.44L221.26,128l-36.94,30.78a12,12,0,1,0,15.36,18.44l48-40a12,12,0,0,0,0-18.44ZM164.1,28.72a12,12,0,0,0-15.38,7.18l-64,176a12,12,0,0,0,7.18,15.37A11.79,11.79,0,0,0,96,228a12,12,0,0,0,11.28-7.9l64-176A12,12,0,0,0,164.1,28.72Z"},child:[]}]})(n)}function BA(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208,36H48A28,28,0,0,0,20,64V172a28,28,0,0,0,28,28h68v12H96a12,12,0,0,0,0,24h64a12,12,0,0,0,0-24H140V200h68a28,28,0,0,0,28-28V64A28,28,0,0,0,208,36ZM48,60H208a4,4,0,0,1,4,4v72H44V64A4,4,0,0,1,48,60ZM208,176H48a4,4,0,0,1-4-4V160H212v12A4,4,0,0,1,208,176Z"},child:[]}]})(n)}function MA(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M176,12H80A28,28,0,0,0,52,40V216a28,28,0,0,0,28,28h96a28,28,0,0,0,28-28V40A28,28,0,0,0,176,12ZM76,76H180V180H76Zm4-40h96a4,4,0,0,1,4,4V52H76V40A4,4,0,0,1,80,36Zm96,184H80a4,4,0,0,1-4-4V204H180v12A4,4,0,0,1,176,220Z"},child:[]}]})(n)}function jA(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M76,92A16,16,0,1,1,60,76,16,16,0,0,1,76,92Zm52-16a16,16,0,1,0,16,16A16,16,0,0,0,128,76Zm68,32a16,16,0,1,0-16-16A16,16,0,0,0,196,108ZM60,148a16,16,0,1,0,16,16A16,16,0,0,0,60,148Zm68,0a16,16,0,1,0,16,16A16,16,0,0,0,128,148Zm68,0a16,16,0,1,0,16,16A16,16,0,0,0,196,148Z"},child:[]}]})(n)}function PA(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M108,60A16,16,0,1,1,92,44,16,16,0,0,1,108,60Zm56,16a16,16,0,1,0-16-16A16,16,0,0,0,164,76ZM92,112a16,16,0,1,0,16,16A16,16,0,0,0,92,112Zm72,0a16,16,0,1,0,16,16A16,16,0,0,0,164,112ZM92,180a16,16,0,1,0,16,16A16,16,0,0,0,92,180Zm72,0a16,16,0,1,0,16,16A16,16,0,0,0,164,180Z"},child:[]}]})(n)}function DA(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216,204H141l86.84-86.84a28,28,0,0,0,0-39.6L186.43,36.19a28,28,0,0,0-39.6,0L28.19,154.82a28,28,0,0,0,0,39.6l30.06,30.07A12,12,0,0,0,66.74,228H216a12,12,0,0,0,0-24ZM163.8,53.16a4,4,0,0,1,5.66,0l41.38,41.38a4,4,0,0,1,0,5.65L160,151l-47-47ZM71.71,204,45.16,177.45a4,4,0,0,1,0-5.65L96,121l47,47-36,36Z"},child:[]}]})(n)}function qA(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M251,123.13c-.37-.81-9.13-20.26-28.48-39.61C196.63,57.67,164,44,128,44S59.37,57.67,33.51,83.52C14.16,102.87,5.4,122.32,5,123.13a12.08,12.08,0,0,0,0,9.75c.37.82,9.13,20.26,28.49,39.61C59.37,198.34,92,212,128,212s68.63-13.66,94.48-39.51c19.36-19.35,28.12-38.79,28.49-39.61A12.08,12.08,0,0,0,251,123.13Zm-46.06,33C183.47,177.27,157.59,188,128,188s-55.47-10.73-76.91-31.88A130.36,130.36,0,0,1,29.52,128,130.45,130.45,0,0,1,51.09,99.89C72.54,78.73,98.41,68,128,68s55.46,10.73,76.91,31.89A130.36,130.36,0,0,1,226.48,128,130.45,130.45,0,0,1,204.91,156.12ZM128,84a44,44,0,1,0,44,44A44.05,44.05,0,0,0,128,84Zm0,64a20,20,0,1,1,20-20A20,20,0,0,1,128,148Z"},child:[]}]})(n)}function _0(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M252.49,107.51a12,12,0,0,0-17,0L192,151,113,72l43.52-43.51a12,12,0,0,0-17-17L93.17,57.86a20,20,0,0,0-4.72,20.72L69.17,97.86a20,20,0,0,0,0,28.28L71,128,15.51,183.51a12,12,0,0,0,4.7,19.87l72,24A11.8,11.8,0,0,0,96,228a12,12,0,0,0,8.49-3.52L136,193l1.86,1.86a20,20,0,0,0,28.28,0l19.27-19.27a20.27,20.27,0,0,0,6.59,1.13,19.86,19.86,0,0,0,14.14-5.86l46.35-46.34A12,12,0,0,0,252.49,107.51ZM92.76,202.27,46.21,186.76,88,145l31,31ZM152,175,96.49,119.52h0L89,112l15-15,63,63Z"},child:[]}]})(n)}function gc(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M144,96a16,16,0,1,1,16,16A16,16,0,0,1,144,96Zm92-40V200a20,20,0,0,1-20,20H40a20,20,0,0,1-20-20V56A20,20,0,0,1,40,36H216A20,20,0,0,1,236,56ZM44,60v79.72l33.86-33.86a20,20,0,0,1,28.28,0L147.31,147l17.18-17.17a20,20,0,0,1,28.28,0L212,149.09V60Zm0,136H162.34L92,125.66l-48,48Zm168,0V183l-33.37-33.37L164.28,164l32,32Z"},child:[]}]})(n)}function T0(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"},child:[]}]})(n)}function um(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M76,64A12,12,0,0,1,88,52H216a12,12,0,0,1,0,24H88A12,12,0,0,1,76,64Zm140,52H88a12,12,0,0,0,0,24H216a12,12,0,0,0,0-24Zm0,64H88a12,12,0,0,0,0,24H216a12,12,0,0,0,0-24ZM44,112a16,16,0,1,0,16,16A16,16,0,0,0,44,112Zm0-64A16,16,0,1,0,60,64,16,16,0,0,0,44,48Zm0,128a16,16,0,1,0,16,16A16,16,0,0,0,44,176Z"},child:[]}]})(n)}function FA(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M228,128a12,12,0,0,1-12,12H116a12,12,0,0,1,0-24H216A12,12,0,0,1,228,128ZM116,76H216a12,12,0,0,0,0-24H116a12,12,0,0,0,0,24ZM216,180H116a12,12,0,0,0,0,24H216a12,12,0,0,0,0-24ZM44,59.31V104a12,12,0,0,0,24,0V40A12,12,0,0,0,50.64,29.27l-16,8a12,12,0,0,0,9.36,22Zm39.73,96.86a27.7,27.7,0,0,0-11.2-18.63A28.89,28.89,0,0,0,32.9,143a27.71,27.71,0,0,0-4.17,7.54,12,12,0,0,0,22.55,8.21,4,4,0,0,1,.58-1,4.78,4.78,0,0,1,6.5-.82,3.82,3.82,0,0,1,1.61,2.6,3.63,3.63,0,0,1-.77,2.77l-.13.17L30.39,200.82A12,12,0,0,0,40,220H72a12,12,0,0,0,0-24H64l14.28-19.11A27.48,27.48,0,0,0,83.73,156.17Z"},child:[]}]})(n)}function yd(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208,76H180V56A52,52,0,0,0,76,56V76H48A20,20,0,0,0,28,96V208a20,20,0,0,0,20,20H208a20,20,0,0,0,20-20V96A20,20,0,0,0,208,76ZM100,56a28,28,0,0,1,56,0V76H100ZM204,204H52V100H204Zm-60-52a16,16,0,1,1-16-16A16,16,0,0,1,144,152Z"},child:[]}]})(n)}function HA(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M232.49,215.51,185,168a92.12,92.12,0,1,0-17,17l47.53,47.54a12,12,0,0,0,17-17ZM44,112a68,68,0,1,1,68,68A68.07,68.07,0,0,1,44,112Z"},child:[]}]})(n)}function $A(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M230.14,70.54,185.46,25.85a20,20,0,0,0-28.29,0L33.86,149.17A19.85,19.85,0,0,0,28,163.31V208a20,20,0,0,0,20,20H92.69a19.86,19.86,0,0,0,14.14-5.86L230.14,98.82a20,20,0,0,0,0-28.28ZM93,180l71-71,11,11-71,71ZM76,163,65,152l71-71,11,11ZM52,173l15.51,15.51h0L83,204H52ZM192,103,153,64l18.34-18.34,39,39Z"},child:[]}]})(n)}function fm(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M228,128a12,12,0,0,1-12,12H140v76a12,12,0,0,1-24,0V140H40a12,12,0,0,1,0-24h76V40a12,12,0,0,1,24,0v76h76A12,12,0,0,1,228,128Z"},child:[]}]})(n)}function zA(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M100,52H40A20,20,0,0,0,20,72v64a20,20,0,0,0,20,20H96v4a28,28,0,0,1-28,28,12,12,0,0,0,0,24,52.06,52.06,0,0,0,52-52V72A20,20,0,0,0,100,52Zm-4,80H44V76H96ZM216,52H156a20,20,0,0,0-20,20v64a20,20,0,0,0,20,20h56v4a28,28,0,0,1-28,28,12,12,0,0,0,0,24,52.06,52.06,0,0,0,52-52V72A20,20,0,0,0,216,52Zm-4,80H160V76h52Z"},child:[]}]})(n)}function UA(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208,28H48A20,20,0,0,0,28,48V208a20,20,0,0,0,20,20H208a20,20,0,0,0,20-20V48A20,20,0,0,0,208,28Zm-4,176H52V52H204Z"},child:[]}]})(n)}function dm(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M28,64A12,12,0,0,1,40,52H216a12,12,0,0,1,0,24H40A12,12,0,0,1,28,64ZM64,92a12,12,0,0,0,0,24H192a12,12,0,0,0,0-24Zm152,40H40a12,12,0,0,0,0,24H216a12,12,0,0,0,0-24Zm-24,40H64a12,12,0,0,0,0,24H192a12,12,0,0,0,0-24Z"},child:[]}]})(n)}function hm(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M28,64A12,12,0,0,1,40,52H216a12,12,0,0,1,0,24H40A12,12,0,0,1,28,64ZM216,92H40a12,12,0,0,0,0,24H216a12,12,0,0,0,0-24Zm0,40H40a12,12,0,0,0,0,24H216a12,12,0,0,0,0-24Zm0,40H40a12,12,0,0,0,0,24H216a12,12,0,0,0,0-24Z"},child:[]}]})(n)}function pm(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M28,64A12,12,0,0,1,40,52H216a12,12,0,0,1,0,24H40A12,12,0,0,1,28,64Zm12,52H168a12,12,0,0,0,0-24H40a12,12,0,0,0,0,24Zm176,16H40a12,12,0,0,0,0,24H216a12,12,0,0,0,0-24Zm-48,40H40a12,12,0,0,0,0,24H168a12,12,0,0,0,0-24Z"},child:[]}]})(n)}function gm(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M28,64A12,12,0,0,1,40,52H216a12,12,0,0,1,0,24H40A12,12,0,0,1,28,64ZM216,92H88a12,12,0,0,0,0,24H216a12,12,0,0,0,0-24Zm0,40H40a12,12,0,0,0,0,24H216a12,12,0,0,0,0-24Zm0,40H88a12,12,0,0,0,0,24H216a12,12,0,0,0,0-24Z"},child:[]}]})(n)}function WA(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M185.08,114.46A48,48,0,0,0,148,36H80A12,12,0,0,0,68,48V200a12,12,0,0,0,12,12h80a52,52,0,0,0,25.08-97.54ZM92,60h56a24,24,0,0,1,0,48H92Zm68,128H92V132h68a28,28,0,0,1,0,56Z"},child:[]}]})(n)}function VA(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M212,56V200a12,12,0,0,1-24,0V140H68v60a12,12,0,0,1-24,0V56a12,12,0,0,1,24,0v60H188V56a12,12,0,0,1,24,0Z"},child:[]}]})(n)}function GA(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M228,128a12,12,0,0,1-12,12H120a12,12,0,0,1,0-24h96A12,12,0,0,1,228,128ZM120,76h96a12,12,0,0,0,0-24H120a12,12,0,0,0,0,24Zm96,104H40a12,12,0,0,0,0,24H216a12,12,0,0,0,0-24ZM31.51,144.49a12,12,0,0,0,17,0l40-40a12,12,0,0,0,0-17l-40-40a12,12,0,0,0-17,17L63,96,31.51,127.51A12,12,0,0,0,31.51,144.49Z"},child:[]}]})(n)}function ZA(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M204,56a12,12,0,0,1-12,12H160.65l-40,120H144a12,12,0,0,1,0,24H64a12,12,0,0,1,0-24H95.35l40-120H112a12,12,0,0,1,0-24h80A12,12,0,0,1,204,56Z"},child:[]}]})(n)}function KA(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M228,128a12,12,0,0,1-12,12H120a12,12,0,0,1,0-24h96A12,12,0,0,1,228,128ZM120,76h96a12,12,0,0,0,0-24H120a12,12,0,0,0,0,24Zm96,104H40a12,12,0,0,0,0,24H216a12,12,0,0,0,0-24ZM72,148a12,12,0,0,0,8.49-20.49L49,96,80.49,64.48a12,12,0,0,0-17-17l-40,40a12,12,0,0,0,0,17l40,40A12,12,0,0,0,72,148Z"},child:[]}]})(n)}function YA(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M228,128a12,12,0,0,1-12,12H185.86A41.48,41.48,0,0,1,196,168c0,14.45-7.81,28.32-21.43,38.05C162,215.05,145.44,220,128,220s-34-4.95-46.57-13.95C67.81,196.32,60,182.45,60,168a12,12,0,0,1,24,0c0,15.18,20.15,28,44,28s44-12.82,44-28c0-12.76-9.3-20.18-35.35-28H40a12,12,0,0,1,0-24H216A12,12,0,0,1,228,128ZM75.11,100a12,12,0,0,0,12-12c0-16,17.58-28,40.89-28,17.36,0,31.37,6.65,37.48,17.78a12,12,0,0,0,21-11.56C176.13,47.3,154.25,36,128,36,91,36,63.11,58.35,63.11,88A12,12,0,0,0,75.11,100Z"},child:[]}]})(n)}function XA(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M252,208a12,12,0,0,1-12,12H192a12,12,0,0,1-9.6-19.2l43.17-57.56a12,12,0,0,0-2.35-16.82A12,12,0,0,0,204.68,132a12,12,0,0,1-22.63-8,36.3,36.3,0,0,1,5.2-9.67,36,36,0,0,1,57.5,43.34L216,196h24A12,12,0,0,1,252,208ZM151.86,46.93a12,12,0,0,0-16.93,1.21L92,97.68,49.07,48.14A12,12,0,0,0,30.93,63.86L76.12,116,30.93,168.14a12,12,0,0,0,18.14,15.72L92,134.32l42.93,49.54a12,12,0,1,0,18.14-15.72L107.88,116l45.19-52.14A12,12,0,0,0,151.86,46.93Z"},child:[]}]})(n)}function JA(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M252,144a12,12,0,0,1-12,12H192a12,12,0,0,1-9.6-19.2l43.17-57.55A12,12,0,1,0,204.68,68a12,12,0,0,1-22.63-8,36.24,36.24,0,0,1,5.2-9.66,36,36,0,0,1,57.5,43.33L216,132h24A12,12,0,0,1,252,144ZM151.86,70.94a12,12,0,0,0-16.93,1.2L92,121.68,49.07,72.14A12,12,0,0,0,30.93,87.86L76.12,140,30.93,192.14a12,12,0,0,0,18.14,15.72L92,158.32l42.93,49.54a12,12,0,1,0,18.14-15.72L107.88,140l45.19-52.14A12,12,0,0,0,151.86,70.94Z"},child:[]}]})(n)}function QA(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M212,56V88a12,12,0,0,1-24,0V68H140V188h20a12,12,0,0,1,0,24H96a12,12,0,0,1,0-24h20V68H68V88a12,12,0,0,1-24,0V56A12,12,0,0,1,56,44H200A12,12,0,0,1,212,56Z"},child:[]}]})(n)}function e_(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M204,224a12,12,0,0,1-12,12H64a12,12,0,0,1,0-24H192A12,12,0,0,1,204,224Zm-76-28a68.07,68.07,0,0,0,68-68V56a12,12,0,0,0-24,0v72a44,44,0,0,1-88,0V56a12,12,0,0,0-24,0v72A68.07,68.07,0,0,0,128,196Z"},child:[]}]})(n)}function t_(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216,48H180V36A28,28,0,0,0,152,8H104A28,28,0,0,0,76,36V48H40a12,12,0,0,0,0,24h4V208a20,20,0,0,0,20,20H192a20,20,0,0,0,20-20V72h4a12,12,0,0,0,0-24ZM100,36a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4V48H100Zm88,168H68V72H188ZM116,104v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Zm48,0v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Z"},child:[]}]})(n)}function jc(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M240.26,186.1,152.81,34.23h0a28.74,28.74,0,0,0-49.62,0L15.74,186.1a27.45,27.45,0,0,0,0,27.71A28.31,28.31,0,0,0,40.55,228h174.9a28.31,28.31,0,0,0,24.79-14.19A27.45,27.45,0,0,0,240.26,186.1Zm-20.8,15.7a4.46,4.46,0,0,1-4,2.2H40.55a4.46,4.46,0,0,1-4-2.2,3.56,3.56,0,0,1,0-3.73L124,46.2a4.77,4.77,0,0,1,8,0l87.44,151.87A3.56,3.56,0,0,1,219.46,201.8ZM116,136V104a12,12,0,0,1,24,0v32a12,12,0,0,1-24,0Zm28,40a16,16,0,1,1-16-16A16,16,0,0,1,144,176Z"},child:[]}]})(n)}function Bl(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208.49,191.51a12,12,0,0,1-17,17L128,145,64.49,208.49a12,12,0,0,1-17-17L111,128,47.51,64.49a12,12,0,0,1,17-17L128,111l63.51-63.52a12,12,0,0,1,17,17L145,128Z"},child:[]}]})(n)}function n_(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Z"},child:[]}]})(n)}function r_(n){return Se({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M198.24,62.63l15.68-17.25a8,8,0,0,0-11.84-10.76L186.4,51.86A95.95,95.95,0,0,0,57.76,193.37L42.08,210.62a8,8,0,1,0,11.84,10.76L69.6,204.14A95.95,95.95,0,0,0,198.24,62.63ZM48,128A80,80,0,0,1,175.6,63.75l-107,117.73A79.63,79.63,0,0,1,48,128Zm80,80a79.55,79.55,0,0,1-47.6-15.75l107-117.73A79.95,79.95,0,0,1,128,208Z"},child:[]}]})(n)}const i_=({direction:n})=>{const{screenSize:e}=A.useContext(Ct);return v.jsx(im,{className:"resizable-handle",children:e==="mobile"&&v.jsx("div",{className:"handle-box",children:n==="horizontal"?v.jsx(PA,{size:12,className:"handle-icon"}):v.jsx(jA,{size:12,className:"handle-icon"})})})},S0=({id:n=void 0,children:e,order:t=void 0,minPanelSize:r=0,maxPanelSize:o=void 0,defaultPanelSize:l=50,minContentWidth:a="80px",isOverFlow:u=!1})=>A.useMemo(()=>typeof e.type=="function",[])?v.jsx(Mf,{id:n,minSize:r,maxSize:o,defaultSize:l,order:t,children:e}):v.jsx(Mf,{id:n,minSize:r,maxSize:o,defaultSize:l,children:v.jsx("div",{className:"resizable-panel",style:{overflow:"auto"},children:v.jsx("div",{style:{minWidth:a,height:"100%"},children:e})})}),s_=(n,e)=>{e&&e(n)};function Pc(){return typeof window<"u"}function Ti(n){return mm(n)?(n.nodeName||"").toLowerCase():"#document"}function sn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function pr(n){var e;return(e=(mm(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function mm(n){return Pc()?n instanceof Node||n instanceof sn(n).Node:!1}function ut(n){return Pc()?n instanceof Element||n instanceof sn(n).Element:!1}function At(n){return Pc()?n instanceof HTMLElement||n instanceof sn(n).HTMLElement:!1}function Pf(n){return!Pc()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof sn(n).ShadowRoot}const o_=new Set(["inline","contents"]);function Ml(n){const{overflow:e,overflowX:t,overflowY:r,display:o}=jn(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!o_.has(o)}const l_=new Set(["table","td","th"]);function a_(n){return l_.has(Ti(n))}const c_=[":popover-open",":modal"];function Dc(n){return c_.some(e=>{try{return n.matches(e)}catch{return!1}})}const u_=["transform","translate","scale","rotate","perspective"],f_=["transform","translate","scale","rotate","perspective","filter"],d_=["paint","layout","strict","content"];function wd(n){const e=qc(),t=ut(n)?jn(n):n;return u_.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||f_.some(r=>(t.willChange||"").includes(r))||d_.some(r=>(t.contain||"").includes(r))}function h_(n){let e=$r(n);for(;At(e)&&!Hr(e);){if(wd(e))return e;if(Dc(e))return null;e=$r(e)}return null}function qc(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const p_=new Set(["html","body","#document"]);function Hr(n){return p_.has(Ti(n))}function jn(n){return sn(n).getComputedStyle(n)}function Fc(n){return ut(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function $r(n){if(Ti(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Pf(n)&&n.host||pr(n);return Pf(e)?e.host:e}function vm(n){const e=$r(n);return Hr(e)?n.ownerDocument?n.ownerDocument.body:n.body:At(e)&&Ml(e)?e:vm(e)}function wi(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=vm(n),l=o===((r=n.ownerDocument)==null?void 0:r.body),a=sn(o);if(l){const u=Df(a);return e.concat(a,a.visualViewport||[],Ml(o)?o:[],u&&t?wi(u):[])}return e.concat(o,wi(o,[],t))}function Df(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}const bo=Math.min,vn=Math.max,mc=Math.round,Ba=Math.floor,fr=n=>({x:n,y:n}),g_={left:"right",right:"left",bottom:"top",top:"bottom"},m_={start:"end",end:"start"};function L0(n,e,t){return vn(n,bo(e,t))}function jl(n,e){return typeof n=="function"?n(e):n}function Ai(n){return n.split("-")[0]}function Pl(n){return n.split("-")[1]}function bm(n){return n==="x"?"y":"x"}function xm(n){return n==="y"?"height":"width"}const v_=new Set(["top","bottom"]);function Fr(n){return v_.has(Ai(n))?"y":"x"}function ym(n){return bm(Fr(n))}function b_(n,e,t){t===void 0&&(t=!1);const r=Pl(n),o=ym(n),l=xm(o);let a=o==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(a=vc(a)),[a,vc(a)]}function x_(n){const e=vc(n);return[qf(n),e,qf(e)]}function qf(n){return n.replace(/start|end/g,e=>m_[e])}const N0=["left","right"],R0=["right","left"],y_=["top","bottom"],w_=["bottom","top"];function C_(n,e,t){switch(n){case"top":case"bottom":return t?e?R0:N0:e?N0:R0;case"left":case"right":return e?y_:w_;default:return[]}}function E_(n,e,t,r){const o=Pl(n);let l=C_(Ai(n),t==="start",r);return o&&(l=l.map(a=>a+"-"+o),e&&(l=l.concat(l.map(qf)))),l}function vc(n){return n.replace(/left|right|bottom|top/g,e=>g_[e])}function A_(n){return{top:0,right:0,bottom:0,left:0,...n}}function __(n){return typeof n!="number"?A_(n):{top:n,right:n,bottom:n,left:n}}function bc(n){const{x:e,y:t,width:r,height:o}=n;return{width:r,height:o,top:t,left:e,right:e+r,bottom:t+o,x:e,y:t}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var T_=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],xc=T_.join(","),wm=typeof Element>"u",xo=wm?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,yc=!wm&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n?.ownerDocument},wc=function n(e,t){var r;t===void 0&&(t=!0);var o=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),l=o===""||o==="true",a=l||t&&e&&n(e.parentNode);return a},S_=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return r===""||r==="true"},Cm=function(e,t,r){if(wc(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(xc));return t&&xo.call(e,xc)&&o.unshift(e),o=o.filter(r),o},Em=function n(e,t,r){for(var o=[],l=Array.from(e);l.length;){var a=l.shift();if(!wc(a,!1))if(a.tagName==="SLOT"){var u=a.assignedElements(),f=u.length?u:a.children,d=n(f,!0,r);r.flatten?o.push.apply(o,d):o.push({scopeParent:a,candidates:d})}else{var h=xo.call(a,xc);h&&r.filter(a)&&(t||!e.includes(a))&&o.push(a);var g=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),p=!wc(g,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(g&&p){var b=n(g===!0?a.children:g.children,!0,r);r.flatten?o.push.apply(o,b):o.push({scopeParent:a,candidates:b})}else l.unshift.apply(l,a.children)}}return o},Am=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},_m=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||S_(e))&&!Am(e)?0:e.tabIndex},L_=function(e,t){var r=_m(e);return r<0&&t&&!Am(e)?0:r},N_=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Tm=function(e){return e.tagName==="INPUT"},R_=function(e){return Tm(e)&&e.type==="hidden"},k_=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},I_=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},O_=function(e){if(!e.name)return!0;var t=e.form||yc(e),r=function(u){return t.querySelectorAll('input[type="radio"][name="'+u+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(e.name));else try{o=r(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var l=I_(o,e.form);return!l||l===e},B_=function(e){return Tm(e)&&e.type==="radio"},M_=function(e){return B_(e)&&!O_(e)},j_=function(e){var t,r=e&&yc(e),o=(t=r)===null||t===void 0?void 0:t.host,l=!1;if(r&&r!==e){var a,u,f;for(l=!!((a=o)!==null&&a!==void 0&&(u=a.ownerDocument)!==null&&u!==void 0&&u.contains(o)||e!=null&&(f=e.ownerDocument)!==null&&f!==void 0&&f.contains(e));!l&&o;){var d,h,g;r=yc(o),o=(d=r)===null||d===void 0?void 0:d.host,l=!!((h=o)!==null&&h!==void 0&&(g=h.ownerDocument)!==null&&g!==void 0&&g.contains(o))}}return l},k0=function(e){var t=e.getBoundingClientRect(),r=t.width,o=t.height;return r===0&&o===0},P_=function(e,t){var r=t.displayCheck,o=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var l=xo.call(e,"details>summary:first-of-type"),a=l?e.parentElement:e;if(xo.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var u=e;e;){var f=e.parentElement,d=yc(e);if(f&&!f.shadowRoot&&o(f)===!0)return k0(e);e.assignedSlot?e=e.assignedSlot:!f&&d!==e.ownerDocument?e=d.host:e=f}e=u}if(j_(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return k0(e);return!1},D_=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var o=t.children.item(r);if(o.tagName==="LEGEND")return xo.call(t,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}t=t.parentElement}return!1},Ff=function(e,t){return!(t.disabled||wc(t)||R_(t)||P_(t,e)||k_(t)||D_(t))},Hf=function(e,t){return!(M_(t)||_m(t)<0||!Ff(e,t))},q_=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},F_=function n(e){var t=[],r=[];return e.forEach(function(o,l){var a=!!o.scopeParent,u=a?o.scopeParent:o,f=L_(u,a),d=a?n(o.candidates):u;f===0?a?t.push.apply(t,d):t.push(u):r.push({documentOrder:l,tabIndex:f,item:o,isScope:a,content:d})}),r.sort(N_).reduce(function(o,l){return l.isScope?o.push.apply(o,l.content):o.push(l.content),o},[]).concat(t)},Hc=function(e,t){t=t||{};var r;return t.getShadowRoot?r=Em([e],t.includeContainer,{filter:Hf.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:q_}):r=Cm(e,t.includeContainer,Hf.bind(null,t)),F_(r)},H_=function(e,t){t=t||{};var r;return t.getShadowRoot?r=Em([e],t.includeContainer,{filter:Ff.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):r=Cm(e,t.includeContainer,Ff.bind(null,t)),r},Sm=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return xo.call(e,xc)===!1?!1:Hf(t,e)};function Cd(){const n=navigator.userAgentData;return n!=null&&n.platform?n.platform:navigator.platform}function Lm(){const n=navigator.userAgentData;return n&&Array.isArray(n.brands)?n.brands.map(e=>{let{brand:t,version:r}=e;return t+"/"+r}).join(" "):navigator.userAgent}function Nm(){return/apple/i.test(navigator.vendor)}function $f(){const n=/android/i;return n.test(Cd())||n.test(Lm())}function $_(){return Cd().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function Rm(){return Lm().includes("jsdom/")}const I0="data-floating-ui-focusable",z_="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function bi(n){let e=n.activeElement;for(;((t=e)==null||(t=t.shadowRoot)==null?void 0:t.activeElement)!=null;){var t;e=e.shadowRoot.activeElement}return e}function zt(n,e){if(!n||!e)return!1;const t=e.getRootNode==null?void 0:e.getRootNode();if(n.contains(e))return!0;if(t&&Pf(t)){let r=e;for(;r;){if(n===r)return!0;r=r.parentNode||r.host}}return!1}function qr(n){return"composedPath"in n?n.composedPath()[0]:n.target}function cf(n,e){if(e==null)return!1;if("composedPath"in n)return n.composedPath().includes(e);const t=n;return t.target!=null&&e.contains(t.target)}function U_(n){return n.matches("html,body")}function Ut(n){return n?.ownerDocument||document}function Ed(n){return At(n)&&n.matches(z_)}function O0(n){return n?n.getAttribute("role")==="combobox"&&Ed(n):!1}function W_(n){if(!n||Rm())return!0;try{return n.matches(":focus-visible")}catch{return!0}}function zf(n){return n?n.hasAttribute(I0)?n:n.querySelector("["+I0+"]")||n:null}function uo(n,e,t){return t===void 0&&(t=!0),n.filter(o=>{var l;return o.parentId===e&&(!t||((l=o.context)==null?void 0:l.open))}).flatMap(o=>[o,...uo(n,o.id,t)])}function B0(n,e){var t;let r=[],o=(t=n.find(l=>l.id===e))==null?void 0:t.parentId;for(;o;){const l=n.find(a=>a.id===o);o=l?.parentId,l&&(r=r.concat(l))}return r}function uf(n){n.preventDefault(),n.stopPropagation()}function V_(n){return"nativeEvent"in n}function G_(n){return n.mozInputSource===0&&n.isTrusted?!0:$f()&&n.pointerType?n.type==="click"&&n.buttons===1:n.detail===0&&!n.pointerType}function Z_(n){return Rm()?!1:!$f()&&n.width===0&&n.height===0||$f()&&n.width===1&&n.height===1&&n.pressure===0&&n.detail===0&&n.pointerType==="mouse"||n.width<1&&n.height<1&&n.pressure===0&&n.detail===0&&n.pointerType==="touch"}function Sl(n,e){const t=["mouse","pen"];return e||t.push("",void 0),t.includes(n)}var K_=typeof document<"u",Y_=function(){},Mt=K_?A.useLayoutEffect:Y_;const X_={...pd};function Kn(n){const e=A.useRef(n);return Mt(()=>{e.current=n}),e}const J_=X_.useInsertionEffect,Q_=J_||(n=>n());function rn(n){const e=A.useRef(()=>{});return Q_(()=>{e.current=n}),A.useCallback(function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e.current==null?void 0:e.current(...r)},[])}const Dl=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function km(n,e){const t=Hc(n,Dl()),r=t.length;if(r===0)return;const o=bi(Ut(n)),l=t.indexOf(o),a=l===-1?e===1?0:r-1:l+e;return t[a]}function Im(n){return km(Ut(n).body,1)||n}function Om(n){return km(Ut(n).body,-1)||n}function yl(n,e){const t=e||n.currentTarget,r=n.relatedTarget;return!r||!zt(t,r)}function eT(n){Hc(n,Dl()).forEach(t=>{t.dataset.tabindex=t.getAttribute("tabindex")||"",t.setAttribute("tabindex","-1")})}function M0(n){n.querySelectorAll("[data-tabindex]").forEach(t=>{const r=t.dataset.tabindex;delete t.dataset.tabindex,r?t.setAttribute("tabindex",r):t.removeAttribute("tabindex")})}function j0(n,e,t){let{reference:r,floating:o}=n;const l=Fr(e),a=ym(e),u=xm(a),f=Ai(e),d=l==="y",h=r.x+r.width/2-o.width/2,g=r.y+r.height/2-o.height/2,p=r[u]/2-o[u]/2;let b;switch(f){case"top":b={x:h,y:r.y-o.height};break;case"bottom":b={x:h,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:g};break;case"left":b={x:r.x-o.width,y:g};break;default:b={x:r.x,y:r.y}}switch(Pl(e)){case"start":b[a]-=p*(t&&d?-1:1);break;case"end":b[a]+=p*(t&&d?-1:1);break}return b}const tT=async(n,e,t)=>{const{placement:r="bottom",strategy:o="absolute",middleware:l=[],platform:a}=t,u=l.filter(Boolean),f=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:n,floating:e,strategy:o}),{x:h,y:g}=j0(d,r,f),p=r,b={},y=0;for(let w=0;w<u.length;w++){const{name:E,fn:S}=u[w],{x:R,y:I,data:j,reset:z}=await S({x:h,y:g,initialPlacement:r,placement:p,strategy:o,middlewareData:b,rects:d,platform:a,elements:{reference:n,floating:e}});h=R??h,g=I??g,b={...b,[E]:{...b[E],...j}},z&&y<=50&&(y++,typeof z=="object"&&(z.placement&&(p=z.placement),z.rects&&(d=z.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:o}):z.rects),{x:h,y:g}=j0(d,p,f)),w=-1)}return{x:h,y:g,placement:p,strategy:o,middlewareData:b}};async function Ad(n,e){var t;e===void 0&&(e={});const{x:r,y:o,platform:l,rects:a,elements:u,strategy:f}=n,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:g="floating",altBoundary:p=!1,padding:b=0}=jl(e,n),y=__(b),E=u[p?g==="floating"?"reference":"floating":g],S=bc(await l.getClippingRect({element:(t=await(l.isElement==null?void 0:l.isElement(E)))==null||t?E:E.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(u.floating)),boundary:d,rootBoundary:h,strategy:f})),R=g==="floating"?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,I=await(l.getOffsetParent==null?void 0:l.getOffsetParent(u.floating)),j=await(l.isElement==null?void 0:l.isElement(I))?await(l.getScale==null?void 0:l.getScale(I))||{x:1,y:1}:{x:1,y:1},z=bc(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:R,offsetParent:I,strategy:f}):R);return{top:(S.top-z.top+y.top)/j.y,bottom:(z.bottom-S.bottom+y.bottom)/j.y,left:(S.left-z.left+y.left)/j.x,right:(z.right-S.right+y.right)/j.x}}const nT=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:o,middlewareData:l,rects:a,initialPlacement:u,platform:f,elements:d}=e,{mainAxis:h=!0,crossAxis:g=!0,fallbackPlacements:p,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:w=!0,...E}=jl(n,e);if((t=l.arrow)!=null&&t.alignmentOffset)return{};const S=Ai(o),R=Fr(u),I=Ai(u)===u,j=await(f.isRTL==null?void 0:f.isRTL(d.floating)),z=p||(I||!w?[vc(u)]:x_(u)),J=y!=="none";!p&&J&&z.push(...E_(u,w,y,j));const V=[u,...z],ne=await Ad(e,E),pe=[];let fe=((r=l.flip)==null?void 0:r.overflows)||[];if(h&&pe.push(ne[S]),g){const G=b_(o,a,j);pe.push(ne[G[0]],ne[G[1]])}if(fe=[...fe,{placement:o,overflows:pe}],!pe.every(G=>G<=0)){var N,D;const G=(((N=l.flip)==null?void 0:N.index)||0)+1,P=V[G];if(P&&(!(g==="alignment"?R!==Fr(P):!1)||fe.every(U=>U.overflows[0]>0&&Fr(U.placement)===R)))return{data:{index:G,overflows:fe},reset:{placement:P}};let H=(D=fe.filter(W=>W.overflows[0]<=0).sort((W,U)=>W.overflows[1]-U.overflows[1])[0])==null?void 0:D.placement;if(!H)switch(b){case"bestFit":{var O;const W=(O=fe.filter(U=>{if(J){const $=Fr(U.placement);return $===R||$==="y"}return!0}).map(U=>[U.placement,U.overflows.filter($=>$>0).reduce(($,Z)=>$+Z,0)]).sort((U,$)=>U[1]-$[1])[0])==null?void 0:O[0];W&&(H=W);break}case"initialPlacement":H=u;break}if(o!==H)return{reset:{placement:H}}}return{}}}},rT=new Set(["left","top"]);async function iT(n,e){const{placement:t,platform:r,elements:o}=n,l=await(r.isRTL==null?void 0:r.isRTL(o.floating)),a=Ai(t),u=Pl(t),f=Fr(t)==="y",d=rT.has(a)?-1:1,h=l&&f?-1:1,g=jl(e,n);let{mainAxis:p,crossAxis:b,alignmentAxis:y}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof y=="number"&&(b=u==="end"?y*-1:y),f?{x:b*h,y:p*d}:{x:p*d,y:b*h}}const sT=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:o,y:l,placement:a,middlewareData:u}=e,f=await iT(e,n);return a===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:o+f.x,y:l+f.y,data:{...f,placement:a}}}}},oT=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:o}=e,{mainAxis:l=!0,crossAxis:a=!1,limiter:u={fn:E=>{let{x:S,y:R}=E;return{x:S,y:R}}},...f}=jl(n,e),d={x:t,y:r},h=await Ad(e,f),g=Fr(Ai(o)),p=bm(g);let b=d[p],y=d[g];if(l){const E=p==="y"?"top":"left",S=p==="y"?"bottom":"right",R=b+h[E],I=b-h[S];b=L0(R,b,I)}if(a){const E=g==="y"?"top":"left",S=g==="y"?"bottom":"right",R=y+h[E],I=y-h[S];y=L0(R,y,I)}const w=u.fn({...e,[p]:b,[g]:y});return{...w,data:{x:w.x-t,y:w.y-r,enabled:{[p]:l,[g]:a}}}}}},lT=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:o,rects:l,platform:a,elements:u}=e,{apply:f=()=>{},...d}=jl(n,e),h=await Ad(e,d),g=Ai(o),p=Pl(o),b=Fr(o)==="y",{width:y,height:w}=l.floating;let E,S;g==="top"||g==="bottom"?(E=g,S=p===(await(a.isRTL==null?void 0:a.isRTL(u.floating))?"start":"end")?"left":"right"):(S=g,E=p==="end"?"top":"bottom");const R=w-h.top-h.bottom,I=y-h.left-h.right,j=bo(w-h[E],R),z=bo(y-h[S],I),J=!e.middlewareData.shift;let V=j,ne=z;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(ne=I),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(V=R),J&&!p){const fe=vn(h.left,0),N=vn(h.right,0),D=vn(h.top,0),O=vn(h.bottom,0);b?ne=y-2*(fe!==0||N!==0?fe+N:vn(h.left,h.right)):V=w-2*(D!==0||O!==0?D+O:vn(h.top,h.bottom))}await f({...e,availableWidth:ne,availableHeight:V});const pe=await a.getDimensions(u.floating);return y!==pe.width||w!==pe.height?{reset:{rects:!0}}:{}}}};function Bm(n){const e=jn(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=At(n),l=o?n.offsetWidth:t,a=o?n.offsetHeight:r,u=mc(t)!==l||mc(r)!==a;return u&&(t=l,r=a),{width:t,height:r,$:u}}function _d(n){return ut(n)?n:n.contextElement}function fo(n){const e=_d(n);if(!At(e))return fr(1);const t=e.getBoundingClientRect(),{width:r,height:o,$:l}=Bm(e);let a=(l?mc(t.width):t.width)/r,u=(l?mc(t.height):t.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!u||!Number.isFinite(u))&&(u=1),{x:a,y:u}}const aT=fr(0);function Mm(n){const e=sn(n);return!qc()||!e.visualViewport?aT:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function cT(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==sn(n)?!1:e}function rs(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect(),l=_d(n);let a=fr(1);e&&(r?ut(r)&&(a=fo(r)):a=fo(n));const u=cT(l,t,r)?Mm(l):fr(0);let f=(o.left+u.x)/a.x,d=(o.top+u.y)/a.y,h=o.width/a.x,g=o.height/a.y;if(l){const p=sn(l),b=r&&ut(r)?sn(r):r;let y=p,w=Df(y);for(;w&&r&&b!==y;){const E=fo(w),S=w.getBoundingClientRect(),R=jn(w),I=S.left+(w.clientLeft+parseFloat(R.paddingLeft))*E.x,j=S.top+(w.clientTop+parseFloat(R.paddingTop))*E.y;f*=E.x,d*=E.y,h*=E.x,g*=E.y,f+=I,d+=j,y=sn(w),w=Df(y)}}return bc({width:h,height:g,x:f,y:d})}function Td(n,e){const t=Fc(n).scrollLeft;return e?e.left+t:rs(pr(n)).left+t}function jm(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),o=r.left+e.scrollLeft-(t?0:Td(n,r)),l=r.top+e.scrollTop;return{x:o,y:l}}function uT(n){let{elements:e,rect:t,offsetParent:r,strategy:o}=n;const l=o==="fixed",a=pr(r),u=e?Dc(e.floating):!1;if(r===a||u&&l)return t;let f={scrollLeft:0,scrollTop:0},d=fr(1);const h=fr(0),g=At(r);if((g||!g&&!l)&&((Ti(r)!=="body"||Ml(a))&&(f=Fc(r)),At(r))){const b=rs(r);d=fo(r),h.x=b.x+r.clientLeft,h.y=b.y+r.clientTop}const p=a&&!g&&!l?jm(a,f,!0):fr(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-f.scrollLeft*d.x+h.x+p.x,y:t.y*d.y-f.scrollTop*d.y+h.y+p.y}}function fT(n){return Array.from(n.getClientRects())}function dT(n){const e=pr(n),t=Fc(n),r=n.ownerDocument.body,o=vn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),l=vn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-t.scrollLeft+Td(n);const u=-t.scrollTop;return jn(r).direction==="rtl"&&(a+=vn(e.clientWidth,r.clientWidth)-o),{width:o,height:l,x:a,y:u}}function hT(n,e){const t=sn(n),r=pr(n),o=t.visualViewport;let l=r.clientWidth,a=r.clientHeight,u=0,f=0;if(o){l=o.width,a=o.height;const d=qc();(!d||d&&e==="fixed")&&(u=o.offsetLeft,f=o.offsetTop)}return{width:l,height:a,x:u,y:f}}const pT=new Set(["absolute","fixed"]);function gT(n,e){const t=rs(n,!0,e==="fixed"),r=t.top+n.clientTop,o=t.left+n.clientLeft,l=At(n)?fo(n):fr(1),a=n.clientWidth*l.x,u=n.clientHeight*l.y,f=o*l.x,d=r*l.y;return{width:a,height:u,x:f,y:d}}function P0(n,e,t){let r;if(e==="viewport")r=hT(n,t);else if(e==="document")r=dT(pr(n));else if(ut(e))r=gT(e,t);else{const o=Mm(n);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return bc(r)}function Pm(n,e){const t=$r(n);return t===e||!ut(t)||Hr(t)?!1:jn(t).position==="fixed"||Pm(t,e)}function mT(n,e){const t=e.get(n);if(t)return t;let r=wi(n,[],!1).filter(u=>ut(u)&&Ti(u)!=="body"),o=null;const l=jn(n).position==="fixed";let a=l?$r(n):n;for(;ut(a)&&!Hr(a);){const u=jn(a),f=wd(a);!f&&u.position==="fixed"&&(o=null),(l?!f&&!o:!f&&u.position==="static"&&!!o&&pT.has(o.position)||Ml(a)&&!f&&Pm(n,a))?r=r.filter(h=>h!==a):o=u,a=$r(a)}return e.set(n,r),r}function vT(n){let{element:e,boundary:t,rootBoundary:r,strategy:o}=n;const a=[...t==="clippingAncestors"?Dc(e)?[]:mT(e,this._c):[].concat(t),r],u=a[0],f=a.reduce((d,h)=>{const g=P0(e,h,o);return d.top=vn(g.top,d.top),d.right=bo(g.right,d.right),d.bottom=bo(g.bottom,d.bottom),d.left=vn(g.left,d.left),d},P0(e,u,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function bT(n){const{width:e,height:t}=Bm(n);return{width:e,height:t}}function xT(n,e,t){const r=At(e),o=pr(e),l=t==="fixed",a=rs(n,!0,l,e);let u={scrollLeft:0,scrollTop:0};const f=fr(0);function d(){f.x=Td(o)}if(r||!r&&!l)if((Ti(e)!=="body"||Ml(o))&&(u=Fc(e)),r){const b=rs(e,!0,l,e);f.x=b.x+e.clientLeft,f.y=b.y+e.clientTop}else o&&d();l&&!r&&o&&d();const h=o&&!r&&!l?jm(o,u):fr(0),g=a.left+u.scrollLeft-f.x-h.x,p=a.top+u.scrollTop-f.y-h.y;return{x:g,y:p,width:a.width,height:a.height}}function ff(n){return jn(n).position==="static"}function D0(n,e){if(!At(n)||jn(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return pr(n)===t&&(t=t.ownerDocument.body),t}function Dm(n,e){const t=sn(n);if(Dc(n))return t;if(!At(n)){let o=$r(n);for(;o&&!Hr(o);){if(ut(o)&&!ff(o))return o;o=$r(o)}return t}let r=D0(n,e);for(;r&&a_(r)&&ff(r);)r=D0(r,e);return r&&Hr(r)&&ff(r)&&!wd(r)?t:r||h_(n)||t}const yT=async function(n){const e=this.getOffsetParent||Dm,t=this.getDimensions,r=await t(n.floating);return{reference:xT(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function wT(n){return jn(n).direction==="rtl"}const CT={convertOffsetParentRelativeRectToViewportRelativeRect:uT,getDocumentElement:pr,getClippingRect:vT,getOffsetParent:Dm,getElementRects:yT,getClientRects:fT,getDimensions:bT,getScale:fo,isElement:ut,isRTL:wT};function qm(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function ET(n,e){let t=null,r;const o=pr(n);function l(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function a(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),l();const d=n.getBoundingClientRect(),{left:h,top:g,width:p,height:b}=d;if(u||e(),!p||!b)return;const y=Ba(g),w=Ba(o.clientWidth-(h+p)),E=Ba(o.clientHeight-(g+b)),S=Ba(h),I={rootMargin:-y+"px "+-w+"px "+-E+"px "+-S+"px",threshold:vn(0,bo(1,f))||1};let j=!0;function z(J){const V=J[0].intersectionRatio;if(V!==f){if(!j)return a();V?a(!1,V):r=setTimeout(()=>{a(!1,1e-7)},1e3)}V===1&&!qm(d,n.getBoundingClientRect())&&a(),j=!1}try{t=new IntersectionObserver(z,{...I,root:o.ownerDocument})}catch{t=new IntersectionObserver(z,I)}t.observe(n)}return a(!0),l}function $c(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:l=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,d=_d(n),h=o||l?[...d?wi(d):[],...wi(e)]:[];h.forEach(S=>{o&&S.addEventListener("scroll",t,{passive:!0}),l&&S.addEventListener("resize",t)});const g=d&&u?ET(d,t):null;let p=-1,b=null;a&&(b=new ResizeObserver(S=>{let[R]=S;R&&R.target===d&&b&&(b.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var I;(I=b)==null||I.observe(e)})),t()}),d&&!f&&b.observe(d),b.observe(e));let y,w=f?rs(n):null;f&&E();function E(){const S=rs(n);w&&!qm(w,S)&&t(),w=S,y=requestAnimationFrame(E)}return t(),()=>{var S;h.forEach(R=>{o&&R.removeEventListener("scroll",t),l&&R.removeEventListener("resize",t)}),g?.(),(S=b)==null||S.disconnect(),b=null,f&&cancelAnimationFrame(y)}}const AT=sT,_T=oT,TT=nT,ST=lT,LT=(n,e,t)=>{const r=new Map,o={platform:CT,...t},l={...o.platform,_c:r};return tT(n,e,{...o,platform:l})};var NT=typeof document<"u",RT=function(){},ac=NT?A.useLayoutEffect:RT;function Cc(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Cc(n[r],e[r]))return!1;return!0}if(o=Object.keys(n),t=o.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=t;r--!==0;){const l=o[r];if(!(l==="_owner"&&n.$$typeof)&&!Cc(n[l],e[l]))return!1}return!0}return n!==n&&e!==e}function Fm(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function q0(n,e){const t=Fm(n);return Math.round(e*t)/t}function df(n){const e=A.useRef(n);return ac(()=>{e.current=n}),e}function kT(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:o,elements:{reference:l,floating:a}={},transform:u=!0,whileElementsMounted:f,open:d}=n,[h,g]=A.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[p,b]=A.useState(r);Cc(p,r)||b(r);const[y,w]=A.useState(null),[E,S]=A.useState(null),R=A.useCallback(U=>{U!==J.current&&(J.current=U,w(U))},[]),I=A.useCallback(U=>{U!==V.current&&(V.current=U,S(U))},[]),j=l||y,z=a||E,J=A.useRef(null),V=A.useRef(null),ne=A.useRef(h),pe=f!=null,fe=df(f),N=df(o),D=df(d),O=A.useCallback(()=>{if(!J.current||!V.current)return;const U={placement:e,strategy:t,middleware:p};N.current&&(U.platform=N.current),LT(J.current,V.current,U).then($=>{const Z={...$,isPositioned:D.current!==!1};G.current&&!Cc(ne.current,Z)&&(ne.current=Z,gd.flushSync(()=>{g(Z)}))})},[p,e,t,N,D]);ac(()=>{d===!1&&ne.current.isPositioned&&(ne.current.isPositioned=!1,g(U=>({...U,isPositioned:!1})))},[d]);const G=A.useRef(!1);ac(()=>(G.current=!0,()=>{G.current=!1}),[]),ac(()=>{if(j&&(J.current=j),z&&(V.current=z),j&&z){if(fe.current)return fe.current(j,z,O);O()}},[j,z,O,fe,pe]);const P=A.useMemo(()=>({reference:J,floating:V,setReference:R,setFloating:I}),[R,I]),H=A.useMemo(()=>({reference:j,floating:z}),[j,z]),W=A.useMemo(()=>{const U={position:t,left:0,top:0};if(!H.floating)return U;const $=q0(H.floating,h.x),Z=q0(H.floating,h.y);return u?{...U,transform:"translate("+$+"px, "+Z+"px)",...Fm(H.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:$,top:Z}},[t,u,H.floating,h.x,h.y]);return A.useMemo(()=>({...h,update:O,refs:P,elements:H,floatingStyles:W}),[h,O,P,H,W])}const Sd=(n,e)=>({...AT(n),options:[n,e]}),Ld=(n,e)=>({..._T(n),options:[n,e]}),Nd=(n,e)=>({...TT(n),options:[n,e]}),IT=(n,e)=>({...ST(n),options:[n,e]}),OT="data-floating-ui-focusable",F0="active",H0="selected",BT={...pd};let $0=!1,MT=0;const z0=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+MT++;function jT(){const[n,e]=A.useState(()=>$0?z0():void 0);return Mt(()=>{n==null&&e(z0())},[]),A.useEffect(()=>{$0=!0},[]),n}const PT=BT.useId,Rd=PT||jT;function DT(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(o=>o(t))},on(e,t){n.has(e)||n.set(e,new Set),n.get(e).add(t)},off(e,t){var r;(r=n.get(e))==null||r.delete(t)}}}const qT=A.createContext(null),FT=A.createContext(null),kd=()=>{var n;return((n=A.useContext(qT))==null?void 0:n.id)||null},zc=()=>A.useContext(FT);function is(n){return"data-floating-ui-"+n}function gn(n){n.current!==-1&&(clearTimeout(n.current),n.current=-1)}const U0=is("safe-polygon");function hf(n,e,t){if(t&&!Sl(t))return 0;if(typeof n=="number")return n;if(typeof n=="function"){const r=n();return typeof r=="number"?r:r?.[e]}return n?.[e]}function pf(n){return typeof n=="function"?n():n}function HT(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,dataRef:o,events:l,elements:a}=n,{enabled:u=!0,delay:f=0,handleClose:d=null,mouseOnly:h=!1,restMs:g=0,move:p=!0}=e,b=zc(),y=kd(),w=Kn(d),E=Kn(f),S=Kn(t),R=Kn(g),I=A.useRef(),j=A.useRef(-1),z=A.useRef(),J=A.useRef(-1),V=A.useRef(!0),ne=A.useRef(!1),pe=A.useRef(()=>{}),fe=A.useRef(!1),N=rn(()=>{var W;const U=(W=o.current.openEvent)==null?void 0:W.type;return U?.includes("mouse")&&U!=="mousedown"});A.useEffect(()=>{if(!u)return;function W(U){let{open:$}=U;$||(gn(j),gn(J),V.current=!0,fe.current=!1)}return l.on("openchange",W),()=>{l.off("openchange",W)}},[u,l]),A.useEffect(()=>{if(!u||!w.current||!t)return;function W($){N()&&r(!1,$,"hover")}const U=Ut(a.floating).documentElement;return U.addEventListener("mouseleave",W),()=>{U.removeEventListener("mouseleave",W)}},[a.floating,t,r,u,w,N]);const D=A.useCallback(function(W,U,$){U===void 0&&(U=!0),$===void 0&&($="hover");const Z=hf(E.current,"close",I.current);Z&&!z.current?(gn(j),j.current=window.setTimeout(()=>r(!1,W,$),Z)):U&&(gn(j),r(!1,W,$))},[E,r]),O=rn(()=>{pe.current(),z.current=void 0}),G=rn(()=>{if(ne.current){const W=Ut(a.floating).body;W.style.pointerEvents="",W.removeAttribute(U0),ne.current=!1}}),P=rn(()=>o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1);A.useEffect(()=>{if(!u)return;function W(Q){if(gn(j),V.current=!1,h&&!Sl(I.current)||pf(R.current)>0&&!hf(E.current,"open"))return;const X=hf(E.current,"open",I.current);X?j.current=window.setTimeout(()=>{S.current||r(!0,Q,"hover")},X):t||r(!0,Q,"hover")}function U(Q){if(P()){G();return}pe.current();const X=Ut(a.floating);if(gn(J),fe.current=!1,w.current&&o.current.floatingContext){t||gn(j),z.current=w.current({...o.current.floatingContext,tree:b,x:Q.clientX,y:Q.clientY,onClose(){G(),O(),P()||D(Q,!0,"safe-polygon")}});const Y=z.current;X.addEventListener("mousemove",Y),pe.current=()=>{X.removeEventListener("mousemove",Y)};return}(I.current==="touch"?!zt(a.floating,Q.relatedTarget):!0)&&D(Q)}function $(Q){P()||o.current.floatingContext&&(w.current==null||w.current({...o.current.floatingContext,tree:b,x:Q.clientX,y:Q.clientY,onClose(){G(),O(),P()||D(Q)}})(Q))}function Z(){gn(j)}function le(Q){P()||D(Q,!1)}if(ut(a.domReference)){const Q=a.domReference,X=a.floating;return t&&Q.addEventListener("mouseleave",$),p&&Q.addEventListener("mousemove",W,{once:!0}),Q.addEventListener("mouseenter",W),Q.addEventListener("mouseleave",U),X&&(X.addEventListener("mouseleave",$),X.addEventListener("mouseenter",Z),X.addEventListener("mouseleave",le)),()=>{t&&Q.removeEventListener("mouseleave",$),p&&Q.removeEventListener("mousemove",W),Q.removeEventListener("mouseenter",W),Q.removeEventListener("mouseleave",U),X&&(X.removeEventListener("mouseleave",$),X.removeEventListener("mouseenter",Z),X.removeEventListener("mouseleave",le))}}},[a,u,n,h,p,D,O,G,r,t,S,b,E,w,o,P,R]),Mt(()=>{var W;if(u&&t&&(W=w.current)!=null&&(W=W.__options)!=null&&W.blockPointerEvents&&N()){ne.current=!0;const $=a.floating;if(ut(a.domReference)&&$){var U;const Z=Ut(a.floating).body;Z.setAttribute(U0,"");const le=a.domReference,Q=b==null||(U=b.nodesRef.current.find(X=>X.id===y))==null||(U=U.context)==null?void 0:U.elements.floating;return Q&&(Q.style.pointerEvents=""),Z.style.pointerEvents="none",le.style.pointerEvents="auto",$.style.pointerEvents="auto",()=>{Z.style.pointerEvents="",le.style.pointerEvents="",$.style.pointerEvents=""}}}},[u,t,y,a,b,w,N]),Mt(()=>{t||(I.current=void 0,fe.current=!1,O(),G())},[t,O,G]),A.useEffect(()=>()=>{O(),gn(j),gn(J),G()},[u,a.domReference,O,G]);const H=A.useMemo(()=>{function W(U){I.current=U.pointerType}return{onPointerDown:W,onPointerEnter:W,onMouseMove(U){const{nativeEvent:$}=U;function Z(){!V.current&&!S.current&&r(!0,$,"hover")}h&&!Sl(I.current)||t||pf(R.current)===0||fe.current&&U.movementX**2+U.movementY**2<2||(gn(J),I.current==="touch"?Z():(fe.current=!0,J.current=window.setTimeout(Z,pf(R.current))))}}},[h,r,t,S,R]);return A.useMemo(()=>u?{reference:H}:{},[u,H])}let W0=0;function Zs(n,e){e===void 0&&(e={});const{preventScroll:t=!1,cancelPrevious:r=!0,sync:o=!1}=e;r&&cancelAnimationFrame(W0);const l=()=>n?.focus({preventScroll:t});o?l():W0=requestAnimationFrame(l)}function $T(n){return n?.ownerDocument||document}const ho={inert:new WeakMap,"aria-hidden":new WeakMap,none:new WeakMap};function V0(n){return n==="inert"?ho.inert:n==="aria-hidden"?ho["aria-hidden"]:ho.none}let Ma=new WeakSet,ja={},gf=0;const zT=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,Hm=n=>n&&(n.host||Hm(n.parentNode)),UT=(n,e)=>e.map(t=>{if(n.contains(t))return t;const r=Hm(t);return n.contains(r)?r:null}).filter(t=>t!=null);function WT(n,e,t,r){const o="data-floating-ui-inert",l=r?"inert":t?"aria-hidden":null,a=UT(e,n),u=new Set,f=new Set(a),d=[];ja[o]||(ja[o]=new WeakMap);const h=ja[o];a.forEach(g),p(e),u.clear();function g(b){!b||u.has(b)||(u.add(b),b.parentNode&&g(b.parentNode))}function p(b){!b||f.has(b)||[].forEach.call(b.children,y=>{if(Ti(y)!=="script")if(u.has(y))p(y);else{const w=l?y.getAttribute(l):null,E=w!==null&&w!=="false",S=V0(l),R=(S.get(y)||0)+1,I=(h.get(y)||0)+1;S.set(y,R),h.set(y,I),d.push(y),R===1&&E&&Ma.add(y),I===1&&y.setAttribute(o,""),!E&&l&&y.setAttribute(l,l==="inert"?"":"true")}})}return gf++,()=>{d.forEach(b=>{const y=V0(l),E=(y.get(b)||0)-1,S=(h.get(b)||0)-1;y.set(b,E),h.set(b,S),E||(!Ma.has(b)&&l&&b.removeAttribute(l),Ma.delete(b)),S||b.removeAttribute(o)}),gf--,gf||(ho.inert=new WeakMap,ho["aria-hidden"]=new WeakMap,ho.none=new WeakMap,Ma=new WeakSet,ja={})}}function G0(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=$T(n[0]).body;return WT(n.concat(Array.from(r.querySelectorAll('[aria-live],[role="status"],output'))),r,e,t)}const Uc={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},Ec=A.forwardRef(function(e,t){const[r,o]=A.useState();Mt(()=>{Nm()&&o("button")},[]);const l={ref:t,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[is("focus-guard")]:"",style:Uc};return v.jsx("span",{...e,...l})}),$m=A.createContext(null),Z0=is("portal");function VT(n){n===void 0&&(n={});const{id:e,root:t}=n,r=Rd(),o=zm(),[l,a]=A.useState(null),u=A.useRef(null);return Mt(()=>()=>{l?.remove(),queueMicrotask(()=>{u.current=null})},[l]),Mt(()=>{if(!r||u.current)return;const f=e?document.getElementById(e):null;if(!f)return;const d=document.createElement("div");d.id=r,d.setAttribute(Z0,""),f.appendChild(d),u.current=d,a(d)},[e,r]),Mt(()=>{if(t===null||!r||u.current)return;let f=t||o?.portalNode;f&&!ut(f)&&(f=f.current),f=f||document.body;let d=null;e&&(d=document.createElement("div"),d.id=e,f.appendChild(d));const h=document.createElement("div");h.id=r,h.setAttribute(Z0,""),f=d||f,f.appendChild(h),u.current=h,a(h)},[e,t,r,o]),l}function Id(n){const{children:e,id:t,root:r,preserveTabOrder:o=!0}=n,l=VT({id:t,root:r}),[a,u]=A.useState(null),f=A.useRef(null),d=A.useRef(null),h=A.useRef(null),g=A.useRef(null),p=a?.modal,b=a?.open,y=!!a&&!a.modal&&a.open&&o&&!!(r||l);return A.useEffect(()=>{if(!l||!o||p)return;function w(E){l&&yl(E)&&(E.type==="focusin"?M0:eT)(l)}return l.addEventListener("focusin",w,!0),l.addEventListener("focusout",w,!0),()=>{l.removeEventListener("focusin",w,!0),l.removeEventListener("focusout",w,!0)}},[l,o,p]),A.useEffect(()=>{l&&(b||M0(l))},[b,l]),v.jsxs($m.Provider,{value:A.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:f,afterOutsideRef:d,beforeInsideRef:h,afterInsideRef:g,portalNode:l,setFocusManagerState:u}),[o,l]),children:[y&&l&&v.jsx(Ec,{"data-type":"outside",ref:f,onFocus:w=>{if(yl(w,l)){var E;(E=h.current)==null||E.focus()}else{const S=a?a.domReference:null,R=Om(S);R?.focus()}}}),y&&l&&v.jsx("span",{"aria-owns":l.id,style:Uc}),l&&gd.createPortal(e,l),y&&l&&v.jsx(Ec,{"data-type":"outside",ref:d,onFocus:w=>{if(yl(w,l)){var E;(E=g.current)==null||E.focus()}else{const S=a?a.domReference:null,R=Im(S);R?.focus(),a?.closeOnFocusOut&&a?.onOpenChange(!1,w.nativeEvent,"focus-out")}}})]})}const zm=()=>A.useContext($m);function K0(n){return A.useMemo(()=>e=>{n.forEach(t=>{t&&(t.current=e)})},n)}const GT=20;let Qi=[];function ZT(n){Qi=Qi.filter(e=>e.isConnected),n&&Ti(n)!=="body"&&(Qi.push(n),Qi.length>GT&&(Qi=Qi.slice(-20)))}function Y0(){return Qi.slice().reverse().find(n=>n.isConnected)}function KT(n){const e=Dl();return Sm(n,e)?n:Hc(n,e)[0]||n}function X0(n,e){var t;if(!e.current.includes("floating")&&!((t=n.getAttribute("role"))!=null&&t.includes("dialog")))return;const r=Dl(),l=H_(n,r).filter(u=>{const f=u.getAttribute("data-tabindex")||"";return Sm(u,r)||u.hasAttribute("data-tabindex")&&!f.startsWith("-")}),a=n.getAttribute("tabindex");e.current.includes("floating")||l.length===0?a!=="0"&&n.setAttribute("tabindex","0"):(a!=="-1"||n.hasAttribute("data-tabindex")&&n.getAttribute("data-tabindex")!=="-1")&&(n.setAttribute("tabindex","-1"),n.setAttribute("data-tabindex","-1"))}const YT=A.forwardRef(function(e,t){return v.jsx("button",{...e,type:"button",ref:t,tabIndex:-1,style:Uc})});function Um(n){const{context:e,children:t,disabled:r=!1,order:o=["content"],guards:l=!0,initialFocus:a=0,returnFocus:u=!0,restoreFocus:f=!1,modal:d=!0,visuallyHiddenDismiss:h=!1,closeOnFocusOut:g=!0,outsideElementsInert:p=!1,getInsideElements:b=()=>[]}=n,{open:y,onOpenChange:w,events:E,dataRef:S,elements:{domReference:R,floating:I}}=e,j=rn(()=>{var ge;return(ge=S.current.floatingContext)==null?void 0:ge.nodeId}),z=rn(b),J=typeof a=="number"&&a<0,V=O0(R)&&J,ne=zT(),pe=ne?l:!0,fe=!pe||ne&&p,N=Kn(o),D=Kn(a),O=Kn(u),G=zc(),P=zm(),H=A.useRef(null),W=A.useRef(null),U=A.useRef(!1),$=A.useRef(!1),Z=A.useRef(-1),le=P!=null,Q=zf(I),X=rn(function(ge){return ge===void 0&&(ge=Q),ge?Hc(ge,Dl()):[]}),de=rn(ge=>{const ve=X(ge);return N.current.map(he=>R&&he==="reference"?R:Q&&he==="floating"?Q:ve).filter(Boolean).flat()});A.useEffect(()=>{if(r||!d)return;function ge(he){if(he.key==="Tab"){zt(Q,bi(Ut(Q)))&&X().length===0&&!V&&uf(he);const me=de(),ke=qr(he);N.current[0]==="reference"&&ke===R&&(uf(he),he.shiftKey?Zs(me[me.length-1]):Zs(me[1])),N.current[1]==="floating"&&ke===Q&&he.shiftKey&&(uf(he),Zs(me[0]))}}const ve=Ut(Q);return ve.addEventListener("keydown",ge),()=>{ve.removeEventListener("keydown",ge)}},[r,R,Q,d,N,V,X,de]),A.useEffect(()=>{if(r||!I)return;function ge(ve){const he=qr(ve),ke=X().indexOf(he);ke!==-1&&(Z.current=ke)}return I.addEventListener("focusin",ge),()=>{I.removeEventListener("focusin",ge)}},[r,I,X]),A.useEffect(()=>{if(r||!g)return;function ge(){$.current=!0,setTimeout(()=>{$.current=!1})}function ve(he){const me=he.relatedTarget,ke=he.currentTarget,tt=qr(he);queueMicrotask(()=>{const it=j(),Je=!(zt(R,me)||zt(I,me)||zt(me,I)||zt(P?.portalNode,me)||me!=null&&me.hasAttribute(is("focus-guard"))||G&&(uo(G.nodesRef.current,it).find(Qe=>{var ze,Xe;return zt((ze=Qe.context)==null?void 0:ze.elements.floating,me)||zt((Xe=Qe.context)==null?void 0:Xe.elements.domReference,me)})||B0(G.nodesRef.current,it).find(Qe=>{var ze,Xe,Pt;return[(ze=Qe.context)==null?void 0:ze.elements.floating,zf((Xe=Qe.context)==null?void 0:Xe.elements.floating)].includes(me)||((Pt=Qe.context)==null?void 0:Pt.elements.domReference)===me})));if(ke===R&&Q&&X0(Q,N),f&&ke!==R&&!(tt!=null&&tt.isConnected)&&bi(Ut(Q))===Ut(Q).body){At(Q)&&Q.focus();const Qe=Z.current,ze=X(),Xe=ze[Qe]||ze[ze.length-1]||Q;At(Xe)&&Xe.focus()}if(S.current.insideReactTree){S.current.insideReactTree=!1;return}(V||!d)&&me&&Je&&!$.current&&me!==Y0()&&(U.current=!0,w(!1,he,"focus-out"))})}if(I&&At(R))return R.addEventListener("focusout",ve),R.addEventListener("pointerdown",ge),I.addEventListener("focusout",ve),()=>{R.removeEventListener("focusout",ve),R.removeEventListener("pointerdown",ge),I.removeEventListener("focusout",ve)}},[r,R,I,Q,d,G,P,w,g,f,X,V,j,N,S]);const Y=A.useRef(null),ae=A.useRef(null),ce=K0([Y,P?.beforeInsideRef]),ue=K0([ae,P?.afterInsideRef]);A.useEffect(()=>{var ge,ve;if(r||!I)return;const he=Array.from((P==null||(ge=P.portalNode)==null?void 0:ge.querySelectorAll("["+is("portal")+"]"))||[]),me=G?B0(G.nodesRef.current,j()):[],ke=G&&!d?me.map(Qe=>{var ze;return(ze=Qe.context)==null?void 0:ze.elements.floating}):[],tt=(ve=me.find(Qe=>{var ze;return O0(((ze=Qe.context)==null?void 0:ze.elements.domReference)||null)}))==null||(ve=ve.context)==null?void 0:ve.elements.domReference,it=[I,tt,...he,...ke,...z(),H.current,W.current,Y.current,ae.current,P?.beforeOutsideRef.current,P?.afterOutsideRef.current,N.current.includes("reference")||V?R:null].filter(Qe=>Qe!=null),Je=d||V?G0(it,!fe,fe):G0(it);return()=>{Je()}},[r,R,I,d,N,P,V,pe,fe,G,j,z]),Mt(()=>{if(r||!At(Q))return;const ge=Ut(Q),ve=bi(ge);queueMicrotask(()=>{const he=de(Q),me=D.current,ke=(typeof me=="number"?he[me]:me.current)||Q,tt=zt(Q,ve);!J&&!tt&&y&&Zs(ke,{preventScroll:ke===Q})})},[r,y,Q,J,de,D]),Mt(()=>{if(r||!Q)return;const ge=Ut(Q),ve=bi(ge);ZT(ve);function he(tt){let{reason:it,event:Je,nested:Qe}=tt;if(["hover","safe-polygon"].includes(it)&&Je.type==="mouseleave"&&(U.current=!0),it==="outside-press")if(Qe)U.current=!1;else if(G_(Je)||Z_(Je))U.current=!1;else{let ze=!1;document.createElement("div").focus({get preventScroll(){return ze=!0,!1}}),ze?U.current=!1:U.current=!0}}E.on("openchange",he);const me=ge.createElement("span");me.setAttribute("tabindex","-1"),me.setAttribute("aria-hidden","true"),Object.assign(me.style,Uc),le&&R&&R.insertAdjacentElement("afterend",me);function ke(){if(typeof O.current=="boolean"){const tt=R||Y0();return tt&&tt.isConnected?tt:me}return O.current.current||me}return()=>{E.off("openchange",he);const tt=bi(ge),it=zt(I,tt)||G&&uo(G.nodesRef.current,j(),!1).some(Qe=>{var ze;return zt((ze=Qe.context)==null?void 0:ze.elements.floating,tt)}),Je=ke();queueMicrotask(()=>{const Qe=KT(Je);O.current&&!U.current&&At(Qe)&&(!(Qe!==tt&&tt!==ge.body)||it)&&Qe.focus({preventScroll:!0}),me.remove()})}},[r,I,Q,O,S,E,G,le,R,j]),A.useEffect(()=>{queueMicrotask(()=>{U.current=!1})},[r]),Mt(()=>{if(!r&&P)return P.setFocusManagerState({modal:d,closeOnFocusOut:g,open:y,onOpenChange:w,domReference:R}),()=>{P.setFocusManagerState(null)}},[r,P,d,y,w,g,R]),Mt(()=>{r||Q&&X0(Q,N)},[r,Q,N]);function xe(ge){return r||!h||!d?null:v.jsx(YT,{ref:ge==="start"?H:W,onClick:ve=>w(!1,ve.nativeEvent),children:typeof h=="string"?h:"Dismiss"})}const _e=!r&&pe&&(d?!V:!0)&&(le||d);return v.jsxs(v.Fragment,{children:[_e&&v.jsx(Ec,{"data-type":"inside",ref:ce,onFocus:ge=>{if(d){const he=de();Zs(o[0]==="reference"?he[0]:he[he.length-1])}else if(P!=null&&P.preserveTabOrder&&P.portalNode)if(U.current=!1,yl(ge,P.portalNode)){const he=Im(R);he?.focus()}else{var ve;(ve=P.beforeOutsideRef.current)==null||ve.focus()}}}),!V&&xe("start"),t,xe("end"),_e&&v.jsx(Ec,{"data-type":"inside",ref:ue,onFocus:ge=>{if(d)Zs(de()[0]);else if(P!=null&&P.preserveTabOrder&&P.portalNode)if(g&&(U.current=!0),yl(ge,P.portalNode)){const he=Om(R);he?.focus()}else{var ve;(ve=P.afterOutsideRef.current)==null||ve.focus()}}})]})}let Pa=0;const J0="--floating-ui-scrollbar-width";function XT(){const n=Cd(),e=/iP(hone|ad|od)|iOS/.test(n)||n==="MacIntel"&&navigator.maxTouchPoints>1,t=document.body.style,o=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",l=window.innerWidth-document.documentElement.clientWidth,a=t.left?parseFloat(t.left):window.scrollX,u=t.top?parseFloat(t.top):window.scrollY;if(t.overflow="hidden",t.setProperty(J0,l+"px"),l&&(t[o]=l+"px"),e){var f,d;const h=((f=window.visualViewport)==null?void 0:f.offsetLeft)||0,g=((d=window.visualViewport)==null?void 0:d.offsetTop)||0;Object.assign(t,{position:"fixed",top:-(u-Math.floor(g))+"px",left:-(a-Math.floor(h))+"px",right:"0"})}return()=>{Object.assign(t,{overflow:"",[o]:""}),t.removeProperty(J0),e&&(Object.assign(t,{position:"",top:"",left:"",right:""}),window.scrollTo(a,u))}}let Q0=()=>{};const Wm=A.forwardRef(function(e,t){const{lockScroll:r=!1,...o}=e;return Mt(()=>{if(r)return Pa++,Pa===1&&(Q0=XT()),()=>{Pa--,Pa===0&&Q0()}},[r]),v.jsx("div",{ref:t,...o,style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...o.style}})});function eg(n){return At(n.target)&&n.target.tagName==="BUTTON"}function JT(n){return At(n.target)&&n.target.tagName==="A"}function tg(n){return Ed(n)}function QT(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,dataRef:o,elements:{domReference:l}}=n,{enabled:a=!0,event:u="click",toggle:f=!0,ignoreMouse:d=!1,keyboardHandlers:h=!0,stickIfOpen:g=!0}=e,p=A.useRef(),b=A.useRef(!1),y=A.useMemo(()=>({onPointerDown(w){p.current=w.pointerType},onMouseDown(w){const E=p.current;w.button===0&&u!=="click"&&(Sl(E,!0)&&d||(t&&f&&(!(o.current.openEvent&&g)||o.current.openEvent.type==="mousedown")?r(!1,w.nativeEvent,"click"):(w.preventDefault(),r(!0,w.nativeEvent,"click"))))},onClick(w){const E=p.current;if(u==="mousedown"&&p.current){p.current=void 0;return}Sl(E,!0)&&d||(t&&f&&(!(o.current.openEvent&&g)||o.current.openEvent.type==="click")?r(!1,w.nativeEvent,"click"):r(!0,w.nativeEvent,"click"))},onKeyDown(w){p.current=void 0,!(w.defaultPrevented||!h||eg(w))&&(w.key===" "&&!tg(l)&&(w.preventDefault(),b.current=!0),!JT(w)&&w.key==="Enter"&&r(!(t&&f),w.nativeEvent,"click"))},onKeyUp(w){w.defaultPrevented||!h||eg(w)||tg(l)||w.key===" "&&b.current&&(b.current=!1,r(!(t&&f),w.nativeEvent,"click"))}}),[o,l,u,d,h,r,t,g,f]);return A.useMemo(()=>a?{reference:y}:{},[a,y])}const eS={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},tS={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},ng=n=>{var e,t;return{escapeKey:typeof n=="boolean"?n:(e=n?.escapeKey)!=null?e:!1,outsidePress:typeof n=="boolean"?n:(t=n?.outsidePress)!=null?t:!0}};function Od(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,elements:o,dataRef:l}=n,{enabled:a=!0,escapeKey:u=!0,outsidePress:f=!0,outsidePressEvent:d="pointerdown",referencePress:h=!1,referencePressEvent:g="pointerdown",ancestorScroll:p=!1,bubbles:b,capture:y}=e,w=zc(),E=rn(typeof f=="function"?f:()=>!1),S=typeof f=="function"?E:f,R=A.useRef(!1),{escapeKey:I,outsidePress:j}=ng(b),{escapeKey:z,outsidePress:J}=ng(y),V=A.useRef(!1),ne=A.useRef(-1),pe=rn(P=>{var H;if(!t||!a||!u||P.key!=="Escape"||V.current)return;const W=(H=l.current.floatingContext)==null?void 0:H.nodeId,U=w?uo(w.nodesRef.current,W):[];if(!I&&(P.stopPropagation(),U.length>0)){let $=!0;if(U.forEach(Z=>{var le;if((le=Z.context)!=null&&le.open&&!Z.context.dataRef.current.__escapeKeyBubbles){$=!1;return}}),!$)return}r(!1,V_(P)?P.nativeEvent:P,"escape-key")}),fe=rn(P=>{var H;const W=()=>{var U;pe(P),(U=qr(P))==null||U.removeEventListener("keydown",W)};(H=qr(P))==null||H.addEventListener("keydown",W)}),N=rn(P=>{var H;const W=l.current.insideReactTree;l.current.insideReactTree=!1;const U=R.current;if(R.current=!1,d==="click"&&U||W||typeof S=="function"&&!S(P))return;const $=qr(P),Z="["+is("inert")+"]",le=Ut(o.floating).querySelectorAll(Z);let Q=ut($)?$:null;for(;Q&&!Hr(Q);){const ae=$r(Q);if(Hr(ae)||!ut(ae))break;Q=ae}if(le.length&&ut($)&&!U_($)&&!zt($,o.floating)&&Array.from(le).every(ae=>!zt(Q,ae)))return;if(At($)&&G){const ae=Hr($),ce=jn($),ue=/auto|scroll/,xe=ae||ue.test(ce.overflowX),_e=ae||ue.test(ce.overflowY),ge=xe&&$.clientWidth>0&&$.scrollWidth>$.clientWidth,ve=_e&&$.clientHeight>0&&$.scrollHeight>$.clientHeight,he=ce.direction==="rtl",me=ve&&(he?P.offsetX<=$.offsetWidth-$.clientWidth:P.offsetX>$.clientWidth),ke=ge&&P.offsetY>$.clientHeight;if(me||ke)return}const X=(H=l.current.floatingContext)==null?void 0:H.nodeId,de=w&&uo(w.nodesRef.current,X).some(ae=>{var ce;return cf(P,(ce=ae.context)==null?void 0:ce.elements.floating)});if(cf(P,o.floating)||cf(P,o.domReference)||de)return;const Y=w?uo(w.nodesRef.current,X):[];if(Y.length>0){let ae=!0;if(Y.forEach(ce=>{var ue;if((ue=ce.context)!=null&&ue.open&&!ce.context.dataRef.current.__outsidePressBubbles){ae=!1;return}}),!ae)return}r(!1,P,"outside-press")}),D=rn(P=>{var H;const W=()=>{var U;N(P),(U=qr(P))==null||U.removeEventListener(d,W)};(H=qr(P))==null||H.addEventListener(d,W)});A.useEffect(()=>{if(!t||!a)return;l.current.__escapeKeyBubbles=I,l.current.__outsidePressBubbles=j;let P=-1;function H(le){r(!1,le,"ancestor-scroll")}function W(){window.clearTimeout(P),V.current=!0}function U(){P=window.setTimeout(()=>{V.current=!1},qc()?5:0)}const $=Ut(o.floating);u&&($.addEventListener("keydown",z?fe:pe,z),$.addEventListener("compositionstart",W),$.addEventListener("compositionend",U)),S&&$.addEventListener(d,J?D:N,J);let Z=[];return p&&(ut(o.domReference)&&(Z=wi(o.domReference)),ut(o.floating)&&(Z=Z.concat(wi(o.floating))),!ut(o.reference)&&o.reference&&o.reference.contextElement&&(Z=Z.concat(wi(o.reference.contextElement)))),Z=Z.filter(le=>{var Q;return le!==((Q=$.defaultView)==null?void 0:Q.visualViewport)}),Z.forEach(le=>{le.addEventListener("scroll",H,{passive:!0})}),()=>{u&&($.removeEventListener("keydown",z?fe:pe,z),$.removeEventListener("compositionstart",W),$.removeEventListener("compositionend",U)),S&&$.removeEventListener(d,J?D:N,J),Z.forEach(le=>{le.removeEventListener("scroll",H)}),window.clearTimeout(P)}},[l,o,u,S,d,t,r,p,a,I,j,pe,z,fe,N,J,D]),A.useEffect(()=>{l.current.insideReactTree=!1},[l,S,d]);const O=A.useMemo(()=>({onKeyDown:pe,...h&&{[eS[g]]:P=>{r(!1,P.nativeEvent,"reference-press")},...g!=="click"&&{onClick(P){r(!1,P.nativeEvent,"reference-press")}}}}),[pe,r,h,g]),G=A.useMemo(()=>({onKeyDown:pe,onMouseDown(){R.current=!0},onMouseUp(){R.current=!0},[tS[d]]:()=>{l.current.insideReactTree=!0},onBlurCapture(){w||(gn(ne),l.current.insideReactTree=!0,ne.current=window.setTimeout(()=>{l.current.insideReactTree=!1}))}}),[pe,d,l,w]);return A.useMemo(()=>a?{reference:O,floating:G}:{},[a,O,G])}function nS(n){const{open:e=!1,onOpenChange:t,elements:r}=n,o=Rd(),l=A.useRef({}),[a]=A.useState(()=>DT()),u=kd()!=null,[f,d]=A.useState(r.reference),h=rn((b,y,w)=>{l.current.openEvent=b?y:void 0,a.emit("openchange",{open:b,event:y,reason:w,nested:u}),t?.(b,y,w)}),g=A.useMemo(()=>({setPositionReference:d}),[]),p=A.useMemo(()=>({reference:f||r.reference||null,floating:r.floating||null,domReference:r.reference}),[f,r.reference,r.floating]);return A.useMemo(()=>({dataRef:l,open:e,onOpenChange:h,elements:p,events:a,floatingId:o,refs:g}),[e,h,p,a,o,g])}function Wc(n){n===void 0&&(n={});const{nodeId:e}=n,t=nS({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,o=r.elements,[l,a]=A.useState(null),[u,f]=A.useState(null),h=o?.domReference||l,g=A.useRef(null),p=zc();Mt(()=>{h&&(g.current=h)},[h]);const b=kT({...n,elements:{...o,...u&&{reference:u}}}),y=A.useCallback(I=>{const j=ut(I)?{getBoundingClientRect:()=>I.getBoundingClientRect(),getClientRects:()=>I.getClientRects(),contextElement:I}:I;f(j),b.refs.setReference(j)},[b.refs]),w=A.useCallback(I=>{(ut(I)||I===null)&&(g.current=I,a(I)),(ut(b.refs.reference.current)||b.refs.reference.current===null||I!==null&&!ut(I))&&b.refs.setReference(I)},[b.refs]),E=A.useMemo(()=>({...b.refs,setReference:w,setPositionReference:y,domReference:g}),[b.refs,w,y]),S=A.useMemo(()=>({...b.elements,domReference:h}),[b.elements,h]),R=A.useMemo(()=>({...b,...r,refs:E,elements:S,nodeId:e}),[b,E,S,e,r]);return Mt(()=>{r.dataRef.current.floatingContext=R;const I=p?.nodesRef.current.find(j=>j.id===e);I&&(I.context=R)}),A.useMemo(()=>({...b,context:R,refs:E,elements:S}),[b,E,S,R])}function mf(){return $_()&&Nm()}function rS(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,events:o,dataRef:l,elements:a}=n,{enabled:u=!0,visibleOnly:f=!0}=e,d=A.useRef(!1),h=A.useRef(-1),g=A.useRef(!0);A.useEffect(()=>{if(!u)return;const b=sn(a.domReference);function y(){!t&&At(a.domReference)&&a.domReference===bi(Ut(a.domReference))&&(d.current=!0)}function w(){g.current=!0}function E(){g.current=!1}return b.addEventListener("blur",y),mf()&&(b.addEventListener("keydown",w,!0),b.addEventListener("pointerdown",E,!0)),()=>{b.removeEventListener("blur",y),mf()&&(b.removeEventListener("keydown",w,!0),b.removeEventListener("pointerdown",E,!0))}},[a.domReference,t,u]),A.useEffect(()=>{if(!u)return;function b(y){let{reason:w}=y;(w==="reference-press"||w==="escape-key")&&(d.current=!0)}return o.on("openchange",b),()=>{o.off("openchange",b)}},[o,u]),A.useEffect(()=>()=>{gn(h)},[]);const p=A.useMemo(()=>({onMouseLeave(){d.current=!1},onFocus(b){if(d.current)return;const y=qr(b.nativeEvent);if(f&&ut(y)){if(mf()&&!b.relatedTarget){if(!g.current&&!Ed(y))return}else if(!W_(y))return}r(!0,b.nativeEvent,"focus")},onBlur(b){d.current=!1;const y=b.relatedTarget,w=b.nativeEvent,E=ut(y)&&y.hasAttribute(is("focus-guard"))&&y.getAttribute("data-type")==="outside";h.current=window.setTimeout(()=>{var S;const R=bi(a.domReference?a.domReference.ownerDocument:document);!y&&R===a.domReference||zt((S=l.current.floatingContext)==null?void 0:S.refs.floating.current,R)||zt(a.domReference,R)||E||r(!1,w,"focus")})}}),[l,a.domReference,r,f]);return A.useMemo(()=>u?{reference:p}:{},[u,p])}function vf(n,e,t){const r=new Map,o=t==="item";let l=n;if(o&&n){const{[F0]:a,[H0]:u,...f}=n;l=f}return{...t==="floating"&&{tabIndex:-1,[OT]:""},...l,...e.map(a=>{const u=a?a[t]:null;return typeof u=="function"?n?u(n):null:u}).concat(n).reduce((a,u)=>(u&&Object.entries(u).forEach(f=>{let[d,h]=f;if(!(o&&[F0,H0].includes(d)))if(d.indexOf("on")===0){if(r.has(d)||r.set(d,[]),typeof h=="function"){var g;(g=r.get(d))==null||g.push(h),a[d]=function(){for(var p,b=arguments.length,y=new Array(b),w=0;w<b;w++)y[w]=arguments[w];return(p=r.get(d))==null?void 0:p.map(E=>E(...y)).find(E=>E!==void 0)}}}else a[d]=h}),a),{})}}function Bd(n){n===void 0&&(n=[]);const e=n.map(u=>u?.reference),t=n.map(u=>u?.floating),r=n.map(u=>u?.item),o=A.useCallback(u=>vf(u,n,"reference"),e),l=A.useCallback(u=>vf(u,n,"floating"),t),a=A.useCallback(u=>vf(u,n,"item"),r);return A.useMemo(()=>({getReferenceProps:o,getFloatingProps:l,getItemProps:a}),[o,l,a])}const iS=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Vm(n,e){var t,r;e===void 0&&(e={});const{open:o,elements:l,floatingId:a}=n,{enabled:u=!0,role:f="dialog"}=e,d=Rd(),h=((t=l.domReference)==null?void 0:t.id)||d,g=A.useMemo(()=>{var R;return((R=zf(l.floating))==null?void 0:R.id)||a},[l.floating,a]),p=(r=iS.get(f))!=null?r:f,y=kd()!=null,w=A.useMemo(()=>p==="tooltip"||f==="label"?{["aria-"+(f==="label"?"labelledby":"describedby")]:o?g:void 0}:{"aria-expanded":o?"true":"false","aria-haspopup":p==="alertdialog"?"dialog":p,"aria-controls":o?g:void 0,...p==="listbox"&&{role:"combobox"},...p==="menu"&&{id:h},...p==="menu"&&y&&{role:"menuitem"},...f==="select"&&{"aria-autocomplete":"none"},...f==="combobox"&&{"aria-autocomplete":"list"}},[p,g,y,o,h,f]),E=A.useMemo(()=>{const R={id:g,...p&&{role:p}};return p==="tooltip"||f==="label"?R:{...R,...p==="menu"&&{"aria-labelledby":h}}},[p,g,h,f]),S=A.useCallback(R=>{let{active:I,selected:j}=R;const z={role:"option",...I&&{id:g+"-fui-option"}};switch(f){case"select":return{...z,"aria-selected":I&&j};case"combobox":return{...z,"aria-selected":j}}return{}},[g,f]);return A.useMemo(()=>u?{reference:w,floating:E,item:S}:{},[u,w,E,S])}const rg=n=>n.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,t)=>(t?"-":"")+e.toLowerCase());function Ks(n,e){return typeof n=="function"?n(e):n}function sS(n,e){const[t,r]=A.useState(n);return n&&!t&&r(!0),A.useEffect(()=>{if(!n&&t){const o=setTimeout(()=>r(!1),e);return()=>clearTimeout(o)}},[n,t,e]),t}function oS(n,e){e===void 0&&(e={});const{open:t,elements:{floating:r}}=n,{duration:o=250}=e,a=(typeof o=="number"?o:o.close)||0,[u,f]=A.useState("unmounted"),d=sS(t,a);return!d&&u==="close"&&f("unmounted"),Mt(()=>{if(r){if(t){f("initial");const h=requestAnimationFrame(()=>{gd.flushSync(()=>{f("open")})});return()=>{cancelAnimationFrame(h)}}f("close")}},[t,r]),{isMounted:d,status:u}}function Gm(n,e){e===void 0&&(e={});const{initial:t={opacity:0},open:r,close:o,common:l,duration:a=250}=e,u=n.placement,f=u.split("-")[0],d=A.useMemo(()=>({side:f,placement:u}),[f,u]),h=typeof a=="number",g=(h?a:a.open)||0,p=(h?a:a.close)||0,[b,y]=A.useState(()=>({...Ks(l,d),...Ks(t,d)})),{isMounted:w,status:E}=oS(n,{duration:a}),S=Kn(t),R=Kn(r),I=Kn(o),j=Kn(l);return Mt(()=>{const z=Ks(S.current,d),J=Ks(I.current,d),V=Ks(j.current,d),ne=Ks(R.current,d)||Object.keys(z).reduce((pe,fe)=>(pe[fe]="",pe),{});if(E==="initial"&&y(pe=>({transitionProperty:pe.transitionProperty,...V,...z})),E==="open"&&y({transitionProperty:Object.keys(ne).map(rg).join(","),transitionDuration:g+"ms",...V,...ne}),E==="close"){const pe=J||z;y({transitionProperty:Object.keys(pe).map(rg).join(","),transitionDuration:p+"ms",...V,...pe})}},[p,I,S,R,j,g,E,d]),{isMounted:w,styles:b}}const Zm=({className:n=void 0,children:e=v.jsx(v.Fragment,{}),content:t="",placement:r="top",fallbackPlacement:o=["top","bottom","right","left"]})=>{if(!t)return v.jsx(v.Fragment,{children:e});const{globalShape:l}=A.useContext(Ct),[a,u]=A.useState(!1),{refs:f,floatingStyles:d,context:h}=Wc({open:a,onOpenChange:u,placement:r,middleware:[Sd(4),Ld(),Nd({padding:10,fallbackPlacements:o})],strategy:"fixed",whileElementsMounted:$c}),g=HT(h,{move:!1}),p=rS(h),b=Od(h),{getReferenceProps:y,getFloatingProps:w}=Bd([g,p,b]);return v.jsxs(v.Fragment,{children:[v.jsx("div",{className:Ze("tooltip",n),ref:f.setReference,...y(),children:e}),a&&v.jsx(Id,{children:v.jsx("div",{className:Ze("tooltip-content-container",l),ref:f.setFloating,style:d,...w(),children:t})})]})},Ie=({ref:n=void 0,id:e=void 0,className:t=void 0,style:r=void 0,appearance:o="neutral",shape:l=void 0,icon:a=v.jsx(n_,{}),txtLabel:u="",isSelected:f=!1,isDisabled:d=!1,isLoading:h=!1,isShowtooltip:g=!0,onClick:p=void 0})=>{const{globalShape:b}=A.useContext(Ct);return v.jsx(Zm,{content:g?u:"",children:v.jsx("button",{ref:n,id:e,className:Ze(t,"icon-button",o,l||b,{selected:f,disabled:d,loading:h}),style:r?.button,onClick:y=>{d||s_(y,p)},disabled:d,"aria-label":u,children:v.jsx("div",{className:"icon",style:r?.icon,children:h?v.jsx(P1,{size:"small"}):a})})})},lS=({onClickAction:n})=>v.jsxs("div",{className:"mover-container global-radius",children:[v.jsx(Ie,{icon:v.jsx(RA,{className:"global-icon"}),txtLabel:"Move Up",onClick:()=>{n("move-up")},isShowtooltip:!1}),v.jsx(Ie,{icon:v.jsx(LA,{className:"global-icon"}),txtLabel:"Move down",onClick:()=>{n("move-down")},isShowtooltip:!1}),v.jsx(Ie,{icon:v.jsx(t_,{className:"global-icon"}),txtLabel:"Remove",onClick:()=>{n("remove")},isShowtooltip:!1})]}),Km=A.createContext(null),ql=()=>{const n=A.useContext(Km);if(!n)throw new Error("useDocModule must be used inside <CanvasModuleContext>");return n};var wt={},Ys={},Da={},Xs={},cr={},ig;function cs(){if(ig)return cr;ig=1,Object.defineProperty(cr,"__esModule",{value:!0});var n=`
`;cr.NewLine=n;var e;(function(u){u.Ordered="ordered",u.Bullet="bullet",u.Checked="checked",u.Unchecked="unchecked"})(e||(e={})),cr.ListType=e;var t;(function(u){u.Sub="sub",u.Super="super"})(t||(t={})),cr.ScriptType=t;var r;(function(u){u.Rtl="rtl"})(r||(r={})),cr.DirectionType=r;var o;(function(u){u.Left="left",u.Center="center",u.Right="right",u.Justify="justify"})(o||(o={})),cr.AlignType=o;var l;(function(u){u.Image="image",u.Video="video",u.Formula="formula",u.Text="text"})(l||(l={})),cr.DataType=l;var a;return function(u){u.Block="block",u.InlineGroup="inline-group",u.List="list",u.Video="video",u.Table="table"}(a||(a={})),cr.GroupType=a,cr}var ul={},sg;function Md(){if(sg)return ul;sg=1,Object.defineProperty(ul,"__esModule",{value:!0});var n=function(){function t(r,o){this.type=r,this.value=o}return t}();ul.InsertDataQuill=n;var e=function(){function t(r,o){this.type=r,this.value=o}return t}();return ul.InsertDataCustom=e,ul}var ml={exports:{}};ml.exports;var og;function jd(){return og||(og=1,function(n,e){var t=200,r="__lodash_hash_undefined__",o=1,l=2,a=9007199254740991,u="[object Arguments]",f="[object Array]",d="[object AsyncFunction]",h="[object Boolean]",g="[object Date]",p="[object Error]",b="[object Function]",y="[object GeneratorFunction]",w="[object Map]",E="[object Number]",S="[object Null]",R="[object Object]",I="[object Promise]",j="[object Proxy]",z="[object RegExp]",J="[object Set]",V="[object String]",ne="[object Symbol]",pe="[object Undefined]",fe="[object WeakMap]",N="[object ArrayBuffer]",D="[object DataView]",O="[object Float32Array]",G="[object Float64Array]",P="[object Int8Array]",H="[object Int16Array]",W="[object Int32Array]",U="[object Uint8Array]",$="[object Uint8ClampedArray]",Z="[object Uint16Array]",le="[object Uint32Array]",Q=/[\\^$.*+?()[\]{}|]/g,X=/^\[object .+?Constructor\]$/,de=/^(?:0|[1-9]\d*)$/,Y={};Y[O]=Y[G]=Y[P]=Y[H]=Y[W]=Y[U]=Y[$]=Y[Z]=Y[le]=!0,Y[u]=Y[f]=Y[N]=Y[h]=Y[D]=Y[g]=Y[p]=Y[b]=Y[w]=Y[E]=Y[R]=Y[z]=Y[J]=Y[V]=Y[fe]=!1;var ae=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,ce=typeof self=="object"&&self&&self.Object===Object&&self,ue=ae||ce||Function("return this")(),xe=e&&!e.nodeType&&e,_e=xe&&!0&&n&&!n.nodeType&&n,ge=_e&&_e.exports===xe,ve=ge&&ae.process,he=function(){try{return ve&&ve.binding&&ve.binding("util")}catch{}}(),me=he&&he.isTypedArray;function ke(x,T){for(var B=-1,ee=x==null?0:x.length,Oe=0,Te=[];++B<ee;){var We=x[B];T(We,B,x)&&(Te[Oe++]=We)}return Te}function tt(x,T){for(var B=-1,ee=T.length,Oe=x.length;++B<ee;)x[Oe+B]=T[B];return x}function it(x,T){for(var B=-1,ee=x==null?0:x.length;++B<ee;)if(T(x[B],B,x))return!0;return!1}function Je(x,T){for(var B=-1,ee=Array(x);++B<x;)ee[B]=T(B);return ee}function Qe(x){return function(T){return x(T)}}function ze(x,T){return x.has(T)}function Xe(x,T){return x?.[T]}function Pt(x){var T=-1,B=Array(x.size);return x.forEach(function(ee,Oe){B[++T]=[Oe,ee]}),B}function Pn(x,T){return function(B){return x(T(B))}}function xn(x){var T=-1,B=Array(x.size);return x.forEach(function(ee){B[++T]=ee}),B}var yn=Array.prototype,So=Function.prototype,on=Object.prototype,ln=ue["__core-js_shared__"],vr=So.toString,Dt=on.hasOwnProperty,Gr=function(){var x=/[^.]+$/.exec(ln&&ln.keys&&ln.keys.IE_PROTO||"");return x?"Symbol(src)_1."+x:""}(),Zr=on.toString,Ni=RegExp("^"+vr.call(Dt).replace(Q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),br=ge?ue.Buffer:void 0,tr=ue.Symbol,Kr=ue.Uint8Array,nr=on.propertyIsEnumerable,xr=yn.splice,an=tr?tr.toStringTag:void 0,Yr=Object.getOwnPropertySymbols,Xr=br?br.isBuffer:void 0,rr=Pn(Object.keys,Object),Ri=Ft(ue,"DataView"),yr=Ft(ue,"Map"),ki=Ft(ue,"Promise"),Ii=Ft(ue,"Set"),Jr=Ft(ue,"WeakMap"),ir=Ft(Object,"create"),vs=It(Ri),Dn=It(yr),Oi=It(ki),Lo=It(Ii),Bi=It(Jr),bs=tr?tr.prototype:void 0,Mi=bs?bs.valueOf:void 0;function _t(x){var T=-1,B=x==null?0:x.length;for(this.clear();++T<B;){var ee=x[T];this.set(ee[0],ee[1])}}function No(){this.__data__=ir?ir(null):{},this.size=0}function Ro(x){var T=this.has(x)&&delete this.__data__[x];return this.size-=T?1:0,T}function ko(x){var T=this.__data__;if(ir){var B=T[x];return B===r?void 0:B}return Dt.call(T,x)?T[x]:void 0}function Io(x){var T=this.__data__;return ir?T[x]!==void 0:Dt.call(T,x)}function Oo(x,T){var B=this.__data__;return this.size+=this.has(x)?0:1,B[x]=ir&&T===void 0?r:T,this}_t.prototype.clear=No,_t.prototype.delete=Ro,_t.prototype.get=ko,_t.prototype.has=Io,_t.prototype.set=Oo;function Tt(x){var T=-1,B=x==null?0:x.length;for(this.clear();++T<B;){var ee=x[T];this.set(ee[0],ee[1])}}function Bo(){this.__data__=[],this.size=0}function Mo(x){var T=this.__data__,B=Cr(T,x);if(B<0)return!1;var ee=T.length-1;return B==ee?T.pop():xr.call(T,B,1),--this.size,!0}function jo(x){var T=this.__data__,B=Cr(T,x);return B<0?void 0:T[B][1]}function Po(x){return Cr(this.__data__,x)>-1}function Do(x,T){var B=this.__data__,ee=Cr(B,x);return ee<0?(++this.size,B.push([x,T])):B[ee][1]=T,this}Tt.prototype.clear=Bo,Tt.prototype.delete=Mo,Tt.prototype.get=jo,Tt.prototype.has=Po,Tt.prototype.set=Do;function qt(x){var T=-1,B=x==null?0:x.length;for(this.clear();++T<B;){var ee=x[T];this.set(ee[0],ee[1])}}function Qr(){this.size=0,this.__data__={hash:new _t,map:new(yr||Tt),string:new _t}}function qo(x){var T=Vt(this,x).delete(x);return this.size-=T?1:0,T}function ei(x){return Vt(this,x).get(x)}function Fo(x){return Vt(this,x).has(x)}function Ho(x,T){var B=Vt(this,x),ee=B.size;return B.set(x,T),this.size+=B.size==ee?0:1,this}qt.prototype.clear=Qr,qt.prototype.delete=qo,qt.prototype.get=ei,qt.prototype.has=Fo,qt.prototype.set=Ho;function ti(x){var T=-1,B=x==null?0:x.length;for(this.__data__=new qt;++T<B;)this.add(x[T])}function ji(x){return this.__data__.set(x,r),this}function wr(x){return this.__data__.has(x)}ti.prototype.add=ti.prototype.push=ji,ti.prototype.has=wr;function cn(x){var T=this.__data__=new Tt(x);this.size=T.size}function Pi(){this.__data__=new Tt,this.size=0}function $o(x){var T=this.__data__,B=T.delete(x);return this.size=T.size,B}function zo(x){return this.__data__.get(x)}function Uo(x){return this.__data__.has(x)}function xs(x,T){var B=this.__data__;if(B instanceof Tt){var ee=B.__data__;if(!yr||ee.length<t-1)return ee.push([x,T]),this.size=++B.size,this;B=this.__data__=new qt(ee)}return B.set(x,T),this.size=B.size,this}cn.prototype.clear=Pi,cn.prototype.delete=$o,cn.prototype.get=zo,cn.prototype.has=Uo,cn.prototype.set=xs;function ys(x,T){var B=ni(x),ee=!B&&qi(x),Oe=!B&&!ee&&ri(x),Te=!B&&!ee&&!Oe&&Os(x),We=B||ee||Oe||Te,Ve=We?Je(x.length,String):[],Fe=Ve.length;for(var Ke in x)Dt.call(x,Ke)&&!(We&&(Ke=="length"||Oe&&(Ke=="offset"||Ke=="parent")||Te&&(Ke=="buffer"||Ke=="byteLength"||Ke=="byteOffset")||Ts(Ke,Fe)))&&Ve.push(Ke);return Ve}function Cr(x,T){for(var B=x.length;B--;)if(ks(x[B][0],T))return B;return-1}function Er(x,T,B){var ee=T(x);return ni(x)?ee:tt(ee,B(x))}function Ar(x){return x==null?x===void 0?pe:S:an&&an in Object(x)?wn(x):Rs(x)}function Di(x){return En(x)&&Ar(x)==u}function _r(x,T,B,ee,Oe){return x===T?!0:x==null||T==null||!En(x)&&!En(T)?x!==x&&T!==T:ws(x,T,B,ee,_r,Oe)}function ws(x,T,B,ee,Oe,Te){var We=ni(x),Ve=ni(T),Fe=We?f:Cn(x),Ke=Ve?f:Cn(T);Fe=Fe==u?R:Fe,Ke=Ke==u?R:Ke;var dt=Fe==R,Ot=Ke==R,pt=Fe==Ke;if(pt&&ri(x)){if(!ri(T))return!1;We=!0,dt=!1}if(pt&&!dt)return Te||(Te=new cn),We||Os(x)?Tr(x,T,B,ee,Oe,Te):Vo(x,T,Fe,B,ee,Oe,Te);if(!(B&o)){var ot=dt&&Dt.call(x,"__wrapped__"),Et=Ot&&Dt.call(T,"__wrapped__");if(ot||Et){var Fn=ot?x.value():x,An=Et?T.value():T;return Te||(Te=new cn),Oe(Fn,An,B,ee,Te)}}return pt?(Te||(Te=new cn),As(x,T,B,ee,Oe,Te)):!1}function Wo(x){if(!Is(x)||Ls(x))return!1;var T=ii(x)?Ni:X;return T.test(It(x))}function Cs(x){return En(x)&&Hi(x.length)&&!!Y[Ar(x)]}function Es(x){if(!Ns(x))return rr(x);var T=[];for(var B in Object(x))Dt.call(x,B)&&B!="constructor"&&T.push(B);return T}function Tr(x,T,B,ee,Oe,Te){var We=B&o,Ve=x.length,Fe=T.length;if(Ve!=Fe&&!(We&&Fe>Ve))return!1;var Ke=Te.get(x);if(Ke&&Te.get(T))return Ke==T;var dt=-1,Ot=!0,pt=B&l?new ti:void 0;for(Te.set(x,T),Te.set(T,x);++dt<Ve;){var ot=x[dt],Et=T[dt];if(ee)var Fn=We?ee(Et,ot,dt,T,x,Te):ee(ot,Et,dt,x,T,Te);if(Fn!==void 0){if(Fn)continue;Ot=!1;break}if(pt){if(!it(T,function(An,sr){if(!ze(pt,sr)&&(ot===An||Oe(ot,An,B,ee,Te)))return pt.push(sr)})){Ot=!1;break}}else if(!(ot===Et||Oe(ot,Et,B,ee,Te))){Ot=!1;break}}return Te.delete(x),Te.delete(T),Ot}function Vo(x,T,B,ee,Oe,Te,We){switch(B){case D:if(x.byteLength!=T.byteLength||x.byteOffset!=T.byteOffset)return!1;x=x.buffer,T=T.buffer;case N:return!(x.byteLength!=T.byteLength||!Te(new Kr(x),new Kr(T)));case h:case g:case E:return ks(+x,+T);case p:return x.name==T.name&&x.message==T.message;case z:case V:return x==T+"";case w:var Ve=Pt;case J:var Fe=ee&o;if(Ve||(Ve=xn),x.size!=T.size&&!Fe)return!1;var Ke=We.get(x);if(Ke)return Ke==T;ee|=l,We.set(x,T);var dt=Tr(Ve(x),Ve(T),ee,Oe,Te,We);return We.delete(x),dt;case ne:if(Mi)return Mi.call(x)==Mi.call(T)}return!1}function As(x,T,B,ee,Oe,Te){var We=B&o,Ve=qn(x),Fe=Ve.length,Ke=qn(T),dt=Ke.length;if(Fe!=dt&&!We)return!1;for(var Ot=Fe;Ot--;){var pt=Ve[Ot];if(!(We?pt in T:Dt.call(T,pt)))return!1}var ot=Te.get(x);if(ot&&Te.get(T))return ot==T;var Et=!0;Te.set(x,T),Te.set(T,x);for(var Fn=We;++Ot<Fe;){pt=Ve[Ot];var An=x[pt],sr=T[pt];if(ee)var Zo=We?ee(sr,An,pt,T,x,Te):ee(An,sr,pt,x,T,Te);if(!(Zo===void 0?An===sr||Oe(An,sr,B,ee,Te):Zo)){Et=!1;break}Fn||(Fn=pt=="constructor")}if(Et&&!Fn){var zi=x.constructor,Nt=T.constructor;zi!=Nt&&"constructor"in x&&"constructor"in T&&!(typeof zi=="function"&&zi instanceof zi&&typeof Nt=="function"&&Nt instanceof Nt)&&(Et=!1)}return Te.delete(x),Te.delete(T),Et}function qn(x){return Er(x,$i,_s)}function Vt(x,T){var B=x.__data__;return Ss(T)?B[typeof T=="string"?"string":"hash"]:B.map}function Ft(x,T){var B=Xe(x,T);return Wo(B)?B:void 0}function wn(x){var T=Dt.call(x,an),B=x[an];try{x[an]=void 0;var ee=!0}catch{}var Oe=Zr.call(x);return ee&&(T?x[an]=B:delete x[an]),Oe}var _s=Yr?function(x){return x==null?[]:(x=Object(x),ke(Yr(x),function(T){return nr.call(x,T)}))}:st,Cn=Ar;(Ri&&Cn(new Ri(new ArrayBuffer(1)))!=D||yr&&Cn(new yr)!=w||ki&&Cn(ki.resolve())!=I||Ii&&Cn(new Ii)!=J||Jr&&Cn(new Jr)!=fe)&&(Cn=function(x){var T=Ar(x),B=T==R?x.constructor:void 0,ee=B?It(B):"";if(ee)switch(ee){case vs:return D;case Dn:return w;case Oi:return I;case Lo:return J;case Bi:return fe}return T});function Ts(x,T){return T=T??a,!!T&&(typeof x=="number"||de.test(x))&&x>-1&&x%1==0&&x<T}function Ss(x){var T=typeof x;return T=="string"||T=="number"||T=="symbol"||T=="boolean"?x!=="__proto__":x===null}function Ls(x){return!!Gr&&Gr in x}function Ns(x){var T=x&&x.constructor,B=typeof T=="function"&&T.prototype||on;return x===B}function Rs(x){return Zr.call(x)}function It(x){if(x!=null){try{return vr.call(x)}catch{}try{return x+""}catch{}}return""}function ks(x,T){return x===T||x!==x&&T!==T}var qi=Di(function(){return arguments}())?Di:function(x){return En(x)&&Dt.call(x,"callee")&&!nr.call(x,"callee")},ni=Array.isArray;function Fi(x){return x!=null&&Hi(x.length)&&!ii(x)}var ri=Xr||nt;function Go(x,T){return _r(x,T)}function ii(x){if(!Is(x))return!1;var T=Ar(x);return T==b||T==y||T==d||T==j}function Hi(x){return typeof x=="number"&&x>-1&&x%1==0&&x<=a}function Is(x){var T=typeof x;return x!=null&&(T=="object"||T=="function")}function En(x){return x!=null&&typeof x=="object"}var Os=me?Qe(me):Cs;function $i(x){return Fi(x)?ys(x):Es(x)}function st(){return[]}function nt(){return!1}n.exports=Go}(ml,ml.exports)),ml.exports}var lg;function Pd(){if(lg)return Xs;lg=1;var n=Xs&&Xs.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Xs,"__esModule",{value:!0});var e=cs(),t=Md(),r=n(jd()),o=function(){function l(a,u){typeof a=="string"&&(a=new t.InsertDataQuill(e.DataType.Text,a+"")),this.insert=a,this.attributes=u||{}}return l.createNewLineOp=function(){return new l(e.NewLine)},l.prototype.isContainerBlock=function(){return this.isBlockquote()||this.isList()||this.isTable()||this.isCodeBlock()||this.isHeader()||this.isBlockAttribute()||this.isCustomTextBlock()},l.prototype.isBlockAttribute=function(){var a=this.attributes;return!!(a.align||a.direction||a.indent)},l.prototype.isBlockquote=function(){return!!this.attributes.blockquote},l.prototype.isHeader=function(){return!!this.attributes.header},l.prototype.isTable=function(){return!!this.attributes.table},l.prototype.isSameHeaderAs=function(a){return a.attributes.header===this.attributes.header&&this.isHeader()},l.prototype.hasSameAdiAs=function(a){return this.attributes.align===a.attributes.align&&this.attributes.direction===a.attributes.direction&&this.attributes.indent===a.attributes.indent},l.prototype.hasSameIndentationAs=function(a){return this.attributes.indent===a.attributes.indent},l.prototype.hasSameAttr=function(a){return r.default(this.attributes,a.attributes)},l.prototype.hasHigherIndentThan=function(a){return(Number(this.attributes.indent)||0)>(Number(a.attributes.indent)||0)},l.prototype.isInline=function(){return!(this.isContainerBlock()||this.isVideo()||this.isCustomEmbedBlock())},l.prototype.isCodeBlock=function(){return!!this.attributes["code-block"]},l.prototype.hasSameLangAs=function(a){return this.attributes["code-block"]===a.attributes["code-block"]},l.prototype.isJustNewline=function(){return this.insert.value===e.NewLine},l.prototype.isList=function(){return this.isOrderedList()||this.isBulletList()||this.isCheckedList()||this.isUncheckedList()},l.prototype.isOrderedList=function(){return this.attributes.list===e.ListType.Ordered},l.prototype.isBulletList=function(){return this.attributes.list===e.ListType.Bullet},l.prototype.isCheckedList=function(){return this.attributes.list===e.ListType.Checked},l.prototype.isUncheckedList=function(){return this.attributes.list===e.ListType.Unchecked},l.prototype.isACheckList=function(){return this.attributes.list==e.ListType.Unchecked||this.attributes.list===e.ListType.Checked},l.prototype.isSameListAs=function(a){return!!a.attributes.list&&(this.attributes.list===a.attributes.list||a.isACheckList()&&this.isACheckList())},l.prototype.isSameTableRowAs=function(a){return!!a.isTable()&&this.isTable()&&this.attributes.table===a.attributes.table},l.prototype.isText=function(){return this.insert.type===e.DataType.Text},l.prototype.isImage=function(){return this.insert.type===e.DataType.Image},l.prototype.isFormula=function(){return this.insert.type===e.DataType.Formula},l.prototype.isVideo=function(){return this.insert.type===e.DataType.Video},l.prototype.isLink=function(){return this.isText()&&!!this.attributes.link},l.prototype.isCustomEmbed=function(){return this.insert instanceof t.InsertDataCustom},l.prototype.isCustomEmbedBlock=function(){return this.isCustomEmbed()&&!!this.attributes.renderAsBlock},l.prototype.isCustomTextBlock=function(){return this.isText()&&!!this.attributes.renderAsBlock},l.prototype.isMentions=function(){return this.isText()&&!!this.attributes.mentions},l}();return Xs.DeltaInsertOp=o,Xs}var qa={},Fa={},Js={},Ha={},ag;function aS(){if(ag)return Ha;ag=1,Object.defineProperty(Ha,"__esModule",{value:!0});function n(e){var t=e;t=t.replace(/^\s*/gm,"");var r=/^((https?|s?ftp|file|blob|mailto|tel):|#|\/|data:image\/)/;return r.test(t)?t:"unsafe:"+t}return Ha.sanitize=n,Ha}var pi={},cg;function Dd(){if(cg)return pi;cg=1,Object.defineProperty(pi,"__esModule",{value:!0});var n;(function(d){d[d.Html=0]="Html",d[d.Url=1]="Url"})(n||(n={}));function e(d,h){if(h===void 0&&(h=void 0),!d)return"";var g="";if(h){var p=[].concat(h);g=p.map(function(y){return y.key+(y.value?'="'+y.value+'"':"")}).join(" ")}var b=">";return(d==="img"||d==="br")&&(b="/>"),g?"<"+d+" "+g+b:"<"+d+b}pi.makeStartTag=e;function t(d){return d===void 0&&(d=""),d&&"</"+d+">"||""}pi.makeEndTag=t;function r(d){return a(n.Html).reduce(f,d)}pi.decodeHtml=r;function o(d,h){return h===void 0&&(h=!0),h&&(d=r(d)),a(n.Html).reduce(u,d)}pi.encodeHtml=o;function l(d){var h=a(n.Url),g=h.reduce(f,d);return h.reduce(u,g)}pi.encodeLink=l;function a(d){var h=[["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#x27;"],["\\/","&#x2F;"],["\\(","&#40;"],["\\)","&#41;"]];return d===n.Html?h.filter(function(g){var p=g[0];return g[1],p.indexOf("(")===-1&&p.indexOf(")")===-1}):h.filter(function(g){var p=g[0];return g[1],p.indexOf("/")===-1})}function u(d,h){return d.replace(new RegExp(h[0],"g"),h[1])}function f(d,h){return d.replace(new RegExp(h[1],"g"),h[0].replace("\\",""))}return pi}var ug;function qd(){if(ug)return Js;ug=1;var n=Js&&Js.__importStar||function(o){if(o&&o.__esModule)return o;var l={};if(o!=null)for(var a in o)Object.hasOwnProperty.call(o,a)&&(l[a]=o[a]);return l.default=o,l};Object.defineProperty(Js,"__esModule",{value:!0});var e=n(aS()),t=Dd(),r=function(){function o(){}return o.sanitize=function(l,a){var u=function(){};a&&typeof a.urlSanitizer=="function"&&(u=a.urlSanitizer);var f=u(l);return typeof f=="string"?f:t.encodeLink(e.sanitize(l))},o}();return Js.OpLinkSanitizer=r,Js}var fg;function cS(){if(fg)return Fa;fg=1,Object.defineProperty(Fa,"__esModule",{value:!0});var n=qd(),e=function(){function t(){}return t.sanitize=function(r,o){var l={};return!r||typeof r!="object"||(r.class&&t.IsValidClass(r.class)&&(l.class=r.class),r.id&&t.IsValidId(r.id)&&(l.id=r.id),t.IsValidTarget(r.target+"")&&(l.target=r.target),r.avatar&&(l.avatar=n.OpLinkSanitizer.sanitize(r.avatar+"",o)),r["end-point"]&&(l["end-point"]=n.OpLinkSanitizer.sanitize(r["end-point"]+"",o)),r.slug&&(l.slug=r.slug+"")),l},t.IsValidClass=function(r){return!!r.match(/^[a-zA-Z0-9_\-]{1,500}$/i)},t.IsValidId=function(r){return!!r.match(/^[a-zA-Z0-9_\-\:\.]{1,500}$/i)},t.IsValidTarget=function(r){return["_self","_blank","_parent","_top"].indexOf(r)>-1},t}();return Fa.MentionSanitizer=e,Fa}var jr={},dg;function Fl(){if(dg)return jr;dg=1,Object.defineProperty(jr,"__esModule",{value:!0});function n(a){return a.length===0?null:a.length>=2?a[1]:a[0]}jr.preferSecond=n;function e(a){return a.reduce(function(u,f){return u.concat(Array.isArray(f)?e(f):f)},[])}jr.flatten=e;function t(a,u){if(Array.prototype.find)return Array.prototype.find.call(a,u);for(var f=0;f<a.length;f++)if(u(a[f]))return a[f]}jr.find=t;function r(a,u){for(var f=[],d,h,g=0;g<a.length;g++)d=a[g],g>0&&u(d,a[g-1])?(h=f[f.length-1],h.push(d)):f.push([d]);return f.map(function(p){return p.length===1?p[0]:p})}jr.groupConsecutiveElementsWhile=r;function o(a,u,f){for(var d={elements:[],sliceStartsAt:-1},h=u;h>=0&&f(a[h]);h--)d.sliceStartsAt=h,d.elements.unshift(a[h]);return d}jr.sliceFromReverseWhile=o;function l(a,u){return a.reduce(function(f,d,h){return f.push(d),h<a.length-1&&f.push(u),f},[])}return jr.intersperse=l,jr}var hg;function Ym(){if(hg)return qa;hg=1,Object.defineProperty(qa,"__esModule",{value:!0});var n=cs(),e=cS(),t=Fl(),r=qd(),o=function(){function l(){}return l.sanitize=function(a,u){var f={};if(!a||typeof a!="object")return f;var d=["bold","italic","underline","strike","code","blockquote","code-block","renderAsBlock"],h=["background","color"],g=a.font,p=a.size,b=a.link,y=a.script,w=a.list,E=a.header,S=a.align,R=a.direction,I=a.indent,j=a.mentions,z=a.mention,J=a.width,V=a.target,ne=a.rel,pe=a["code-block"],fe=d.concat(h,["font","size","link","script","list","header","align","direction","indent","mentions","mention","width","target","rel","code-block"]);if(d.forEach(function(D){var O=a[D];O&&(f[D]=!!O)}),h.forEach(function(D){var O=a[D];O&&(l.IsValidHexColor(O+"")||l.IsValidColorLiteral(O+"")||l.IsValidRGBColor(O+""))&&(f[D]=O)}),g&&l.IsValidFontName(g+"")&&(f.font=g),p&&l.IsValidSize(p+"")&&(f.size=p),J&&l.IsValidWidth(J+"")&&(f.width=J),b&&(f.link=r.OpLinkSanitizer.sanitize(b+"",u)),V&&l.isValidTarget(V)&&(f.target=V),ne&&l.IsValidRel(ne)&&(f.rel=ne),pe&&(l.IsValidLang(pe)?f["code-block"]=pe:f["code-block"]=!!pe),(y===n.ScriptType.Sub||n.ScriptType.Super===y)&&(f.script=y),(w===n.ListType.Bullet||w===n.ListType.Ordered||w===n.ListType.Checked||w===n.ListType.Unchecked)&&(f.list=w),Number(E)&&(f.header=Math.min(Number(E),6)),t.find([n.AlignType.Center,n.AlignType.Right,n.AlignType.Justify,n.AlignType.Left],function(D){return D===S})&&(f.align=S),R===n.DirectionType.Rtl&&(f.direction=R),I&&Number(I)&&(f.indent=Math.min(Number(I),30)),j&&z){var N=e.MentionSanitizer.sanitize(z,u);Object.keys(N).length>0&&(f.mentions=!!j,f.mention=z)}return Object.keys(a).reduce(function(D,O){return fe.indexOf(O)===-1&&(D[O]=a[O]),D},f)},l.IsValidHexColor=function(a){return!!a.match(/^#([0-9A-F]{6}|[0-9A-F]{3})$/i)},l.IsValidColorLiteral=function(a){return!!a.match(/^[a-z]{1,50}$/i)},l.IsValidRGBColor=function(a){var u=/^rgb\(((0|25[0-5]|2[0-4]\d|1\d\d|0?\d?\d),\s*){2}(0|25[0-5]|2[0-4]\d|1\d\d|0?\d?\d)\)$/i;return!!a.match(u)},l.IsValidFontName=function(a){return!!a.match(/^[a-z\s0-9\- ]{1,30}$/i)},l.IsValidSize=function(a){return!!a.match(/^[a-z0-9\-]{1,20}$/i)},l.IsValidWidth=function(a){return!!a.match(/^[0-9]*(px|em|%)?$/)},l.isValidTarget=function(a){return!!a.match(/^[_a-zA-Z0-9\-]{1,50}$/)},l.IsValidRel=function(a){return!!a.match(/^[a-zA-Z\s\-]{1,250}$/i)},l.IsValidLang=function(a){return typeof a=="boolean"?!0:!!a.match(/^[a-zA-Z\s\-\\\/\+]{1,50}$/i)},l}();return qa.OpAttributeSanitizer=o,qa}var Qs={},$a={},pg;function uS(){if(pg)return $a;pg=1,Object.defineProperty($a,"__esModule",{value:!0});function n(e){var t=`
`;if(e===t)return[e];var r=e.split(t);if(r.length===1)return r;var o=r.length-1;return r.reduce(function(l,a,u){return u!==o?a!==""?l=l.concat(a,t):l.push(t):a!==""&&l.push(a),l},[])}return $a.tokenizeWithNewLines=n,$a}var za={},gg;function Fd(){if(gg)return za;gg=1,Object.defineProperty(za,"__esModule",{value:!0});function n(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(e),l=0;l<t.length;l++){var a=t[l];if(a!=null)for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(o[u]=a[u])}return o}return za.assign=n,za}var mg;function fS(){if(mg)return Qs;mg=1;var n=Qs&&Qs.__importStar||function(l){if(l&&l.__esModule)return l;var a={};if(l!=null)for(var u in l)Object.hasOwnProperty.call(l,u)&&(a[u]=l[u]);return a.default=l,a};Object.defineProperty(Qs,"__esModule",{value:!0});var e=cs(),t=n(uS()),r=n(Fd()),o=function(){function l(){}return l.denormalize=function(a){if(!a||typeof a!="object")return[];if(typeof a.insert=="object"||a.insert===e.NewLine)return[a];var u=t.tokenizeWithNewLines(a.insert+"");if(u.length===1)return[a];var f=r.assign({},a,{insert:e.NewLine});return u.map(function(d){return d===e.NewLine?f:r.assign({},a,{insert:d})})},l}();return Qs.InsertOpDenormalizer=o,Qs}var vg;function dS(){if(vg)return Da;vg=1,Object.defineProperty(Da,"__esModule",{value:!0});var n=Pd(),e=cs(),t=Md(),r=Ym(),o=fS(),l=qd(),a=function(){function u(){}return u.convert=function(f,d){if(!Array.isArray(f))return[];for(var h=[].concat.apply([],f.map(o.InsertOpDenormalizer.denormalize)),g=[],p,b,y=0,w=h;y<w.length;y++){var E=w[y];E.insert&&(p=u.convertInsertVal(E.insert,d),p&&(b=r.OpAttributeSanitizer.sanitize(E.attributes,d),g.push(new n.DeltaInsertOp(p,b))))}return g},u.convertInsertVal=function(f,d){if(typeof f=="string")return new t.InsertDataQuill(e.DataType.Text,f);if(!f||typeof f!="object")return null;var h=Object.keys(f);return h.length?e.DataType.Image in f?new t.InsertDataQuill(e.DataType.Image,l.OpLinkSanitizer.sanitize(f[e.DataType.Image]+"",d)):e.DataType.Video in f?new t.InsertDataQuill(e.DataType.Video,l.OpLinkSanitizer.sanitize(f[e.DataType.Video]+"",d)):e.DataType.Formula in f?new t.InsertDataQuill(e.DataType.Formula,f[e.DataType.Formula]):new t.InsertDataCustom(h[0],f[h[0]]):null},u}();return Da.InsertOpsConverter=a,Da}var fl={},bg;function Xm(){return bg||(bg=1,function(n){var e=fl&&fl.__importStar||function(d){if(d&&d.__esModule)return d;var h={};if(d!=null)for(var g in d)Object.hasOwnProperty.call(d,g)&&(h[g]=d[g]);return h.default=d,h};Object.defineProperty(n,"__esModule",{value:!0});var t=Dd(),r=cs(),o=e(Fd()),l=e(Fl()),a=Ym(),u={serif:"font-family: Georgia, Times New Roman, serif",monospace:"font-family: Monaco, Courier New, monospace"};n.DEFAULT_INLINE_STYLES={font:function(d){return u[d]||"font-family:"+d},size:{small:"font-size: 0.75em",large:"font-size: 1.5em",huge:"font-size: 2.5em"},indent:function(d,h){var g=parseInt(d,10)*3,p=h.attributes.direction==="rtl"?"right":"left";return"padding-"+p+":"+g+"em"},direction:function(d,h){if(d==="rtl")return"direction:rtl"+(h.attributes.align?"":"; text-align:inherit")}};var f=function(){function d(h,g){this.op=h,this.options=o.assign({},{classPrefix:"ql",inlineStyles:void 0,encodeHtml:!0,listItemTag:"li",paragraphTag:"p"},g)}return d.prototype.prefixClass=function(h){return this.options.classPrefix?this.options.classPrefix+"-"+h:h+""},d.prototype.getHtml=function(){var h=this.getHtmlParts();return h.openingTag+h.content+h.closingTag},d.prototype.getHtmlParts=function(){var h=this;if(this.op.isJustNewline()&&!this.op.isContainerBlock())return{openingTag:"",closingTag:"",content:r.NewLine};var g=this.getTags(),p=this.getTagAttributes();!g.length&&p.length&&g.push("span");for(var b=[],y=[],w="img",E=function(j){return j===w&&!!h.op.attributes.link},S=0,R=g;S<R.length;S++){var I=R[S];E(I)&&b.push(t.makeStartTag("a",this.getLinkAttrs())),b.push(t.makeStartTag(I,p)),y.push(I==="img"?"":t.makeEndTag(I)),E(I)&&y.push(t.makeEndTag("a")),p=[]}return y.reverse(),{openingTag:b.join(""),content:this.getContent(),closingTag:y.join("")}},d.prototype.getContent=function(){if(this.op.isContainerBlock())return"";if(this.op.isMentions())return this.op.insert.value;var h=this.op.isFormula()||this.op.isText()?this.op.insert.value:"";return this.options.encodeHtml&&t.encodeHtml(h)||h},d.prototype.getCssClasses=function(){var h=this.op.attributes;if(this.options.inlineStyles)return[];var g=["indent","align","direction","font","size"];return this.options.allowBackgroundClasses&&g.push("background"),(this.getCustomCssClasses()||[]).concat(g.filter(function(p){return!!h[p]}).filter(function(p){return p==="background"?a.OpAttributeSanitizer.IsValidColorLiteral(h[p]):!0}).map(function(p){return p+"-"+h[p]}).concat(this.op.isFormula()?"formula":[]).concat(this.op.isVideo()?"video":[]).concat(this.op.isImage()?"image":[]).map(this.prefixClass.bind(this)))},d.prototype.getCssStyles=function(){var h=this,g=this.op.attributes,p=[["color"]];return(this.options.inlineStyles||!this.options.allowBackgroundClasses)&&p.push(["background","background-color"]),this.options.inlineStyles&&(p=p.concat([["indent"],["align","text-align"],["direction"],["font","font-family"],["size"]])),(this.getCustomCssStyles()||[]).concat(p.filter(function(b){return!!g[b[0]]}).map(function(b){var y=b[0],w=g[y],E=h.options.inlineStyles&&h.options.inlineStyles[y]||n.DEFAULT_INLINE_STYLES[y];if(typeof E=="object")return E[w];if(typeof E=="function"){var S=E;return S(w,h.op)}else return l.preferSecond(b)+":"+w})).filter(function(b){return b!==void 0})},d.prototype.getTagAttributes=function(){if(this.op.attributes.code&&!this.op.isLink())return[];var h=this.makeAttr.bind(this),g=this.getCustomTagAttributes(),p=g?Object.keys(this.getCustomTagAttributes()).map(function(S){return h(S,g[S])}):[],b=this.getCssClasses(),y=b.length?p.concat([h("class",b.join(" "))]):p;if(this.op.isImage())return this.op.attributes.width&&(y=y.concat(h("width",this.op.attributes.width))),y.concat(h("src",this.op.insert.value));if(this.op.isACheckList())return y.concat(h("data-checked",this.op.isCheckedList()?"true":"false"));if(this.op.isFormula())return y;if(this.op.isVideo())return y.concat(h("frameborder","0"),h("allowfullscreen","true"),h("src",this.op.insert.value));if(this.op.isMentions()){var w=this.op.attributes.mention;return w.class&&(y=y.concat(h("class",w.class))),w["end-point"]&&w.slug?y=y.concat(h("href",w["end-point"]+"/"+w.slug)):y=y.concat(h("href","about:blank")),w.target&&(y=y.concat(h("target",w.target))),y}var E=this.getCssStyles();return E.length&&y.push(h("style",E.join(";"))),this.op.isCodeBlock()&&typeof this.op.attributes["code-block"]=="string"?y.concat(h("data-language",this.op.attributes["code-block"])):(this.op.isContainerBlock()||this.op.isLink()&&(y=y.concat(this.getLinkAttrs())),y)},d.prototype.makeAttr=function(h,g){return{key:h,value:g}},d.prototype.getLinkAttrs=function(){var h=[],g=a.OpAttributeSanitizer.isValidTarget(this.options.linkTarget||"")?this.options.linkTarget:void 0,p=a.OpAttributeSanitizer.IsValidRel(this.options.linkRel||"")?this.options.linkRel:void 0,b=this.op.attributes.target||g,y=this.op.attributes.rel||p;return h.concat(this.makeAttr("href",this.op.attributes.link)).concat(b?this.makeAttr("target",b):[]).concat(y?this.makeAttr("rel",y):[])},d.prototype.getCustomTag=function(h){if(this.options.customTag&&typeof this.options.customTag=="function")return this.options.customTag.apply(null,[h,this.op])},d.prototype.getCustomTagAttributes=function(){if(this.options.customTagAttributes&&typeof this.options.customTagAttributes=="function")return this.options.customTagAttributes.apply(null,[this.op])},d.prototype.getCustomCssClasses=function(){if(this.options.customCssClasses&&typeof this.options.customCssClasses=="function"){var h=this.options.customCssClasses.apply(null,[this.op]);if(h)return Array.isArray(h)?h:[h]}},d.prototype.getCustomCssStyles=function(){if(this.options.customCssStyles&&typeof this.options.customCssStyles=="function"){var h=this.options.customCssStyles.apply(null,[this.op]);if(h)return Array.isArray(h)?h:[h]}},d.prototype.getTags=function(){var h=this,g=this.op.attributes;if(!this.op.isText())return[this.op.isVideo()?"iframe":this.op.isImage()?"img":"span"];for(var p=this.options.paragraphTag||"p",b=[["blockquote"],["code-block","pre"],["list",this.options.listItemTag],["header"],["align",p],["direction",p],["indent",p]],y=0,w=b;y<w.length;y++){var E=w[y],S=E[0];if(g[S]){var R=this.getCustomTag(S);return R?[R]:S==="header"?["h"+g[S]]:[l.preferSecond(E)]}}if(this.op.isCustomTextBlock()){var R=this.getCustomTag("renderAsBlock");return R?[R]:[p]}var I=Object.keys(g).reduce(function(z,J){var V=h.getCustomTag(J);return V&&(z[J]=V),z},{}),j=[["link","a"],["mentions","a"],["script"],["bold","strong"],["italic","em"],["strike","s"],["underline","u"],["code"]];return j.filter(function(z){return!!g[z[0]]}).concat(Object.keys(I).filter(function(z){return!j.some(function(J){return J[0]==z})}).map(function(z){return[z,I[z]]})).map(function(z){return I[z[0]]?I[z[0]]:z[0]==="script"?g[z[0]]===r.ScriptType.Sub?"sub":"sup":l.preferSecond(z)})},d}();n.OpToHtmlConverter=f}(fl)),fl}var Ua={},nn={},xg;function Hl(){if(xg)return nn;xg=1;var n=nn&&nn.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,b){p.__proto__=b}||function(p,b){for(var y in b)b.hasOwnProperty(y)&&(p[y]=b[y])};return function(p,b){g(p,b);function y(){this.constructor=p}p.prototype=b===null?Object.create(b):(y.prototype=b.prototype,new y)}}();Object.defineProperty(nn,"__esModule",{value:!0});var e=function(){function g(p){this.ops=p}return g}();nn.InlineGroup=e;var t=function(){function g(p){this.op=p}return g}(),r=function(g){n(p,g);function p(){return g!==null&&g.apply(this,arguments)||this}return p}(t);nn.VideoItem=r;var o=function(g){n(p,g);function p(){return g!==null&&g.apply(this,arguments)||this}return p}(t);nn.BlotBlock=o;var l=function(){function g(p,b){this.op=p,this.ops=b}return g}();nn.BlockGroup=l;var a=function(){function g(p){this.items=p}return g}();nn.ListGroup=a;var u=function(){function g(p,b){b===void 0&&(b=null),this.item=p,this.innerList=b}return g}();nn.ListItem=u;var f=function(){function g(p){this.rows=p}return g}();nn.TableGroup=f;var d=function(){function g(p){this.cells=p}return g}();nn.TableRow=d;var h=function(){function g(p){this.item=p}return g}();return nn.TableCell=h,nn}var yg;function hS(){if(yg)return Ua;yg=1,Object.defineProperty(Ua,"__esModule",{value:!0});var n=Pd(),e=Fl(),t=Hl(),r=function(){function o(){}return o.pairOpsWithTheirBlock=function(l){for(var a=[],u=function(b){return!(b.isJustNewline()||b.isCustomEmbedBlock()||b.isVideo()||b.isContainerBlock())},f=function(b){return b.isInline()},d=l.length-1,h,g=d;g>=0;g--){var p=l[g];p.isVideo()?a.push(new t.VideoItem(p)):p.isCustomEmbedBlock()?a.push(new t.BlotBlock(p)):p.isContainerBlock()?(h=e.sliceFromReverseWhile(l,g-1,u),a.push(new t.BlockGroup(p,h.elements)),g=h.sliceStartsAt>-1?h.sliceStartsAt:g):(h=e.sliceFromReverseWhile(l,g-1,f),a.push(new t.InlineGroup(h.elements.concat(p))),g=h.sliceStartsAt>-1?h.sliceStartsAt:g)}return a.reverse(),a},o.groupConsecutiveSameStyleBlocks=function(l,a){return a===void 0&&(a={header:!0,codeBlocks:!0,blockquotes:!0,customBlocks:!0}),e.groupConsecutiveElementsWhile(l,function(u,f){return!(u instanceof t.BlockGroup)||!(f instanceof t.BlockGroup)?!1:a.codeBlocks&&o.areBothCodeblocksWithSameLang(u,f)||a.blockquotes&&o.areBothBlockquotesWithSameAdi(u,f)||a.header&&o.areBothSameHeadersWithSameAdi(u,f)||a.customBlocks&&o.areBothCustomBlockWithSameAttr(u,f)})},o.reduceConsecutiveSameStyleBlocksToOne=function(l){var a=n.DeltaInsertOp.createNewLineOp();return l.map(function(u){if(!Array.isArray(u))return u instanceof t.BlockGroup&&!u.ops.length&&u.ops.push(a),u;var f=u.length-1;return u[0].ops=e.flatten(u.map(function(d,h){return d.ops.length?d.ops.concat(h<f?[a]:[]):[a]})),u[0]})},o.areBothCodeblocksWithSameLang=function(l,a){return l.op.isCodeBlock()&&a.op.isCodeBlock()&&l.op.hasSameLangAs(a.op)},o.areBothSameHeadersWithSameAdi=function(l,a){return l.op.isSameHeaderAs(a.op)&&l.op.hasSameAdiAs(a.op)},o.areBothBlockquotesWithSameAdi=function(l,a){return l.op.isBlockquote()&&a.op.isBlockquote()&&l.op.hasSameAdiAs(a.op)},o.areBothCustomBlockWithSameAttr=function(l,a){return l.op.isCustomTextBlock()&&a.op.isCustomTextBlock()&&l.op.hasSameAttr(a.op)},o}();return Ua.Grouper=r,Ua}var Wa={},wg;function pS(){if(wg)return Wa;wg=1,Object.defineProperty(Wa,"__esModule",{value:!0});var n=Hl(),e=Fl(),t=function(){function r(){}return r.prototype.nest=function(o){var l=this,a=this.convertListBlocksToListGroups(o),u=this.groupConsecutiveListGroups(a),f=e.flatten(u.map(function(h){return Array.isArray(h)?l.nestListSection(h):h})),d=e.groupConsecutiveElementsWhile(f,function(h,g){return h instanceof n.ListGroup&&g instanceof n.ListGroup?h.items[0].item.op.isSameListAs(g.items[0].item.op):!1});return d.map(function(h){if(!Array.isArray(h))return h;var g=h.map(function(p){return p.items});return new n.ListGroup(e.flatten(g))})},r.prototype.convertListBlocksToListGroups=function(o){var l=e.groupConsecutiveElementsWhile(o,function(a,u){return a instanceof n.BlockGroup&&u instanceof n.BlockGroup&&a.op.isList()&&u.op.isList()&&a.op.isSameListAs(u.op)&&a.op.hasSameIndentationAs(u.op)});return l.map(function(a){return Array.isArray(a)?new n.ListGroup(a.map(function(u){return new n.ListItem(u)})):a instanceof n.BlockGroup&&a.op.isList()?new n.ListGroup([new n.ListItem(a)]):a})},r.prototype.groupConsecutiveListGroups=function(o){return e.groupConsecutiveElementsWhile(o,function(l,a){return l instanceof n.ListGroup&&a instanceof n.ListGroup})},r.prototype.nestListSection=function(o){var l=this,a=this.groupByIndent(o);return Object.keys(a).map(Number).sort().reverse().forEach(function(u){a[u].forEach(function(f){var d=o.indexOf(f);l.placeUnderParent(f,o.slice(0,d))&&o.splice(d,1)})}),o},r.prototype.groupByIndent=function(o){return o.reduce(function(l,a){var u=a.items[0].item.op.attributes.indent;return u&&(l[u]=l[u]||[],l[u].push(a)),l},{})},r.prototype.placeUnderParent=function(o,l){for(var a=l.length-1;a>=0;a--){var u=l[a];if(o.items[0].item.op.hasHigherIndentThan(u.items[0].item.op)){var f=u.items[u.items.length-1];return f.innerList?f.innerList.items=f.innerList.items.concat(o.items):f.innerList=o,!0}}return!1},r}();return Wa.ListNester=t,Wa}var Va={},Cg;function gS(){if(Cg)return Va;Cg=1,Object.defineProperty(Va,"__esModule",{value:!0});var n=Hl(),e=Fl(),t=function(){function r(){}return r.prototype.group=function(o){var l=this.convertTableBlocksToTableGroups(o);return l},r.prototype.convertTableBlocksToTableGroups=function(o){var l=this,a=e.groupConsecutiveElementsWhile(o,function(u,f){return u instanceof n.BlockGroup&&f instanceof n.BlockGroup&&u.op.isTable()&&f.op.isTable()});return a.map(function(u){return Array.isArray(u)?new n.TableGroup(l.convertTableBlocksToTableRows(u)):u instanceof n.BlockGroup&&u.op.isTable()?new n.TableGroup([new n.TableRow([new n.TableCell(u)])]):u})},r.prototype.convertTableBlocksToTableRows=function(o){var l=e.groupConsecutiveElementsWhile(o,function(a,u){return a instanceof n.BlockGroup&&u instanceof n.BlockGroup&&a.op.isTable()&&u.op.isTable()&&a.op.isSameTableRowAs(u.op)});return l.map(function(a){return new n.TableRow(Array.isArray(a)?a.map(function(u){return new n.TableCell(u)}):[new n.TableCell(a)])})},r}();return Va.TableGrouper=t,Va}var Eg;function mS(){if(Eg)return Ys;Eg=1;var n=Ys&&Ys.__importStar||function(p){if(p&&p.__esModule)return p;var b={};if(p!=null)for(var y in p)Object.hasOwnProperty.call(p,y)&&(b[y]=p[y]);return b.default=p,b};Object.defineProperty(Ys,"__esModule",{value:!0});var e=dS(),t=Xm(),r=hS(),o=Hl(),l=pS(),a=Dd(),u=n(Fd()),f=cs(),d=gS(),h="<br/>",g=function(){function p(b,y){this.rawDeltaOps=[],this.callbacks={},this.options=u.assign({paragraphTag:"p",encodeHtml:!0,classPrefix:"ql",inlineStyles:!1,multiLineBlockquote:!0,multiLineHeader:!0,multiLineCodeblock:!0,multiLineParagraph:!0,multiLineCustomBlock:!0,allowBackgroundClasses:!1,linkTarget:"_blank"},y,{orderedListTag:"ol",bulletListTag:"ul",listItemTag:"li"});var w;this.options.inlineStyles?typeof this.options.inlineStyles=="object"?w=this.options.inlineStyles:w={}:w=void 0,this.converterOptions={encodeHtml:this.options.encodeHtml,classPrefix:this.options.classPrefix,inlineStyles:w,listItemTag:this.options.listItemTag,paragraphTag:this.options.paragraphTag,linkRel:this.options.linkRel,linkTarget:this.options.linkTarget,allowBackgroundClasses:this.options.allowBackgroundClasses,customTag:this.options.customTag,customTagAttributes:this.options.customTagAttributes,customCssClasses:this.options.customCssClasses,customCssStyles:this.options.customCssStyles},this.rawDeltaOps=b}return p.prototype._getListTag=function(b){return b.isOrderedList()?this.options.orderedListTag+"":b.isBulletList()?this.options.bulletListTag+"":b.isCheckedList()?this.options.bulletListTag+"":b.isUncheckedList()?this.options.bulletListTag+"":""},p.prototype.getGroupedOps=function(){var b=e.InsertOpsConverter.convert(this.rawDeltaOps,this.options),y=r.Grouper.pairOpsWithTheirBlock(b),w=r.Grouper.groupConsecutiveSameStyleBlocks(y,{blockquotes:!!this.options.multiLineBlockquote,header:!!this.options.multiLineHeader,codeBlocks:!!this.options.multiLineCodeblock,customBlocks:!!this.options.multiLineCustomBlock}),E=r.Grouper.reduceConsecutiveSameStyleBlocksToOne(w),S=new d.TableGrouper;E=S.group(E);var R=new l.ListNester;return R.nest(E)},p.prototype.convert=function(){var b=this,y=this.getGroupedOps();return y.map(function(w){if(w instanceof o.ListGroup)return b._renderWithCallbacks(f.GroupType.List,w,function(){return b._renderList(w)});if(w instanceof o.TableGroup)return b._renderWithCallbacks(f.GroupType.Table,w,function(){return b._renderTable(w)});if(w instanceof o.BlockGroup){var E=w;return b._renderWithCallbacks(f.GroupType.Block,w,function(){return b._renderBlock(E.op,E.ops)})}else return w instanceof o.BlotBlock?b._renderCustom(w.op,null):w instanceof o.VideoItem?b._renderWithCallbacks(f.GroupType.Video,w,function(){var S=w,R=new t.OpToHtmlConverter(S.op,b.converterOptions);return R.getHtml()}):b._renderWithCallbacks(f.GroupType.InlineGroup,w,function(){return b._renderInlines(w.ops,!0)})}).join("")},p.prototype._renderWithCallbacks=function(b,y,w){var E="",S=this.callbacks.beforeRender_cb;E=typeof S=="function"?S.apply(null,[b,y]):"",E||(E=w());var R=this.callbacks.afterRender_cb;return E=typeof R=="function"?R.apply(null,[b,E]):E,E},p.prototype._renderList=function(b){var y=this,w=b.items[0];return a.makeStartTag(this._getListTag(w.item.op))+b.items.map(function(E){return y._renderListItem(E)}).join("")+a.makeEndTag(this._getListTag(w.item.op))},p.prototype._renderListItem=function(b){b.item.op.attributes.indent=0;var y=new t.OpToHtmlConverter(b.item.op,this.converterOptions),w=y.getHtmlParts(),E=this._renderInlines(b.item.ops,!1);return w.openingTag+E+(b.innerList?this._renderList(b.innerList):"")+w.closingTag},p.prototype._renderTable=function(b){var y=this;return a.makeStartTag("table")+a.makeStartTag("tbody")+b.rows.map(function(w){return y._renderTableRow(w)}).join("")+a.makeEndTag("tbody")+a.makeEndTag("table")},p.prototype._renderTableRow=function(b){var y=this;return a.makeStartTag("tr")+b.cells.map(function(w){return y._renderTableCell(w)}).join("")+a.makeEndTag("tr")},p.prototype._renderTableCell=function(b){var y=new t.OpToHtmlConverter(b.item.op,this.converterOptions),w=y.getHtmlParts(),E=this._renderInlines(b.item.ops,!1);return a.makeStartTag("td",{key:"data-row",value:b.item.op.attributes.table})+w.openingTag+E+w.closingTag+a.makeEndTag("td")},p.prototype._renderBlock=function(b,y){var w=this,E=new t.OpToHtmlConverter(b,this.converterOptions),S=E.getHtmlParts();if(b.isCodeBlock())return S.openingTag+a.encodeHtml(y.map(function(I){return I.isCustomEmbed()?w._renderCustom(I,b):I.insert.value}).join(""))+S.closingTag;var R=y.map(function(I){return w._renderInline(I,b)}).join("");return S.openingTag+(R||h)+S.closingTag},p.prototype._renderInlines=function(b,y){var w=this;y===void 0&&(y=!0);var E=b.length-1,S=b.map(function(j,z){return z>0&&z===E&&j.isJustNewline()?"":w._renderInline(j,null)}).join("");if(!y)return S;var R=a.makeStartTag(this.options.paragraphTag),I=a.makeEndTag(this.options.paragraphTag);return S===h||this.options.multiLineParagraph?R+S+I:R+S.split(h).map(function(j){return j===""?h:j}).join(I+R)+I},p.prototype._renderInline=function(b,y){if(b.isCustomEmbed())return this._renderCustom(b,y);var w=new t.OpToHtmlConverter(b,this.converterOptions);return w.getHtml().replace(/\n/g,h)},p.prototype._renderCustom=function(b,y){var w=this.callbacks.renderCustomOp_cb;return typeof w=="function"?w.apply(null,[b,y]):""},p.prototype.beforeRender=function(b){typeof b=="function"&&(this.callbacks.beforeRender_cb=b)},p.prototype.afterRender=function(b){typeof b=="function"&&(this.callbacks.afterRender_cb=b)},p.prototype.renderCustomWith=function(b){this.callbacks.renderCustomOp_cb=b},p}();return Ys.QuillDeltaToHtmlConverter=g,Ys}var Ag;function vS(){if(Ag)return wt;Ag=1,Object.defineProperty(wt,"__esModule",{value:!0});var n=mS();wt.QuillDeltaToHtmlConverter=n.QuillDeltaToHtmlConverter;var e=Xm();wt.OpToHtmlConverter=e.OpToHtmlConverter;var t=Hl();wt.InlineGroup=t.InlineGroup,wt.VideoItem=t.VideoItem,wt.BlockGroup=t.BlockGroup,wt.ListGroup=t.ListGroup,wt.ListItem=t.ListItem,wt.BlotBlock=t.BlotBlock;var r=Pd();wt.DeltaInsertOp=r.DeltaInsertOp;var o=Md();wt.InsertDataQuill=o.InsertDataQuill,wt.InsertDataCustom=o.InsertDataCustom;var l=cs();return wt.NewLine=l.NewLine,wt.ListType=l.ListType,wt.ScriptType=l.ScriptType,wt.DirectionType=l.DirectionType,wt.AlignType=l.AlignType,wt.DataType=l.DataType,wt.GroupType=l.GroupType,wt}var bS=vS();const _g=[{id:"global",txtLabel:"Global Font"},{id:"aria",txtLabel:"Aria"},{id:"verdana",txtLabel:"Verdana"},{id:"tahoma",txtLabel:"Tahoma"},{id:"trebuchet-ms",txtLabel:"Trebuchet MS"},{id:"times-new-roman",txtLabel:"Times New Roman"},{id:"georgia",txtLabel:"Georgia"},{id:"garamond",txtLabel:"Garamond"},{id:"courier-new",txtLabel:"Courier New"},{id:"brush-script-mt",txtLabel:"Brush Script MT"}],Tg=[{id:"aria",txtLabel:"Aria"},{id:"verdana",txtLabel:"Verdana"},{id:"tahoma",txtLabel:"Tahoma"},{id:"trebuchet-ms",txtLabel:"Trebuchet MS"},{id:"times-new-roman",txtLabel:"Times New Roman"},{id:"georgia",txtLabel:"Georgia"},{id:"garamond",txtLabel:"Garamond"},{id:"courier-new",txtLabel:"Courier New"},{id:"brush-script-mt",txtLabel:"Brush Script MT"}],po={aria:"Arial, sans-serif",verdana:"Verdana, sans-serif",tahoma:"Tahoma, sans-serif","trebuchet-ms":"'Trebuchet MS', sans-serif","times-new-roman":"'Times New Roman', serif",georgia:"Georgia, serif",garamond:"Garamond, serif","courier-new":"'Courier New', monospace","brush-script-mt":"'Brush Script MT', cursive"};var Jm=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,xS=typeof self=="object"&&self&&self.Object===Object&&self,gr=Jm||xS||Function("return this")(),_i=gr.Symbol,Qm=Object.prototype,yS=Qm.hasOwnProperty,wS=Qm.toString,dl=_i?_i.toStringTag:void 0;function CS(n){var e=yS.call(n,dl),t=n[dl];try{n[dl]=void 0;var r=!0}catch{}var o=wS.call(n);return r&&(e?n[dl]=t:delete n[dl]),o}var ES=Object.prototype,AS=ES.toString;function _S(n){return AS.call(n)}var TS="[object Null]",SS="[object Undefined]",Sg=_i?_i.toStringTag:void 0;function Eo(n){return n==null?n===void 0?SS:TS:Sg&&Sg in Object(n)?CS(n):_S(n)}function zr(n){return n!=null&&typeof n=="object"}var ss=Array.isArray;function Si(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function ev(n){return n}var LS="[object AsyncFunction]",NS="[object Function]",RS="[object GeneratorFunction]",kS="[object Proxy]";function Hd(n){if(!Si(n))return!1;var e=Eo(n);return e==NS||e==RS||e==LS||e==kS}var bf=gr["__core-js_shared__"],Lg=function(){var n=/[^.]+$/.exec(bf&&bf.keys&&bf.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function IS(n){return!!Lg&&Lg in n}var OS=Function.prototype,BS=OS.toString;function us(n){if(n!=null){try{return BS.call(n)}catch{}try{return n+""}catch{}}return""}var MS=/[\\^$.*+?()[\]{}|]/g,jS=/^\[object .+?Constructor\]$/,PS=Function.prototype,DS=Object.prototype,qS=PS.toString,FS=DS.hasOwnProperty,HS=RegExp("^"+qS.call(FS).replace(MS,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $S(n){if(!Si(n)||IS(n))return!1;var e=Hd(n)?HS:jS;return e.test(us(n))}function zS(n,e){return n?.[e]}function fs(n,e){var t=zS(n,e);return $S(t)?t:void 0}var Uf=fs(gr,"WeakMap"),Ng=Object.create,US=function(){function n(){}return function(e){if(!Si(e))return{};if(Ng)return Ng(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();function WS(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function VS(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var GS=800,ZS=16,KS=Date.now;function YS(n){var e=0,t=0;return function(){var r=KS(),o=ZS-(r-t);if(t=r,o>0){if(++e>=GS)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function XS(n){return function(){return n}}var Ac=function(){try{var n=fs(Object,"defineProperty");return n({},"",{}),n}catch{}}(),JS=Ac?function(n,e){return Ac(n,"toString",{configurable:!0,enumerable:!1,value:XS(e),writable:!0})}:ev,QS=YS(JS);function e4(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var t4=9007199254740991,n4=/^(?:0|[1-9]\d*)$/;function tv(n,e){var t=typeof n;return e=e??t4,!!e&&(t=="number"||t!="symbol"&&n4.test(n))&&n>-1&&n%1==0&&n<e}function $d(n,e,t){e=="__proto__"&&Ac?Ac(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function $l(n,e){return n===e||n!==n&&e!==e}var r4=Object.prototype,i4=r4.hasOwnProperty;function nv(n,e,t){var r=n[e];(!(i4.call(n,e)&&$l(r,t))||t===void 0&&!(e in n))&&$d(n,e,t)}function s4(n,e,t,r){var o=!t;t||(t={});for(var l=-1,a=e.length;++l<a;){var u=e[l],f=void 0;f===void 0&&(f=n[u]),o?$d(t,u,f):nv(t,u,f)}return t}var Rg=Math.max;function o4(n,e,t){return e=Rg(e===void 0?n.length-1:e,0),function(){for(var r=arguments,o=-1,l=Rg(r.length-e,0),a=Array(l);++o<l;)a[o]=r[e+o];o=-1;for(var u=Array(e+1);++o<e;)u[o]=r[o];return u[e]=t(a),WS(n,this,u)}}function l4(n,e){return QS(o4(n,e,ev),n+"")}var a4=9007199254740991;function rv(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=a4}function Vc(n){return n!=null&&rv(n.length)&&!Hd(n)}function c4(n,e,t){if(!Si(t))return!1;var r=typeof e;return(r=="number"?Vc(t)&&tv(e,t.length):r=="string"&&e in t)?$l(t[e],n):!1}function u4(n){return l4(function(e,t){var r=-1,o=t.length,l=o>1?t[o-1]:void 0,a=o>2?t[2]:void 0;for(l=n.length>3&&typeof l=="function"?(o--,l):void 0,a&&c4(t[0],t[1],a)&&(l=o<3?void 0:l,o=1),e=Object(e);++r<o;){var u=t[r];u&&n(e,u,r,l)}return e})}var f4=Object.prototype;function zd(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||f4;return n===t}function d4(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var h4="[object Arguments]";function kg(n){return zr(n)&&Eo(n)==h4}var iv=Object.prototype,p4=iv.hasOwnProperty,g4=iv.propertyIsEnumerable,Wf=kg(function(){return arguments}())?kg:function(n){return zr(n)&&p4.call(n,"callee")&&!g4.call(n,"callee")};function m4(){return!1}var sv=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ig=sv&&typeof module=="object"&&module&&!module.nodeType&&module,v4=Ig&&Ig.exports===sv,Og=v4?gr.Buffer:void 0,b4=Og?Og.isBuffer:void 0,Ll=b4||m4,x4="[object Arguments]",y4="[object Array]",w4="[object Boolean]",C4="[object Date]",E4="[object Error]",A4="[object Function]",_4="[object Map]",T4="[object Number]",S4="[object Object]",L4="[object RegExp]",N4="[object Set]",R4="[object String]",k4="[object WeakMap]",I4="[object ArrayBuffer]",O4="[object DataView]",B4="[object Float32Array]",M4="[object Float64Array]",j4="[object Int8Array]",P4="[object Int16Array]",D4="[object Int32Array]",q4="[object Uint8Array]",F4="[object Uint8ClampedArray]",H4="[object Uint16Array]",$4="[object Uint32Array]",ft={};ft[B4]=ft[M4]=ft[j4]=ft[P4]=ft[D4]=ft[q4]=ft[F4]=ft[H4]=ft[$4]=!0;ft[x4]=ft[y4]=ft[I4]=ft[w4]=ft[O4]=ft[C4]=ft[E4]=ft[A4]=ft[_4]=ft[T4]=ft[S4]=ft[L4]=ft[N4]=ft[R4]=ft[k4]=!1;function z4(n){return zr(n)&&rv(n.length)&&!!ft[Eo(n)]}function Ud(n){return function(e){return n(e)}}var ov=typeof exports=="object"&&exports&&!exports.nodeType&&exports,wl=ov&&typeof module=="object"&&module&&!module.nodeType&&module,U4=wl&&wl.exports===ov,xf=U4&&Jm.process,yo=function(){try{var n=wl&&wl.require&&wl.require("util").types;return n||xf&&xf.binding&&xf.binding("util")}catch{}}(),Bg=yo&&yo.isTypedArray,Wd=Bg?Ud(Bg):z4,W4=Object.prototype,V4=W4.hasOwnProperty;function lv(n,e){var t=ss(n),r=!t&&Wf(n),o=!t&&!r&&Ll(n),l=!t&&!r&&!o&&Wd(n),a=t||r||o||l,u=a?d4(n.length,String):[],f=u.length;for(var d in n)(e||V4.call(n,d))&&!(a&&(d=="length"||o&&(d=="offset"||d=="parent")||l&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||tv(d,f)))&&u.push(d);return u}function av(n,e){return function(t){return n(e(t))}}var G4=av(Object.keys,Object),Z4=Object.prototype,K4=Z4.hasOwnProperty;function Y4(n){if(!zd(n))return G4(n);var e=[];for(var t in Object(n))K4.call(n,t)&&t!="constructor"&&e.push(t);return e}function X4(n){return Vc(n)?lv(n):Y4(n)}function J4(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var Q4=Object.prototype,eL=Q4.hasOwnProperty;function tL(n){if(!Si(n))return J4(n);var e=zd(n),t=[];for(var r in n)r=="constructor"&&(e||!eL.call(n,r))||t.push(r);return t}function cv(n){return Vc(n)?lv(n,!0):tL(n)}var Nl=fs(Object,"create");function nL(){this.__data__=Nl?Nl(null):{},this.size=0}function rL(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var iL="__lodash_hash_undefined__",sL=Object.prototype,oL=sL.hasOwnProperty;function lL(n){var e=this.__data__;if(Nl){var t=e[n];return t===iL?void 0:t}return oL.call(e,n)?e[n]:void 0}var aL=Object.prototype,cL=aL.hasOwnProperty;function uL(n){var e=this.__data__;return Nl?e[n]!==void 0:cL.call(e,n)}var fL="__lodash_hash_undefined__";function dL(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Nl&&e===void 0?fL:e,this}function os(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}os.prototype.clear=nL;os.prototype.delete=rL;os.prototype.get=lL;os.prototype.has=uL;os.prototype.set=dL;function hL(){this.__data__=[],this.size=0}function Gc(n,e){for(var t=n.length;t--;)if($l(n[t][0],e))return t;return-1}var pL=Array.prototype,gL=pL.splice;function mL(n){var e=this.__data__,t=Gc(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():gL.call(e,t,1),--this.size,!0}function vL(n){var e=this.__data__,t=Gc(e,n);return t<0?void 0:e[t][1]}function bL(n){return Gc(this.__data__,n)>-1}function xL(n,e){var t=this.__data__,r=Gc(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function Wr(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Wr.prototype.clear=hL;Wr.prototype.delete=mL;Wr.prototype.get=vL;Wr.prototype.has=bL;Wr.prototype.set=xL;var Rl=fs(gr,"Map");function yL(){this.size=0,this.__data__={hash:new os,map:new(Rl||Wr),string:new os}}function wL(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function Zc(n,e){var t=n.__data__;return wL(e)?t[typeof e=="string"?"string":"hash"]:t.map}function CL(n){var e=Zc(this,n).delete(n);return this.size-=e?1:0,e}function EL(n){return Zc(this,n).get(n)}function AL(n){return Zc(this,n).has(n)}function _L(n,e){var t=Zc(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function ds(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}ds.prototype.clear=yL;ds.prototype.delete=CL;ds.prototype.get=EL;ds.prototype.has=AL;ds.prototype.set=_L;function TL(n,e){for(var t=-1,r=e.length,o=n.length;++t<r;)n[o+t]=e[t];return n}var uv=av(Object.getPrototypeOf,Object),SL="[object Object]",LL=Function.prototype,NL=Object.prototype,fv=LL.toString,RL=NL.hasOwnProperty,kL=fv.call(Object);function IL(n){if(!zr(n)||Eo(n)!=SL)return!1;var e=uv(n);if(e===null)return!0;var t=RL.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&fv.call(t)==kL}function OL(){this.__data__=new Wr,this.size=0}function BL(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function ML(n){return this.__data__.get(n)}function jL(n){return this.__data__.has(n)}var PL=200;function DL(n,e){var t=this.__data__;if(t instanceof Wr){var r=t.__data__;if(!Rl||r.length<PL-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new ds(r)}return t.set(n,e),this.size=t.size,this}function dr(n){var e=this.__data__=new Wr(n);this.size=e.size}dr.prototype.clear=OL;dr.prototype.delete=BL;dr.prototype.get=ML;dr.prototype.has=jL;dr.prototype.set=DL;var dv=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Mg=dv&&typeof module=="object"&&module&&!module.nodeType&&module,qL=Mg&&Mg.exports===dv,jg=qL?gr.Buffer:void 0,Pg=jg?jg.allocUnsafe:void 0;function hv(n,e){if(e)return n.slice();var t=n.length,r=Pg?Pg(t):new n.constructor(t);return n.copy(r),r}function FL(n,e){for(var t=-1,r=n==null?0:n.length,o=0,l=[];++t<r;){var a=n[t];e(a,t,n)&&(l[o++]=a)}return l}function HL(){return[]}var $L=Object.prototype,zL=$L.propertyIsEnumerable,Dg=Object.getOwnPropertySymbols,UL=Dg?function(n){return n==null?[]:(n=Object(n),FL(Dg(n),function(e){return zL.call(n,e)}))}:HL;function WL(n,e,t){var r=e(n);return ss(n)?r:TL(r,t(n))}function Vf(n){return WL(n,X4,UL)}var Gf=fs(gr,"DataView"),Zf=fs(gr,"Promise"),Kf=fs(gr,"Set"),qg="[object Map]",VL="[object Object]",Fg="[object Promise]",Hg="[object Set]",$g="[object WeakMap]",zg="[object DataView]",GL=us(Gf),ZL=us(Rl),KL=us(Zf),YL=us(Kf),XL=us(Uf),Vn=Eo;(Gf&&Vn(new Gf(new ArrayBuffer(1)))!=zg||Rl&&Vn(new Rl)!=qg||Zf&&Vn(Zf.resolve())!=Fg||Kf&&Vn(new Kf)!=Hg||Uf&&Vn(new Uf)!=$g)&&(Vn=function(n){var e=Eo(n),t=e==VL?n.constructor:void 0,r=t?us(t):"";if(r)switch(r){case GL:return zg;case ZL:return qg;case KL:return Fg;case YL:return Hg;case XL:return $g}return e});var JL=Object.prototype,QL=JL.hasOwnProperty;function e6(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&QL.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var _c=gr.Uint8Array;function Vd(n){var e=new n.constructor(n.byteLength);return new _c(e).set(new _c(n)),e}function t6(n,e){var t=Vd(n.buffer);return new n.constructor(t,n.byteOffset,n.byteLength)}var n6=/\w*$/;function r6(n){var e=new n.constructor(n.source,n6.exec(n));return e.lastIndex=n.lastIndex,e}var Ug=_i?_i.prototype:void 0,Wg=Ug?Ug.valueOf:void 0;function i6(n){return Wg?Object(Wg.call(n)):{}}function pv(n,e){var t=e?Vd(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var s6="[object Boolean]",o6="[object Date]",l6="[object Map]",a6="[object Number]",c6="[object RegExp]",u6="[object Set]",f6="[object String]",d6="[object Symbol]",h6="[object ArrayBuffer]",p6="[object DataView]",g6="[object Float32Array]",m6="[object Float64Array]",v6="[object Int8Array]",b6="[object Int16Array]",x6="[object Int32Array]",y6="[object Uint8Array]",w6="[object Uint8ClampedArray]",C6="[object Uint16Array]",E6="[object Uint32Array]";function A6(n,e,t){var r=n.constructor;switch(e){case h6:return Vd(n);case s6:case o6:return new r(+n);case p6:return t6(n);case g6:case m6:case v6:case b6:case x6:case y6:case w6:case C6:case E6:return pv(n,t);case l6:return new r;case a6:case f6:return new r(n);case c6:return r6(n);case u6:return new r;case d6:return i6(n)}}function gv(n){return typeof n.constructor=="function"&&!zd(n)?US(uv(n)):{}}var _6="[object Map]";function T6(n){return zr(n)&&Vn(n)==_6}var Vg=yo&&yo.isMap,S6=Vg?Ud(Vg):T6,L6="[object Set]";function N6(n){return zr(n)&&Vn(n)==L6}var Gg=yo&&yo.isSet,R6=Gg?Ud(Gg):N6,k6=1,mv="[object Arguments]",I6="[object Array]",O6="[object Boolean]",B6="[object Date]",M6="[object Error]",vv="[object Function]",j6="[object GeneratorFunction]",P6="[object Map]",D6="[object Number]",bv="[object Object]",q6="[object RegExp]",F6="[object Set]",H6="[object String]",$6="[object Symbol]",z6="[object WeakMap]",U6="[object ArrayBuffer]",W6="[object DataView]",V6="[object Float32Array]",G6="[object Float64Array]",Z6="[object Int8Array]",K6="[object Int16Array]",Y6="[object Int32Array]",X6="[object Uint8Array]",J6="[object Uint8ClampedArray]",Q6="[object Uint16Array]",e5="[object Uint32Array]",ct={};ct[mv]=ct[I6]=ct[U6]=ct[W6]=ct[O6]=ct[B6]=ct[V6]=ct[G6]=ct[Z6]=ct[K6]=ct[Y6]=ct[P6]=ct[D6]=ct[bv]=ct[q6]=ct[F6]=ct[H6]=ct[$6]=ct[X6]=ct[J6]=ct[Q6]=ct[e5]=!0;ct[M6]=ct[vv]=ct[z6]=!1;function cc(n,e,t,r,o,l){var a,u=e&k6;if(a!==void 0)return a;if(!Si(n))return n;var f=ss(n);if(f)a=e6(n);else{var d=Vn(n),h=d==vv||d==j6;if(Ll(n))return hv(n,u);if(d==bv||d==mv||h&&!o)a=h?{}:gv(n);else{if(!ct[d])return o?n:{};a=A6(n,d,u)}}l||(l=new dr);var g=l.get(n);if(g)return g;l.set(n,a),R6(n)?n.forEach(function(y){a.add(cc(y,e,t,y,n,l))}):S6(n)&&n.forEach(function(y,w){a.set(w,cc(y,e,t,w,n,l))});var p=Vf,b=f?void 0:p(n);return e4(b||n,function(y,w){b&&(w=y,y=n[w]),nv(a,w,cc(y,e,t,w,n,l))}),a}var t5=1,n5=4;function go(n){return cc(n,t5|n5)}var r5="__lodash_hash_undefined__";function i5(n){return this.__data__.set(n,r5),this}function s5(n){return this.__data__.has(n)}function Tc(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new ds;++e<t;)this.add(n[e])}Tc.prototype.add=Tc.prototype.push=i5;Tc.prototype.has=s5;function o5(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function l5(n,e){return n.has(e)}var a5=1,c5=2;function xv(n,e,t,r,o,l){var a=t&a5,u=n.length,f=e.length;if(u!=f&&!(a&&f>u))return!1;var d=l.get(n),h=l.get(e);if(d&&h)return d==e&&h==n;var g=-1,p=!0,b=t&c5?new Tc:void 0;for(l.set(n,e),l.set(e,n);++g<u;){var y=n[g],w=e[g];if(r)var E=a?r(w,y,g,e,n,l):r(y,w,g,n,e,l);if(E!==void 0){if(E)continue;p=!1;break}if(b){if(!o5(e,function(S,R){if(!l5(b,R)&&(y===S||o(y,S,t,r,l)))return b.push(R)})){p=!1;break}}else if(!(y===w||o(y,w,t,r,l))){p=!1;break}}return l.delete(n),l.delete(e),p}function u5(n){var e=-1,t=Array(n.size);return n.forEach(function(r,o){t[++e]=[o,r]}),t}function f5(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var d5=1,h5=2,p5="[object Boolean]",g5="[object Date]",m5="[object Error]",v5="[object Map]",b5="[object Number]",x5="[object RegExp]",y5="[object Set]",w5="[object String]",C5="[object Symbol]",E5="[object ArrayBuffer]",A5="[object DataView]",Zg=_i?_i.prototype:void 0,yf=Zg?Zg.valueOf:void 0;function _5(n,e,t,r,o,l,a){switch(t){case A5:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case E5:return!(n.byteLength!=e.byteLength||!l(new _c(n),new _c(e)));case p5:case g5:case b5:return $l(+n,+e);case m5:return n.name==e.name&&n.message==e.message;case x5:case w5:return n==e+"";case v5:var u=u5;case y5:var f=r&d5;if(u||(u=f5),n.size!=e.size&&!f)return!1;var d=a.get(n);if(d)return d==e;r|=h5,a.set(n,e);var h=xv(u(n),u(e),r,o,l,a);return a.delete(n),h;case C5:if(yf)return yf.call(n)==yf.call(e)}return!1}var T5=1,S5=Object.prototype,L5=S5.hasOwnProperty;function N5(n,e,t,r,o,l){var a=t&T5,u=Vf(n),f=u.length,d=Vf(e),h=d.length;if(f!=h&&!a)return!1;for(var g=f;g--;){var p=u[g];if(!(a?p in e:L5.call(e,p)))return!1}var b=l.get(n),y=l.get(e);if(b&&y)return b==e&&y==n;var w=!0;l.set(n,e),l.set(e,n);for(var E=a;++g<f;){p=u[g];var S=n[p],R=e[p];if(r)var I=a?r(R,S,p,e,n,l):r(S,R,p,n,e,l);if(!(I===void 0?S===R||o(S,R,t,r,l):I)){w=!1;break}E||(E=p=="constructor")}if(w&&!E){var j=n.constructor,z=e.constructor;j!=z&&"constructor"in n&&"constructor"in e&&!(typeof j=="function"&&j instanceof j&&typeof z=="function"&&z instanceof z)&&(w=!1)}return l.delete(n),l.delete(e),w}var R5=1,Kg="[object Arguments]",Yg="[object Array]",Ga="[object Object]",k5=Object.prototype,Xg=k5.hasOwnProperty;function I5(n,e,t,r,o,l){var a=ss(n),u=ss(e),f=a?Yg:Vn(n),d=u?Yg:Vn(e);f=f==Kg?Ga:f,d=d==Kg?Ga:d;var h=f==Ga,g=d==Ga,p=f==d;if(p&&Ll(n)){if(!Ll(e))return!1;a=!0,h=!1}if(p&&!h)return l||(l=new dr),a||Wd(n)?xv(n,e,t,r,o,l):_5(n,e,f,t,r,o,l);if(!(t&R5)){var b=h&&Xg.call(n,"__wrapped__"),y=g&&Xg.call(e,"__wrapped__");if(b||y){var w=b?n.value():n,E=y?e.value():e;return l||(l=new dr),o(w,E,t,r,l)}}return p?(l||(l=new dr),N5(n,e,t,r,o,l)):!1}function yv(n,e,t,r,o){return n===e?!0:n==null||e==null||!zr(n)&&!zr(e)?n!==n&&e!==e:I5(n,e,t,r,yv,o)}function O5(n){return function(e,t,r){for(var o=-1,l=Object(e),a=r(e),u=a.length;u--;){var f=a[++o];if(t(l[f],f,l)===!1)break}return e}}var B5=O5();function Yf(n,e,t){(t!==void 0&&!$l(n[e],t)||t===void 0&&!(e in n))&&$d(n,e,t)}function M5(n){return zr(n)&&Vc(n)}function Xf(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function j5(n){return s4(n,cv(n))}function P5(n,e,t,r,o,l,a){var u=Xf(n,t),f=Xf(e,t),d=a.get(f);if(d){Yf(n,t,d);return}var h=l?l(u,f,t+"",n,e,a):void 0,g=h===void 0;if(g){var p=ss(f),b=!p&&Ll(f),y=!p&&!b&&Wd(f);h=f,p||b||y?ss(u)?h=u:M5(u)?h=VS(u):b?(g=!1,h=hv(f,!0)):y?(g=!1,h=pv(f,!0)):h=[]:IL(f)||Wf(f)?(h=u,Wf(u)?h=j5(u):(!Si(u)||Hd(u))&&(h=gv(f))):g=!1}g&&(a.set(f,h),o(h,f,r,l,a),a.delete(f)),Yf(n,t,h)}function wv(n,e,t,r,o){n!==e&&B5(e,function(l,a){if(o||(o=new dr),Si(l))P5(n,e,a,t,wv,r,o);else{var u=r?r(Xf(n,a),l,a+"",n,e,o):void 0;u===void 0&&(u=l),Yf(n,a,u)}},cv)}function Gd(n,e){return yv(n,e)}var Ci=u4(function(n,e,t){wv(n,e,t)}),Ae=(n=>(n[n.TYPE=3]="TYPE",n[n.LEVEL=12]="LEVEL",n[n.ATTRIBUTE=13]="ATTRIBUTE",n[n.BLOT=14]="BLOT",n[n.INLINE=7]="INLINE",n[n.BLOCK=11]="BLOCK",n[n.BLOCK_BLOT=10]="BLOCK_BLOT",n[n.INLINE_BLOT=6]="INLINE_BLOT",n[n.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",n[n.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",n[n.ANY=15]="ANY",n))(Ae||{});class hr{constructor(e,t,r={}){this.attrName=e,this.keyName=t;const o=Ae.TYPE&Ae.ATTRIBUTE;this.scope=r.scope!=null?r.scope&Ae.LEVEL|o:Ae.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(e){return Array.from(e.attributes).map(t=>t.name)}add(e,t){return this.canAdd(e,t)?(e.setAttribute(this.keyName,t),!0):!1}canAdd(e,t){return this.whitelist==null?!0:typeof t=="string"?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""}}class mo extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const Cv=class Jf{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,t=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(t){let r=null;try{r=e.parentNode}catch{return null}return this.find(r,t)}return null}create(e,t,r){const o=this.query(t);if(o==null)throw new mo(`Unable to create ${t} blot`);const l=o,a=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:l.create(r),u=new l(e,a,r);return Jf.blots.set(u.domNode,u),u}find(e,t=!1){return Jf.find(e,t)}query(e,t=Ae.ANY){let r;return typeof e=="string"?r=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?r=this.types.text:typeof e=="number"?e&Ae.LEVEL&Ae.BLOCK?r=this.types.block:e&Ae.LEVEL&Ae.INLINE&&(r=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(o=>(r=this.classes[o],!!r)),r=r||this.tags[e.tagName]),r==null?null:"scope"in r&&t&Ae.LEVEL&r.scope&&t&Ae.TYPE&r.scope?r:null}register(...e){return e.map(t=>{const r="blotName"in t,o="attrName"in t;if(!r&&!o)throw new mo("Invalid definition");if(r&&t.blotName==="abstract")throw new mo("Cannot register abstract class");const l=r?t.blotName:o?t.attrName:void 0;return this.types[l]=t,o?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):r&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(a=>a.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(a=>{(this.tags[a]==null||t.className==null)&&(this.tags[a]=t)}))),t})}};Cv.blots=new WeakMap;let wo=Cv;function Jg(n,e){return(n.getAttribute("class")||"").split(/\s+/).filter(t=>t.indexOf(`${e}-`)===0)}class D5 extends hr{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(e,t){return this.canAdd(e,t)?(this.remove(e),e.classList.add(`${this.keyName}-${t}`),!0):!1}remove(e){Jg(e,this.keyName).forEach(t=>{e.classList.remove(t)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const t=(Jg(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""}}const Qn=D5;function wf(n){const e=n.split("-"),t=e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return e[0]+t}class q5 extends hr{static keys(e){return(e.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(e,t){return this.canAdd(e,t)?(e.style[wf(this.keyName)]=t,!0):!1}remove(e){e.style[wf(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const t=e.style[wf(this.keyName)];return this.canAdd(e,t)?t:""}}const Li=q5;class F5{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,t){t?e.add(this.domNode,t)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=wo.find(this.domNode);if(e==null)return;const t=hr.keys(this.domNode),r=Qn.keys(this.domNode),o=Li.keys(this.domNode);t.concat(r).concat(o).forEach(l=>{const a=e.scroll.query(l,Ae.ATTRIBUTE);a instanceof hr&&(this.attributes[a.attrName]=a)})}copy(e){Object.keys(this.attributes).forEach(t=>{const r=this.attributes[t].value(this.domNode);e.format(t,r)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,t)=>(e[t]=this.attributes[t].value(this.domNode),e),{})}}const Kc=F5,Ev=class{constructor(e,t){this.scroll=e,this.domNode=t,wo.blots.set(t,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new mo("Blot definition missing tagName");let t,r;return Array.isArray(this.tagName)?(typeof e=="string"?(r=e.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof e=="number"&&(r=e),typeof r=="number"?t=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?t=document.createElement(r):t=document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),wo.blots.delete(this.domNode)}deleteAt(e,t){this.isolate(e,t).remove()}formatAt(e,t,r,o){const l=this.isolate(e,t);if(this.scroll.query(r,Ae.BLOT)!=null&&o)l.wrap(r,o);else if(this.scroll.query(r,Ae.ATTRIBUTE)!=null){const a=this.scroll.create(this.statics.scope);l.wrap(a),a.format(r,o)}}insertAt(e,t,r){const o=r==null?this.scroll.create("text",t):this.scroll.create(t,r),l=this.split(e);this.parent.insertBefore(o,l||void 0)}isolate(e,t){const r=this.split(e);if(r==null)throw new Error("Attempt to isolate at end");return r.split(t),r}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(e,t){return e===0?this:this.next}update(e,t){}wrap(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new mo(`Cannot wrap ${e}`);return r.appendChild(this),r}};Ev.blotName="abstract";let Av=Ev;const _v=class extends Av{static value(e){return!0}index(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(e,t){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};_v.scope=Ae.INLINE_BLOT;let H5=_v;const Wt=H5;class $5{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const t=e.slice(1);this.append(...t)}}at(e){const t=this.iterator();let r=t();for(;r&&e>0;)e-=1,r=t();return r}contains(e){const t=this.iterator();let r=t();for(;r;){if(r===e)return!0;r=t()}return!1}indexOf(e){const t=this.iterator();let r=t(),o=0;for(;r;){if(r===e)return o;o+=1,r=t()}return-1}insertBefore(e,t){e!=null&&(this.remove(e),e.next=t,t!=null?(e.prev=t.prev,t.prev!=null&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let t=0,r=this.head;for(;r!=null;){if(r===e)return t;t+=r.length(),r=r.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const t=e;return e!=null&&(e=e.next),t}}find(e,t=!1){const r=this.iterator();let o=r();for(;o;){const l=o.length();if(e<l||t&&e===l&&(o.next==null||o.next.length()!==0))return[o,e];e-=l,o=r()}return[null,0]}forEach(e){const t=this.iterator();let r=t();for(;r;)e(r),r=t()}forEachAt(e,t,r){if(t<=0)return;const[o,l]=this.find(e);let a=e-l;const u=this.iterator(o);let f=u();for(;f&&a<e+t;){const d=f.length();e>a?r(f,e-a,Math.min(t,a+d-e)):r(f,0,Math.min(d,e+t-a)),a+=d,f=u()}}map(e){return this.reduce((t,r)=>(t.push(e(r)),t),[])}reduce(e,t){const r=this.iterator();let o=r();for(;o;)t=e(t,o),o=r();return t}}function Qg(n,e){const t=e.find(n);if(t)return t;try{return e.create(n)}catch{const r=e.create(Ae.INLINE);return Array.from(n.childNodes).forEach(o=>{r.domNode.appendChild(o)}),n.parentNode&&n.parentNode.replaceChild(r.domNode,n),r.attach(),r}}const Tv=class gi extends Av{constructor(e,t){super(e,t),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,gi.uiClass&&this.uiNode.classList.add(gi.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new $5,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const t=Qg(e,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof mo)return;throw t}})}deleteAt(e,t){if(e===0&&t===this.length())return this.remove();this.children.forEachAt(e,t,(r,o,l)=>{r.deleteAt(o,l)})}descendant(e,t=0){const[r,o]=this.children.find(t);return e.blotName==null&&e(r)||e.blotName!=null&&r instanceof e?[r,o]:r instanceof gi?r.descendant(e,o):[null,-1]}descendants(e,t=0,r=Number.MAX_VALUE){let o=[],l=r;return this.children.forEachAt(t,r,(a,u,f)=>{(e.blotName==null&&e(a)||e.blotName!=null&&a instanceof e)&&o.push(a),a instanceof gi&&(o=o.concat(a.descendants(e,u,l))),l-=f}),o}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(t=>{e||this.statics.allowedChildren.some(r=>t instanceof r)||(t.statics.scope===Ae.BLOCK_BLOT?(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev),t.parent.unwrap(),e=!0):t instanceof gi?t.unwrap():t.remove())})}formatAt(e,t,r,o){this.children.forEachAt(e,t,(l,a,u)=>{l.formatAt(a,u,r,o)})}insertAt(e,t,r){const[o,l]=this.children.find(e);if(o)o.insertAt(l,t,r);else{const a=r==null?this.scroll.create("text",t):this.scroll.create(t,r);this.appendChild(a)}}insertBefore(e,t){e.parent!=null&&e.parent.children.remove(e);let r=null;this.children.insertBefore(e,t||null),e.parent=this,t!=null&&(r=t.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(e.domNode,r),e.attach()}length(){return this.children.reduce((e,t)=>e+t.length(),0)}moveChildren(e,t){this.children.forEach(r=>{e.insertBefore(r,t)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(e,t=!1){const[r,o]=this.children.find(e,t),l=[[this,e]];return r instanceof gi?l.concat(r.path(o,t)):(r!=null&&l.push([r,o]),l)}removeChild(e){this.children.remove(e)}replaceWith(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;return r instanceof gi&&this.moveChildren(r),super.replaceWith(r)}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(e,this.length(),(o,l,a)=>{const u=o.split(l,t);u!=null&&r.appendChild(u)}),r}splitAfter(e){const t=this.clone();for(;e.next!=null;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,t){const r=[],o=[];e.forEach(l=>{l.target===this.domNode&&l.type==="childList"&&(r.push(...l.addedNodes),o.push(...l.removedNodes))}),o.forEach(l=>{if(l.parentNode!=null&&l.tagName!=="IFRAME"&&document.body.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const a=this.scroll.find(l);a!=null&&(a.domNode.parentNode==null||a.domNode.parentNode===this.domNode)&&a.detach()}),r.filter(l=>l.parentNode===this.domNode&&l!==this.uiNode).sort((l,a)=>l===a?0:l.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(l=>{let a=null;l.nextSibling!=null&&(a=this.scroll.find(l.nextSibling));const u=Qg(l,this.scroll);(u.next!==a||u.next==null)&&(u.parent!=null&&u.parent.removeChild(this),this.insertBefore(u,a||void 0))}),this.enforceAllowedChildren()}};Tv.uiClass="";let z5=Tv;const Xn=z5;function U5(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}const no=class ro extends Xn{static create(e){return super.create(e)}static formats(e,t){const r=t.query(ro.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Kc(this.domNode)}format(e,t){if(e===this.statics.blotName&&!t)this.children.forEach(r=>{r instanceof ro||(r=r.wrap(ro.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(e,Ae.INLINE);if(r==null)return;r instanceof hr?this.attributes.attribute(r,t):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t)}}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,r,o){this.formats()[r]!=null||this.scroll.query(r,Ae.ATTRIBUTE)?this.isolate(e,t).format(r,o):super.formatAt(e,t,r,o)}optimize(e){super.optimize(e);const t=this.formats();if(Object.keys(t).length===0)return this.unwrap();const r=this.next;r instanceof ro&&r.prev===this&&U5(t,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(e,t){const r=super.replaceWith(e,t);return this.attributes.copy(r),r}update(e,t){super.update(e,t),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(e,t){const r=super.wrap(e,t);return r instanceof ro&&this.attributes.move(r),r}};no.allowedChildren=[no,Wt],no.blotName="inline",no.scope=Ae.INLINE_BLOT,no.tagName="SPAN";let W5=no;const Zd=W5,io=class Qf extends Xn{static create(e){return super.create(e)}static formats(e,t){const r=t.query(Qf.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Kc(this.domNode)}format(e,t){const r=this.scroll.query(e,Ae.BLOCK);r!=null&&(r instanceof hr?this.attributes.attribute(r,t):e===this.statics.blotName&&!t?this.replaceWith(Qf.blotName):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t))}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,r,o){this.scroll.query(r,Ae.BLOCK)!=null?this.format(r,o):super.formatAt(e,t,r,o)}insertAt(e,t,r){if(r==null||this.scroll.query(t,Ae.INLINE)!=null)super.insertAt(e,t,r);else{const o=this.split(e);if(o!=null){const l=this.scroll.create(t,r);o.parent.insertBefore(l,o)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,t){const r=super.replaceWith(e,t);return this.attributes.copy(r),r}update(e,t){super.update(e,t),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};io.blotName="block",io.scope=Ae.BLOCK_BLOT,io.tagName="P",io.allowedChildren=[Zd,io,Wt];let V5=io;const kl=V5,ed=class extends Xn{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,t){super.deleteAt(e,t),this.enforceAllowedChildren()}formatAt(e,t,r,o){super.formatAt(e,t,r,o),this.enforceAllowedChildren()}insertAt(e,t,r){super.insertAt(e,t,r),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};ed.blotName="container",ed.scope=Ae.BLOCK_BLOT;let G5=ed;const Yc=G5;class Z5 extends Wt{static formats(e,t){}format(e,t){super.formatAt(0,this.length(),e,t)}formatAt(e,t,r,o){e===0&&t===this.length()?this.format(r,o):super.formatAt(e,t,r,o)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const bn=Z5,K5={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Y5=100,so=class extends Xn{constructor(e,t){super(null,t),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,K5),this.attach()}create(e,t){return this.registry.create(this,e,t)}find(e,t=!1){const r=this.registry.find(e,t);return r?r.scroll===this?r:t?this.find(r.scroll.domNode.parentNode,!0):null:null}query(e,t=Ae.ANY){return this.registry.query(e,t)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,t){this.update(),e===0&&t===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(e,t)}formatAt(e,t,r,o){this.update(),super.formatAt(e,t,r,o)}insertAt(e,t,r){this.update(),super.insertAt(e,t,r)}optimize(e=[],t={}){super.optimize(t);const r=t.mutationsMap||new WeakMap;let o=Array.from(this.observer.takeRecords());for(;o.length>0;)e.push(o.pop());const l=(f,d=!0)=>{f==null||f===this||f.domNode.parentNode!=null&&(r.has(f.domNode)||r.set(f.domNode,[]),d&&l(f.parent))},a=f=>{r.has(f.domNode)&&(f instanceof Xn&&f.children.forEach(a),r.delete(f.domNode),f.optimize(t))};let u=e;for(let f=0;u.length>0;f+=1){if(f>=Y5)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach(d=>{const h=this.find(d.target,!0);h!=null&&(h.domNode===d.target&&(d.type==="childList"?(l(this.find(d.previousSibling,!1)),Array.from(d.addedNodes).forEach(g=>{const p=this.find(g,!1);l(p,!1),p instanceof Xn&&p.children.forEach(b=>{l(b,!1)})})):d.type==="attributes"&&l(h.prev)),l(h))}),this.children.forEach(a),u=Array.from(this.observer.takeRecords()),o=u.slice();o.length>0;)e.push(o.pop())}}update(e,t={}){e=e||this.observer.takeRecords();const r=new WeakMap;e.map(o=>{const l=this.find(o.target,!0);return l==null?null:r.has(l.domNode)?(r.get(l.domNode).push(o),null):(r.set(l.domNode,[o]),l)}).forEach(o=>{o!=null&&o!==this&&r.has(o.domNode)&&o.update(r.get(o.domNode)||[],t)}),t.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),t),this.optimize(e,t)}};so.blotName="scroll",so.defaultChild=kl,so.allowedChildren=[kl,Yc],so.scope=Ae.BLOCK_BLOT,so.tagName="DIV";let X5=so;const Kd=X5,td=class Sv extends Wt{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,t){super(e,t),this.text=this.statics.value(this.domNode)}deleteAt(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)}index(e,t){return this.domNode===e?t:-1}insertAt(e,t,r){r==null?(this.text=this.text.slice(0,e)+t+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,t,r)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof Sv&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,t=!1){return[this.domNode,e]}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(e,t){e.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};td.blotName="text",td.scope=Ae.INLINE_BLOT;let J5=td;const Sc=J5,Q5=Object.freeze(Object.defineProperty({__proto__:null,Attributor:hr,AttributorStore:Kc,BlockBlot:kl,ClassAttributor:Qn,ContainerBlot:Yc,EmbedBlot:bn,InlineBlot:Zd,LeafBlot:Wt,ParentBlot:Xn,Registry:wo,Scope:Ae,ScrollBlot:Kd,StyleAttributor:Li,TextBlot:Sc},Symbol.toStringTag,{value:"Module"}));var Za={exports:{}},Cf,e1;function eN(){if(e1)return Cf;e1=1;var n=-1,e=1,t=0;function r(N,D,O,G,P){if(N===D)return N?[[t,N]]:[];if(O!=null){var H=pe(N,D,O);if(H)return H}var W=u(N,D),U=N.substring(0,W);N=N.substring(W),D=D.substring(W),W=d(N,D);var $=N.substring(N.length-W);N=N.substring(0,N.length-W),D=D.substring(0,D.length-W);var Z=o(N,D);return U&&Z.unshift([t,U]),$&&Z.push([t,$]),R(Z,P),G&&g(Z),Z}function o(N,D){var O;if(!N)return[[e,D]];if(!D)return[[n,N]];var G=N.length>D.length?N:D,P=N.length>D.length?D:N,H=G.indexOf(P);if(H!==-1)return O=[[e,G.substring(0,H)],[t,P],[e,G.substring(H+P.length)]],N.length>D.length&&(O[0][0]=O[2][0]=n),O;if(P.length===1)return[[n,N],[e,D]];var W=h(N,D);if(W){var U=W[0],$=W[1],Z=W[2],le=W[3],Q=W[4],X=r(U,Z),de=r($,le);return X.concat([[t,Q]],de)}return l(N,D)}function l(N,D){for(var O=N.length,G=D.length,P=Math.ceil((O+G)/2),H=P,W=2*P,U=new Array(W),$=new Array(W),Z=0;Z<W;Z++)U[Z]=-1,$[Z]=-1;U[H+1]=0,$[H+1]=0;for(var le=O-G,Q=le%2!==0,X=0,de=0,Y=0,ae=0,ce=0;ce<P;ce++){for(var ue=-ce+X;ue<=ce-de;ue+=2){var xe=H+ue,_e;ue===-ce||ue!==ce&&U[xe-1]<U[xe+1]?_e=U[xe+1]:_e=U[xe-1]+1;for(var ge=_e-ue;_e<O&&ge<G&&N.charAt(_e)===D.charAt(ge);)_e++,ge++;if(U[xe]=_e,_e>O)de+=2;else if(ge>G)X+=2;else if(Q){var ve=H+le-ue;if(ve>=0&&ve<W&&$[ve]!==-1){var he=O-$[ve];if(_e>=he)return a(N,D,_e,ge)}}}for(var me=-ce+Y;me<=ce-ae;me+=2){var ve=H+me,he;me===-ce||me!==ce&&$[ve-1]<$[ve+1]?he=$[ve+1]:he=$[ve-1]+1;for(var ke=he-me;he<O&&ke<G&&N.charAt(O-he-1)===D.charAt(G-ke-1);)he++,ke++;if($[ve]=he,he>O)ae+=2;else if(ke>G)Y+=2;else if(!Q){var xe=H+le-me;if(xe>=0&&xe<W&&U[xe]!==-1){var _e=U[xe],ge=H+_e-xe;if(he=O-he,_e>=he)return a(N,D,_e,ge)}}}}return[[n,N],[e,D]]}function a(N,D,O,G){var P=N.substring(0,O),H=D.substring(0,G),W=N.substring(O),U=D.substring(G),$=r(P,H),Z=r(W,U);return $.concat(Z)}function u(N,D){if(!N||!D||N.charAt(0)!==D.charAt(0))return 0;for(var O=0,G=Math.min(N.length,D.length),P=G,H=0;O<P;)N.substring(H,P)==D.substring(H,P)?(O=P,H=O):G=P,P=Math.floor((G-O)/2+O);return I(N.charCodeAt(P-1))&&P--,P}function f(N,D){var O=N.length,G=D.length;if(O==0||G==0)return 0;O>G?N=N.substring(O-G):O<G&&(D=D.substring(0,O));var P=Math.min(O,G);if(N==D)return P;for(var H=0,W=1;;){var U=N.substring(P-W),$=D.indexOf(U);if($==-1)return H;W+=$,($==0||N.substring(P-W)==D.substring(0,W))&&(H=W,W++)}}function d(N,D){if(!N||!D||N.slice(-1)!==D.slice(-1))return 0;for(var O=0,G=Math.min(N.length,D.length),P=G,H=0;O<P;)N.substring(N.length-P,N.length-H)==D.substring(D.length-P,D.length-H)?(O=P,H=O):G=P,P=Math.floor((G-O)/2+O);return j(N.charCodeAt(N.length-P))&&P--,P}function h(N,D){var O=N.length>D.length?N:D,G=N.length>D.length?D:N;if(O.length<4||G.length*2<O.length)return null;function P(de,Y,ae){for(var ce=de.substring(ae,ae+Math.floor(de.length/4)),ue=-1,xe="",_e,ge,ve,he;(ue=Y.indexOf(ce,ue+1))!==-1;){var me=u(de.substring(ae),Y.substring(ue)),ke=d(de.substring(0,ae),Y.substring(0,ue));xe.length<ke+me&&(xe=Y.substring(ue-ke,ue)+Y.substring(ue,ue+me),_e=de.substring(0,ae-ke),ge=de.substring(ae+me),ve=Y.substring(0,ue-ke),he=Y.substring(ue+me))}return xe.length*2>=de.length?[_e,ge,ve,he,xe]:null}var H=P(O,G,Math.ceil(O.length/4)),W=P(O,G,Math.ceil(O.length/2)),U;if(!H&&!W)return null;W?H?U=H[4].length>W[4].length?H:W:U=W:U=H;var $,Z,le,Q;N.length>D.length?($=U[0],Z=U[1],le=U[2],Q=U[3]):(le=U[0],Q=U[1],$=U[2],Z=U[3]);var X=U[4];return[$,Z,le,Q,X]}function g(N){for(var D=!1,O=[],G=0,P=null,H=0,W=0,U=0,$=0,Z=0;H<N.length;)N[H][0]==t?(O[G++]=H,W=$,U=Z,$=0,Z=0,P=N[H][1]):(N[H][0]==e?$+=N[H][1].length:Z+=N[H][1].length,P&&P.length<=Math.max(W,U)&&P.length<=Math.max($,Z)&&(N.splice(O[G-1],0,[n,P]),N[O[G-1]+1][0]=e,G--,G--,H=G>0?O[G-1]:-1,W=0,U=0,$=0,Z=0,P=null,D=!0)),H++;for(D&&R(N),S(N),H=1;H<N.length;){if(N[H-1][0]==n&&N[H][0]==e){var le=N[H-1][1],Q=N[H][1],X=f(le,Q),de=f(Q,le);X>=de?(X>=le.length/2||X>=Q.length/2)&&(N.splice(H,0,[t,Q.substring(0,X)]),N[H-1][1]=le.substring(0,le.length-X),N[H+1][1]=Q.substring(X),H++):(de>=le.length/2||de>=Q.length/2)&&(N.splice(H,0,[t,le.substring(0,de)]),N[H-1][0]=e,N[H-1][1]=Q.substring(0,Q.length-de),N[H+1][0]=n,N[H+1][1]=le.substring(de),H++),H++}H++}}var p=/[^a-zA-Z0-9]/,b=/\s/,y=/[\r\n]/,w=/\n\r?\n$/,E=/^\r?\n\r?\n/;function S(N){function D(de,Y){if(!de||!Y)return 6;var ae=de.charAt(de.length-1),ce=Y.charAt(0),ue=ae.match(p),xe=ce.match(p),_e=ue&&ae.match(b),ge=xe&&ce.match(b),ve=_e&&ae.match(y),he=ge&&ce.match(y),me=ve&&de.match(w),ke=he&&Y.match(E);return me||ke?5:ve||he?4:ue&&!_e&&ge?3:_e||ge?2:ue||xe?1:0}for(var O=1;O<N.length-1;){if(N[O-1][0]==t&&N[O+1][0]==t){var G=N[O-1][1],P=N[O][1],H=N[O+1][1],W=d(G,P);if(W){var U=P.substring(P.length-W);G=G.substring(0,G.length-W),P=U+P.substring(0,P.length-W),H=U+H}for(var $=G,Z=P,le=H,Q=D(G,P)+D(P,H);P.charAt(0)===H.charAt(0);){G+=P.charAt(0),P=P.substring(1)+H.charAt(0),H=H.substring(1);var X=D(G,P)+D(P,H);X>=Q&&(Q=X,$=G,Z=P,le=H)}N[O-1][1]!=$&&($?N[O-1][1]=$:(N.splice(O-1,1),O--),N[O][1]=Z,le?N[O+1][1]=le:(N.splice(O+1,1),O--))}O++}}function R(N,D){N.push([t,""]);for(var O=0,G=0,P=0,H="",W="",U;O<N.length;){if(O<N.length-1&&!N[O][1]){N.splice(O,1);continue}switch(N[O][0]){case e:P++,W+=N[O][1],O++;break;case n:G++,H+=N[O][1],O++;break;case t:var $=O-P-G-1;if(D){if($>=0&&J(N[$][1])){var Z=N[$][1].slice(-1);if(N[$][1]=N[$][1].slice(0,-1),H=Z+H,W=Z+W,!N[$][1]){N.splice($,1),O--;var le=$-1;N[le]&&N[le][0]===e&&(P++,W=N[le][1]+W,le--),N[le]&&N[le][0]===n&&(G++,H=N[le][1]+H,le--),$=le}}if(z(N[O][1])){var Z=N[O][1].charAt(0);N[O][1]=N[O][1].slice(1),H+=Z,W+=Z}}if(O<N.length-1&&!N[O][1]){N.splice(O,1);break}if(H.length>0||W.length>0){H.length>0&&W.length>0&&(U=u(W,H),U!==0&&($>=0?N[$][1]+=W.substring(0,U):(N.splice(0,0,[t,W.substring(0,U)]),O++),W=W.substring(U),H=H.substring(U)),U=d(W,H),U!==0&&(N[O][1]=W.substring(W.length-U)+N[O][1],W=W.substring(0,W.length-U),H=H.substring(0,H.length-U)));var Q=P+G;H.length===0&&W.length===0?(N.splice(O-Q,Q),O=O-Q):H.length===0?(N.splice(O-Q,Q,[e,W]),O=O-Q+1):W.length===0?(N.splice(O-Q,Q,[n,H]),O=O-Q+1):(N.splice(O-Q,Q,[n,H],[e,W]),O=O-Q+2)}O!==0&&N[O-1][0]===t?(N[O-1][1]+=N[O][1],N.splice(O,1)):O++,P=0,G=0,H="",W="";break}}N[N.length-1][1]===""&&N.pop();var X=!1;for(O=1;O<N.length-1;)N[O-1][0]===t&&N[O+1][0]===t&&(N[O][1].substring(N[O][1].length-N[O-1][1].length)===N[O-1][1]?(N[O][1]=N[O-1][1]+N[O][1].substring(0,N[O][1].length-N[O-1][1].length),N[O+1][1]=N[O-1][1]+N[O+1][1],N.splice(O-1,1),X=!0):N[O][1].substring(0,N[O+1][1].length)==N[O+1][1]&&(N[O-1][1]+=N[O+1][1],N[O][1]=N[O][1].substring(N[O+1][1].length)+N[O+1][1],N.splice(O+1,1),X=!0)),O++;X&&R(N,D)}function I(N){return N>=55296&&N<=56319}function j(N){return N>=56320&&N<=57343}function z(N){return j(N.charCodeAt(0))}function J(N){return I(N.charCodeAt(N.length-1))}function V(N){for(var D=[],O=0;O<N.length;O++)N[O][1].length>0&&D.push(N[O]);return D}function ne(N,D,O,G){return J(N)||z(G)?null:V([[t,N],[n,D],[e,O],[t,G]])}function pe(N,D,O){var G=typeof O=="number"?{index:O,length:0}:O.oldRange,P=typeof O=="number"?null:O.newRange,H=N.length,W=D.length;if(G.length===0&&(P===null||P.length===0)){var U=G.index,$=N.slice(0,U),Z=N.slice(U),le=P?P.index:null;e:{var Q=U+W-H;if(le!==null&&le!==Q||Q<0||Q>W)break e;var X=D.slice(0,Q),de=D.slice(Q);if(de!==Z)break e;var Y=Math.min(U,Q),ae=$.slice(0,Y),ce=X.slice(0,Y);if(ae!==ce)break e;var ue=$.slice(Y),xe=X.slice(Y);return ne(ae,ue,xe,Z)}e:{if(le!==null&&le!==U)break e;var _e=U,X=D.slice(0,_e),de=D.slice(_e);if(X!==$)break e;var ge=Math.min(H-_e,W-_e),ve=Z.slice(Z.length-ge),he=de.slice(de.length-ge);if(ve!==he)break e;var ue=Z.slice(0,Z.length-ge),xe=de.slice(0,de.length-ge);return ne($,ue,xe,ve)}}if(G.length>0&&P&&P.length===0)e:{var ae=N.slice(0,G.index),ve=N.slice(G.index+G.length),Y=ae.length,ge=ve.length;if(W<Y+ge)break e;var ce=D.slice(0,Y),he=D.slice(W-ge);if(ae!==ce||ve!==he)break e;var ue=N.slice(Y,H-ge),xe=D.slice(Y,W-ge);return ne(ae,ue,xe,ve)}return null}function fe(N,D,O,G){return r(N,D,O,G,!0)}return fe.INSERT=e,fe.DELETE=n,fe.EQUAL=t,Cf=fe,Cf}var vl={exports:{}};vl.exports;var t1;function Lv(){return t1||(t1=1,function(n,e){var t=200,r="__lodash_hash_undefined__",o=9007199254740991,l="[object Arguments]",a="[object Array]",u="[object Boolean]",f="[object Date]",d="[object Error]",h="[object Function]",g="[object GeneratorFunction]",p="[object Map]",b="[object Number]",y="[object Object]",w="[object Promise]",E="[object RegExp]",S="[object Set]",R="[object String]",I="[object Symbol]",j="[object WeakMap]",z="[object ArrayBuffer]",J="[object DataView]",V="[object Float32Array]",ne="[object Float64Array]",pe="[object Int8Array]",fe="[object Int16Array]",N="[object Int32Array]",D="[object Uint8Array]",O="[object Uint8ClampedArray]",G="[object Uint16Array]",P="[object Uint32Array]",H=/[\\^$.*+?()[\]{}|]/g,W=/\w*$/,U=/^\[object .+?Constructor\]$/,$=/^(?:0|[1-9]\d*)$/,Z={};Z[l]=Z[a]=Z[z]=Z[J]=Z[u]=Z[f]=Z[V]=Z[ne]=Z[pe]=Z[fe]=Z[N]=Z[p]=Z[b]=Z[y]=Z[E]=Z[S]=Z[R]=Z[I]=Z[D]=Z[O]=Z[G]=Z[P]=!0,Z[d]=Z[h]=Z[j]=!1;var le=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,Q=typeof self=="object"&&self&&self.Object===Object&&self,X=le||Q||Function("return this")(),de=e&&!e.nodeType&&e,Y=de&&!0&&n&&!n.nodeType&&n,ae=Y&&Y.exports===de;function ce(x,T){return x.set(T[0],T[1]),x}function ue(x,T){return x.add(T),x}function xe(x,T){for(var B=-1,ee=x?x.length:0;++B<ee&&T(x[B],B,x)!==!1;);return x}function _e(x,T){for(var B=-1,ee=T.length,Oe=x.length;++B<ee;)x[Oe+B]=T[B];return x}function ge(x,T,B,ee){for(var Oe=-1,Te=x?x.length:0;++Oe<Te;)B=T(B,x[Oe],Oe,x);return B}function ve(x,T){for(var B=-1,ee=Array(x);++B<x;)ee[B]=T(B);return ee}function he(x,T){return x?.[T]}function me(x){var T=!1;if(x!=null&&typeof x.toString!="function")try{T=!!(x+"")}catch{}return T}function ke(x){var T=-1,B=Array(x.size);return x.forEach(function(ee,Oe){B[++T]=[Oe,ee]}),B}function tt(x,T){return function(B){return x(T(B))}}function it(x){var T=-1,B=Array(x.size);return x.forEach(function(ee){B[++T]=ee}),B}var Je=Array.prototype,Qe=Function.prototype,ze=Object.prototype,Xe=X["__core-js_shared__"],Pt=function(){var x=/[^.]+$/.exec(Xe&&Xe.keys&&Xe.keys.IE_PROTO||"");return x?"Symbol(src)_1."+x:""}(),Pn=Qe.toString,xn=ze.hasOwnProperty,yn=ze.toString,So=RegExp("^"+Pn.call(xn).replace(H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),on=ae?X.Buffer:void 0,ln=X.Symbol,vr=X.Uint8Array,Dt=tt(Object.getPrototypeOf,Object),Gr=Object.create,Zr=ze.propertyIsEnumerable,Ni=Je.splice,br=Object.getOwnPropertySymbols,tr=on?on.isBuffer:void 0,Kr=tt(Object.keys,Object),nr=Vt(X,"DataView"),xr=Vt(X,"Map"),an=Vt(X,"Promise"),Yr=Vt(X,"Set"),Xr=Vt(X,"WeakMap"),rr=Vt(Object,"create"),Ri=It(nr),yr=It(xr),ki=It(an),Ii=It(Yr),Jr=It(Xr),ir=ln?ln.prototype:void 0,vs=ir?ir.valueOf:void 0;function Dn(x){var T=-1,B=x?x.length:0;for(this.clear();++T<B;){var ee=x[T];this.set(ee[0],ee[1])}}function Oi(){this.__data__=rr?rr(null):{}}function Lo(x){return this.has(x)&&delete this.__data__[x]}function Bi(x){var T=this.__data__;if(rr){var B=T[x];return B===r?void 0:B}return xn.call(T,x)?T[x]:void 0}function bs(x){var T=this.__data__;return rr?T[x]!==void 0:xn.call(T,x)}function Mi(x,T){var B=this.__data__;return B[x]=rr&&T===void 0?r:T,this}Dn.prototype.clear=Oi,Dn.prototype.delete=Lo,Dn.prototype.get=Bi,Dn.prototype.has=bs,Dn.prototype.set=Mi;function _t(x){var T=-1,B=x?x.length:0;for(this.clear();++T<B;){var ee=x[T];this.set(ee[0],ee[1])}}function No(){this.__data__=[]}function Ro(x){var T=this.__data__,B=wr(T,x);if(B<0)return!1;var ee=T.length-1;return B==ee?T.pop():Ni.call(T,B,1),!0}function ko(x){var T=this.__data__,B=wr(T,x);return B<0?void 0:T[B][1]}function Io(x){return wr(this.__data__,x)>-1}function Oo(x,T){var B=this.__data__,ee=wr(B,x);return ee<0?B.push([x,T]):B[ee][1]=T,this}_t.prototype.clear=No,_t.prototype.delete=Ro,_t.prototype.get=ko,_t.prototype.has=Io,_t.prototype.set=Oo;function Tt(x){var T=-1,B=x?x.length:0;for(this.clear();++T<B;){var ee=x[T];this.set(ee[0],ee[1])}}function Bo(){this.__data__={hash:new Dn,map:new(xr||_t),string:new Dn}}function Mo(x){return qn(this,x).delete(x)}function jo(x){return qn(this,x).get(x)}function Po(x){return qn(this,x).has(x)}function Do(x,T){return qn(this,x).set(x,T),this}Tt.prototype.clear=Bo,Tt.prototype.delete=Mo,Tt.prototype.get=jo,Tt.prototype.has=Po,Tt.prototype.set=Do;function qt(x){this.__data__=new _t(x)}function Qr(){this.__data__=new _t}function qo(x){return this.__data__.delete(x)}function ei(x){return this.__data__.get(x)}function Fo(x){return this.__data__.has(x)}function Ho(x,T){var B=this.__data__;if(B instanceof _t){var ee=B.__data__;if(!xr||ee.length<t-1)return ee.push([x,T]),this;B=this.__data__=new Tt(ee)}return B.set(x,T),this}qt.prototype.clear=Qr,qt.prototype.delete=qo,qt.prototype.get=ei,qt.prototype.has=Fo,qt.prototype.set=Ho;function ti(x,T){var B=Fi(x)||ni(x)?ve(x.length,String):[],ee=B.length,Oe=!!ee;for(var Te in x)xn.call(x,Te)&&!(Oe&&(Te=="length"||Ss(Te,ee)))&&B.push(Te);return B}function ji(x,T,B){var ee=x[T];(!(xn.call(x,T)&&qi(ee,B))||B===void 0&&!(T in x))&&(x[T]=B)}function wr(x,T){for(var B=x.length;B--;)if(qi(x[B][0],T))return B;return-1}function cn(x,T){return x&&Tr(T,$i(T),x)}function Pi(x,T,B,ee,Oe,Te,We){var Ve;if(ee&&(Ve=Te?ee(x,Oe,Te,We):ee(x)),Ve!==void 0)return Ve;if(!En(x))return x;var Fe=Fi(x);if(Fe){if(Ve=_s(x),!T)return Es(x,Ve)}else{var Ke=wn(x),dt=Ke==h||Ke==g;if(ii(x))return Cr(x,T);if(Ke==y||Ke==l||dt&&!Te){if(me(x))return Te?x:{};if(Ve=Cn(dt?{}:x),!T)return Vo(x,cn(Ve,x))}else{if(!Z[Ke])return Te?x:{};Ve=Ts(x,Ke,Pi,T)}}We||(We=new qt);var Ot=We.get(x);if(Ot)return Ot;if(We.set(x,Ve),!Fe)var pt=B?As(x):$i(x);return xe(pt||x,function(ot,Et){pt&&(Et=ot,ot=x[Et]),ji(Ve,Et,Pi(ot,T,B,ee,Et,x,We))}),Ve}function $o(x){return En(x)?Gr(x):{}}function zo(x,T,B){var ee=T(x);return Fi(x)?ee:_e(ee,B(x))}function Uo(x){return yn.call(x)}function xs(x){if(!En(x)||Ns(x))return!1;var T=Hi(x)||me(x)?So:U;return T.test(It(x))}function ys(x){if(!Rs(x))return Kr(x);var T=[];for(var B in Object(x))xn.call(x,B)&&B!="constructor"&&T.push(B);return T}function Cr(x,T){if(T)return x.slice();var B=new x.constructor(x.length);return x.copy(B),B}function Er(x){var T=new x.constructor(x.byteLength);return new vr(T).set(new vr(x)),T}function Ar(x,T){var B=T?Er(x.buffer):x.buffer;return new x.constructor(B,x.byteOffset,x.byteLength)}function Di(x,T,B){var ee=T?B(ke(x),!0):ke(x);return ge(ee,ce,new x.constructor)}function _r(x){var T=new x.constructor(x.source,W.exec(x));return T.lastIndex=x.lastIndex,T}function ws(x,T,B){var ee=T?B(it(x),!0):it(x);return ge(ee,ue,new x.constructor)}function Wo(x){return vs?Object(vs.call(x)):{}}function Cs(x,T){var B=T?Er(x.buffer):x.buffer;return new x.constructor(B,x.byteOffset,x.length)}function Es(x,T){var B=-1,ee=x.length;for(T||(T=Array(ee));++B<ee;)T[B]=x[B];return T}function Tr(x,T,B,ee){B||(B={});for(var Oe=-1,Te=T.length;++Oe<Te;){var We=T[Oe],Ve=void 0;ji(B,We,Ve===void 0?x[We]:Ve)}return B}function Vo(x,T){return Tr(x,Ft(x),T)}function As(x){return zo(x,$i,Ft)}function qn(x,T){var B=x.__data__;return Ls(T)?B[typeof T=="string"?"string":"hash"]:B.map}function Vt(x,T){var B=he(x,T);return xs(B)?B:void 0}var Ft=br?tt(br,Object):st,wn=Uo;(nr&&wn(new nr(new ArrayBuffer(1)))!=J||xr&&wn(new xr)!=p||an&&wn(an.resolve())!=w||Yr&&wn(new Yr)!=S||Xr&&wn(new Xr)!=j)&&(wn=function(x){var T=yn.call(x),B=T==y?x.constructor:void 0,ee=B?It(B):void 0;if(ee)switch(ee){case Ri:return J;case yr:return p;case ki:return w;case Ii:return S;case Jr:return j}return T});function _s(x){var T=x.length,B=x.constructor(T);return T&&typeof x[0]=="string"&&xn.call(x,"index")&&(B.index=x.index,B.input=x.input),B}function Cn(x){return typeof x.constructor=="function"&&!Rs(x)?$o(Dt(x)):{}}function Ts(x,T,B,ee){var Oe=x.constructor;switch(T){case z:return Er(x);case u:case f:return new Oe(+x);case J:return Ar(x,ee);case V:case ne:case pe:case fe:case N:case D:case O:case G:case P:return Cs(x,ee);case p:return Di(x,ee,B);case b:case R:return new Oe(x);case E:return _r(x);case S:return ws(x,ee,B);case I:return Wo(x)}}function Ss(x,T){return T=T??o,!!T&&(typeof x=="number"||$.test(x))&&x>-1&&x%1==0&&x<T}function Ls(x){var T=typeof x;return T=="string"||T=="number"||T=="symbol"||T=="boolean"?x!=="__proto__":x===null}function Ns(x){return!!Pt&&Pt in x}function Rs(x){var T=x&&x.constructor,B=typeof T=="function"&&T.prototype||ze;return x===B}function It(x){if(x!=null){try{return Pn.call(x)}catch{}try{return x+""}catch{}}return""}function ks(x){return Pi(x,!0,!0)}function qi(x,T){return x===T||x!==x&&T!==T}function ni(x){return Go(x)&&xn.call(x,"callee")&&(!Zr.call(x,"callee")||yn.call(x)==l)}var Fi=Array.isArray;function ri(x){return x!=null&&Is(x.length)&&!Hi(x)}function Go(x){return Os(x)&&ri(x)}var ii=tr||nt;function Hi(x){var T=En(x)?yn.call(x):"";return T==h||T==g}function Is(x){return typeof x=="number"&&x>-1&&x%1==0&&x<=o}function En(x){var T=typeof x;return!!x&&(T=="object"||T=="function")}function Os(x){return!!x&&typeof x=="object"}function $i(x){return ri(x)?ti(x):ys(x)}function st(){return[]}function nt(){return!1}n.exports=ks}(vl,vl.exports)),vl.exports}var Ka={},n1;function tN(){if(n1)return Ka;n1=1,Object.defineProperty(Ka,"__esModule",{value:!0});const n=Lv(),e=jd();var t;return function(r){function o(f={},d={},h=!1){typeof f!="object"&&(f={}),typeof d!="object"&&(d={});let g=n(d);h||(g=Object.keys(g).reduce((p,b)=>(g[b]!=null&&(p[b]=g[b]),p),{}));for(const p in f)f[p]!==void 0&&d[p]===void 0&&(g[p]=f[p]);return Object.keys(g).length>0?g:void 0}r.compose=o;function l(f={},d={}){typeof f!="object"&&(f={}),typeof d!="object"&&(d={});const h=Object.keys(f).concat(Object.keys(d)).reduce((g,p)=>(e(f[p],d[p])||(g[p]=d[p]===void 0?null:d[p]),g),{});return Object.keys(h).length>0?h:void 0}r.diff=l;function a(f={},d={}){f=f||{};const h=Object.keys(d).reduce((g,p)=>(d[p]!==f[p]&&f[p]!==void 0&&(g[p]=d[p]),g),{});return Object.keys(f).reduce((g,p)=>(f[p]!==d[p]&&d[p]===void 0&&(g[p]=null),g),h)}r.invert=a;function u(f,d,h=!1){if(typeof f!="object")return d;if(typeof d!="object")return;if(!h)return d;const g=Object.keys(d).reduce((p,b)=>(f[b]===void 0&&(p[b]=d[b]),p),{});return Object.keys(g).length>0?g:void 0}r.transform=u}(t||(t={})),Ka.default=t,Ka}var Ya={},r1;function Nv(){if(r1)return Ya;r1=1,Object.defineProperty(Ya,"__esModule",{value:!0});var n;return function(e){function t(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}e.length=t}(n||(n={})),Ya.default=n,Ya}var Xa={},i1;function nN(){if(i1)return Xa;i1=1,Object.defineProperty(Xa,"__esModule",{value:!0});const n=Nv();class e{constructor(r){this.ops=r,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(r){r||(r=1/0);const o=this.ops[this.index];if(o){const l=this.offset,a=n.default.length(o);if(r>=a-l?(r=a-l,this.index+=1,this.offset=0):this.offset+=r,typeof o.delete=="number")return{delete:r};{const u={};return o.attributes&&(u.attributes=o.attributes),typeof o.retain=="number"?u.retain=r:typeof o.retain=="object"&&o.retain!==null?u.retain=o.retain:typeof o.insert=="string"?u.insert=o.insert.substr(l,r):u.insert=o.insert,u}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?n.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const r=this.ops[this.index];return r?typeof r.delete=="number"?"delete":typeof r.retain=="number"||typeof r.retain=="object"&&r.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const r=this.offset,o=this.index,l=this.next(),a=this.ops.slice(this.index);return this.offset=r,this.index=o,[l].concat(a)}}else return[]}}return Xa.default=e,Xa}var s1;function rN(){return s1||(s1=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const t=eN(),r=Lv(),o=jd(),l=tN();e.AttributeMap=l.default;const a=Nv();e.Op=a.default;const u=nN();e.OpIterator=u.default;const f="\0",d=(g,p)=>{if(typeof g!="object"||g===null)throw new Error(`cannot retain a ${typeof g}`);if(typeof p!="object"||p===null)throw new Error(`cannot retain a ${typeof p}`);const b=Object.keys(g)[0];if(!b||b!==Object.keys(p)[0])throw new Error(`embed types not matched: ${b} != ${Object.keys(p)[0]}`);return[b,g[b],p[b]]};class h{constructor(p){Array.isArray(p)?this.ops=p:p!=null&&Array.isArray(p.ops)?this.ops=p.ops:this.ops=[]}static registerEmbed(p,b){this.handlers[p]=b}static unregisterEmbed(p){delete this.handlers[p]}static getHandler(p){const b=this.handlers[p];if(!b)throw new Error(`no handlers for embed type "${p}"`);return b}insert(p,b){const y={};return typeof p=="string"&&p.length===0?this:(y.insert=p,b!=null&&typeof b=="object"&&Object.keys(b).length>0&&(y.attributes=b),this.push(y))}delete(p){return p<=0?this:this.push({delete:p})}retain(p,b){if(typeof p=="number"&&p<=0)return this;const y={retain:p};return b!=null&&typeof b=="object"&&Object.keys(b).length>0&&(y.attributes=b),this.push(y)}push(p){let b=this.ops.length,y=this.ops[b-1];if(p=r(p),typeof y=="object"){if(typeof p.delete=="number"&&typeof y.delete=="number")return this.ops[b-1]={delete:y.delete+p.delete},this;if(typeof y.delete=="number"&&p.insert!=null&&(b-=1,y=this.ops[b-1],typeof y!="object"))return this.ops.unshift(p),this;if(o(p.attributes,y.attributes)){if(typeof p.insert=="string"&&typeof y.insert=="string")return this.ops[b-1]={insert:y.insert+p.insert},typeof p.attributes=="object"&&(this.ops[b-1].attributes=p.attributes),this;if(typeof p.retain=="number"&&typeof y.retain=="number")return this.ops[b-1]={retain:y.retain+p.retain},typeof p.attributes=="object"&&(this.ops[b-1].attributes=p.attributes),this}}return b===this.ops.length?this.ops.push(p):this.ops.splice(b,0,p),this}chop(){const p=this.ops[this.ops.length-1];return p&&typeof p.retain=="number"&&!p.attributes&&this.ops.pop(),this}filter(p){return this.ops.filter(p)}forEach(p){this.ops.forEach(p)}map(p){return this.ops.map(p)}partition(p){const b=[],y=[];return this.forEach(w=>{(p(w)?b:y).push(w)}),[b,y]}reduce(p,b){return this.ops.reduce(p,b)}changeLength(){return this.reduce((p,b)=>b.insert?p+a.default.length(b):b.delete?p-b.delete:p,0)}length(){return this.reduce((p,b)=>p+a.default.length(b),0)}slice(p=0,b=1/0){const y=[],w=new u.default(this.ops);let E=0;for(;E<b&&w.hasNext();){let S;E<p?S=w.next(p-E):(S=w.next(b-E),y.push(S)),E+=a.default.length(S)}return new h(y)}compose(p){const b=new u.default(this.ops),y=new u.default(p.ops),w=[],E=y.peek();if(E!=null&&typeof E.retain=="number"&&E.attributes==null){let R=E.retain;for(;b.peekType()==="insert"&&b.peekLength()<=R;)R-=b.peekLength(),w.push(b.next());E.retain-R>0&&y.next(E.retain-R)}const S=new h(w);for(;b.hasNext()||y.hasNext();)if(y.peekType()==="insert")S.push(y.next());else if(b.peekType()==="delete")S.push(b.next());else{const R=Math.min(b.peekLength(),y.peekLength()),I=b.next(R),j=y.next(R);if(j.retain){const z={};if(typeof I.retain=="number")z.retain=typeof j.retain=="number"?R:j.retain;else if(typeof j.retain=="number")I.retain==null?z.insert=I.insert:z.retain=I.retain;else{const V=I.retain==null?"insert":"retain",[ne,pe,fe]=d(I[V],j.retain),N=h.getHandler(ne);z[V]={[ne]:N.compose(pe,fe,V==="retain")}}const J=l.default.compose(I.attributes,j.attributes,typeof I.retain=="number");if(J&&(z.attributes=J),S.push(z),!y.hasNext()&&o(S.ops[S.ops.length-1],z)){const V=new h(b.rest());return S.concat(V).chop()}}else typeof j.delete=="number"&&(typeof I.retain=="number"||typeof I.retain=="object"&&I.retain!==null)&&S.push(j)}return S.chop()}concat(p){const b=new h(this.ops.slice());return p.ops.length>0&&(b.push(p.ops[0]),b.ops=b.ops.concat(p.ops.slice(1))),b}diff(p,b){if(this.ops===p.ops)return new h;const y=[this,p].map(I=>I.map(j=>{if(j.insert!=null)return typeof j.insert=="string"?j.insert:f;const z=I===p?"on":"with";throw new Error("diff() called "+z+" non-document")}).join("")),w=new h,E=t(y[0],y[1],b,!0),S=new u.default(this.ops),R=new u.default(p.ops);return E.forEach(I=>{let j=I[1].length;for(;j>0;){let z=0;switch(I[0]){case t.INSERT:z=Math.min(R.peekLength(),j),w.push(R.next(z));break;case t.DELETE:z=Math.min(j,S.peekLength()),S.next(z),w.delete(z);break;case t.EQUAL:z=Math.min(S.peekLength(),R.peekLength(),j);const J=S.next(z),V=R.next(z);o(J.insert,V.insert)?w.retain(z,l.default.diff(J.attributes,V.attributes)):w.push(V).delete(z);break}j-=z}}),w.chop()}eachLine(p,b=`
`){const y=new u.default(this.ops);let w=new h,E=0;for(;y.hasNext();){if(y.peekType()!=="insert")return;const S=y.peek(),R=a.default.length(S)-y.peekLength(),I=typeof S.insert=="string"?S.insert.indexOf(b,R)-R:-1;if(I<0)w.push(y.next());else if(I>0)w.push(y.next(I));else{if(p(w,y.next(1).attributes||{},E)===!1)return;E+=1,w=new h}}w.length()>0&&p(w,{},E)}invert(p){const b=new h;return this.reduce((y,w)=>{if(w.insert)b.delete(a.default.length(w));else{if(typeof w.retain=="number"&&w.attributes==null)return b.retain(w.retain),y+w.retain;if(w.delete||typeof w.retain=="number"){const E=w.delete||w.retain;return p.slice(y,y+E).forEach(R=>{w.delete?b.push(R):w.retain&&w.attributes&&b.retain(a.default.length(R),l.default.invert(w.attributes,R.attributes))}),y+E}else if(typeof w.retain=="object"&&w.retain!==null){const E=p.slice(y,y+1),S=new u.default(E.ops).next(),[R,I,j]=d(w.retain,S.insert),z=h.getHandler(R);return b.retain({[R]:z.invert(I,j)},l.default.invert(w.attributes,S.attributes)),y+1}}return y},0),b.chop()}transform(p,b=!1){if(b=!!b,typeof p=="number")return this.transformPosition(p,b);const y=p,w=new u.default(this.ops),E=new u.default(y.ops),S=new h;for(;w.hasNext()||E.hasNext();)if(w.peekType()==="insert"&&(b||E.peekType()!=="insert"))S.retain(a.default.length(w.next()));else if(E.peekType()==="insert")S.push(E.next());else{const R=Math.min(w.peekLength(),E.peekLength()),I=w.next(R),j=E.next(R);if(I.delete)continue;if(j.delete)S.push(j);else{const z=I.retain,J=j.retain;let V=typeof J=="object"&&J!==null?J:R;if(typeof z=="object"&&z!==null&&typeof J=="object"&&J!==null){const ne=Object.keys(z)[0];if(ne===Object.keys(J)[0]){const pe=h.getHandler(ne);pe&&(V={[ne]:pe.transform(z[ne],J[ne],b)})}}S.retain(V,l.default.transform(I.attributes,j.attributes,b))}}return S.chop()}transformPosition(p,b=!1){b=!!b;const y=new u.default(this.ops);let w=0;for(;y.hasNext()&&w<=p;){const E=y.peekLength(),S=y.peekType();if(y.next(),S==="delete"){p-=Math.min(E,p-w);continue}else S==="insert"&&(w<p||!b)&&(p+=E);w+=E}return p}}h.Op=a.default,h.OpIterator=u.default,h.AttributeMap=l.default,h.handlers={},e.default=h,n.exports=h,n.exports.default=h}(Za,Za.exports)),Za.exports}var Mn=rN();const we=D1(Mn);class er extends bn{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}er.blotName="break";er.tagName="BR";let Jn=class extends Sc{};const iN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Xc(n){return n.replace(/[&<>"']/g,e=>iN[e])}class Yt extends Zd{static allowedChildren=[Yt,er,bn,Jn];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(e,t){const r=Yt.order.indexOf(e),o=Yt.order.indexOf(t);return r>=0||o>=0?r-o:e===t?0:e<t?-1:1}formatAt(e,t,r,o){if(Yt.compare(this.statics.blotName,r)<0&&this.scroll.query(r,Ae.BLOT)){const l=this.isolate(e,t);o&&l.wrap(r,o)}else super.formatAt(e,t,r,o)}optimize(e){if(super.optimize(e),this.parent instanceof Yt&&Yt.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}}const o1=1;let jt=class extends kl{cache={};delta(){return this.cache.delta==null&&(this.cache.delta=Rv(this)),this.cache.delta}deleteAt(e,t){super.deleteAt(e,t),this.cache={}}formatAt(e,t,r,o){t<=0||(this.scroll.query(r,Ae.BLOCK)?e+t===this.length()&&this.format(r,o):super.formatAt(e,Math.min(t,this.length()-e-1),r,o),this.cache={})}insertAt(e,t,r){if(r!=null){super.insertAt(e,t,r),this.cache={};return}if(t.length===0)return;const o=t.split(`
`),l=o.shift();l.length>0&&(e<this.length()-1||this.children.tail==null?super.insertAt(Math.min(e,this.length()-1),l):this.children.tail.insertAt(this.children.tail.length(),l),this.cache={});let a=this;o.reduce((u,f)=>(a=a.split(u,!0),a.insertAt(0,f),f.length),e+l.length)}insertBefore(e,t){const{head:r}=this.children;super.insertBefore(e,t),r instanceof er&&r.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+o1),this.cache.length}moveChildren(e,t){super.moveChildren(e,t),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t&&(e===0||e>=this.length()-o1)){const o=this.clone();return e===0?(this.parent.insertBefore(o,this),this):(this.parent.insertBefore(o,this.next),o)}const r=super.split(e,t);return this.cache={},r}};jt.blotName="block";jt.tagName="P";jt.defaultChild=er;jt.allowedChildren=[er,Yt,bn,Jn];class Bn extends bn{attach(){super.attach(),this.attributes=new Kc(this.domNode)}delta(){return new we().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,t){const r=this.scroll.query(e,Ae.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,t)}formatAt(e,t,r,o){this.format(r,o)}insertAt(e,t,r){if(r!=null){super.insertAt(e,t,r);return}const o=t.split(`
`),l=o.pop(),a=o.map(f=>{const d=this.scroll.create(jt.blotName);return d.insertAt(0,f),d}),u=this.split(e);a.forEach(f=>{this.parent.insertBefore(f,u)}),l&&this.parent.insertBefore(this.scroll.create("text",l),u)}}Bn.scope=Ae.BLOCK_BLOT;function Rv(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.descendants(Wt).reduce((t,r)=>r.length()===0?t:t.insert(r.value(),In(r,{},e)),new we).insert(`
`,In(n))}function In(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return n==null||("formats"in n&&typeof n.formats=="function"&&(e={...e,...n.formats()},t&&delete e["code-token"]),n.parent==null||n.parent.statics.blotName==="scroll"||n.parent.statics.scope!==n.statics.scope)?e:In(n.parent,e,t)}class Gn extends bn{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\uFEFF";static value(){}constructor(e,t,r){super(e,t),this.selection=r,this.textNode=document.createTextNode(Gn.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,t){if(this.savedLength!==0){super.format(e,t);return}let r=this,o=0;for(;r!=null&&r.statics.scope!==Ae.BLOCK_BLOT;)o+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=Gn.CONTENTS.length,r.optimize(),r.formatAt(o,Gn.CONTENTS.length,e,t),this.savedLength=0)}index(e,t){return e===this.textNode?0:super.index(e,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof Jn?this.prev:null,r=t?t.length():0,o=this.next instanceof Jn?this.next:null,l=o?o.text:"",{textNode:a}=this,u=a.data.split(Gn.CONTENTS).join("");a.data=Gn.CONTENTS;let f;if(t)f=t,(u||o)&&(t.insertAt(t.length(),u+l),o&&o.remove());else if(o)f=o,o.insertAt(0,u);else{const d=document.createTextNode(u);f=this.scroll.create(d),this.parent.insertBefore(f,this)}if(this.remove(),e){const d=(p,b)=>t&&p===t.domNode?b:p===a?r+b-1:o&&p===o.domNode?r+u.length+b:null,h=d(e.start.node,e.start.offset),g=d(e.end.node,e.end.offset);if(h!==null&&g!==null)return{startNode:f.domNode,startOffset:h,endNode:f.domNode,endOffset:g}}return null}update(e,t){if(e.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(t.range=r)}}optimize(e){super.optimize(e);let{parent:t}=this;for(;t;){if(t.domNode.tagName==="A"){this.savedLength=Gn.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}}var Ef={exports:{}},l1;function sN(){return l1||(l1=1,function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function o(f,d,h){this.fn=f,this.context=d,this.once=h||!1}function l(f,d,h,g,p){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new o(h,g||f,p),y=t?t+d:d;return f._events[y]?f._events[y].fn?f._events[y]=[f._events[y],b]:f._events[y].push(b):(f._events[y]=b,f._eventsCount++),f}function a(f,d){--f._eventsCount===0?f._events=new r:delete f._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],h,g;if(this._eventsCount===0)return d;for(g in h=this._events)e.call(h,g)&&d.push(t?g.slice(1):g);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},u.prototype.listeners=function(d){var h=t?t+d:d,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var p=0,b=g.length,y=new Array(b);p<b;p++)y[p]=g[p].fn;return y},u.prototype.listenerCount=function(d){var h=t?t+d:d,g=this._events[h];return g?g.fn?1:g.length:0},u.prototype.emit=function(d,h,g,p,b,y){var w=t?t+d:d;if(!this._events[w])return!1;var E=this._events[w],S=arguments.length,R,I;if(E.fn){switch(E.once&&this.removeListener(d,E.fn,void 0,!0),S){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,h),!0;case 3:return E.fn.call(E.context,h,g),!0;case 4:return E.fn.call(E.context,h,g,p),!0;case 5:return E.fn.call(E.context,h,g,p,b),!0;case 6:return E.fn.call(E.context,h,g,p,b,y),!0}for(I=1,R=new Array(S-1);I<S;I++)R[I-1]=arguments[I];E.fn.apply(E.context,R)}else{var j=E.length,z;for(I=0;I<j;I++)switch(E[I].once&&this.removeListener(d,E[I].fn,void 0,!0),S){case 1:E[I].fn.call(E[I].context);break;case 2:E[I].fn.call(E[I].context,h);break;case 3:E[I].fn.call(E[I].context,h,g);break;case 4:E[I].fn.call(E[I].context,h,g,p);break;default:if(!R)for(z=1,R=new Array(S-1);z<S;z++)R[z-1]=arguments[z];E[I].fn.apply(E[I].context,R)}}return!0},u.prototype.on=function(d,h,g){return l(this,d,h,g,!1)},u.prototype.once=function(d,h,g){return l(this,d,h,g,!0)},u.prototype.removeListener=function(d,h,g,p){var b=t?t+d:d;if(!this._events[b])return this;if(!h)return a(this,b),this;var y=this._events[b];if(y.fn)y.fn===h&&(!p||y.once)&&(!g||y.context===g)&&a(this,b);else{for(var w=0,E=[],S=y.length;w<S;w++)(y[w].fn!==h||p&&!y[w].once||g&&y[w].context!==g)&&E.push(y[w]);E.length?this._events[b]=E.length===1?E[0]:E:a(this,b)}return this},u.prototype.removeAllListeners=function(d){var h;return d?(h=t?t+d:d,this._events[h]&&a(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=t,u.EventEmitter=u,n.exports=u}(Ef)),Ef.exports}var oN=sN();const lN=D1(oN),nd=new WeakMap,rd=["error","warn","log","info"];let id="warn";function kv(n){if(id&&rd.indexOf(n)<=rd.indexOf(id)){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];console[n](...t)}}function Vr(n){return rd.reduce((e,t)=>(e[t]=kv.bind(console,t,n),e),{})}Vr.level=n=>{id=n};kv.level=Vr.level;const Af=Vr("quill:events"),aN=["selectionchange","mousedown","mouseup","click"];aN.forEach(n=>{document.addEventListener(n,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(o=>{const l=nd.get(o);l&&l.emitter&&l.emitter.handleDOM(...t)})})});class Ce extends lN{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",Af.error)}emit(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Af.log.call(Af,...t),super.emit(...t)}handleDOM(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];(this.domListeners[e.type]||[]).forEach(l=>{let{node:a,handler:u}=l;(e.target===a||a.contains(e.target))&&u(e,...r)})}listenDOM(e,t,r){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:t,handler:r})}}const _f=Vr("quill:selection");class ls{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=t}}class cN{constructor(e,t){this.emitter=t,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new ls(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Ce.sources.USER),1)}),this.emitter.on(Ce.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(Ce.events.SCROLL_UPDATE,(o,l)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const a=l.some(u=>u.type==="characterData"||u.type==="childList"||u.type==="attributes"&&u.target===this.root);this.update(a?Ce.sources.SILENT:o)}catch{}})}),this.emitter.on(Ce.events.SCROLL_OPTIMIZE,(r,o)=>{if(o.range){const{startNode:l,startOffset:a,endNode:u,endOffset:f}=o.range;this.setNativeRange(l,a,u,f),this.update(Ce.sources.SILENT)}}),this.update(Ce.sources.SILENT)}handleComposition(){this.emitter.on(Ce.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Ce.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Ce.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,t){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(e,Ae.BLOCK))){if(r.start.node!==this.cursor.textNode){const o=this.scroll.find(r.start.node,!1);if(o==null)return;if(o instanceof Wt){const l=o.split(r.start.offset);o.parent.insertBefore(this.cursor,l)}else o.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();e=Math.min(e,r-1),t=Math.min(e+t,r-1)-e;let o,[l,a]=this.scroll.leaf(e);if(l==null)return null;if(t>0&&a===l.length()){const[h]=this.scroll.leaf(e+1);if(h){const[g]=this.scroll.line(e),[p]=this.scroll.line(e+1);g===p&&(l=h,a=0)}}[o,a]=l.position(a,!0);const u=document.createRange();if(t>0)return u.setStart(o,a),[l,a]=this.scroll.leaf(e+t),l==null?null:([o,a]=l.position(a,!0),u.setEnd(o,a),u.getBoundingClientRect());let f="left",d;if(o instanceof Text){if(!o.data.length)return null;a<o.data.length?(u.setStart(o,a),u.setEnd(o,a+1)):(u.setStart(o,a-1),u.setEnd(o,a),f="right"),d=u.getBoundingClientRect()}else{if(!(l.domNode instanceof Element))return null;d=l.domNode.getBoundingClientRect(),a>0&&(f="right")}return{bottom:d.top+d.height,height:d.height,left:d[f],right:d[f],top:d.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const t=e.getRangeAt(0);if(t==null)return null;const r=this.normalizeNative(t);return _f.info("getNativeRange",r),r}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&Tf(this.root,document.activeElement)}normalizedToRange(e){const t=[[e.start.node,e.start.offset]];e.native.collapsed||t.push([e.end.node,e.end.offset]);const r=t.map(a=>{const[u,f]=a,d=this.scroll.find(u,!0),h=d.offset(this.scroll);return f===0?h:d instanceof Wt?h+d.index(u,f):h+d.length()}),o=Math.min(Math.max(...r),this.scroll.length()-1),l=Math.min(o,...r);return new ls(l,o-l)}normalizeNative(e){if(!Tf(this.root,e.startContainer)||!e.collapsed&&!Tf(this.root,e.endContainer))return null;const t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(r=>{let{node:o,offset:l}=r;for(;!(o instanceof Text)&&o.childNodes.length>0;)if(o.childNodes.length>l)o=o.childNodes[l],l=0;else if(o.childNodes.length===l)o=o.lastChild,o instanceof Text?l=o.data.length:o.childNodes.length>0?l=o.childNodes.length:l=o.childNodes.length+1;else break;r.node=o,r.offset=l}),t}rangeToNative(e){const t=this.scroll.length(),r=(o,l)=>{o=Math.min(t-1,o);const[a,u]=this.scroll.leaf(o);return a?a.position(u,l):[null,-1]};return[...r(e.index,!1),...r(e.index+e.length,!0)]}setNativeRange(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(_f.info("setNativeRange",e,t,r,o),e!=null&&(this.root.parentNode==null||e.parentNode==null||r.parentNode==null))return;const a=document.getSelection();if(a!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:u}=this.getNativeRange()||{};if(u==null||l||e!==u.startContainer||t!==u.startOffset||r!==u.endContainer||o!==u.endOffset){e instanceof Element&&e.tagName==="BR"&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),r instanceof Element&&r.tagName==="BR"&&(o=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const f=document.createRange();f.setStart(e,t),f.setEnd(r,o),a.removeAllRanges(),a.addRange(f)}}else a.removeAllRanges(),this.root.blur()}setRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ce.sources.API;if(typeof t=="string"&&(r=t,t=!1),_f.info("setRange",e),e!=null){const o=this.rangeToNative(e);this.setNativeRange(...o,t)}else this.setNativeRange(null);this.update(r)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ce.sources.USER;const t=this.lastRange,[r,o]=this.getRange();if(this.lastRange=r,this.lastNative=o,this.lastRange!=null&&(this.savedRange=this.lastRange),!Gd(t,this.lastRange)){if(!this.composing&&o!=null&&o.native.collapsed&&o.start.node!==this.cursor.textNode){const a=this.cursor.restore();a&&this.setNativeRange(a.startNode,a.startOffset,a.endNode,a.endOffset)}const l=[Ce.events.SELECTION_CHANGE,go(this.lastRange),go(t),e];this.emitter.emit(Ce.events.EDITOR_CHANGE,...l),e!==Ce.sources.SILENT&&this.emitter.emit(...l)}}}function Tf(n,e){try{e.parentNode}catch{return!1}return n.contains(e)}const uN=/^[ -~]*$/;let fN=class{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const r=a1(e),o=new we;return hN(r.ops.slice()).reduce((a,u)=>{const f=Mn.Op.length(u);let d=u.attributes||{},h=!1,g=!1;if(u.insert!=null){if(o.retain(f),typeof u.insert=="string"){const y=u.insert;g=!y.endsWith(`
`)&&(t<=a||!!this.scroll.descendant(Bn,a)[0]),this.scroll.insertAt(a,y);const[w,E]=this.scroll.line(a);let S=Ci({},In(w));if(w instanceof jt){const[R]=w.descendant(Wt,E);R&&(S=Ci(S,In(R)))}d=Mn.AttributeMap.diff(S,d)||{}}else if(typeof u.insert=="object"){const y=Object.keys(u.insert)[0];if(y==null)return a;const w=this.scroll.query(y,Ae.INLINE)!=null;if(w)(t<=a||this.scroll.descendant(Bn,a)[0])&&(g=!0);else if(a>0){const[E,S]=this.scroll.descendant(Wt,a-1);E instanceof Jn?E.value()[S]!==`
`&&(h=!0):E instanceof bn&&E.statics.scope===Ae.INLINE_BLOT&&(h=!0)}if(this.scroll.insertAt(a,y,u.insert[y]),w){const[E]=this.scroll.descendant(Wt,a);if(E){const S=Ci({},In(E));d=Mn.AttributeMap.diff(S,d)||{}}}}t+=f}else if(o.push(u),u.retain!==null&&typeof u.retain=="object"){const y=Object.keys(u.retain)[0];if(y==null)return a;this.scroll.updateEmbedAt(a,y,u.retain[y])}Object.keys(d).forEach(y=>{this.scroll.formatAt(a,f,y,d[y])});const p=h?1:0,b=g?1:0;return t+=p+b,o.retain(p),o.delete(b),a+f+p+b},0),o.reduce((a,u)=>typeof u.delete=="number"?(this.scroll.deleteAt(a,u.delete),a):a+Mn.Op.length(u),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(e,t){return this.scroll.deleteAt(e,t),this.update(new we().retain(e).delete(t))}formatLine(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(l=>{this.scroll.lines(e,Math.max(t,1)).forEach(a=>{a.format(l,r[l])})}),this.scroll.optimize();const o=new we().retain(e).retain(t,go(r));return this.update(o)}formatText(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(l=>{this.scroll.formatAt(e,t,l,r[l])});const o=new we().retain(e).retain(t,go(r));return this.update(o)}getContents(e,t){return this.delta.slice(e,e+t)}getDelta(){return this.scroll.lines().reduce((e,t)=>e.concat(t.delta()),new we)}getFormat(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],o=[];t===0?this.scroll.path(e).forEach(u=>{const[f]=u;f instanceof jt?r.push(f):f instanceof Wt&&o.push(f)}):(r=this.scroll.lines(e,t),o=this.scroll.descendants(Wt,e,t));const[l,a]=[r,o].map(u=>{const f=u.shift();if(f==null)return{};let d=In(f);for(;Object.keys(d).length>0;){const h=u.shift();if(h==null)return d;d=dN(In(h),d)}return d});return{...l,...a}}getHTML(e,t){const[r,o]=this.scroll.line(e);if(r){const l=r.length();return r.length()>=o+t&&!(o===0&&t===l)?Il(r,o,t,!0):Il(this.scroll,e,t,!0)}return""}getText(e,t){return this.getContents(e,t).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(e,t){const r=a1(t),o=new we().retain(e).concat(r);return this.scroll.insertContents(e,r),this.update(o)}insertEmbed(e,t,r){return this.scroll.insertAt(e,t,r),this.update(new we().retain(e).insert({[t]:r}))}insertText(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,t),Object.keys(r).forEach(o=>{this.scroll.formatAt(e,t.length,o,r[o])}),this.update(new we().retain(e).insert(t,go(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if(e?.statics.blotName!==jt.blotName)return!1;const t=e;return t.children.length>1?!1:t.children.head instanceof er}removeFormat(e,t){const r=this.getText(e,t),[o,l]=this.scroll.line(e+t);let a=0,u=new we;o!=null&&(a=o.length()-l,u=o.delta().slice(l,l+a-1).insert(`
`));const d=this.getContents(e,t+a).diff(new we().insert(r).concat(u)),h=new we().retain(e).concat(d);return this.applyDelta(h)}update(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const o=this.delta;if(t.length===1&&t[0].type==="characterData"&&t[0].target.data.match(uN)&&this.scroll.find(t[0].target)){const l=this.scroll.find(t[0].target),a=In(l),u=l.offset(this.scroll),f=t[0].oldValue.replace(Gn.CONTENTS,""),d=new we().insert(f),h=new we().insert(l.value()),g=r&&{oldRange:c1(r.oldRange,-u),newRange:c1(r.newRange,-u)};e=new we().retain(u).concat(d.diff(h,g)).reduce((b,y)=>y.insert?b.insert(y.insert,a):b.push(y),new we),this.delta=o.compose(e)}else this.delta=this.getDelta(),(!e||!Gd(o.compose(e),this.delta))&&(e=o.diff(this.delta,r));return e}};function oo(n,e,t){if(n.length===0){const[b]=Sf(t.pop());return e<=0?`</li></${b}>`:`</li></${b}>${oo([],e-1,t)}`}const[{child:r,offset:o,length:l,indent:a,type:u},...f]=n,[d,h]=Sf(u);if(a>e)return t.push(u),a===e+1?`<${d}><li${h}>${Il(r,o,l)}${oo(f,a,t)}`:`<${d}><li>${oo(n,e+1,t)}`;const g=t[t.length-1];if(a===e&&u===g)return`</li><li${h}>${Il(r,o,l)}${oo(f,a,t)}`;const[p]=Sf(t.pop());return`</li></${p}>${oo(n,e-1,t)}`}function Il(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in n&&typeof n.html=="function")return n.html(e,t);if(n instanceof Jn)return Xc(n.value().slice(e,e+t)).replaceAll(" ","&nbsp;");if(n instanceof Xn){if(n.statics.blotName==="list-container"){const d=[];return n.children.forEachAt(e,t,(h,g,p)=>{const b="formats"in h&&typeof h.formats=="function"?h.formats():{};d.push({child:h,offset:g,length:p,indent:b.indent||0,type:b.list})}),oo(d,-1,[])}const o=[];if(n.children.forEachAt(e,t,(d,h,g)=>{o.push(Il(d,h,g))}),r||n.statics.blotName==="list")return o.join("");const{outerHTML:l,innerHTML:a}=n.domNode,[u,f]=l.split(`>${a}<`);return u==="<table"?`<table style="border: 1px solid #000;">${o.join("")}<${f}`:`${u}>${o.join("")}<${f}`}return n.domNode instanceof Element?n.domNode.outerHTML:""}function dN(n,e){return Object.keys(e).reduce((t,r)=>{if(n[r]==null)return t;const o=e[r];return o===n[r]?t[r]=o:Array.isArray(o)?o.indexOf(n[r])<0?t[r]=o.concat([n[r]]):t[r]=o:t[r]=[o,n[r]],t},{})}function Sf(n){const e=n==="ordered"?"ol":"ul";switch(n){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function a1(n){return n.reduce((e,t)=>{if(typeof t.insert=="string"){const r=t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(r,t.attributes)}return e.push(t)},new we)}function c1(n,e){let{index:t,length:r}=n;return new ls(t+e,r)}function hN(n){const e=[];return n.forEach(t=>{typeof t.insert=="string"?t.insert.split(`
`).forEach((o,l)=>{l&&e.push({insert:`
`,attributes:t.attributes}),o&&e.push({insert:o,attributes:t.attributes})}):e.push(t)}),e}class mr{static DEFAULTS={};constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=t}}const Ja="\uFEFF";class Yd extends bn{constructor(e,t){super(e,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(Ja),this.rightGuard=document.createTextNode(Ja),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,t)}restore(e){let t=null,r;const o=e.data.split(Ja).join("");if(e===this.leftGuard)if(this.prev instanceof Jn){const l=this.prev.length();this.prev.insertAt(l,o),t={startNode:this.prev.domNode,startOffset:l+o.length}}else r=document.createTextNode(o),this.parent.insertBefore(this.scroll.create(r),this),t={startNode:r,startOffset:o.length};else e===this.rightGuard&&(this.next instanceof Jn?(this.next.insertAt(0,o),t={startNode:this.next.domNode,startOffset:o.length}):(r=document.createTextNode(o),this.parent.insertBefore(this.scroll.create(r),this.next),t={startNode:r,startOffset:o.length}));return e.data=Ja,t}update(e,t){e.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const o=this.restore(r.target);o&&(t.range=o)}})}}class pN{isComposing=!1;constructor(e,t){this.scroll=e,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const t=e.target instanceof Node?this.scroll.find(e.target,!0):null;t&&!(t instanceof Yd)&&(this.emitter.emit(Ce.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(Ce.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(Ce.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(Ce.events.COMPOSITION_END,e),this.isComposing=!1}}class Ao{static DEFAULTS={modules:{}};static themes={default:Ao};modules={};constructor(e,t){this.quill=e,this.options=t}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const t=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}const gN=n=>n.parentElement||n.getRootNode().host||null,mN=n=>{const e=n.getBoundingClientRect(),t="offsetWidth"in n&&Math.abs(e.width)/n.offsetWidth||1,r="offsetHeight"in n&&Math.abs(e.height)/n.offsetHeight||1;return{top:e.top,right:e.left+n.clientWidth*t,bottom:e.top+n.clientHeight*r,left:e.left}},Qa=n=>{const e=parseInt(n,10);return Number.isNaN(e)?0:e},u1=(n,e,t,r,o,l)=>n<t&&e>r?0:n<t?-(t-n+o):e>r?e-n>r-t?n+o-t:e-r+l:0,vN=(n,e)=>{const t=n.ownerDocument;let r=e,o=n;for(;o;){const l=o===t.body,a=l?{top:0,right:window.visualViewport?.width??t.documentElement.clientWidth,bottom:window.visualViewport?.height??t.documentElement.clientHeight,left:0}:mN(o),u=getComputedStyle(o),f=u1(r.left,r.right,a.left,a.right,Qa(u.scrollPaddingLeft),Qa(u.scrollPaddingRight)),d=u1(r.top,r.bottom,a.top,a.bottom,Qa(u.scrollPaddingTop),Qa(u.scrollPaddingBottom));if(f||d)if(l)t.defaultView?.scrollBy(f,d);else{const{scrollLeft:h,scrollTop:g}=o;d&&(o.scrollTop+=d),f&&(o.scrollLeft+=f);const p=o.scrollLeft-h,b=o.scrollTop-g;r={left:r.left-p,top:r.top-b,right:r.right-p,bottom:r.bottom-b}}o=l||u.position==="fixed"?null:gN(o)}},bN=100,xN=["block","break","cursor","inline","scroll","text"],yN=(n,e,t)=>{const r=new wo;return xN.forEach(o=>{const l=e.query(o);l&&r.register(l)}),n.forEach(o=>{let l=e.query(o);l||t.error(`Cannot register "${o}" specified in "formats" config. Are you sure it was registered?`);let a=0;for(;l;)if(r.register(l),l="blotName"in l?l.requiredContainer??null:null,a+=1,a>bN){t.error(`Cycle detected in registering blot requiredContainer: "${o}"`);break}}),r},vo=Vr("quill"),ec=new wo;Xn.uiClass="ql-ui";class re{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:ec,theme:"default"};static events=Ce.events;static sources=Ce.sources;static version="2.0.3";static imports={delta:we,parchment:Q5,"core/module":mr,"core/theme":Ao};static debug(e){e===!0&&(e="log"),Vr.level(e)}static find(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return nd.get(e)||ec.find(e,t)}static import(e){return this.imports[e]==null&&vo.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],t=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in e?e.attrName:e.blotName;typeof r=="string"?this.register(`formats/${r}`,e,t):Object.keys(e).forEach(o=>{this.register(o,e[o],t)})}else{const e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!r&&vo.warn(`Overwriting ${e} with`,t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&t&&typeof t!="boolean"&&t.blotName!=="abstract"&&ec.register(t),typeof t.register=="function"&&t.register(ec)}}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=wN(e,t),this.container=this.options.container,this.container==null){vo.error("Invalid Quill container",e);return}this.options.debug&&re.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",nd.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Ce;const o=Kd.blotName,l=this.options.registry.query(o);if(!l||!("blotName"in l))throw new Error(`Cannot initialize Quill without "${o}" blot`);if(this.scroll=new l(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new fN(this.scroll),this.selection=new cN(this.scroll,this.emitter),this.composition=new pN(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Ce.events.EDITOR_CHANGE,a=>{a===Ce.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Ce.events.SCROLL_UPDATE,(a,u)=>{const f=this.selection.lastRange,[d]=this.selection.getRange(),h=f&&d?{oldRange:f,newRange:d}:void 0;Wn.call(this,()=>this.editor.update(null,u,h),a)}),this.emitter.on(Ce.events.SCROLL_EMBED_UPDATE,(a,u)=>{const f=this.selection.lastRange,[d]=this.selection.getRange(),h=f&&d?{oldRange:f,newRange:d}:void 0;Wn.call(this,()=>{const g=new we().retain(a.offset(this)).retain({[a.statics.blotName]:u});return this.editor.update(g,[],h)},re.sources.USER)}),r){const a=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(a)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const r=e;e=document.createElement("div"),e.classList.add(r)}return this.container.insertBefore(e,t),e}blur(){this.selection.setRange(null)}deleteText(e,t,r){return[e,t,,r]=Pr(e,t,r),Wn.call(this,()=>this.editor.deleteText(e,t),r,e,-1*t)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const t=e();return this.allowReadOnlyEdits=!1,t}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ce.sources.API;return Wn.call(this,()=>{const o=this.getSelection(!0);let l=new we;if(o==null)return l;if(this.scroll.query(e,Ae.BLOCK))l=this.editor.formatLine(o.index,o.length,{[e]:t});else{if(o.length===0)return this.selection.format(e,t),l;l=this.editor.formatText(o.index,o.length,{[e]:t})}return this.setSelection(o,Ce.sources.SILENT),l},r)}formatLine(e,t,r,o,l){let a;return[e,t,a,l]=Pr(e,t,r,o,l),Wn.call(this,()=>this.editor.formatLine(e,t,a),l,e,0)}formatText(e,t,r,o,l){let a;return[e,t,a,l]=Pr(e,t,r,o,l),Wn.call(this,()=>this.editor.formatText(e,t,a),l,e,0)}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof e=="number"?r=this.selection.getBounds(e,t):r=this.selection.getBounds(e.index,e.length),!r)return null;const o=this.container.getBoundingClientRect();return{bottom:r.bottom-o.top,height:r.height,left:r.left-o.left,right:r.right-o.left,top:r.top-o.top,width:r.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,t]=Pr(e,t),this.editor.getContents(e,t)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=Pr(e,t),this.editor.getHTML(e,t)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=Pr(e,t),this.editor.getText(e,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,t,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:re.sources.API;return Wn.call(this,()=>this.editor.insertEmbed(e,t,r),o,e)}insertText(e,t,r,o,l){let a;return[e,,a,l]=Pr(e,0,r,o,l),Wn.call(this,()=>this.editor.insertText(e,t,a),l,e,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,t,r){return[e,t,,r]=Pr(e,t,r),Wn.call(this,()=>this.editor.removeFormat(e,t),r,e)}scrollRectIntoView(e){vN(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,t=e&&this.selection.getBounds(e.index,e.length);t&&this.scrollRectIntoView(t)}setContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ce.sources.API;return Wn.call(this,()=>{e=new we(e);const r=this.getLength(),o=this.editor.deleteText(0,r),l=this.editor.insertContents(0,e),a=this.editor.deleteText(this.getLength()-1,1);return o.compose(l).compose(a)},t)}setSelection(e,t,r){e==null?this.selection.setRange(null,t||re.sources.API):([e,t,,r]=Pr(e,t,r),this.selection.setRange(new ls(Math.max(0,e),t),r),r!==Ce.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ce.sources.API;const r=new we().insert(e);return this.setContents(r,t)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ce.sources.USER;const t=this.scroll.update(e);return this.selection.update(e),t}updateContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ce.sources.API;return Wn.call(this,()=>(e=new we(e),this.editor.applyDelta(e)),t,!0)}}function f1(n){return typeof n=="string"?document.querySelector(n):n}function Lf(n){return Object.entries(n??{}).reduce((e,t)=>{let[r,o]=t;return{...e,[r]:o===!0?{}:o}},{})}function d1(n){return Object.fromEntries(Object.entries(n).filter(e=>e[1]!==void 0))}function wN(n,e){const t=f1(n);if(!t)throw new Error("Invalid Quill container");const o=!e.theme||e.theme===re.DEFAULTS.theme?Ao:re.import(`themes/${e.theme}`);if(!o)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:l,...a}=re.DEFAULTS,{modules:u,...f}=o.DEFAULTS;let d=Lf(e.modules);d!=null&&d.toolbar&&d.toolbar.constructor!==Object&&(d={...d,toolbar:{container:d.toolbar}});const h=Ci({},Lf(l),Lf(u),d),g={...a,...d1(f),...d1(e)};let p=e.registry;return p?e.formats&&vo.warn('Ignoring "formats" option because "registry" is specified'):p=e.formats?yN(e.formats,g.registry,vo):g.registry,{...g,registry:p,container:t,theme:o,modules:Object.entries(h).reduce((b,y)=>{let[w,E]=y;if(!E)return b;const S=re.import(`modules/${w}`);return S==null?(vo.error(`Cannot load ${w} module. Are you sure you registered it?`),b):{...b,[w]:Ci({},S.DEFAULTS||{},E)}},{}),bounds:f1(g.bounds)}}function Wn(n,e,t,r){if(!this.isEnabled()&&e===Ce.sources.USER&&!this.allowReadOnlyEdits)return new we;let o=t==null?null:this.getSelection();const l=this.editor.delta,a=n();if(o!=null&&(t===!0&&(t=o.index),r==null?o=h1(o,a,e):r!==0&&(o=h1(o,t,r,e)),this.setSelection(o,Ce.sources.SILENT)),a.length()>0){const u=[Ce.events.TEXT_CHANGE,a,l,e];this.emitter.emit(Ce.events.EDITOR_CHANGE,...u),e!==Ce.sources.SILENT&&this.emitter.emit(...u)}return a}function Pr(n,e,t,r,o){let l={};return typeof n.index=="number"&&typeof n.length=="number"?typeof e!="number"?(o=r,r=t,t=e,e=n.length,n=n.index):(e=n.length,n=n.index):typeof e!="number"&&(o=r,r=t,t=e,e=0),typeof t=="object"?(l=t,o=r):typeof t=="string"&&(r!=null?l[t]=r:o=t),o=o||Ce.sources.API,[n,e,l,o]}function h1(n,e,t,r){const o=typeof t=="number"?t:0;if(n==null)return null;let l,a;return e&&typeof e.transformPosition=="function"?[l,a]=[n.index,n.index+n.length].map(u=>e.transformPosition(u,r!==Ce.sources.USER)):[l,a]=[n.index,n.index+n.length].map(u=>u<e||u===e&&r===Ce.sources.USER?u:o>=0?u+o:Math.max(e,u+o)),new ls(l,a-l)}class hs extends Yc{}function p1(n){return n instanceof jt||n instanceof Bn}function g1(n){return typeof n.updateContent=="function"}class CN extends Kd{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=jt;static allowedChildren=[jt,Bn,hs];constructor(e,t,r){let{emitter:o}=r;super(e,t),this.emitter=o,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",l=>this.handleDragStart(l))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(Ce.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(Ce.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,t){this.emitter.emit(Ce.events.SCROLL_EMBED_UPDATE,e,t)}deleteAt(e,t){const[r,o]=this.line(e),[l]=this.line(e+t);if(super.deleteAt(e,t),l!=null&&r!==l&&o>0){if(r instanceof Bn||l instanceof Bn){this.optimize();return}const a=l.children.head instanceof er?null:l.children.head;r.moveChildren(l,a),r.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,t,r,o){super.formatAt(e,t,r,o),this.optimize()}insertAt(e,t,r){if(e>=this.length())if(r==null||this.scroll.query(t,Ae.BLOCK)==null){const o=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(o),r==null&&t.endsWith(`
`)?o.insertAt(0,t.slice(0,-1),r):o.insertAt(0,t,r)}else{const o=this.scroll.create(t,r);this.appendChild(o)}else super.insertAt(e,t,r);this.optimize()}insertBefore(e,t){if(e.statics.scope===Ae.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(e),super.insertBefore(r,t)}else super.insertBefore(e,t)}insertContents(e,t){const r=this.deltaToRenderBlocks(t.concat(new we().insert(`
`))),o=r.pop();if(o==null)return;this.batchStart();const l=r.shift();if(l){const f=l.type==="block"&&(l.delta.length()===0||!this.descendant(Bn,e)[0]&&e<this.length()),d=l.type==="block"?l.delta:new we().insert({[l.key]:l.value});Nf(this,e,d);const h=l.type==="block"?1:0,g=e+d.length()+h;f&&this.insertAt(g-1,`
`);const p=In(this.line(e)[0]),b=Mn.AttributeMap.diff(p,l.attributes)||{};Object.keys(b).forEach(y=>{this.formatAt(g-1,1,y,b[y])}),e=g}let[a,u]=this.children.find(e);if(r.length&&(a&&(a=a.split(u),u=0),r.forEach(f=>{if(f.type==="block"){const d=this.createBlock(f.attributes,a||void 0);Nf(d,0,f.delta)}else{const d=this.create(f.key,f.value);this.insertBefore(d,a||void 0),Object.keys(f.attributes).forEach(h=>{d.format(h,f.attributes[h])})}})),o.type==="block"&&o.delta.length()){const f=a?a.offset(a.scroll)+u:this.length();Nf(this,f,o.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const t=this.path(e).pop();if(!t)return[null,-1];const[r,o]=t;return r instanceof Wt?[r,o]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(p1,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(o,l,a)=>{let u=[],f=a;return o.children.forEachAt(l,a,(d,h,g)=>{p1(d)?u.push(d):d instanceof Yc&&(u=u.concat(r(d,h,f))),f-=g}),u};return r(this,e,t)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,t),e.length>0&&this.emitter.emit(Ce.events.SCROLL_OPTIMIZE,e,t))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let t=Ce.sources.USER;typeof e=="string"&&(t=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(r=>{let{target:o}=r;const l=this.find(o,!0);return l&&!g1(l)}),e.length>0&&this.emitter.emit(Ce.events.SCROLL_BEFORE_UPDATE,t,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(Ce.events.SCROLL_UPDATE,t,e)}updateEmbedAt(e,t,r){const[o]=this.descendant(l=>l instanceof Bn,e);o&&o.statics.blotName===t&&g1(o)&&o.updateContent(r)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const t=[];let r=new we;return e.forEach(o=>{const l=o?.insert;if(l)if(typeof l=="string"){const a=l.split(`
`);a.slice(0,-1).forEach(f=>{r.insert(f,o.attributes),t.push({type:"block",delta:r,attributes:o.attributes??{}}),r=new we});const u=a[a.length-1];u&&r.insert(u,o.attributes)}else{const a=Object.keys(l)[0];if(!a)return;this.query(a,Ae.INLINE)?r.push(o):(r.length()&&t.push({type:"block",delta:r,attributes:{}}),r=new we,t.push({type:"blockEmbed",key:a,value:l[a],attributes:o.attributes??{}}))}}),r.length()&&t.push({type:"block",delta:r,attributes:{}}),t}createBlock(e,t){let r;const o={};Object.entries(e).forEach(u=>{let[f,d]=u;this.query(f,Ae.BLOCK&Ae.BLOT)!=null?r=f:o[f]=d});const l=this.create(r||this.statics.defaultChild.blotName,r?e[r]:void 0);this.insertBefore(l,t||void 0);const a=l.length();return Object.entries(o).forEach(u=>{let[f,d]=u;l.formatAt(0,a,f,d)}),l}}function Nf(n,e,t){t.reduce((r,o)=>{const l=Mn.Op.length(o);let a=o.attributes||{};if(o.insert!=null){if(typeof o.insert=="string"){const u=o.insert;n.insertAt(r,u);const[f]=n.descendant(Wt,r),d=In(f);a=Mn.AttributeMap.diff(d,a)||{}}else if(typeof o.insert=="object"){const u=Object.keys(o.insert)[0];if(u==null)return r;if(n.insertAt(r,u,o.insert[u]),n.scroll.query(u,Ae.INLINE)!=null){const[d]=n.descendant(Wt,r),h=In(d);a=Mn.AttributeMap.diff(h,a)||{}}}}return Object.keys(a).forEach(u=>{n.formatAt(r,l,u,a[u])}),r+l},e)}const Xd={scope:Ae.BLOCK,whitelist:["right","center","justify"]},EN=new hr("align","align",Xd),Iv=new Qn("align","ql-align",Xd),Ov=new Li("align","text-align",Xd);class Bv extends Li{value(e){let t=super.value(e);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(o=>`00${parseInt(o,10).toString(16)}`.slice(-2)).join("")}`):t}}const AN=new Qn("color","ql-color",{scope:Ae.INLINE}),Jd=new Bv("color","color",{scope:Ae.INLINE}),_N=new Qn("background","ql-bg",{scope:Ae.INLINE}),Qd=new Bv("background","background-color",{scope:Ae.INLINE});class ps extends hs{static create(e){const t=super.create(e);return t.setAttribute("spellcheck","false"),t}code(e,t){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(e,e+t)}html(e,t){return`<pre>
${Xc(this.code(e,t))}
</pre>`}}class Xt extends jt{static TAB="  ";static register(){re.register(ps)}}class eh extends Yt{}eh.blotName="code";eh.tagName="CODE";Xt.blotName="code-block";Xt.className="ql-code-block";Xt.tagName="DIV";ps.blotName="code-block-container";ps.className="ql-code-block-container";ps.tagName="DIV";ps.allowedChildren=[Xt];Xt.allowedChildren=[Jn,er,Gn];Xt.requiredContainer=ps;const th={scope:Ae.BLOCK,whitelist:["rtl"]},Mv=new hr("direction","dir",th),jv=new Qn("direction","ql-direction",th),Pv=new Li("direction","direction",th),Dv={scope:Ae.INLINE,whitelist:["serif","monospace"]},qv=new Qn("font","ql-font",Dv);class TN extends Li{value(e){return super.value(e).replace(/["']/g,"")}}const Fv=new TN("font","font-family",Dv),Hv=new Qn("size","ql-size",{scope:Ae.INLINE,whitelist:["small","large","huge"]}),$v=new Li("size","font-size",{scope:Ae.INLINE,whitelist:["10px","18px","32px"]}),SN=Vr("quill:keyboard"),LN=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Jc extends mr{static match(e,t){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!t[r]!==e[r]&&t[r]!==null)?!1:t.key===e.key||t.key===e.which}constructor(e,t){super(e,t),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=RN(e);if(o==null){SN.warn("Attempted to add invalid keyboard binding",o);return}typeof t=="function"&&(t={handler:t}),typeof r=="function"&&(r={handler:r}),(Array.isArray(o.key)?o.key:[o.key]).forEach(a=>{const u={...o,key:a,...t,...r};this.bindings[u.key]=this.bindings[u.key]||[],this.bindings[u.key].push(u)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const o=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(S=>Jc.match(e,S));if(o.length===0)return;const l=re.find(e.target,!0);if(l&&l.scroll!==this.quill.scroll)return;const a=this.quill.getSelection();if(a==null||!this.quill.hasFocus())return;const[u,f]=this.quill.getLine(a.index),[d,h]=this.quill.getLeaf(a.index),[g,p]=a.length===0?[d,h]:this.quill.getLeaf(a.index+a.length),b=d instanceof Sc?d.value().slice(0,h):"",y=g instanceof Sc?g.value().slice(p):"",w={collapsed:a.length===0,empty:a.length===0&&u.length()<=1,format:this.quill.getFormat(a),line:u,offset:f,prefix:b,suffix:y,event:e};o.some(S=>{if(S.collapsed!=null&&S.collapsed!==w.collapsed||S.empty!=null&&S.empty!==w.empty||S.offset!=null&&S.offset!==w.offset)return!1;if(Array.isArray(S.format)){if(S.format.every(R=>w.format[R]==null))return!1}else if(typeof S.format=="object"&&!Object.keys(S.format).every(R=>S.format[R]===!0?w.format[R]!=null:S.format[R]===!1?w.format[R]==null:Gd(S.format[R],w.format[R])))return!1;return S.prefix!=null&&!S.prefix.test(w.prefix)||S.suffix!=null&&!S.suffix.test(w.suffix)?!1:S.handler.call(this,a,w,S)!==!0})&&e.preventDefault()})}handleBackspace(e,t){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let o={};const[l]=this.quill.getLine(e.index);let a=new we().retain(e.index-r).delete(r);if(t.offset===0){const[u]=this.quill.getLine(e.index-1);if(u&&!(u.statics.blotName==="block"&&u.length()<=1)){const d=l.formats(),h=this.quill.getFormat(e.index-1,1);if(o=Mn.AttributeMap.diff(d,h)||{},Object.keys(o).length>0){const g=new we().retain(e.index+l.length()-2).retain(1,o);a=a.compose(g)}}}this.quill.updateContents(a,re.sources.USER),this.quill.focus()}handleDelete(e,t){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(e.index>=this.quill.getLength()-r)return;let o={};const[l]=this.quill.getLine(e.index);let a=new we().retain(e.index).delete(r);if(t.offset>=l.length()-1){const[u]=this.quill.getLine(e.index+1);if(u){const f=l.formats(),d=this.quill.getFormat(e.index,1);o=Mn.AttributeMap.diff(f,d)||{},Object.keys(o).length>0&&(a=a.retain(u.length()-1).retain(1,o))}}this.quill.updateContents(a,re.sources.USER),this.quill.focus()}handleDeleteRange(e){nh({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,t){const r=Object.keys(t.format).reduce((l,a)=>(this.quill.scroll.query(a,Ae.BLOCK)&&!Array.isArray(t.format[a])&&(l[a]=t.format[a]),l),{}),o=new we().retain(e.index).delete(e.length).insert(`
`,r);this.quill.updateContents(o,re.sources.USER),this.quill.setSelection(e.index+1,re.sources.SILENT),this.quill.focus()}}const NN={bindings:{bold:Rf("bold"),italic:Rf("italic"),underline:Rf("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",re.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",re.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(n,e){e.format.indent!=null?this.quill.format("indent","-1",re.sources.USER):e.format.list!=null&&this.quill.format("list",!1,re.sources.USER)}},"indent code-block":m1(!0),"outdent code-block":m1(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(n){this.quill.deleteText(n.index-1,1,re.sources.USER)}},tab:{key:"Tab",handler(n,e){if(e.format.table)return!0;this.quill.history.cutoff();const t=new we().retain(n.index).delete(n.length).insert("	");return this.quill.updateContents(t,re.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index+1,re.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,re.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(n,e){const t={list:!1};e.format.indent&&(t.indent=!1),this.quill.formatLine(n.index,n.length,t,re.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(n){const[e,t]=this.quill.getLine(n.index),r={...e.formats(),list:"checked"},o=new we().retain(n.index).insert(`
`,r).retain(e.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(o,re.sources.USER),this.quill.setSelection(n.index+1,re.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(n,e){const[t,r]=this.quill.getLine(n.index),o=new we().retain(n.index).insert(`
`,e.format).retain(t.length()-r-1).retain(1,{header:null});this.quill.updateContents(o,re.sources.USER),this.quill.setSelection(n.index+1,re.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(n){const e=this.quill.getModule("table");if(e){const[t,r,o,l]=e.getTable(n),a=kN(t,r,o,l);if(a==null)return;let u=t.offset();if(a<0){const f=new we().retain(u).insert(`
`);this.quill.updateContents(f,re.sources.USER),this.quill.setSelection(n.index+1,n.length,re.sources.SILENT)}else if(a>0){u+=t.length();const f=new we().retain(u).insert(`
`);this.quill.updateContents(f,re.sources.USER),this.quill.setSelection(u,re.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(n,e){const{event:t,line:r}=e,o=r.offset(this.quill.scroll);t.shiftKey?this.quill.setSelection(o-1,re.sources.USER):this.quill.setSelection(o+r.length(),re.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(n,e){if(this.quill.scroll.query("list")==null)return!0;const{length:t}=e.prefix,[r,o]=this.quill.getLine(n.index);if(o>t)return!0;let l;switch(e.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(n.index," ",re.sources.USER),this.quill.history.cutoff();const a=new we().retain(n.index-o).delete(t+1).retain(r.length()-2-o).retain(1,{list:l});return this.quill.updateContents(a,re.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index-t,re.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(n){const[e,t]=this.quill.getLine(n.index);let r=2,o=e;for(;o!=null&&o.length()<=1&&o.formats()["code-block"];)if(o=o.prev,r-=1,r<=0){const l=new we().retain(n.index+e.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(l,re.sources.USER),this.quill.setSelection(n.index-1,re.sources.SILENT),!1}return!0}},"embed left":tc("ArrowLeft",!1),"embed left shift":tc("ArrowLeft",!0),"embed right":tc("ArrowRight",!1),"embed right shift":tc("ArrowRight",!0),"table down":v1(!1),"table up":v1(!0)}};Jc.DEFAULTS=NN;function m1(n){return{key:"Tab",shiftKey:!n,format:{"code-block":!0},handler(e,t){let{event:r}=t;const o=this.quill.scroll.query("code-block"),{TAB:l}=o;if(e.length===0&&!r.shiftKey){this.quill.insertText(e.index,l,re.sources.USER),this.quill.setSelection(e.index+l.length,re.sources.SILENT);return}const a=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:u,length:f}=e;a.forEach((d,h)=>{n?(d.insertAt(0,l),h===0?u+=l.length:f+=l.length):d.domNode.textContent.startsWith(l)&&(d.deleteAt(0,l.length),h===0?u-=l.length:f-=l.length)}),this.quill.update(re.sources.USER),this.quill.setSelection(u,f,re.sources.SILENT)}}}function tc(n,e){return{key:n,shiftKey:e,altKey:null,[n==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:o}=r;n==="ArrowRight"&&(o+=r.length+1);const[l]=this.quill.getLeaf(o);return l instanceof bn?(n==="ArrowLeft"?e?this.quill.setSelection(r.index-1,r.length+1,re.sources.USER):this.quill.setSelection(r.index-1,re.sources.USER):e?this.quill.setSelection(r.index,r.length+1,re.sources.USER):this.quill.setSelection(r.index+r.length+1,re.sources.USER),!1):!0}}}function Rf(n){return{key:n[0],shortKey:!0,handler(e,t){this.quill.format(n,!t.format[n],re.sources.USER)}}}function v1(n){return{key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,t){const r=n?"prev":"next",o=t.line,l=o.parent[r];if(l!=null){if(l.statics.blotName==="table-row"){let a=l.children.head,u=o;for(;u.prev!=null;)u=u.prev,a=a.next;const f=a.offset(this.quill.scroll)+Math.min(t.offset,a.length()-1);this.quill.setSelection(f,0,re.sources.USER)}}else{const a=o.table()[r];a!=null&&(n?this.quill.setSelection(a.offset(this.quill.scroll)+a.length()-1,0,re.sources.USER):this.quill.setSelection(a.offset(this.quill.scroll),0,re.sources.USER))}return!1}}}function RN(n){if(typeof n=="string"||typeof n=="number")n={key:n};else if(typeof n=="object")n=go(n);else return null;return n.shortKey&&(n[LN]=n.shortKey,delete n.shortKey),n}function nh(n){let{quill:e,range:t}=n;const r=e.getLines(t);let o={};if(r.length>1){const l=r[0].formats(),a=r[r.length-1].formats();o=Mn.AttributeMap.diff(a,l)||{}}e.deleteText(t,re.sources.USER),Object.keys(o).length>0&&e.formatLine(t.index,1,o,re.sources.USER),e.setSelection(t.index,re.sources.SILENT)}function kN(n,e,t,r){return e.prev==null&&e.next==null?t.prev==null&&t.next==null?r===0?-1:1:t.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const IN=/font-weight:\s*normal/,ON=["P","OL","UL"],b1=n=>n&&ON.includes(n.tagName),BN=n=>{Array.from(n.querySelectorAll("br")).filter(e=>b1(e.previousElementSibling)&&b1(e.nextElementSibling)).forEach(e=>{e.parentNode?.removeChild(e)})},MN=n=>{Array.from(n.querySelectorAll('b[style*="font-weight"]')).filter(e=>e.getAttribute("style")?.match(IN)).forEach(e=>{const t=n.createDocumentFragment();t.append(...e.childNodes),e.parentNode?.replaceChild(t,e)})};function jN(n){n.querySelector('[id^="docs-internal-guid-"]')&&(MN(n),BN(n))}const PN=/\bmso-list:[^;]*ignore/i,DN=/\bmso-list:[^;]*\bl(\d+)/i,qN=/\bmso-list:[^;]*\blevel(\d+)/i,FN=(n,e)=>{const t=n.getAttribute("style"),r=t?.match(DN);if(!r)return null;const o=Number(r[1]),l=t?.match(qN),a=l?Number(l[1]):1,u=new RegExp(`@list l${o}:level${a}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),f=e.match(u),d=f&&f[1]==="bullet"?"bullet":"ordered";return{id:o,indent:a,type:d,element:n}},HN=n=>{const e=Array.from(n.querySelectorAll("[style*=mso-list]")),t=[],r=[];e.forEach(a=>{(a.getAttribute("style")||"").match(PN)?t.push(a):r.push(a)}),t.forEach(a=>a.parentNode?.removeChild(a));const o=n.documentElement.innerHTML,l=r.map(a=>FN(a,o)).filter(a=>a);for(;l.length;){const a=[];let u=l.shift();for(;u;)a.push(u),u=l.length&&l[0]?.element===u.element.nextElementSibling&&l[0].id===u.id?l.shift():null;const f=document.createElement("ul");a.forEach(g=>{const p=document.createElement("li");p.setAttribute("data-list",g.type),g.indent>1&&p.setAttribute("class",`ql-indent-${g.indent-1}`),p.innerHTML=g.element.innerHTML,f.appendChild(p)});const d=a[0]?.element,{parentNode:h}=d??{};d&&h?.replaceChild(f,d),a.slice(1).forEach(g=>{let{element:p}=g;h?.removeChild(p)})}};function $N(n){n.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&HN(n)}const zN=[$N,jN],UN=n=>{n.documentElement&&zN.forEach(e=>{e(n)})},WN=Vr("quill:clipboard"),VN=[[Node.TEXT_NODE,s8],[Node.TEXT_NODE,y1],["br",JN],[Node.ELEMENT_NODE,y1],[Node.ELEMENT_NODE,XN],[Node.ELEMENT_NODE,YN],[Node.ELEMENT_NODE,r8],["li",t8],["ol, ul",n8],["pre",QN],["tr",i8],["b",kf("bold")],["i",kf("italic")],["strike",kf("strike")],["style",e8]],GN=[EN,Mv].reduce((n,e)=>(n[e.keyName]=e,n),{}),x1=[Ov,Qd,Jd,Pv,Fv,$v].reduce((n,e)=>(n[e.keyName]=e,n),{});class ZN extends mr{static DEFAULTS={matchers:[]};constructor(e,t){super(e,t),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],VN.concat(this.options.matchers??[]).forEach(r=>{let[o,l]=r;this.addMatcher(o,l)})}addMatcher(e,t){this.matchers.push([e,t])}convert(e){let{html:t,text:r}=e,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(o[Xt.blotName])return new we().insert(r||"",{[Xt.blotName]:o[Xt.blotName]});if(!t)return new we().insert(r||"",o);const l=this.convertHTML(t);return zl(l,`
`)&&(l.ops[l.ops.length-1].attributes==null||o.table)?l.compose(new we().retain(l.length()-1).delete(1)):l}normalizeHTML(e){UN(e)}convertHTML(e){const t=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(t);const r=t.body,o=new WeakMap,[l,a]=this.prepareMatching(r,o);return rh(this.quill.scroll,r,l,a,o)}dangerouslyPasteHTML(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:re.sources.API;if(typeof e=="string"){const o=this.convert({html:e,text:""});this.quill.setContents(o,t),this.quill.setSelection(0,re.sources.SILENT)}else{const o=this.convert({html:t,text:""});this.quill.updateContents(new we().retain(e).concat(o),r),this.quill.setSelection(e+o.length(),re.sources.SILENT)}}onCaptureCopy(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:o,text:l}=this.onCopy(r,t);e.clipboardData?.setData("text/plain",l),e.clipboardData?.setData("text/html",o),t&&nh({range:r,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(t=>t[0]!=="#").join(`
`)}onCapturePaste(e){if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const t=this.quill.getSelection(!0);if(t==null)return;const r=e.clipboardData?.getData("text/html");let o=e.clipboardData?.getData("text/plain");if(!r&&!o){const a=e.clipboardData?.getData("text/uri-list");a&&(o=this.normalizeURIList(a))}const l=Array.from(e.clipboardData?.files||[]);if(!r&&l.length>0){this.quill.uploader.upload(t,l);return}if(r&&l.length>0){const a=new DOMParser().parseFromString(r,"text/html");if(a.body.childElementCount===1&&a.body.firstElementChild?.tagName==="IMG"){this.quill.uploader.upload(t,l);return}}this.onPaste(t,{html:r,text:o})}onCopy(e){const t=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:t}}onPaste(e,t){let{text:r,html:o}=t;const l=this.quill.getFormat(e.index),a=this.convert({text:r,html:o},l);WN.log("onPaste",a,{text:r,html:o});const u=new we().retain(e.index).delete(e.length).concat(a);this.quill.updateContents(u,re.sources.USER),this.quill.setSelection(u.length()-e.length,re.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,t){const r=[],o=[];return this.matchers.forEach(l=>{const[a,u]=l;switch(a){case Node.TEXT_NODE:o.push(u);break;case Node.ELEMENT_NODE:r.push(u);break;default:Array.from(e.querySelectorAll(a)).forEach(f=>{t.has(f)?t.get(f)?.push(u):t.set(f,[u])});break}}),[r,o]}}function gs(n,e,t,r){return r.query(e)?n.reduce((o,l)=>{if(!l.insert)return o;if(l.attributes&&l.attributes[e])return o.push(l);const a=t?{[e]:t}:{};return o.insert(l.insert,{...a,...l.attributes})},new we):n}function zl(n,e){let t="";for(let r=n.ops.length-1;r>=0&&t.length<e.length;--r){const o=n.ops[r];if(typeof o.insert!="string")break;t=o.insert+t}return t.slice(-1*e.length)===e}function yi(n,e){if(!(n instanceof Element))return!1;const t=e.query(n);return t&&t.prototype instanceof bn?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(n.tagName.toLowerCase())}function KN(n,e){return n.previousElementSibling&&n.nextElementSibling&&!yi(n.previousElementSibling,e)&&!yi(n.nextElementSibling,e)}const nc=new WeakMap;function zv(n){return n==null?!1:(nc.has(n)||(n.tagName==="PRE"?nc.set(n,!0):nc.set(n,zv(n.parentNode))),nc.get(n))}function rh(n,e,t,r,o){return e.nodeType===e.TEXT_NODE?r.reduce((l,a)=>a(e,l,n),new we):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((l,a)=>{let u=rh(n,a,t,r,o);return a.nodeType===e.ELEMENT_NODE&&(u=t.reduce((f,d)=>d(a,f,n),u),u=(o.get(a)||[]).reduce((f,d)=>d(a,f,n),u)),l.concat(u)},new we):new we}function kf(n){return(e,t,r)=>gs(t,n,!0,r)}function YN(n,e,t){const r=hr.keys(n),o=Qn.keys(n),l=Li.keys(n),a={};return r.concat(o).concat(l).forEach(u=>{let f=t.query(u,Ae.ATTRIBUTE);f!=null&&(a[f.attrName]=f.value(n),a[f.attrName])||(f=GN[u],f!=null&&(f.attrName===u||f.keyName===u)&&(a[f.attrName]=f.value(n)||void 0),f=x1[u],f!=null&&(f.attrName===u||f.keyName===u)&&(f=x1[u],a[f.attrName]=f.value(n)||void 0))}),Object.entries(a).reduce((u,f)=>{let[d,h]=f;return gs(u,d,h,t)},e)}function XN(n,e,t){const r=t.query(n);if(r==null)return e;if(r.prototype instanceof bn){const o={},l=r.value(n);if(l!=null)return o[r.blotName]=l,new we().insert(o,r.formats(n,t))}else if(r.prototype instanceof kl&&!zl(e,`
`)&&e.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return gs(e,r.blotName,r.formats(n,t),t);return e}function JN(n,e){return zl(e,`
`)||e.insert(`
`),e}function QN(n,e,t){const r=t.query("code-block"),o=r&&"formats"in r&&typeof r.formats=="function"?r.formats(n,t):!0;return gs(e,"code-block",o,t)}function e8(){return new we}function t8(n,e,t){const r=t.query(n);if(r==null||r.blotName!=="list"||!zl(e,`
`))return e;let o=-1,l=n.parentNode;for(;l!=null;)["OL","UL"].includes(l.tagName)&&(o+=1),l=l.parentNode;return o<=0?e:e.reduce((a,u)=>u.insert?u.attributes&&typeof u.attributes.indent=="number"?a.push(u):a.insert(u.insert,{indent:o,...u.attributes||{}}):a,new we)}function n8(n,e,t){const r=n;let o=r.tagName==="OL"?"ordered":"bullet";const l=r.getAttribute("data-checked");return l&&(o=l==="true"?"checked":"unchecked"),gs(e,"list",o,t)}function y1(n,e,t){if(!zl(e,`
`)){if(yi(n,t)&&(n.childNodes.length>0||n instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&n.nextSibling){let r=n.nextSibling;for(;r!=null;){if(yi(r,t))return e.insert(`
`);const o=t.query(r);if(o&&o.prototype instanceof Bn)return e.insert(`
`);r=r.firstChild}}}return e}function r8(n,e,t){const r={},o=n.style||{};return o.fontStyle==="italic"&&(r.italic=!0),o.textDecoration==="underline"&&(r.underline=!0),o.textDecoration==="line-through"&&(r.strike=!0),(o.fontWeight?.startsWith("bold")||parseInt(o.fontWeight,10)>=700)&&(r.bold=!0),e=Object.entries(r).reduce((l,a)=>{let[u,f]=a;return gs(l,u,f,t)},e),parseFloat(o.textIndent||0)>0?new we().insert("	").concat(e):e}function i8(n,e,t){const r=n.parentElement?.tagName==="TABLE"?n.parentElement:n.parentElement?.parentElement;if(r!=null){const l=Array.from(r.querySelectorAll("tr")).indexOf(n)+1;return gs(e,"table",l,t)}return e}function s8(n,e,t){let r=n.data;if(n.parentElement?.tagName==="O:P")return e.insert(r.trim());if(!zv(n)){if(r.trim().length===0&&r.includes(`
`)&&!KN(n,t))return e;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(n.previousSibling==null&&n.parentElement!=null&&yi(n.parentElement,t)||n.previousSibling instanceof Element&&yi(n.previousSibling,t))&&(r=r.replace(/^ /,"")),(n.nextSibling==null&&n.parentElement!=null&&yi(n.parentElement,t)||n.nextSibling instanceof Element&&yi(n.nextSibling,t))&&(r=r.replace(/ $/,"")),r=r.replaceAll(" "," ")}return e.insert(r)}class o8 extends mr{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(e,t){super(e,t),this.quill.on(re.events.EDITOR_CHANGE,(r,o,l,a)=>{r===re.events.SELECTION_CHANGE?o&&a!==re.sources.SILENT&&(this.currentRange=o):r===re.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||a===re.sources.USER?this.record(o,l):this.transform(o)),this.currentRange=sd(this.currentRange,o))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",r=>{r.inputType==="historyUndo"?(this.undo(),r.preventDefault()):r.inputType==="historyRedo"&&(this.redo(),r.preventDefault())})}change(e,t){if(this.stack[e].length===0)return;const r=this.stack[e].pop();if(!r)return;const o=this.quill.getContents(),l=r.delta.invert(o);this.stack[t].push({delta:l,range:sd(r.range,l)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r.delta,re.sources.USER),this.ignoreChange=!1,this.restoreSelection(r)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,t){if(e.ops.length===0)return;this.stack.redo=[];let r=e.invert(t),o=this.currentRange;const l=Date.now();if(this.lastRecorded+this.options.delay>l&&this.stack.undo.length>0){const a=this.stack.undo.pop();a&&(r=r.compose(a.delta),o=a.range)}else this.lastRecorded=l;r.length()!==0&&(this.stack.undo.push({delta:r,range:o}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){w1(this.stack.undo,e),w1(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,re.sources.USER);else{const t=a8(this.quill.scroll,e.delta);this.quill.setSelection(t,re.sources.USER)}}}function w1(n,e){let t=e;for(let r=n.length-1;r>=0;r-=1){const o=n[r];n[r]={delta:t.transform(o.delta,!0),range:o.range&&sd(o.range,t)},t=o.delta.transform(t),n[r].delta.length()===0&&n.splice(r,1)}}function l8(n,e){const t=e.ops[e.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(r=>n.query(r,Ae.BLOCK)!=null):!1}function a8(n,e){const t=e.reduce((o,l)=>o+(l.delete||0),0);let r=e.length()-t;return l8(n,e)&&(r-=1),r}function sd(n,e){if(!n)return n;const t=e.transformPosition(n.index),r=e.transformPosition(n.index+n.length);return{index:t,length:r-t}}class Uv extends mr{constructor(e,t){super(e,t),e.root.addEventListener("drop",r=>{r.preventDefault();let o=null;if(document.caretRangeFromPoint)o=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const a=document.caretPositionFromPoint(r.clientX,r.clientY);o=document.createRange(),o.setStart(a.offsetNode,a.offset),o.setEnd(a.offsetNode,a.offset)}const l=o&&e.selection.normalizeNative(o);if(l){const a=e.selection.normalizedToRange(l);r.dataTransfer?.files&&this.upload(a,r.dataTransfer.files)}})}upload(e,t){const r=[];Array.from(t).forEach(o=>{o&&this.options.mimetypes?.includes(o.type)&&r.push(o)}),r.length>0&&this.options.handler.call(this,e,r)}}Uv.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,e){if(!this.quill.scroll.query("image"))return;const t=e.map(r=>new Promise(o=>{const l=new FileReader;l.onload=()=>{o(l.result)},l.readAsDataURL(r)}));Promise.all(t).then(r=>{const o=r.reduce((l,a)=>l.insert({image:a}),new we().retain(n.index).delete(n.length));this.quill.updateContents(o,Ce.sources.USER),this.quill.setSelection(n.index+r.length,Ce.sources.SILENT)})}};const c8=["insertText","insertReplacementText"];class u8 extends mr{constructor(e,t){super(e,t),e.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||e.on(re.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){nh({range:e,quill:this.quill})}replaceText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(t){const r=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new we().retain(e.index).insert(t,r),re.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+t.length,0,re.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!c8.includes(e.inputType))return;const t=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const r=f8(e);if(r==null)return;const o=this.quill.selection.normalizeNative(t),l=o?this.quill.selection.normalizedToRange(o):null;l&&this.replaceText(l,r)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function f8(n){return typeof n.data=="string"?n.data:n.dataTransfer?.types.includes("text/plain")?n.dataTransfer.getData("text/plain"):null}const d8=/Mac/i.test(navigator.platform),h8=100,p8=n=>!!(n.key==="ArrowLeft"||n.key==="ArrowRight"||n.key==="ArrowUp"||n.key==="ArrowDown"||n.key==="Home"||d8&&n.key==="a"&&n.ctrlKey===!0);class g8 extends mr{isListening=!1;selectionChangeDeadline=0;constructor(e,t){super(e,t),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,t){let{line:r,event:o}=t;if(!(r instanceof Xn)||!r.uiNode)return!0;const l=getComputedStyle(r.domNode).direction==="rtl";return l&&o.key!=="ArrowRight"||!l&&o.key!=="ArrowLeft"?!0:(this.quill.setSelection(e.index-1,e.length+(o.shiftKey?1:0),re.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",e=>{!e.defaultPrevented&&p8(e)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+h8,this.isListening)return;this.isListening=!0;const e=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",e,{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const t=e.getRangeAt(0);if(t.collapsed!==!0||t.startOffset!==0)return;const r=this.quill.scroll.find(t.startContainer);if(!(r instanceof Xn)||!r.uiNode)return;const o=document.createRange();o.setStartAfter(r.uiNode),o.setEndAfter(r.uiNode),e.removeAllRanges(),e.addRange(o)}}re.register({"blots/block":jt,"blots/block/embed":Bn,"blots/break":er,"blots/container":hs,"blots/cursor":Gn,"blots/embed":Yd,"blots/inline":Yt,"blots/scroll":CN,"blots/text":Jn,"modules/clipboard":ZN,"modules/history":o8,"modules/keyboard":Jc,"modules/uploader":Uv,"modules/input":u8,"modules/uiNode":g8});class m8 extends Qn{add(e,t){let r=0;if(t==="+1"||t==="-1"){const o=this.value(e)||0;r=t==="+1"?o+1:o-1}else typeof t=="number"&&(r=t);return r===0?(this.remove(e),!0):super.add(e,r.toString())}canAdd(e,t){return super.canAdd(e,t)||super.canAdd(e,parseInt(t,10))}value(e){return parseInt(super.value(e),10)||void 0}}const v8=new m8("indent","ql-indent",{scope:Ae.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class b8 extends jt{static blotName="blockquote";static tagName="blockquote"}class x8 extends jt{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(e){return this.tagName.indexOf(e.tagName)+1}}class Ul extends hs{}Ul.blotName="list-container";Ul.tagName="OL";class Wl extends jt{static create(e){const t=super.create();return t.setAttribute("data-list",e),t}static formats(e){return e.getAttribute("data-list")||void 0}static register(){re.register(Ul)}constructor(e,t){super(e,t);const r=t.ownerDocument.createElement("span"),o=l=>{if(!e.isEnabled())return;const a=this.statics.formats(t,e);a==="checked"?(this.format("list","unchecked"),l.preventDefault()):a==="unchecked"&&(this.format("list","checked"),l.preventDefault())};r.addEventListener("mousedown",o),r.addEventListener("touchstart",o),this.attachUI(r)}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(e,t)}}Wl.blotName="list";Wl.tagName="LI";Ul.allowedChildren=[Wl];Wl.requiredContainer=Ul;class ih extends Yt{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}class y8 extends ih{static blotName="italic";static tagName=["EM","I"]}class Lc extends Yt{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(e){const t=super.create(e);return t.setAttribute("href",this.sanitize(e)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){return Wv(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,t){e!==this.statics.blotName||!t?super.format(e,t):this.domNode.setAttribute("href",this.constructor.sanitize(t))}}function Wv(n,e){const t=document.createElement("a");t.href=n;const r=t.href.slice(0,t.href.indexOf(":"));return e.indexOf(r)>-1}class w8 extends Yt{static blotName="script";static tagName=["SUB","SUP"];static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}class C8 extends ih{static blotName="strike";static tagName=["S","STRIKE"]}class E8 extends Yt{static blotName="underline";static tagName="U"}class A8 extends Yd{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const t=super.create(e);return typeof e=="string"&&(window.katex.render(e,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",e)),t}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}const C1=["alt","height","width"];class _8 extends bn{static blotName="image";static tagName="IMG";static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("src",this.sanitize(e)),t}static formats(e){return C1.reduce((t,r)=>(e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return Wv(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,t){C1.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}}const E1=["height","width"];class T8 extends Bn{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(e){const t=super.create(e);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(e)),t}static formats(e){return E1.reduce((t,r)=>(e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t),{})}static sanitize(e){return Lc.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,t){E1.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}const bl=new Qn("code-token","hljs",{scope:Ae.INLINE});class Ur extends Yt{static formats(e,t){for(;e!=null&&e!==t.domNode;){if(e.classList&&e.classList.contains(Xt.className))return super.formats(e,t);e=e.parentNode}}constructor(e,t,r){super(e,t,r),bl.add(this.domNode,r)}format(e,t){e!==Ur.blotName?super.format(e,t):t?bl.add(this.domNode,t):(bl.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),bl.value(this.domNode)||this.unwrap()}}Ur.blotName="code-token";Ur.className="ql-token";class On extends Xt{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("data-language",e),t}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(e,t)}replaceWith(e,t){return this.formatAt(0,this.length(),Ur.blotName,!1),super.replaceWith(e,t)}}class Cl extends ps{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,t){e===On.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(e,t)}))}formatAt(e,t,r,o){r===On.blotName&&(this.forceNext=!0),super.formatAt(e,t,r,o)}highlight(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const o=`${Array.from(this.domNode.childNodes).filter(a=>a!==this.uiNode).map(a=>a.textContent).join(`
`)}
`,l=On.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==o){if(o.trim().length>0||this.cachedText==null){const a=this.children.reduce((f,d)=>f.concat(Rv(d,!1)),new we),u=e(o,l);a.diff(u).reduce((f,d)=>{let{retain:h,attributes:g}=d;return h?(g&&Object.keys(g).forEach(p=>{[On.blotName,Ur.blotName].includes(p)&&this.formatAt(f,h,p,g[p])}),f+h):f},0)}this.cachedText=o,this.forceNext=!1}}html(e,t){const[r]=this.children.find(e);return`<pre data-language="${r?On.formats(r.domNode):"plain"}">
${Xc(this.code(e,t))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=On.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}Cl.allowedChildren=[On];On.requiredContainer=Cl;On.allowedChildren=[Ur,Gn,Jn,er];const S8=(n,e,t)=>{if(typeof n.versionString=="string"){const r=n.versionString.split(".")[0];if(parseInt(r,10)>=11)return n.highlight(t,{language:e}).value}return n.highlight(e,t).value};class Vv extends mr{static register(){re.register(Ur,!0),re.register(On,!0),re.register(Cl,!0)}constructor(e,t){if(super(e,t),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,o)=>{let{key:l}=o;return r[l]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(re.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof Cl))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:o,label:l}=r;const a=t.ownerDocument.createElement("option");a.textContent=l,a.setAttribute("value",o),t.appendChild(a)}),t.addEventListener("change",()=>{e.format(On.blotName,t.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(t),e.children.head&&(t.value=On.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(re.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(re.sources.USER);const r=this.quill.getSelection();(e==null?this.quill.scroll.descendants(Cl):[e]).forEach(l=>{l.highlight(this.highlightBlot,t)}),this.quill.update(re.sources.SILENT),r!=null&&this.quill.setSelection(r,re.sources.SILENT)}highlightBlot(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(t=this.languages[t]?t:"plain",t==="plain")return Xc(e).split(`
`).reduce((o,l,a)=>(a!==0&&o.insert(`
`,{[Xt.blotName]:t}),o.insert(l)),new we);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(Xt.className),r.innerHTML=S8(this.options.hljs,t,e),rh(this.quill.scroll,r,[(o,l)=>{const a=bl.value(o);return a?l.compose(new we().retain(l.length(),{[Ur.blotName]:a})):l}],[(o,l)=>o.data.split(`
`).reduce((a,u,f)=>(f!==0&&a.insert(`
`,{[Xt.blotName]:t}),a.insert(u)),l)],new WeakMap)}}Vv.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class Zn extends jt{static blotName="table";static tagName="TD";static create(e){const t=super.create();return e?t.setAttribute("data-row",e):t.setAttribute("data-row",sh()),t}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,t){e===Zn.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(e,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}class as extends hs{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),t=this.children.tail.formats(),r=this.next.children.head.formats(),o=this.next.children.tail.formats();return e.table===t.table&&e.table===r.table&&e.table===o.table}return!1}optimize(e){super.optimize(e),this.children.forEach(t=>{if(t.next==null)return;const r=t.formats(),o=t.next.formats();if(r.table!==o.table){const l=this.splitAfter(t);l&&l.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}class Ei extends hs{static blotName="table-body";static tagName="TBODY"}class Nc extends hs{static blotName="table-container";static tagName="TABLE";balanceCells(){const e=this.descendants(as),t=e.reduce((r,o)=>Math.max(o.children.length,r),0);e.forEach(r=>{new Array(t-r.children.length).fill(0).forEach(()=>{let o;r.children.head!=null&&(o=Zn.formats(r.children.head.domNode));const l=this.scroll.create(Zn.blotName,o);r.appendChild(l),l.optimize()})})}cells(e){return this.rows().map(t=>t.children.at(e))}deleteColumn(e){const[t]=this.descendant(Ei);t==null||t.children.head==null||t.children.forEach(r=>{const o=r.children.at(e);o?.remove()})}insertColumn(e){const[t]=this.descendant(Ei);t==null||t.children.head==null||t.children.forEach(r=>{const o=r.children.at(e),l=Zn.formats(r.children.head.domNode),a=this.scroll.create(Zn.blotName,l);r.insertBefore(a,o)})}insertRow(e){const[t]=this.descendant(Ei);if(t==null||t.children.head==null)return;const r=sh(),o=this.scroll.create(as.blotName);t.children.head.children.forEach(()=>{const a=this.scroll.create(Zn.blotName,r);o.appendChild(a)});const l=t.children.at(e);t.insertBefore(o,l)}rows(){const e=this.children.head;return e==null?[]:e.children.map(t=>t)}}Nc.allowedChildren=[Ei];Ei.requiredContainer=Nc;Ei.allowedChildren=[as];as.requiredContainer=Ei;as.allowedChildren=[Zn];Zn.requiredContainer=as;function sh(){return`row-${Math.random().toString(36).slice(2,6)}`}class L8 extends mr{static register(){re.register(Zn),re.register(as),re.register(Ei),re.register(Nc)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Nc).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,t]=this.getTable();t!=null&&(e.deleteColumn(t.cellOffset()),this.quill.update(re.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(re.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const t=e.offset();e.remove(),this.quill.update(re.sources.USER),this.quill.setSelection(t,re.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[t,r]=this.quill.getLine(e.index);if(t==null||t.statics.blotName!==Zn.blotName)return[null,null,null,-1];const o=t.parent;return[o.parent.parent,o,t,r]}insertColumn(e){const t=this.quill.getSelection();if(!t)return;const[r,o,l]=this.getTable(t);if(l==null)return;const a=l.cellOffset();r.insertColumn(a+e),this.quill.update(re.sources.USER);let u=o.rowOffset();e===0&&(u+=1),this.quill.setSelection(t.index+u,t.length,re.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const t=this.quill.getSelection();if(!t)return;const[r,o,l]=this.getTable(t);if(l==null)return;const a=o.rowOffset();r.insertRow(a+e),this.quill.update(re.sources.USER),e>0?this.quill.setSelection(t,re.sources.SILENT):this.quill.setSelection(t.index+o.children.length,t.length,re.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,t){const r=this.quill.getSelection();if(r==null)return;const o=new Array(e).fill(0).reduce(l=>{const a=new Array(t).fill(`
`).join("");return l.insert(a,{table:sh()})},new we().retain(r.index));this.quill.updateContents(o,re.sources.USER),this.quill.setSelection(r.index,re.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(re.events.SCROLL_OPTIMIZE,e=>{e.some(t=>["TD","TR","TBODY","TABLE"].includes(t.target.tagName)?(this.quill.once(re.events.TEXT_CHANGE,(r,o,l)=>{l===re.sources.USER&&this.balanceTables()}),!0):!1)})}}const A1=Vr("quill:toolbar");class oh extends mr{constructor(e,t){if(super(e,t),Array.isArray(this.options.container)){const r=document.createElement("div");r.setAttribute("role","toolbar"),N8(r,this.options.container),e.container?.parentNode?.insertBefore(r,e.container),this.container=r}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){A1.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(r=>{const o=this.options.handlers?.[r];o&&this.addHandler(r,o)}),Array.from(this.container.querySelectorAll("button, select")).forEach(r=>{this.attach(r)}),this.quill.on(re.events.EDITOR_CHANGE,()=>{const[r]=this.quill.selection.getRange();this.update(r)})}addHandler(e,t){this.handlers[e]=t}attach(e){let t=Array.from(e.classList).find(o=>o.indexOf("ql-")===0);if(!t)return;if(t=t.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[t]==null&&this.quill.scroll.query(t)==null){A1.warn("ignoring attaching to nonexistent format",t,e);return}const r=e.tagName==="SELECT"?"change":"click";e.addEventListener(r,o=>{let l;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const u=e.options[e.selectedIndex];u.hasAttribute("selected")?l=!1:l=u.value||!1}else e.classList.contains("ql-active")?l=!1:l=e.value||!e.hasAttribute("value"),o.preventDefault();this.quill.focus();const[a]=this.quill.selection.getRange();if(this.handlers[t]!=null)this.handlers[t].call(this,l);else if(this.quill.scroll.query(t).prototype instanceof bn){if(l=prompt(`Enter ${t}`),!l)return;this.quill.updateContents(new we().retain(a.index).delete(a.length).insert({[t]:l}),re.sources.USER)}else this.quill.format(t,l,re.sources.USER);this.update(a)}),this.controls.push([t,e])}update(e){const t=e==null?{}:this.quill.getFormat(e);this.controls.forEach(r=>{const[o,l]=r;if(l.tagName==="SELECT"){let a=null;if(e==null)a=null;else if(t[o]==null)a=l.querySelector("option[selected]");else if(!Array.isArray(t[o])){let u=t[o];typeof u=="string"&&(u=u.replace(/"/g,'\\"')),a=l.querySelector(`option[value="${u}"]`)}a==null?(l.value="",l.selectedIndex=-1):a.selected=!0}else if(e==null)l.classList.remove("ql-active"),l.setAttribute("aria-pressed","false");else if(l.hasAttribute("value")){const a=t[o],u=a===l.getAttribute("value")||a!=null&&a.toString()===l.getAttribute("value")||a==null&&!l.getAttribute("value");l.classList.toggle("ql-active",u),l.setAttribute("aria-pressed",u.toString())}else{const a=t[o]!=null;l.classList.toggle("ql-active",a),l.setAttribute("aria-pressed",a.toString())}})}}oh.DEFAULTS={};function _1(n,e,t){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${e}`),r.setAttribute("aria-pressed","false"),t!=null?(r.value=t,r.setAttribute("aria-label",`${e}: ${t}`)):r.setAttribute("aria-label",e),n.appendChild(r)}function N8(n,e){Array.isArray(e[0])||(e=[e]),e.forEach(t=>{const r=document.createElement("span");r.classList.add("ql-formats"),t.forEach(o=>{if(typeof o=="string")_1(r,o);else{const l=Object.keys(o)[0],a=o[l];Array.isArray(a)?R8(r,l,a):_1(r,l,a)}}),n.appendChild(r)})}function R8(n,e,t){const r=document.createElement("select");r.classList.add(`ql-${e}`),t.forEach(o=>{const l=document.createElement("option");o!==!1?l.setAttribute("value",String(o)):l.setAttribute("selected","selected"),r.appendChild(l)}),n.appendChild(r)}oh.DEFAULTS={container:null,handlers:{clean(){const n=this.quill.getSelection();if(n!=null)if(n.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(t=>{this.quill.scroll.query(t,Ae.INLINE)!=null&&this.quill.format(t,!1,re.sources.USER)})}else this.quill.removeFormat(n.index,n.length,re.sources.USER)},direction(n){const{align:e}=this.quill.getFormat();n==="rtl"&&e==null?this.quill.format("align","right",re.sources.USER):!n&&e==="right"&&this.quill.format("align",!1,re.sources.USER),this.quill.format("direction",n,re.sources.USER)},indent(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e),r=parseInt(t.indent||0,10);if(n==="+1"||n==="-1"){let o=n==="+1"?1:-1;t.direction==="rtl"&&(o*=-1),this.quill.format("indent",r+o,re.sources.USER)}},link(n){n===!0&&(n=prompt("Enter link URL:")),this.quill.format("link",n,re.sources.USER)},list(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e);n==="check"?t.list==="checked"||t.list==="unchecked"?this.quill.format("list",!1,re.sources.USER):this.quill.format("list","unchecked",re.sources.USER):this.quill.format("list",n,re.sources.USER)}}};const k8='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',I8='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',O8='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',B8='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',M8='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',j8='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',P8='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',D8='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',T1='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',q8='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',F8='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',H8='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',$8='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',z8='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',U8='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',W8='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',V8='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',G8='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Z8='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',K8='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',Y8='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',X8='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',J8='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',Q8='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',eR='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',tR='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',nR='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',rR='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',iR='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',sR='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',oR='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',lR='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',aR='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Ol={align:{"":k8,center:I8,right:O8,justify:B8},background:M8,blockquote:j8,bold:P8,clean:D8,code:T1,"code-block":T1,color:q8,direction:{"":F8,rtl:H8},formula:$8,header:{1:z8,2:U8,3:W8,4:V8,5:G8,6:Z8},italic:K8,image:Y8,indent:{"+1":X8,"-1":J8},link:Q8,list:{bullet:eR,check:tR,ordered:nR},script:{sub:rR,super:iR},strike:sR,table:oR,underline:lR,video:aR},cR='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let S1=0;function L1(n,e){n.setAttribute(e,`${n.getAttribute(e)!=="true"}`)}class Qc{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),L1(this.label,"aria-expanded"),L1(this.options,"aria-hidden")}buildItem(e){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const r=e.getAttribute("value");return r&&t.setAttribute("data-value",r),e.textContent&&t.setAttribute("data-label",e.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",o=>{switch(o.key){case"Enter":this.selectItem(t,!0),o.preventDefault();break;case"Escape":this.escape(),o.preventDefault();break}}),t}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=cR,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${S1}`,S1+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(t=>{const r=this.buildItem(t);e.appendChild(r),t.selected===!0&&this.selectItem(r)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");e!==r&&(r?.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const t=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}let Gv=class extends Qc{constructor(e,t){super(e),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(e){const t=super.buildItem(e);return t.style.backgroundColor=e.getAttribute("value")||"",t}selectItem(e,t){super.selectItem(e,t);const r=this.label.querySelector(".ql-color-label"),o=e&&e.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=o:r.style.fill=o)}};class Zv extends Qc{constructor(e,t){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=t[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,t){super.selectItem(e,t);const r=e||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const uR=n=>{const{overflowY:e}=getComputedStyle(n,null);return e!=="visible"&&e!=="clip"};class Kv{constructor(e,t){this.quill=e,this.boundsContainer=t||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,uR(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const t=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const o=this.boundsContainer.getBoundingClientRect(),l=this.root.getBoundingClientRect();let a=0;if(l.right>o.right&&(a=o.right-l.right,this.root.style.left=`${t+a}px`),l.left<o.left&&(a=o.left-l.left,this.root.style.left=`${t+a}px`),l.bottom>o.bottom){const u=l.bottom-l.top,f=e.bottom-e.top+u;this.root.style.top=`${r-f}px`,this.root.classList.add("ql-flip")}return a}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const fR=[!1,"center","right","justify"],dR=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],hR=[!1,"serif","monospace"],pR=["1","2","3",!1],gR=["small",!1,"large","huge"];class Vl extends Ao{constructor(e,t){super(e,t);const r=o=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(o.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(l=>{l.container.contains(o.target)||l.close()})};e.emitter.listenDOM("click",document.body,r)}addModule(e){const t=super.addModule(e);return e==="toolbar"&&this.extendToolbar(t),t}buildButtons(e,t){Array.from(e).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(l=>{if(l.startsWith("ql-")&&(l=l.slice(3),t[l]!=null))if(l==="direction")r.innerHTML=t[l][""]+t[l].rtl;else if(typeof t[l]=="string")r.innerHTML=t[l];else{const a=r.value||"";a!=null&&t[l][a]&&(r.innerHTML=t[l][a])}})})}buildPickers(e,t){this.pickers=Array.from(e).map(o=>{if(o.classList.contains("ql-align")&&(o.querySelector("option")==null&&hl(o,fR),typeof t.align=="object"))return new Zv(o,t.align);if(o.classList.contains("ql-background")||o.classList.contains("ql-color")){const l=o.classList.contains("ql-background")?"background":"color";return o.querySelector("option")==null&&hl(o,dR,l==="background"?"#ffffff":"#000000"),new Gv(o,t[l])}return o.querySelector("option")==null&&(o.classList.contains("ql-font")?hl(o,hR):o.classList.contains("ql-header")?hl(o,pR):o.classList.contains("ql-size")&&hl(o,gR)),new Qc(o)});const r=()=>{this.pickers.forEach(o=>{o.update()})};this.quill.on(Ce.events.EDITOR_CHANGE,r)}}Vl.DEFAULTS=Ci({},Ao.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let n=this.container.querySelector("input.ql-image[type=file]");n==null&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),n.classList.add("ql-image"),n.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,n.files),n.value=""}),this.container.appendChild(n)),n.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class Yv extends Kv{constructor(e,t){super(e,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;t!=null?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,Ce.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,Ce.sources.USER)),this.quill.root.scrollTop=t;break}case"video":e=mR(e);case"formula":{if(!e)break;const t=this.quill.getSelection(!0);if(t!=null){const r=t.index+t.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),e,Ce.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",Ce.sources.USER),this.quill.setSelection(r+2,Ce.sources.USER)}break}}this.textbox.value="",this.hide()}}function mR(n){let e=n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=n.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:n}function hl(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(r=>{const o=document.createElement("option");r===t?o.setAttribute("selected","selected"):o.setAttribute("value",String(r)),n.appendChild(o)})}const vR=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class bR extends Yv{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(e,t){super(e,t),this.quill.on(Ce.events.EDITOR_CHANGE,(r,o,l,a)=>{if(r===Ce.events.SELECTION_CHANGE)if(o!=null&&o.length>0&&a===Ce.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const u=this.quill.getLines(o.index,o.length);if(u.length===1){const f=this.quill.getBounds(o);f!=null&&this.position(f)}else{const f=u[u.length-1],d=this.quill.getIndex(f),h=Math.min(f.length()-1,o.index+o.length-d),g=this.quill.getBounds(new ls(d,h));g!=null&&this.position(g)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Ce.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const t=this.quill.getBounds(e);t!=null&&this.position(t)}},1)})}cancel(){this.show()}position(e){const t=super.position(e),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",t!==0&&(r.style.marginLeft=`${-1*t-r.offsetWidth/2}px`),t}}class Xv extends Vl{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=vR),super(e,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new bR(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),Ol),this.buildPickers(e.container.querySelectorAll("select"),Ol))}}Xv.DEFAULTS=Ci({},Vl.DEFAULTS,{modules:{toolbar:{handlers:{link(n){n?this.quill.theme.tooltip.edit():this.quill.format("link",!1,re.sources.USER)}}}}});const xR=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class yR extends Yv{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",e=>{if(this.linkRange!=null){const t=this.linkRange;this.restoreFocus(),this.quill.formatText(t,"link",!1,Ce.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()}),this.quill.on(Ce.events.SELECTION_CHANGE,(e,t,r)=>{if(e!=null){if(e.length===0&&r===Ce.sources.USER){const[o,l]=this.quill.scroll.descendant(Lc,e.index);if(o!=null){this.linkRange=new ls(e.index-l,o.length());const a=Lc.formats(o.domNode);this.preview.textContent=a,this.preview.setAttribute("href",a),this.show();const u=this.quill.getBounds(this.linkRange);u!=null&&this.position(u);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}class Jv extends Vl{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=xR),super(e,t),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),Ol),this.buildPickers(e.container.querySelectorAll("select"),Ol),this.tooltip=new yR(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,r)=>{e.handlers.link.call(e,!r.format.link)}))}}Jv.DEFAULTS=Ci({},Vl.DEFAULTS,{modules:{toolbar:{handlers:{link(n){if(n){const e=this.quill.getSelection();if(e==null||e.length===0)return;let t=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(t)&&t.indexOf("mailto:")!==0&&(t=`mailto:${t}`);const{tooltip:r}=this.quill.theme;r.edit("link",t)}else this.quill.format("link",!1,re.sources.USER)}}}}});re.register({"attributors/attribute/direction":Mv,"attributors/class/align":Iv,"attributors/class/background":_N,"attributors/class/color":AN,"attributors/class/direction":jv,"attributors/class/font":qv,"attributors/class/size":Hv,"attributors/style/align":Ov,"attributors/style/background":Qd,"attributors/style/color":Jd,"attributors/style/direction":Pv,"attributors/style/font":Fv,"attributors/style/size":$v},!0);re.register({"formats/align":Iv,"formats/direction":jv,"formats/indent":v8,"formats/background":Qd,"formats/color":Jd,"formats/font":qv,"formats/size":Hv,"formats/blockquote":b8,"formats/code-block":Xt,"formats/header":x8,"formats/list":Wl,"formats/bold":ih,"formats/code":eh,"formats/italic":y8,"formats/link":Lc,"formats/script":w8,"formats/strike":C8,"formats/underline":E8,"formats/formula":A8,"formats/image":_8,"formats/video":T8,"modules/syntax":Vv,"modules/table":L8,"modules/toolbar":oh,"themes/bubble":Xv,"themes/snow":Jv,"ui/icons":Ol,"ui/picker":Qc,"ui/icon-picker":Zv,"ui/color-picker":Gv,"ui/tooltip":Kv},!0);var xl={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var wR=xl.exports,N1;function CR(){return N1||(N1=1,function(n,e){(function(){var t,r="4.17.21",o=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",u="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",d=500,h="__lodash_placeholder__",g=1,p=2,b=4,y=1,w=2,E=1,S=2,R=4,I=8,j=16,z=32,J=64,V=128,ne=256,pe=512,fe=30,N="...",D=800,O=16,G=1,P=2,H=3,W=1/0,U=9007199254740991,$=17976931348623157e292,Z=NaN,le=4294967295,Q=le-1,X=le>>>1,de=[["ary",V],["bind",E],["bindKey",S],["curry",I],["curryRight",j],["flip",pe],["partial",z],["partialRight",J],["rearg",ne]],Y="[object Arguments]",ae="[object Array]",ce="[object AsyncFunction]",ue="[object Boolean]",xe="[object Date]",_e="[object DOMException]",ge="[object Error]",ve="[object Function]",he="[object GeneratorFunction]",me="[object Map]",ke="[object Number]",tt="[object Null]",it="[object Object]",Je="[object Promise]",Qe="[object Proxy]",ze="[object RegExp]",Xe="[object Set]",Pt="[object String]",Pn="[object Symbol]",xn="[object Undefined]",yn="[object WeakMap]",So="[object WeakSet]",on="[object ArrayBuffer]",ln="[object DataView]",vr="[object Float32Array]",Dt="[object Float64Array]",Gr="[object Int8Array]",Zr="[object Int16Array]",Ni="[object Int32Array]",br="[object Uint8Array]",tr="[object Uint8ClampedArray]",Kr="[object Uint16Array]",nr="[object Uint32Array]",xr=/\b__p \+= '';/g,an=/\b(__p \+=) '' \+/g,Yr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Xr=/&(?:amp|lt|gt|quot|#39);/g,rr=/[&<>"']/g,Ri=RegExp(Xr.source),yr=RegExp(rr.source),ki=/<%-([\s\S]+?)%>/g,Ii=/<%([\s\S]+?)%>/g,Jr=/<%=([\s\S]+?)%>/g,ir=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vs=/^\w*$/,Dn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Oi=/[\\^$.*+?()[\]{}|]/g,Lo=RegExp(Oi.source),Bi=/^\s+/,bs=/\s/,Mi=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,_t=/\{\n\/\* \[wrapped with (.+)\] \*/,No=/,? & /,Ro=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ko=/[()=,{}\[\]\/\s]/,Io=/\\(\\)?/g,Oo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Tt=/\w*$/,Bo=/^[-+]0x[0-9a-f]+$/i,Mo=/^0b[01]+$/i,jo=/^\[object .+?Constructor\]$/,Po=/^0o[0-7]+$/i,Do=/^(?:0|[1-9]\d*)$/,qt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Qr=/($^)/,qo=/['\n\r\u2028\u2029\\]/g,ei="\\ud800-\\udfff",Fo="\\u0300-\\u036f",Ho="\\ufe20-\\ufe2f",ti="\\u20d0-\\u20ff",ji=Fo+Ho+ti,wr="\\u2700-\\u27bf",cn="a-z\\xdf-\\xf6\\xf8-\\xff",Pi="\\xac\\xb1\\xd7\\xf7",$o="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",zo="\\u2000-\\u206f",Uo=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",xs="A-Z\\xc0-\\xd6\\xd8-\\xde",ys="\\ufe0e\\ufe0f",Cr=Pi+$o+zo+Uo,Er="['’]",Ar="["+ei+"]",Di="["+Cr+"]",_r="["+ji+"]",ws="\\d+",Wo="["+wr+"]",Cs="["+cn+"]",Es="[^"+ei+Cr+ws+wr+cn+xs+"]",Tr="\\ud83c[\\udffb-\\udfff]",Vo="(?:"+_r+"|"+Tr+")",As="[^"+ei+"]",qn="(?:\\ud83c[\\udde6-\\uddff]){2}",Vt="[\\ud800-\\udbff][\\udc00-\\udfff]",Ft="["+xs+"]",wn="\\u200d",_s="(?:"+Cs+"|"+Es+")",Cn="(?:"+Ft+"|"+Es+")",Ts="(?:"+Er+"(?:d|ll|m|re|s|t|ve))?",Ss="(?:"+Er+"(?:D|LL|M|RE|S|T|VE))?",Ls=Vo+"?",Ns="["+ys+"]?",Rs="(?:"+wn+"(?:"+[As,qn,Vt].join("|")+")"+Ns+Ls+")*",It="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ks="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",qi=Ns+Ls+Rs,ni="(?:"+[Wo,qn,Vt].join("|")+")"+qi,Fi="(?:"+[As+_r+"?",_r,qn,Vt,Ar].join("|")+")",ri=RegExp(Er,"g"),Go=RegExp(_r,"g"),ii=RegExp(Tr+"(?="+Tr+")|"+Fi+qi,"g"),Hi=RegExp([Ft+"?"+Cs+"+"+Ts+"(?="+[Di,Ft,"$"].join("|")+")",Cn+"+"+Ss+"(?="+[Di,Ft+_s,"$"].join("|")+")",Ft+"?"+_s+"+"+Ts,Ft+"+"+Ss,ks,It,ws,ni].join("|"),"g"),Is=RegExp("["+wn+ei+ji+ys+"]"),En=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Os=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],$i=-1,st={};st[vr]=st[Dt]=st[Gr]=st[Zr]=st[Ni]=st[br]=st[tr]=st[Kr]=st[nr]=!0,st[Y]=st[ae]=st[on]=st[ue]=st[ln]=st[xe]=st[ge]=st[ve]=st[me]=st[ke]=st[it]=st[ze]=st[Xe]=st[Pt]=st[yn]=!1;var nt={};nt[Y]=nt[ae]=nt[on]=nt[ln]=nt[ue]=nt[xe]=nt[vr]=nt[Dt]=nt[Gr]=nt[Zr]=nt[Ni]=nt[me]=nt[ke]=nt[it]=nt[ze]=nt[Xe]=nt[Pt]=nt[Pn]=nt[br]=nt[tr]=nt[Kr]=nt[nr]=!0,nt[ge]=nt[ve]=nt[yn]=!1;var x={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},T={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},B={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ee={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Oe=parseFloat,Te=parseInt,We=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,Ve=typeof self=="object"&&self&&self.Object===Object&&self,Fe=We||Ve||Function("return this")(),Ke=e&&!e.nodeType&&e,dt=Ke&&!0&&n&&!n.nodeType&&n,Ot=dt&&dt.exports===Ke,pt=Ot&&We.process,ot=function(){try{var q=dt&&dt.require&&dt.require("util").types;return q||pt&&pt.binding&&pt.binding("util")}catch{}}(),Et=ot&&ot.isArrayBuffer,Fn=ot&&ot.isDate,An=ot&&ot.isMap,sr=ot&&ot.isRegExp,Zo=ot&&ot.isSet,zi=ot&&ot.isTypedArray;function Nt(q,te,K){switch(K.length){case 0:return q.call(te);case 1:return q.call(te,K[0]);case 2:return q.call(te,K[0],K[1]);case 3:return q.call(te,K[0],K[1],K[2])}return q.apply(te,K)}function fb(q,te,K,ye){for(var Be=-1,et=q==null?0:q.length;++Be<et;){var St=q[Be];te(ye,St,K(St),q)}return ye}function _n(q,te){for(var K=-1,ye=q==null?0:q.length;++K<ye&&te(q[K],K,q)!==!1;);return q}function db(q,te){for(var K=q==null?0:q.length;K--&&te(q[K],K,q)!==!1;);return q}function gh(q,te){for(var K=-1,ye=q==null?0:q.length;++K<ye;)if(!te(q[K],K,q))return!1;return!0}function si(q,te){for(var K=-1,ye=q==null?0:q.length,Be=0,et=[];++K<ye;){var St=q[K];te(St,K,q)&&(et[Be++]=St)}return et}function Zl(q,te){var K=q==null?0:q.length;return!!K&&Bs(q,te,0)>-1}function eu(q,te,K){for(var ye=-1,Be=q==null?0:q.length;++ye<Be;)if(K(te,q[ye]))return!0;return!1}function ht(q,te){for(var K=-1,ye=q==null?0:q.length,Be=Array(ye);++K<ye;)Be[K]=te(q[K],K,q);return Be}function oi(q,te){for(var K=-1,ye=te.length,Be=q.length;++K<ye;)q[Be+K]=te[K];return q}function tu(q,te,K,ye){var Be=-1,et=q==null?0:q.length;for(ye&&et&&(K=q[++Be]);++Be<et;)K=te(K,q[Be],Be,q);return K}function hb(q,te,K,ye){var Be=q==null?0:q.length;for(ye&&Be&&(K=q[--Be]);Be--;)K=te(K,q[Be],Be,q);return K}function nu(q,te){for(var K=-1,ye=q==null?0:q.length;++K<ye;)if(te(q[K],K,q))return!0;return!1}var pb=ru("length");function gb(q){return q.split("")}function mb(q){return q.match(Ro)||[]}function mh(q,te,K){var ye;return K(q,function(Be,et,St){if(te(Be,et,St))return ye=et,!1}),ye}function Kl(q,te,K,ye){for(var Be=q.length,et=K+(ye?1:-1);ye?et--:++et<Be;)if(te(q[et],et,q))return et;return-1}function Bs(q,te,K){return te===te?Lb(q,te,K):Kl(q,vh,K)}function vb(q,te,K,ye){for(var Be=K-1,et=q.length;++Be<et;)if(ye(q[Be],te))return Be;return-1}function vh(q){return q!==q}function bh(q,te){var K=q==null?0:q.length;return K?su(q,te)/K:Z}function ru(q){return function(te){return te==null?t:te[q]}}function iu(q){return function(te){return q==null?t:q[te]}}function xh(q,te,K,ye,Be){return Be(q,function(et,St,at){K=ye?(ye=!1,et):te(K,et,St,at)}),K}function bb(q,te){var K=q.length;for(q.sort(te);K--;)q[K]=q[K].value;return q}function su(q,te){for(var K,ye=-1,Be=q.length;++ye<Be;){var et=te(q[ye]);et!==t&&(K=K===t?et:K+et)}return K}function ou(q,te){for(var K=-1,ye=Array(q);++K<q;)ye[K]=te(K);return ye}function xb(q,te){return ht(te,function(K){return[K,q[K]]})}function yh(q){return q&&q.slice(0,Ah(q)+1).replace(Bi,"")}function un(q){return function(te){return q(te)}}function lu(q,te){return ht(te,function(K){return q[K]})}function Ko(q,te){return q.has(te)}function wh(q,te){for(var K=-1,ye=q.length;++K<ye&&Bs(te,q[K],0)>-1;);return K}function Ch(q,te){for(var K=q.length;K--&&Bs(te,q[K],0)>-1;);return K}function yb(q,te){for(var K=q.length,ye=0;K--;)q[K]===te&&++ye;return ye}var wb=iu(x),Cb=iu(T);function Eb(q){return"\\"+ee[q]}function Ab(q,te){return q==null?t:q[te]}function Ms(q){return Is.test(q)}function _b(q){return En.test(q)}function Tb(q){for(var te,K=[];!(te=q.next()).done;)K.push(te.value);return K}function au(q){var te=-1,K=Array(q.size);return q.forEach(function(ye,Be){K[++te]=[Be,ye]}),K}function Eh(q,te){return function(K){return q(te(K))}}function li(q,te){for(var K=-1,ye=q.length,Be=0,et=[];++K<ye;){var St=q[K];(St===te||St===h)&&(q[K]=h,et[Be++]=K)}return et}function Yl(q){var te=-1,K=Array(q.size);return q.forEach(function(ye){K[++te]=ye}),K}function Sb(q){var te=-1,K=Array(q.size);return q.forEach(function(ye){K[++te]=[ye,ye]}),K}function Lb(q,te,K){for(var ye=K-1,Be=q.length;++ye<Be;)if(q[ye]===te)return ye;return-1}function Nb(q,te,K){for(var ye=K+1;ye--;)if(q[ye]===te)return ye;return ye}function js(q){return Ms(q)?kb(q):pb(q)}function Hn(q){return Ms(q)?Ib(q):gb(q)}function Ah(q){for(var te=q.length;te--&&bs.test(q.charAt(te)););return te}var Rb=iu(B);function kb(q){for(var te=ii.lastIndex=0;ii.test(q);)++te;return te}function Ib(q){return q.match(ii)||[]}function Ob(q){return q.match(Hi)||[]}var Bb=function q(te){te=te==null?Fe:Ps.defaults(Fe.Object(),te,Ps.pick(Fe,Os));var K=te.Array,ye=te.Date,Be=te.Error,et=te.Function,St=te.Math,at=te.Object,cu=te.RegExp,Mb=te.String,Tn=te.TypeError,Xl=K.prototype,jb=et.prototype,Ds=at.prototype,Jl=te["__core-js_shared__"],Ql=jb.toString,lt=Ds.hasOwnProperty,Pb=0,_h=function(){var i=/[^.]+$/.exec(Jl&&Jl.keys&&Jl.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),ea=Ds.toString,Db=Ql.call(at),qb=Fe._,Fb=cu("^"+Ql.call(lt).replace(Oi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ta=Ot?te.Buffer:t,ai=te.Symbol,na=te.Uint8Array,Th=ta?ta.allocUnsafe:t,ra=Eh(at.getPrototypeOf,at),Sh=at.create,Lh=Ds.propertyIsEnumerable,ia=Xl.splice,Nh=ai?ai.isConcatSpreadable:t,Yo=ai?ai.iterator:t,Ui=ai?ai.toStringTag:t,sa=function(){try{var i=Ki(at,"defineProperty");return i({},"",{}),i}catch{}}(),Hb=te.clearTimeout!==Fe.clearTimeout&&te.clearTimeout,$b=ye&&ye.now!==Fe.Date.now&&ye.now,zb=te.setTimeout!==Fe.setTimeout&&te.setTimeout,oa=St.ceil,la=St.floor,uu=at.getOwnPropertySymbols,Ub=ta?ta.isBuffer:t,Rh=te.isFinite,Wb=Xl.join,Vb=Eh(at.keys,at),Lt=St.max,Ht=St.min,Gb=ye.now,Zb=te.parseInt,kh=St.random,Kb=Xl.reverse,fu=Ki(te,"DataView"),Xo=Ki(te,"Map"),du=Ki(te,"Promise"),qs=Ki(te,"Set"),Jo=Ki(te,"WeakMap"),Qo=Ki(at,"create"),aa=Jo&&new Jo,Fs={},Yb=Yi(fu),Xb=Yi(Xo),Jb=Yi(du),Qb=Yi(qs),e2=Yi(Jo),ca=ai?ai.prototype:t,el=ca?ca.valueOf:t,Ih=ca?ca.toString:t;function _(i){if(vt(i)&&!Me(i)&&!(i instanceof Ue)){if(i instanceof Sn)return i;if(lt.call(i,"__wrapped__"))return Op(i)}return new Sn(i)}var Hs=function(){function i(){}return function(s){if(!gt(s))return{};if(Sh)return Sh(s);i.prototype=s;var c=new i;return i.prototype=t,c}}();function ua(){}function Sn(i,s){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=t}_.templateSettings={escape:ki,evaluate:Ii,interpolate:Jr,variable:"",imports:{_}},_.prototype=ua.prototype,_.prototype.constructor=_,Sn.prototype=Hs(ua.prototype),Sn.prototype.constructor=Sn;function Ue(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=le,this.__views__=[]}function t2(){var i=new Ue(this.__wrapped__);return i.__actions__=Jt(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=Jt(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=Jt(this.__views__),i}function n2(){if(this.__filtered__){var i=new Ue(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function r2(){var i=this.__wrapped__.value(),s=this.__dir__,c=Me(i),m=s<0,C=c?i.length:0,L=gx(0,C,this.__views__),k=L.start,M=L.end,F=M-k,ie=m?M:k-1,se=this.__iteratees__,oe=se.length,be=0,Ee=Ht(F,this.__takeCount__);if(!c||!m&&C==F&&Ee==F)return np(i,this.__actions__);var Ne=[];e:for(;F--&&be<Ee;){ie+=s;for(var Pe=-1,Re=i[ie];++Pe<oe;){var He=se[Pe],Ge=He.iteratee,hn=He.type,Kt=Ge(Re);if(hn==P)Re=Kt;else if(!Kt){if(hn==G)continue e;break e}}Ne[be++]=Re}return Ne}Ue.prototype=Hs(ua.prototype),Ue.prototype.constructor=Ue;function Wi(i){var s=-1,c=i==null?0:i.length;for(this.clear();++s<c;){var m=i[s];this.set(m[0],m[1])}}function i2(){this.__data__=Qo?Qo(null):{},this.size=0}function s2(i){var s=this.has(i)&&delete this.__data__[i];return this.size-=s?1:0,s}function o2(i){var s=this.__data__;if(Qo){var c=s[i];return c===f?t:c}return lt.call(s,i)?s[i]:t}function l2(i){var s=this.__data__;return Qo?s[i]!==t:lt.call(s,i)}function a2(i,s){var c=this.__data__;return this.size+=this.has(i)?0:1,c[i]=Qo&&s===t?f:s,this}Wi.prototype.clear=i2,Wi.prototype.delete=s2,Wi.prototype.get=o2,Wi.prototype.has=l2,Wi.prototype.set=a2;function Sr(i){var s=-1,c=i==null?0:i.length;for(this.clear();++s<c;){var m=i[s];this.set(m[0],m[1])}}function c2(){this.__data__=[],this.size=0}function u2(i){var s=this.__data__,c=fa(s,i);if(c<0)return!1;var m=s.length-1;return c==m?s.pop():ia.call(s,c,1),--this.size,!0}function f2(i){var s=this.__data__,c=fa(s,i);return c<0?t:s[c][1]}function d2(i){return fa(this.__data__,i)>-1}function h2(i,s){var c=this.__data__,m=fa(c,i);return m<0?(++this.size,c.push([i,s])):c[m][1]=s,this}Sr.prototype.clear=c2,Sr.prototype.delete=u2,Sr.prototype.get=f2,Sr.prototype.has=d2,Sr.prototype.set=h2;function Lr(i){var s=-1,c=i==null?0:i.length;for(this.clear();++s<c;){var m=i[s];this.set(m[0],m[1])}}function p2(){this.size=0,this.__data__={hash:new Wi,map:new(Xo||Sr),string:new Wi}}function g2(i){var s=Ea(this,i).delete(i);return this.size-=s?1:0,s}function m2(i){return Ea(this,i).get(i)}function v2(i){return Ea(this,i).has(i)}function b2(i,s){var c=Ea(this,i),m=c.size;return c.set(i,s),this.size+=c.size==m?0:1,this}Lr.prototype.clear=p2,Lr.prototype.delete=g2,Lr.prototype.get=m2,Lr.prototype.has=v2,Lr.prototype.set=b2;function Vi(i){var s=-1,c=i==null?0:i.length;for(this.__data__=new Lr;++s<c;)this.add(i[s])}function x2(i){return this.__data__.set(i,f),this}function y2(i){return this.__data__.has(i)}Vi.prototype.add=Vi.prototype.push=x2,Vi.prototype.has=y2;function $n(i){var s=this.__data__=new Sr(i);this.size=s.size}function w2(){this.__data__=new Sr,this.size=0}function C2(i){var s=this.__data__,c=s.delete(i);return this.size=s.size,c}function E2(i){return this.__data__.get(i)}function A2(i){return this.__data__.has(i)}function _2(i,s){var c=this.__data__;if(c instanceof Sr){var m=c.__data__;if(!Xo||m.length<o-1)return m.push([i,s]),this.size=++c.size,this;c=this.__data__=new Lr(m)}return c.set(i,s),this.size=c.size,this}$n.prototype.clear=w2,$n.prototype.delete=C2,$n.prototype.get=E2,$n.prototype.has=A2,$n.prototype.set=_2;function Oh(i,s){var c=Me(i),m=!c&&Xi(i),C=!c&&!m&&hi(i),L=!c&&!m&&!C&&Ws(i),k=c||m||C||L,M=k?ou(i.length,Mb):[],F=M.length;for(var ie in i)(s||lt.call(i,ie))&&!(k&&(ie=="length"||C&&(ie=="offset"||ie=="parent")||L&&(ie=="buffer"||ie=="byteLength"||ie=="byteOffset")||Ir(ie,F)))&&M.push(ie);return M}function Bh(i){var s=i.length;return s?i[Eu(0,s-1)]:t}function T2(i,s){return Aa(Jt(i),Gi(s,0,i.length))}function S2(i){return Aa(Jt(i))}function hu(i,s,c){(c!==t&&!zn(i[s],c)||c===t&&!(s in i))&&Nr(i,s,c)}function tl(i,s,c){var m=i[s];(!(lt.call(i,s)&&zn(m,c))||c===t&&!(s in i))&&Nr(i,s,c)}function fa(i,s){for(var c=i.length;c--;)if(zn(i[c][0],s))return c;return-1}function L2(i,s,c,m){return ci(i,function(C,L,k){s(m,C,c(C),k)}),m}function Mh(i,s){return i&&lr(s,Rt(s),i)}function N2(i,s){return i&&lr(s,en(s),i)}function Nr(i,s,c){s=="__proto__"&&sa?sa(i,s,{configurable:!0,enumerable:!0,value:c,writable:!0}):i[s]=c}function pu(i,s){for(var c=-1,m=s.length,C=K(m),L=i==null;++c<m;)C[c]=L?t:Zu(i,s[c]);return C}function Gi(i,s,c){return i===i&&(c!==t&&(i=i<=c?i:c),s!==t&&(i=i>=s?i:s)),i}function Ln(i,s,c,m,C,L){var k,M=s&g,F=s&p,ie=s&b;if(c&&(k=C?c(i,m,C,L):c(i)),k!==t)return k;if(!gt(i))return i;var se=Me(i);if(se){if(k=vx(i),!M)return Jt(i,k)}else{var oe=$t(i),be=oe==ve||oe==he;if(hi(i))return sp(i,M);if(oe==it||oe==Y||be&&!C){if(k=F||be?{}:Ap(i),!M)return F?ox(i,N2(k,i)):sx(i,Mh(k,i))}else{if(!nt[oe])return C?i:{};k=bx(i,oe,M)}}L||(L=new $n);var Ee=L.get(i);if(Ee)return Ee;L.set(i,k),Qp(i)?i.forEach(function(Re){k.add(Ln(Re,s,c,Re,i,L))}):Xp(i)&&i.forEach(function(Re,He){k.set(He,Ln(Re,s,c,He,i,L))});var Ne=ie?F?Bu:Ou:F?en:Rt,Pe=se?t:Ne(i);return _n(Pe||i,function(Re,He){Pe&&(He=Re,Re=i[He]),tl(k,He,Ln(Re,s,c,He,i,L))}),k}function R2(i){var s=Rt(i);return function(c){return jh(c,i,s)}}function jh(i,s,c){var m=c.length;if(i==null)return!m;for(i=at(i);m--;){var C=c[m],L=s[C],k=i[C];if(k===t&&!(C in i)||!L(k))return!1}return!0}function Ph(i,s,c){if(typeof i!="function")throw new Tn(a);return al(function(){i.apply(t,c)},s)}function nl(i,s,c,m){var C=-1,L=Zl,k=!0,M=i.length,F=[],ie=s.length;if(!M)return F;c&&(s=ht(s,un(c))),m?(L=eu,k=!1):s.length>=o&&(L=Ko,k=!1,s=new Vi(s));e:for(;++C<M;){var se=i[C],oe=c==null?se:c(se);if(se=m||se!==0?se:0,k&&oe===oe){for(var be=ie;be--;)if(s[be]===oe)continue e;F.push(se)}else L(s,oe,m)||F.push(se)}return F}var ci=up(or),Dh=up(mu,!0);function k2(i,s){var c=!0;return ci(i,function(m,C,L){return c=!!s(m,C,L),c}),c}function da(i,s,c){for(var m=-1,C=i.length;++m<C;){var L=i[m],k=s(L);if(k!=null&&(M===t?k===k&&!dn(k):c(k,M)))var M=k,F=L}return F}function I2(i,s,c,m){var C=i.length;for(c=je(c),c<0&&(c=-c>C?0:C+c),m=m===t||m>C?C:je(m),m<0&&(m+=C),m=c>m?0:t0(m);c<m;)i[c++]=s;return i}function qh(i,s){var c=[];return ci(i,function(m,C,L){s(m,C,L)&&c.push(m)}),c}function Bt(i,s,c,m,C){var L=-1,k=i.length;for(c||(c=yx),C||(C=[]);++L<k;){var M=i[L];s>0&&c(M)?s>1?Bt(M,s-1,c,m,C):oi(C,M):m||(C[C.length]=M)}return C}var gu=fp(),Fh=fp(!0);function or(i,s){return i&&gu(i,s,Rt)}function mu(i,s){return i&&Fh(i,s,Rt)}function ha(i,s){return si(s,function(c){return Or(i[c])})}function Zi(i,s){s=fi(s,i);for(var c=0,m=s.length;i!=null&&c<m;)i=i[ar(s[c++])];return c&&c==m?i:t}function Hh(i,s,c){var m=s(i);return Me(i)?m:oi(m,c(i))}function Gt(i){return i==null?i===t?xn:tt:Ui&&Ui in at(i)?px(i):Sx(i)}function vu(i,s){return i>s}function O2(i,s){return i!=null&&lt.call(i,s)}function B2(i,s){return i!=null&&s in at(i)}function M2(i,s,c){return i>=Ht(s,c)&&i<Lt(s,c)}function bu(i,s,c){for(var m=c?eu:Zl,C=i[0].length,L=i.length,k=L,M=K(L),F=1/0,ie=[];k--;){var se=i[k];k&&s&&(se=ht(se,un(s))),F=Ht(se.length,F),M[k]=!c&&(s||C>=120&&se.length>=120)?new Vi(k&&se):t}se=i[0];var oe=-1,be=M[0];e:for(;++oe<C&&ie.length<F;){var Ee=se[oe],Ne=s?s(Ee):Ee;if(Ee=c||Ee!==0?Ee:0,!(be?Ko(be,Ne):m(ie,Ne,c))){for(k=L;--k;){var Pe=M[k];if(!(Pe?Ko(Pe,Ne):m(i[k],Ne,c)))continue e}be&&be.push(Ne),ie.push(Ee)}}return ie}function j2(i,s,c,m){return or(i,function(C,L,k){s(m,c(C),L,k)}),m}function rl(i,s,c){s=fi(s,i),i=Lp(i,s);var m=i==null?i:i[ar(Rn(s))];return m==null?t:Nt(m,i,c)}function $h(i){return vt(i)&&Gt(i)==Y}function P2(i){return vt(i)&&Gt(i)==on}function D2(i){return vt(i)&&Gt(i)==xe}function il(i,s,c,m,C){return i===s?!0:i==null||s==null||!vt(i)&&!vt(s)?i!==i&&s!==s:q2(i,s,c,m,il,C)}function q2(i,s,c,m,C,L){var k=Me(i),M=Me(s),F=k?ae:$t(i),ie=M?ae:$t(s);F=F==Y?it:F,ie=ie==Y?it:ie;var se=F==it,oe=ie==it,be=F==ie;if(be&&hi(i)){if(!hi(s))return!1;k=!0,se=!1}if(be&&!se)return L||(L=new $n),k||Ws(i)?wp(i,s,c,m,C,L):dx(i,s,F,c,m,C,L);if(!(c&y)){var Ee=se&&lt.call(i,"__wrapped__"),Ne=oe&&lt.call(s,"__wrapped__");if(Ee||Ne){var Pe=Ee?i.value():i,Re=Ne?s.value():s;return L||(L=new $n),C(Pe,Re,c,m,L)}}return be?(L||(L=new $n),hx(i,s,c,m,C,L)):!1}function F2(i){return vt(i)&&$t(i)==me}function xu(i,s,c,m){var C=c.length,L=C,k=!m;if(i==null)return!L;for(i=at(i);C--;){var M=c[C];if(k&&M[2]?M[1]!==i[M[0]]:!(M[0]in i))return!1}for(;++C<L;){M=c[C];var F=M[0],ie=i[F],se=M[1];if(k&&M[2]){if(ie===t&&!(F in i))return!1}else{var oe=new $n;if(m)var be=m(ie,se,F,i,s,oe);if(!(be===t?il(se,ie,y|w,m,oe):be))return!1}}return!0}function zh(i){if(!gt(i)||Cx(i))return!1;var s=Or(i)?Fb:jo;return s.test(Yi(i))}function H2(i){return vt(i)&&Gt(i)==ze}function $2(i){return vt(i)&&$t(i)==Xe}function z2(i){return vt(i)&&Ra(i.length)&&!!st[Gt(i)]}function Uh(i){return typeof i=="function"?i:i==null?tn:typeof i=="object"?Me(i)?Gh(i[0],i[1]):Vh(i):d0(i)}function yu(i){if(!ll(i))return Vb(i);var s=[];for(var c in at(i))lt.call(i,c)&&c!="constructor"&&s.push(c);return s}function U2(i){if(!gt(i))return Tx(i);var s=ll(i),c=[];for(var m in i)m=="constructor"&&(s||!lt.call(i,m))||c.push(m);return c}function wu(i,s){return i<s}function Wh(i,s){var c=-1,m=Qt(i)?K(i.length):[];return ci(i,function(C,L,k){m[++c]=s(C,L,k)}),m}function Vh(i){var s=ju(i);return s.length==1&&s[0][2]?Tp(s[0][0],s[0][1]):function(c){return c===i||xu(c,i,s)}}function Gh(i,s){return Du(i)&&_p(s)?Tp(ar(i),s):function(c){var m=Zu(c,i);return m===t&&m===s?Ku(c,i):il(s,m,y|w)}}function pa(i,s,c,m,C){i!==s&&gu(s,function(L,k){if(C||(C=new $n),gt(L))W2(i,s,k,c,pa,m,C);else{var M=m?m(Fu(i,k),L,k+"",i,s,C):t;M===t&&(M=L),hu(i,k,M)}},en)}function W2(i,s,c,m,C,L,k){var M=Fu(i,c),F=Fu(s,c),ie=k.get(F);if(ie){hu(i,c,ie);return}var se=L?L(M,F,c+"",i,s,k):t,oe=se===t;if(oe){var be=Me(F),Ee=!be&&hi(F),Ne=!be&&!Ee&&Ws(F);se=F,be||Ee||Ne?Me(M)?se=M:xt(M)?se=Jt(M):Ee?(oe=!1,se=sp(F,!0)):Ne?(oe=!1,se=op(F,!0)):se=[]:cl(F)||Xi(F)?(se=M,Xi(M)?se=n0(M):(!gt(M)||Or(M))&&(se=Ap(F))):oe=!1}oe&&(k.set(F,se),C(se,F,m,L,k),k.delete(F)),hu(i,c,se)}function Zh(i,s){var c=i.length;if(c)return s+=s<0?c:0,Ir(s,c)?i[s]:t}function Kh(i,s,c){s.length?s=ht(s,function(L){return Me(L)?function(k){return Zi(k,L.length===1?L[0]:L)}:L}):s=[tn];var m=-1;s=ht(s,un(Le()));var C=Wh(i,function(L,k,M){var F=ht(s,function(ie){return ie(L)});return{criteria:F,index:++m,value:L}});return bb(C,function(L,k){return ix(L,k,c)})}function V2(i,s){return Yh(i,s,function(c,m){return Ku(i,m)})}function Yh(i,s,c){for(var m=-1,C=s.length,L={};++m<C;){var k=s[m],M=Zi(i,k);c(M,k)&&sl(L,fi(k,i),M)}return L}function G2(i){return function(s){return Zi(s,i)}}function Cu(i,s,c,m){var C=m?vb:Bs,L=-1,k=s.length,M=i;for(i===s&&(s=Jt(s)),c&&(M=ht(i,un(c)));++L<k;)for(var F=0,ie=s[L],se=c?c(ie):ie;(F=C(M,se,F,m))>-1;)M!==i&&ia.call(M,F,1),ia.call(i,F,1);return i}function Xh(i,s){for(var c=i?s.length:0,m=c-1;c--;){var C=s[c];if(c==m||C!==L){var L=C;Ir(C)?ia.call(i,C,1):Tu(i,C)}}return i}function Eu(i,s){return i+la(kh()*(s-i+1))}function Z2(i,s,c,m){for(var C=-1,L=Lt(oa((s-i)/(c||1)),0),k=K(L);L--;)k[m?L:++C]=i,i+=c;return k}function Au(i,s){var c="";if(!i||s<1||s>U)return c;do s%2&&(c+=i),s=la(s/2),s&&(i+=i);while(s);return c}function qe(i,s){return Hu(Sp(i,s,tn),i+"")}function K2(i){return Bh(Vs(i))}function Y2(i,s){var c=Vs(i);return Aa(c,Gi(s,0,c.length))}function sl(i,s,c,m){if(!gt(i))return i;s=fi(s,i);for(var C=-1,L=s.length,k=L-1,M=i;M!=null&&++C<L;){var F=ar(s[C]),ie=c;if(F==="__proto__"||F==="constructor"||F==="prototype")return i;if(C!=k){var se=M[F];ie=m?m(se,F,M):t,ie===t&&(ie=gt(se)?se:Ir(s[C+1])?[]:{})}tl(M,F,ie),M=M[F]}return i}var Jh=aa?function(i,s){return aa.set(i,s),i}:tn,X2=sa?function(i,s){return sa(i,"toString",{configurable:!0,enumerable:!1,value:Xu(s),writable:!0})}:tn;function J2(i){return Aa(Vs(i))}function Nn(i,s,c){var m=-1,C=i.length;s<0&&(s=-s>C?0:C+s),c=c>C?C:c,c<0&&(c+=C),C=s>c?0:c-s>>>0,s>>>=0;for(var L=K(C);++m<C;)L[m]=i[m+s];return L}function Q2(i,s){var c;return ci(i,function(m,C,L){return c=s(m,C,L),!c}),!!c}function ga(i,s,c){var m=0,C=i==null?m:i.length;if(typeof s=="number"&&s===s&&C<=X){for(;m<C;){var L=m+C>>>1,k=i[L];k!==null&&!dn(k)&&(c?k<=s:k<s)?m=L+1:C=L}return C}return _u(i,s,tn,c)}function _u(i,s,c,m){var C=0,L=i==null?0:i.length;if(L===0)return 0;s=c(s);for(var k=s!==s,M=s===null,F=dn(s),ie=s===t;C<L;){var se=la((C+L)/2),oe=c(i[se]),be=oe!==t,Ee=oe===null,Ne=oe===oe,Pe=dn(oe);if(k)var Re=m||Ne;else ie?Re=Ne&&(m||be):M?Re=Ne&&be&&(m||!Ee):F?Re=Ne&&be&&!Ee&&(m||!Pe):Ee||Pe?Re=!1:Re=m?oe<=s:oe<s;Re?C=se+1:L=se}return Ht(L,Q)}function Qh(i,s){for(var c=-1,m=i.length,C=0,L=[];++c<m;){var k=i[c],M=s?s(k):k;if(!c||!zn(M,F)){var F=M;L[C++]=k===0?0:k}}return L}function ep(i){return typeof i=="number"?i:dn(i)?Z:+i}function fn(i){if(typeof i=="string")return i;if(Me(i))return ht(i,fn)+"";if(dn(i))return Ih?Ih.call(i):"";var s=i+"";return s=="0"&&1/i==-W?"-0":s}function ui(i,s,c){var m=-1,C=Zl,L=i.length,k=!0,M=[],F=M;if(c)k=!1,C=eu;else if(L>=o){var ie=s?null:ux(i);if(ie)return Yl(ie);k=!1,C=Ko,F=new Vi}else F=s?[]:M;e:for(;++m<L;){var se=i[m],oe=s?s(se):se;if(se=c||se!==0?se:0,k&&oe===oe){for(var be=F.length;be--;)if(F[be]===oe)continue e;s&&F.push(oe),M.push(se)}else C(F,oe,c)||(F!==M&&F.push(oe),M.push(se))}return M}function Tu(i,s){return s=fi(s,i),i=Lp(i,s),i==null||delete i[ar(Rn(s))]}function tp(i,s,c,m){return sl(i,s,c(Zi(i,s)),m)}function ma(i,s,c,m){for(var C=i.length,L=m?C:-1;(m?L--:++L<C)&&s(i[L],L,i););return c?Nn(i,m?0:L,m?L+1:C):Nn(i,m?L+1:0,m?C:L)}function np(i,s){var c=i;return c instanceof Ue&&(c=c.value()),tu(s,function(m,C){return C.func.apply(C.thisArg,oi([m],C.args))},c)}function Su(i,s,c){var m=i.length;if(m<2)return m?ui(i[0]):[];for(var C=-1,L=K(m);++C<m;)for(var k=i[C],M=-1;++M<m;)M!=C&&(L[C]=nl(L[C]||k,i[M],s,c));return ui(Bt(L,1),s,c)}function rp(i,s,c){for(var m=-1,C=i.length,L=s.length,k={};++m<C;){var M=m<L?s[m]:t;c(k,i[m],M)}return k}function Lu(i){return xt(i)?i:[]}function Nu(i){return typeof i=="function"?i:tn}function fi(i,s){return Me(i)?i:Du(i,s)?[i]:Ip(rt(i))}var ex=qe;function di(i,s,c){var m=i.length;return c=c===t?m:c,!s&&c>=m?i:Nn(i,s,c)}var ip=Hb||function(i){return Fe.clearTimeout(i)};function sp(i,s){if(s)return i.slice();var c=i.length,m=Th?Th(c):new i.constructor(c);return i.copy(m),m}function Ru(i){var s=new i.constructor(i.byteLength);return new na(s).set(new na(i)),s}function tx(i,s){var c=s?Ru(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.byteLength)}function nx(i){var s=new i.constructor(i.source,Tt.exec(i));return s.lastIndex=i.lastIndex,s}function rx(i){return el?at(el.call(i)):{}}function op(i,s){var c=s?Ru(i.buffer):i.buffer;return new i.constructor(c,i.byteOffset,i.length)}function lp(i,s){if(i!==s){var c=i!==t,m=i===null,C=i===i,L=dn(i),k=s!==t,M=s===null,F=s===s,ie=dn(s);if(!M&&!ie&&!L&&i>s||L&&k&&F&&!M&&!ie||m&&k&&F||!c&&F||!C)return 1;if(!m&&!L&&!ie&&i<s||ie&&c&&C&&!m&&!L||M&&c&&C||!k&&C||!F)return-1}return 0}function ix(i,s,c){for(var m=-1,C=i.criteria,L=s.criteria,k=C.length,M=c.length;++m<k;){var F=lp(C[m],L[m]);if(F){if(m>=M)return F;var ie=c[m];return F*(ie=="desc"?-1:1)}}return i.index-s.index}function ap(i,s,c,m){for(var C=-1,L=i.length,k=c.length,M=-1,F=s.length,ie=Lt(L-k,0),se=K(F+ie),oe=!m;++M<F;)se[M]=s[M];for(;++C<k;)(oe||C<L)&&(se[c[C]]=i[C]);for(;ie--;)se[M++]=i[C++];return se}function cp(i,s,c,m){for(var C=-1,L=i.length,k=-1,M=c.length,F=-1,ie=s.length,se=Lt(L-M,0),oe=K(se+ie),be=!m;++C<se;)oe[C]=i[C];for(var Ee=C;++F<ie;)oe[Ee+F]=s[F];for(;++k<M;)(be||C<L)&&(oe[Ee+c[k]]=i[C++]);return oe}function Jt(i,s){var c=-1,m=i.length;for(s||(s=K(m));++c<m;)s[c]=i[c];return s}function lr(i,s,c,m){var C=!c;c||(c={});for(var L=-1,k=s.length;++L<k;){var M=s[L],F=m?m(c[M],i[M],M,c,i):t;F===t&&(F=i[M]),C?Nr(c,M,F):tl(c,M,F)}return c}function sx(i,s){return lr(i,Pu(i),s)}function ox(i,s){return lr(i,Cp(i),s)}function va(i,s){return function(c,m){var C=Me(c)?fb:L2,L=s?s():{};return C(c,i,Le(m,2),L)}}function $s(i){return qe(function(s,c){var m=-1,C=c.length,L=C>1?c[C-1]:t,k=C>2?c[2]:t;for(L=i.length>3&&typeof L=="function"?(C--,L):t,k&&Zt(c[0],c[1],k)&&(L=C<3?t:L,C=1),s=at(s);++m<C;){var M=c[m];M&&i(s,M,m,L)}return s})}function up(i,s){return function(c,m){if(c==null)return c;if(!Qt(c))return i(c,m);for(var C=c.length,L=s?C:-1,k=at(c);(s?L--:++L<C)&&m(k[L],L,k)!==!1;);return c}}function fp(i){return function(s,c,m){for(var C=-1,L=at(s),k=m(s),M=k.length;M--;){var F=k[i?M:++C];if(c(L[F],F,L)===!1)break}return s}}function lx(i,s,c){var m=s&E,C=ol(i);function L(){var k=this&&this!==Fe&&this instanceof L?C:i;return k.apply(m?c:this,arguments)}return L}function dp(i){return function(s){s=rt(s);var c=Ms(s)?Hn(s):t,m=c?c[0]:s.charAt(0),C=c?di(c,1).join(""):s.slice(1);return m[i]()+C}}function zs(i){return function(s){return tu(u0(c0(s).replace(ri,"")),i,"")}}function ol(i){return function(){var s=arguments;switch(s.length){case 0:return new i;case 1:return new i(s[0]);case 2:return new i(s[0],s[1]);case 3:return new i(s[0],s[1],s[2]);case 4:return new i(s[0],s[1],s[2],s[3]);case 5:return new i(s[0],s[1],s[2],s[3],s[4]);case 6:return new i(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new i(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var c=Hs(i.prototype),m=i.apply(c,s);return gt(m)?m:c}}function ax(i,s,c){var m=ol(i);function C(){for(var L=arguments.length,k=K(L),M=L,F=Us(C);M--;)k[M]=arguments[M];var ie=L<3&&k[0]!==F&&k[L-1]!==F?[]:li(k,F);if(L-=ie.length,L<c)return vp(i,s,ba,C.placeholder,t,k,ie,t,t,c-L);var se=this&&this!==Fe&&this instanceof C?m:i;return Nt(se,this,k)}return C}function hp(i){return function(s,c,m){var C=at(s);if(!Qt(s)){var L=Le(c,3);s=Rt(s),c=function(M){return L(C[M],M,C)}}var k=i(s,c,m);return k>-1?C[L?s[k]:k]:t}}function pp(i){return kr(function(s){var c=s.length,m=c,C=Sn.prototype.thru;for(i&&s.reverse();m--;){var L=s[m];if(typeof L!="function")throw new Tn(a);if(C&&!k&&Ca(L)=="wrapper")var k=new Sn([],!0)}for(m=k?m:c;++m<c;){L=s[m];var M=Ca(L),F=M=="wrapper"?Mu(L):t;F&&qu(F[0])&&F[1]==(V|I|z|ne)&&!F[4].length&&F[9]==1?k=k[Ca(F[0])].apply(k,F[3]):k=L.length==1&&qu(L)?k[M]():k.thru(L)}return function(){var ie=arguments,se=ie[0];if(k&&ie.length==1&&Me(se))return k.plant(se).value();for(var oe=0,be=c?s[oe].apply(this,ie):se;++oe<c;)be=s[oe].call(this,be);return be}})}function ba(i,s,c,m,C,L,k,M,F,ie){var se=s&V,oe=s&E,be=s&S,Ee=s&(I|j),Ne=s&pe,Pe=be?t:ol(i);function Re(){for(var He=arguments.length,Ge=K(He),hn=He;hn--;)Ge[hn]=arguments[hn];if(Ee)var Kt=Us(Re),pn=yb(Ge,Kt);if(m&&(Ge=ap(Ge,m,C,Ee)),L&&(Ge=cp(Ge,L,k,Ee)),He-=pn,Ee&&He<ie){var yt=li(Ge,Kt);return vp(i,s,ba,Re.placeholder,c,Ge,yt,M,F,ie-He)}var Un=oe?c:this,Mr=be?Un[i]:i;return He=Ge.length,M?Ge=Lx(Ge,M):Ne&&He>1&&Ge.reverse(),se&&F<He&&(Ge.length=F),this&&this!==Fe&&this instanceof Re&&(Mr=Pe||ol(Mr)),Mr.apply(Un,Ge)}return Re}function gp(i,s){return function(c,m){return j2(c,i,s(m),{})}}function xa(i,s){return function(c,m){var C;if(c===t&&m===t)return s;if(c!==t&&(C=c),m!==t){if(C===t)return m;typeof c=="string"||typeof m=="string"?(c=fn(c),m=fn(m)):(c=ep(c),m=ep(m)),C=i(c,m)}return C}}function ku(i){return kr(function(s){return s=ht(s,un(Le())),qe(function(c){var m=this;return i(s,function(C){return Nt(C,m,c)})})})}function ya(i,s){s=s===t?" ":fn(s);var c=s.length;if(c<2)return c?Au(s,i):s;var m=Au(s,oa(i/js(s)));return Ms(s)?di(Hn(m),0,i).join(""):m.slice(0,i)}function cx(i,s,c,m){var C=s&E,L=ol(i);function k(){for(var M=-1,F=arguments.length,ie=-1,se=m.length,oe=K(se+F),be=this&&this!==Fe&&this instanceof k?L:i;++ie<se;)oe[ie]=m[ie];for(;F--;)oe[ie++]=arguments[++M];return Nt(be,C?c:this,oe)}return k}function mp(i){return function(s,c,m){return m&&typeof m!="number"&&Zt(s,c,m)&&(c=m=t),s=Br(s),c===t?(c=s,s=0):c=Br(c),m=m===t?s<c?1:-1:Br(m),Z2(s,c,m,i)}}function wa(i){return function(s,c){return typeof s=="string"&&typeof c=="string"||(s=kn(s),c=kn(c)),i(s,c)}}function vp(i,s,c,m,C,L,k,M,F,ie){var se=s&I,oe=se?k:t,be=se?t:k,Ee=se?L:t,Ne=se?t:L;s|=se?z:J,s&=~(se?J:z),s&R||(s&=-4);var Pe=[i,s,C,Ee,oe,Ne,be,M,F,ie],Re=c.apply(t,Pe);return qu(i)&&Np(Re,Pe),Re.placeholder=m,Rp(Re,i,s)}function Iu(i){var s=St[i];return function(c,m){if(c=kn(c),m=m==null?0:Ht(je(m),292),m&&Rh(c)){var C=(rt(c)+"e").split("e"),L=s(C[0]+"e"+(+C[1]+m));return C=(rt(L)+"e").split("e"),+(C[0]+"e"+(+C[1]-m))}return s(c)}}var ux=qs&&1/Yl(new qs([,-0]))[1]==W?function(i){return new qs(i)}:ef;function bp(i){return function(s){var c=$t(s);return c==me?au(s):c==Xe?Sb(s):xb(s,i(s))}}function Rr(i,s,c,m,C,L,k,M){var F=s&S;if(!F&&typeof i!="function")throw new Tn(a);var ie=m?m.length:0;if(ie||(s&=-97,m=C=t),k=k===t?k:Lt(je(k),0),M=M===t?M:je(M),ie-=C?C.length:0,s&J){var se=m,oe=C;m=C=t}var be=F?t:Mu(i),Ee=[i,s,c,m,C,se,oe,L,k,M];if(be&&_x(Ee,be),i=Ee[0],s=Ee[1],c=Ee[2],m=Ee[3],C=Ee[4],M=Ee[9]=Ee[9]===t?F?0:i.length:Lt(Ee[9]-ie,0),!M&&s&(I|j)&&(s&=-25),!s||s==E)var Ne=lx(i,s,c);else s==I||s==j?Ne=ax(i,s,M):(s==z||s==(E|z))&&!C.length?Ne=cx(i,s,c,m):Ne=ba.apply(t,Ee);var Pe=be?Jh:Np;return Rp(Pe(Ne,Ee),i,s)}function xp(i,s,c,m){return i===t||zn(i,Ds[c])&&!lt.call(m,c)?s:i}function yp(i,s,c,m,C,L){return gt(i)&&gt(s)&&(L.set(s,i),pa(i,s,t,yp,L),L.delete(s)),i}function fx(i){return cl(i)?t:i}function wp(i,s,c,m,C,L){var k=c&y,M=i.length,F=s.length;if(M!=F&&!(k&&F>M))return!1;var ie=L.get(i),se=L.get(s);if(ie&&se)return ie==s&&se==i;var oe=-1,be=!0,Ee=c&w?new Vi:t;for(L.set(i,s),L.set(s,i);++oe<M;){var Ne=i[oe],Pe=s[oe];if(m)var Re=k?m(Pe,Ne,oe,s,i,L):m(Ne,Pe,oe,i,s,L);if(Re!==t){if(Re)continue;be=!1;break}if(Ee){if(!nu(s,function(He,Ge){if(!Ko(Ee,Ge)&&(Ne===He||C(Ne,He,c,m,L)))return Ee.push(Ge)})){be=!1;break}}else if(!(Ne===Pe||C(Ne,Pe,c,m,L))){be=!1;break}}return L.delete(i),L.delete(s),be}function dx(i,s,c,m,C,L,k){switch(c){case ln:if(i.byteLength!=s.byteLength||i.byteOffset!=s.byteOffset)return!1;i=i.buffer,s=s.buffer;case on:return!(i.byteLength!=s.byteLength||!L(new na(i),new na(s)));case ue:case xe:case ke:return zn(+i,+s);case ge:return i.name==s.name&&i.message==s.message;case ze:case Pt:return i==s+"";case me:var M=au;case Xe:var F=m&y;if(M||(M=Yl),i.size!=s.size&&!F)return!1;var ie=k.get(i);if(ie)return ie==s;m|=w,k.set(i,s);var se=wp(M(i),M(s),m,C,L,k);return k.delete(i),se;case Pn:if(el)return el.call(i)==el.call(s)}return!1}function hx(i,s,c,m,C,L){var k=c&y,M=Ou(i),F=M.length,ie=Ou(s),se=ie.length;if(F!=se&&!k)return!1;for(var oe=F;oe--;){var be=M[oe];if(!(k?be in s:lt.call(s,be)))return!1}var Ee=L.get(i),Ne=L.get(s);if(Ee&&Ne)return Ee==s&&Ne==i;var Pe=!0;L.set(i,s),L.set(s,i);for(var Re=k;++oe<F;){be=M[oe];var He=i[be],Ge=s[be];if(m)var hn=k?m(Ge,He,be,s,i,L):m(He,Ge,be,i,s,L);if(!(hn===t?He===Ge||C(He,Ge,c,m,L):hn)){Pe=!1;break}Re||(Re=be=="constructor")}if(Pe&&!Re){var Kt=i.constructor,pn=s.constructor;Kt!=pn&&"constructor"in i&&"constructor"in s&&!(typeof Kt=="function"&&Kt instanceof Kt&&typeof pn=="function"&&pn instanceof pn)&&(Pe=!1)}return L.delete(i),L.delete(s),Pe}function kr(i){return Hu(Sp(i,t,jp),i+"")}function Ou(i){return Hh(i,Rt,Pu)}function Bu(i){return Hh(i,en,Cp)}var Mu=aa?function(i){return aa.get(i)}:ef;function Ca(i){for(var s=i.name+"",c=Fs[s],m=lt.call(Fs,s)?c.length:0;m--;){var C=c[m],L=C.func;if(L==null||L==i)return C.name}return s}function Us(i){var s=lt.call(_,"placeholder")?_:i;return s.placeholder}function Le(){var i=_.iteratee||Ju;return i=i===Ju?Uh:i,arguments.length?i(arguments[0],arguments[1]):i}function Ea(i,s){var c=i.__data__;return wx(s)?c[typeof s=="string"?"string":"hash"]:c.map}function ju(i){for(var s=Rt(i),c=s.length;c--;){var m=s[c],C=i[m];s[c]=[m,C,_p(C)]}return s}function Ki(i,s){var c=Ab(i,s);return zh(c)?c:t}function px(i){var s=lt.call(i,Ui),c=i[Ui];try{i[Ui]=t;var m=!0}catch{}var C=ea.call(i);return m&&(s?i[Ui]=c:delete i[Ui]),C}var Pu=uu?function(i){return i==null?[]:(i=at(i),si(uu(i),function(s){return Lh.call(i,s)}))}:tf,Cp=uu?function(i){for(var s=[];i;)oi(s,Pu(i)),i=ra(i);return s}:tf,$t=Gt;(fu&&$t(new fu(new ArrayBuffer(1)))!=ln||Xo&&$t(new Xo)!=me||du&&$t(du.resolve())!=Je||qs&&$t(new qs)!=Xe||Jo&&$t(new Jo)!=yn)&&($t=function(i){var s=Gt(i),c=s==it?i.constructor:t,m=c?Yi(c):"";if(m)switch(m){case Yb:return ln;case Xb:return me;case Jb:return Je;case Qb:return Xe;case e2:return yn}return s});function gx(i,s,c){for(var m=-1,C=c.length;++m<C;){var L=c[m],k=L.size;switch(L.type){case"drop":i+=k;break;case"dropRight":s-=k;break;case"take":s=Ht(s,i+k);break;case"takeRight":i=Lt(i,s-k);break}}return{start:i,end:s}}function mx(i){var s=i.match(_t);return s?s[1].split(No):[]}function Ep(i,s,c){s=fi(s,i);for(var m=-1,C=s.length,L=!1;++m<C;){var k=ar(s[m]);if(!(L=i!=null&&c(i,k)))break;i=i[k]}return L||++m!=C?L:(C=i==null?0:i.length,!!C&&Ra(C)&&Ir(k,C)&&(Me(i)||Xi(i)))}function vx(i){var s=i.length,c=new i.constructor(s);return s&&typeof i[0]=="string"&&lt.call(i,"index")&&(c.index=i.index,c.input=i.input),c}function Ap(i){return typeof i.constructor=="function"&&!ll(i)?Hs(ra(i)):{}}function bx(i,s,c){var m=i.constructor;switch(s){case on:return Ru(i);case ue:case xe:return new m(+i);case ln:return tx(i,c);case vr:case Dt:case Gr:case Zr:case Ni:case br:case tr:case Kr:case nr:return op(i,c);case me:return new m;case ke:case Pt:return new m(i);case ze:return nx(i);case Xe:return new m;case Pn:return rx(i)}}function xx(i,s){var c=s.length;if(!c)return i;var m=c-1;return s[m]=(c>1?"& ":"")+s[m],s=s.join(c>2?", ":" "),i.replace(Mi,`{
/* [wrapped with `+s+`] */
`)}function yx(i){return Me(i)||Xi(i)||!!(Nh&&i&&i[Nh])}function Ir(i,s){var c=typeof i;return s=s??U,!!s&&(c=="number"||c!="symbol"&&Do.test(i))&&i>-1&&i%1==0&&i<s}function Zt(i,s,c){if(!gt(c))return!1;var m=typeof s;return(m=="number"?Qt(c)&&Ir(s,c.length):m=="string"&&s in c)?zn(c[s],i):!1}function Du(i,s){if(Me(i))return!1;var c=typeof i;return c=="number"||c=="symbol"||c=="boolean"||i==null||dn(i)?!0:vs.test(i)||!ir.test(i)||s!=null&&i in at(s)}function wx(i){var s=typeof i;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?i!=="__proto__":i===null}function qu(i){var s=Ca(i),c=_[s];if(typeof c!="function"||!(s in Ue.prototype))return!1;if(i===c)return!0;var m=Mu(c);return!!m&&i===m[0]}function Cx(i){return!!_h&&_h in i}var Ex=Jl?Or:nf;function ll(i){var s=i&&i.constructor,c=typeof s=="function"&&s.prototype||Ds;return i===c}function _p(i){return i===i&&!gt(i)}function Tp(i,s){return function(c){return c==null?!1:c[i]===s&&(s!==t||i in at(c))}}function Ax(i){var s=La(i,function(m){return c.size===d&&c.clear(),m}),c=s.cache;return s}function _x(i,s){var c=i[1],m=s[1],C=c|m,L=C<(E|S|V),k=m==V&&c==I||m==V&&c==ne&&i[7].length<=s[8]||m==(V|ne)&&s[7].length<=s[8]&&c==I;if(!(L||k))return i;m&E&&(i[2]=s[2],C|=c&E?0:R);var M=s[3];if(M){var F=i[3];i[3]=F?ap(F,M,s[4]):M,i[4]=F?li(i[3],h):s[4]}return M=s[5],M&&(F=i[5],i[5]=F?cp(F,M,s[6]):M,i[6]=F?li(i[5],h):s[6]),M=s[7],M&&(i[7]=M),m&V&&(i[8]=i[8]==null?s[8]:Ht(i[8],s[8])),i[9]==null&&(i[9]=s[9]),i[0]=s[0],i[1]=C,i}function Tx(i){var s=[];if(i!=null)for(var c in at(i))s.push(c);return s}function Sx(i){return ea.call(i)}function Sp(i,s,c){return s=Lt(s===t?i.length-1:s,0),function(){for(var m=arguments,C=-1,L=Lt(m.length-s,0),k=K(L);++C<L;)k[C]=m[s+C];C=-1;for(var M=K(s+1);++C<s;)M[C]=m[C];return M[s]=c(k),Nt(i,this,M)}}function Lp(i,s){return s.length<2?i:Zi(i,Nn(s,0,-1))}function Lx(i,s){for(var c=i.length,m=Ht(s.length,c),C=Jt(i);m--;){var L=s[m];i[m]=Ir(L,c)?C[L]:t}return i}function Fu(i,s){if(!(s==="constructor"&&typeof i[s]=="function")&&s!="__proto__")return i[s]}var Np=kp(Jh),al=zb||function(i,s){return Fe.setTimeout(i,s)},Hu=kp(X2);function Rp(i,s,c){var m=s+"";return Hu(i,xx(m,Nx(mx(m),c)))}function kp(i){var s=0,c=0;return function(){var m=Gb(),C=O-(m-c);if(c=m,C>0){if(++s>=D)return arguments[0]}else s=0;return i.apply(t,arguments)}}function Aa(i,s){var c=-1,m=i.length,C=m-1;for(s=s===t?m:s;++c<s;){var L=Eu(c,C),k=i[L];i[L]=i[c],i[c]=k}return i.length=s,i}var Ip=Ax(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(Dn,function(c,m,C,L){s.push(C?L.replace(Io,"$1"):m||c)}),s});function ar(i){if(typeof i=="string"||dn(i))return i;var s=i+"";return s=="0"&&1/i==-W?"-0":s}function Yi(i){if(i!=null){try{return Ql.call(i)}catch{}try{return i+""}catch{}}return""}function Nx(i,s){return _n(de,function(c){var m="_."+c[0];s&c[1]&&!Zl(i,m)&&i.push(m)}),i.sort()}function Op(i){if(i instanceof Ue)return i.clone();var s=new Sn(i.__wrapped__,i.__chain__);return s.__actions__=Jt(i.__actions__),s.__index__=i.__index__,s.__values__=i.__values__,s}function Rx(i,s,c){(c?Zt(i,s,c):s===t)?s=1:s=Lt(je(s),0);var m=i==null?0:i.length;if(!m||s<1)return[];for(var C=0,L=0,k=K(oa(m/s));C<m;)k[L++]=Nn(i,C,C+=s);return k}function kx(i){for(var s=-1,c=i==null?0:i.length,m=0,C=[];++s<c;){var L=i[s];L&&(C[m++]=L)}return C}function Ix(){var i=arguments.length;if(!i)return[];for(var s=K(i-1),c=arguments[0],m=i;m--;)s[m-1]=arguments[m];return oi(Me(c)?Jt(c):[c],Bt(s,1))}var Ox=qe(function(i,s){return xt(i)?nl(i,Bt(s,1,xt,!0)):[]}),Bx=qe(function(i,s){var c=Rn(s);return xt(c)&&(c=t),xt(i)?nl(i,Bt(s,1,xt,!0),Le(c,2)):[]}),Mx=qe(function(i,s){var c=Rn(s);return xt(c)&&(c=t),xt(i)?nl(i,Bt(s,1,xt,!0),t,c):[]});function jx(i,s,c){var m=i==null?0:i.length;return m?(s=c||s===t?1:je(s),Nn(i,s<0?0:s,m)):[]}function Px(i,s,c){var m=i==null?0:i.length;return m?(s=c||s===t?1:je(s),s=m-s,Nn(i,0,s<0?0:s)):[]}function Dx(i,s){return i&&i.length?ma(i,Le(s,3),!0,!0):[]}function qx(i,s){return i&&i.length?ma(i,Le(s,3),!0):[]}function Fx(i,s,c,m){var C=i==null?0:i.length;return C?(c&&typeof c!="number"&&Zt(i,s,c)&&(c=0,m=C),I2(i,s,c,m)):[]}function Bp(i,s,c){var m=i==null?0:i.length;if(!m)return-1;var C=c==null?0:je(c);return C<0&&(C=Lt(m+C,0)),Kl(i,Le(s,3),C)}function Mp(i,s,c){var m=i==null?0:i.length;if(!m)return-1;var C=m-1;return c!==t&&(C=je(c),C=c<0?Lt(m+C,0):Ht(C,m-1)),Kl(i,Le(s,3),C,!0)}function jp(i){var s=i==null?0:i.length;return s?Bt(i,1):[]}function Hx(i){var s=i==null?0:i.length;return s?Bt(i,W):[]}function $x(i,s){var c=i==null?0:i.length;return c?(s=s===t?1:je(s),Bt(i,s)):[]}function zx(i){for(var s=-1,c=i==null?0:i.length,m={};++s<c;){var C=i[s];m[C[0]]=C[1]}return m}function Pp(i){return i&&i.length?i[0]:t}function Ux(i,s,c){var m=i==null?0:i.length;if(!m)return-1;var C=c==null?0:je(c);return C<0&&(C=Lt(m+C,0)),Bs(i,s,C)}function Wx(i){var s=i==null?0:i.length;return s?Nn(i,0,-1):[]}var Vx=qe(function(i){var s=ht(i,Lu);return s.length&&s[0]===i[0]?bu(s):[]}),Gx=qe(function(i){var s=Rn(i),c=ht(i,Lu);return s===Rn(c)?s=t:c.pop(),c.length&&c[0]===i[0]?bu(c,Le(s,2)):[]}),Zx=qe(function(i){var s=Rn(i),c=ht(i,Lu);return s=typeof s=="function"?s:t,s&&c.pop(),c.length&&c[0]===i[0]?bu(c,t,s):[]});function Kx(i,s){return i==null?"":Wb.call(i,s)}function Rn(i){var s=i==null?0:i.length;return s?i[s-1]:t}function Yx(i,s,c){var m=i==null?0:i.length;if(!m)return-1;var C=m;return c!==t&&(C=je(c),C=C<0?Lt(m+C,0):Ht(C,m-1)),s===s?Nb(i,s,C):Kl(i,vh,C,!0)}function Xx(i,s){return i&&i.length?Zh(i,je(s)):t}var Jx=qe(Dp);function Dp(i,s){return i&&i.length&&s&&s.length?Cu(i,s):i}function Qx(i,s,c){return i&&i.length&&s&&s.length?Cu(i,s,Le(c,2)):i}function ey(i,s,c){return i&&i.length&&s&&s.length?Cu(i,s,t,c):i}var ty=kr(function(i,s){var c=i==null?0:i.length,m=pu(i,s);return Xh(i,ht(s,function(C){return Ir(C,c)?+C:C}).sort(lp)),m});function ny(i,s){var c=[];if(!(i&&i.length))return c;var m=-1,C=[],L=i.length;for(s=Le(s,3);++m<L;){var k=i[m];s(k,m,i)&&(c.push(k),C.push(m))}return Xh(i,C),c}function $u(i){return i==null?i:Kb.call(i)}function ry(i,s,c){var m=i==null?0:i.length;return m?(c&&typeof c!="number"&&Zt(i,s,c)?(s=0,c=m):(s=s==null?0:je(s),c=c===t?m:je(c)),Nn(i,s,c)):[]}function iy(i,s){return ga(i,s)}function sy(i,s,c){return _u(i,s,Le(c,2))}function oy(i,s){var c=i==null?0:i.length;if(c){var m=ga(i,s);if(m<c&&zn(i[m],s))return m}return-1}function ly(i,s){return ga(i,s,!0)}function ay(i,s,c){return _u(i,s,Le(c,2),!0)}function cy(i,s){var c=i==null?0:i.length;if(c){var m=ga(i,s,!0)-1;if(zn(i[m],s))return m}return-1}function uy(i){return i&&i.length?Qh(i):[]}function fy(i,s){return i&&i.length?Qh(i,Le(s,2)):[]}function dy(i){var s=i==null?0:i.length;return s?Nn(i,1,s):[]}function hy(i,s,c){return i&&i.length?(s=c||s===t?1:je(s),Nn(i,0,s<0?0:s)):[]}function py(i,s,c){var m=i==null?0:i.length;return m?(s=c||s===t?1:je(s),s=m-s,Nn(i,s<0?0:s,m)):[]}function gy(i,s){return i&&i.length?ma(i,Le(s,3),!1,!0):[]}function my(i,s){return i&&i.length?ma(i,Le(s,3)):[]}var vy=qe(function(i){return ui(Bt(i,1,xt,!0))}),by=qe(function(i){var s=Rn(i);return xt(s)&&(s=t),ui(Bt(i,1,xt,!0),Le(s,2))}),xy=qe(function(i){var s=Rn(i);return s=typeof s=="function"?s:t,ui(Bt(i,1,xt,!0),t,s)});function yy(i){return i&&i.length?ui(i):[]}function wy(i,s){return i&&i.length?ui(i,Le(s,2)):[]}function Cy(i,s){return s=typeof s=="function"?s:t,i&&i.length?ui(i,t,s):[]}function zu(i){if(!(i&&i.length))return[];var s=0;return i=si(i,function(c){if(xt(c))return s=Lt(c.length,s),!0}),ou(s,function(c){return ht(i,ru(c))})}function qp(i,s){if(!(i&&i.length))return[];var c=zu(i);return s==null?c:ht(c,function(m){return Nt(s,t,m)})}var Ey=qe(function(i,s){return xt(i)?nl(i,s):[]}),Ay=qe(function(i){return Su(si(i,xt))}),_y=qe(function(i){var s=Rn(i);return xt(s)&&(s=t),Su(si(i,xt),Le(s,2))}),Ty=qe(function(i){var s=Rn(i);return s=typeof s=="function"?s:t,Su(si(i,xt),t,s)}),Sy=qe(zu);function Ly(i,s){return rp(i||[],s||[],tl)}function Ny(i,s){return rp(i||[],s||[],sl)}var Ry=qe(function(i){var s=i.length,c=s>1?i[s-1]:t;return c=typeof c=="function"?(i.pop(),c):t,qp(i,c)});function Fp(i){var s=_(i);return s.__chain__=!0,s}function ky(i,s){return s(i),i}function _a(i,s){return s(i)}var Iy=kr(function(i){var s=i.length,c=s?i[0]:0,m=this.__wrapped__,C=function(L){return pu(L,i)};return s>1||this.__actions__.length||!(m instanceof Ue)||!Ir(c)?this.thru(C):(m=m.slice(c,+c+(s?1:0)),m.__actions__.push({func:_a,args:[C],thisArg:t}),new Sn(m,this.__chain__).thru(function(L){return s&&!L.length&&L.push(t),L}))});function Oy(){return Fp(this)}function By(){return new Sn(this.value(),this.__chain__)}function My(){this.__values__===t&&(this.__values__=e0(this.value()));var i=this.__index__>=this.__values__.length,s=i?t:this.__values__[this.__index__++];return{done:i,value:s}}function jy(){return this}function Py(i){for(var s,c=this;c instanceof ua;){var m=Op(c);m.__index__=0,m.__values__=t,s?C.__wrapped__=m:s=m;var C=m;c=c.__wrapped__}return C.__wrapped__=i,s}function Dy(){var i=this.__wrapped__;if(i instanceof Ue){var s=i;return this.__actions__.length&&(s=new Ue(this)),s=s.reverse(),s.__actions__.push({func:_a,args:[$u],thisArg:t}),new Sn(s,this.__chain__)}return this.thru($u)}function qy(){return np(this.__wrapped__,this.__actions__)}var Fy=va(function(i,s,c){lt.call(i,c)?++i[c]:Nr(i,c,1)});function Hy(i,s,c){var m=Me(i)?gh:k2;return c&&Zt(i,s,c)&&(s=t),m(i,Le(s,3))}function $y(i,s){var c=Me(i)?si:qh;return c(i,Le(s,3))}var zy=hp(Bp),Uy=hp(Mp);function Wy(i,s){return Bt(Ta(i,s),1)}function Vy(i,s){return Bt(Ta(i,s),W)}function Gy(i,s,c){return c=c===t?1:je(c),Bt(Ta(i,s),c)}function Hp(i,s){var c=Me(i)?_n:ci;return c(i,Le(s,3))}function $p(i,s){var c=Me(i)?db:Dh;return c(i,Le(s,3))}var Zy=va(function(i,s,c){lt.call(i,c)?i[c].push(s):Nr(i,c,[s])});function Ky(i,s,c,m){i=Qt(i)?i:Vs(i),c=c&&!m?je(c):0;var C=i.length;return c<0&&(c=Lt(C+c,0)),ka(i)?c<=C&&i.indexOf(s,c)>-1:!!C&&Bs(i,s,c)>-1}var Yy=qe(function(i,s,c){var m=-1,C=typeof s=="function",L=Qt(i)?K(i.length):[];return ci(i,function(k){L[++m]=C?Nt(s,k,c):rl(k,s,c)}),L}),Xy=va(function(i,s,c){Nr(i,c,s)});function Ta(i,s){var c=Me(i)?ht:Wh;return c(i,Le(s,3))}function Jy(i,s,c,m){return i==null?[]:(Me(s)||(s=s==null?[]:[s]),c=m?t:c,Me(c)||(c=c==null?[]:[c]),Kh(i,s,c))}var Qy=va(function(i,s,c){i[c?0:1].push(s)},function(){return[[],[]]});function ew(i,s,c){var m=Me(i)?tu:xh,C=arguments.length<3;return m(i,Le(s,4),c,C,ci)}function tw(i,s,c){var m=Me(i)?hb:xh,C=arguments.length<3;return m(i,Le(s,4),c,C,Dh)}function nw(i,s){var c=Me(i)?si:qh;return c(i,Na(Le(s,3)))}function rw(i){var s=Me(i)?Bh:K2;return s(i)}function iw(i,s,c){(c?Zt(i,s,c):s===t)?s=1:s=je(s);var m=Me(i)?T2:Y2;return m(i,s)}function sw(i){var s=Me(i)?S2:J2;return s(i)}function ow(i){if(i==null)return 0;if(Qt(i))return ka(i)?js(i):i.length;var s=$t(i);return s==me||s==Xe?i.size:yu(i).length}function lw(i,s,c){var m=Me(i)?nu:Q2;return c&&Zt(i,s,c)&&(s=t),m(i,Le(s,3))}var aw=qe(function(i,s){if(i==null)return[];var c=s.length;return c>1&&Zt(i,s[0],s[1])?s=[]:c>2&&Zt(s[0],s[1],s[2])&&(s=[s[0]]),Kh(i,Bt(s,1),[])}),Sa=$b||function(){return Fe.Date.now()};function cw(i,s){if(typeof s!="function")throw new Tn(a);return i=je(i),function(){if(--i<1)return s.apply(this,arguments)}}function zp(i,s,c){return s=c?t:s,s=i&&s==null?i.length:s,Rr(i,V,t,t,t,t,s)}function Up(i,s){var c;if(typeof s!="function")throw new Tn(a);return i=je(i),function(){return--i>0&&(c=s.apply(this,arguments)),i<=1&&(s=t),c}}var Uu=qe(function(i,s,c){var m=E;if(c.length){var C=li(c,Us(Uu));m|=z}return Rr(i,m,s,c,C)}),Wp=qe(function(i,s,c){var m=E|S;if(c.length){var C=li(c,Us(Wp));m|=z}return Rr(s,m,i,c,C)});function Vp(i,s,c){s=c?t:s;var m=Rr(i,I,t,t,t,t,t,s);return m.placeholder=Vp.placeholder,m}function Gp(i,s,c){s=c?t:s;var m=Rr(i,j,t,t,t,t,t,s);return m.placeholder=Gp.placeholder,m}function Zp(i,s,c){var m,C,L,k,M,F,ie=0,se=!1,oe=!1,be=!0;if(typeof i!="function")throw new Tn(a);s=kn(s)||0,gt(c)&&(se=!!c.leading,oe="maxWait"in c,L=oe?Lt(kn(c.maxWait)||0,s):L,be="trailing"in c?!!c.trailing:be);function Ee(yt){var Un=m,Mr=C;return m=C=t,ie=yt,k=i.apply(Mr,Un),k}function Ne(yt){return ie=yt,M=al(He,s),se?Ee(yt):k}function Pe(yt){var Un=yt-F,Mr=yt-ie,h0=s-Un;return oe?Ht(h0,L-Mr):h0}function Re(yt){var Un=yt-F,Mr=yt-ie;return F===t||Un>=s||Un<0||oe&&Mr>=L}function He(){var yt=Sa();if(Re(yt))return Ge(yt);M=al(He,Pe(yt))}function Ge(yt){return M=t,be&&m?Ee(yt):(m=C=t,k)}function hn(){M!==t&&ip(M),ie=0,m=F=C=M=t}function Kt(){return M===t?k:Ge(Sa())}function pn(){var yt=Sa(),Un=Re(yt);if(m=arguments,C=this,F=yt,Un){if(M===t)return Ne(F);if(oe)return ip(M),M=al(He,s),Ee(F)}return M===t&&(M=al(He,s)),k}return pn.cancel=hn,pn.flush=Kt,pn}var uw=qe(function(i,s){return Ph(i,1,s)}),fw=qe(function(i,s,c){return Ph(i,kn(s)||0,c)});function dw(i){return Rr(i,pe)}function La(i,s){if(typeof i!="function"||s!=null&&typeof s!="function")throw new Tn(a);var c=function(){var m=arguments,C=s?s.apply(this,m):m[0],L=c.cache;if(L.has(C))return L.get(C);var k=i.apply(this,m);return c.cache=L.set(C,k)||L,k};return c.cache=new(La.Cache||Lr),c}La.Cache=Lr;function Na(i){if(typeof i!="function")throw new Tn(a);return function(){var s=arguments;switch(s.length){case 0:return!i.call(this);case 1:return!i.call(this,s[0]);case 2:return!i.call(this,s[0],s[1]);case 3:return!i.call(this,s[0],s[1],s[2])}return!i.apply(this,s)}}function hw(i){return Up(2,i)}var pw=ex(function(i,s){s=s.length==1&&Me(s[0])?ht(s[0],un(Le())):ht(Bt(s,1),un(Le()));var c=s.length;return qe(function(m){for(var C=-1,L=Ht(m.length,c);++C<L;)m[C]=s[C].call(this,m[C]);return Nt(i,this,m)})}),Wu=qe(function(i,s){var c=li(s,Us(Wu));return Rr(i,z,t,s,c)}),Kp=qe(function(i,s){var c=li(s,Us(Kp));return Rr(i,J,t,s,c)}),gw=kr(function(i,s){return Rr(i,ne,t,t,t,s)});function mw(i,s){if(typeof i!="function")throw new Tn(a);return s=s===t?s:je(s),qe(i,s)}function vw(i,s){if(typeof i!="function")throw new Tn(a);return s=s==null?0:Lt(je(s),0),qe(function(c){var m=c[s],C=di(c,0,s);return m&&oi(C,m),Nt(i,this,C)})}function bw(i,s,c){var m=!0,C=!0;if(typeof i!="function")throw new Tn(a);return gt(c)&&(m="leading"in c?!!c.leading:m,C="trailing"in c?!!c.trailing:C),Zp(i,s,{leading:m,maxWait:s,trailing:C})}function xw(i){return zp(i,1)}function yw(i,s){return Wu(Nu(s),i)}function ww(){if(!arguments.length)return[];var i=arguments[0];return Me(i)?i:[i]}function Cw(i){return Ln(i,b)}function Ew(i,s){return s=typeof s=="function"?s:t,Ln(i,b,s)}function Aw(i){return Ln(i,g|b)}function _w(i,s){return s=typeof s=="function"?s:t,Ln(i,g|b,s)}function Tw(i,s){return s==null||jh(i,s,Rt(s))}function zn(i,s){return i===s||i!==i&&s!==s}var Sw=wa(vu),Lw=wa(function(i,s){return i>=s}),Xi=$h(function(){return arguments}())?$h:function(i){return vt(i)&&lt.call(i,"callee")&&!Lh.call(i,"callee")},Me=K.isArray,Nw=Et?un(Et):P2;function Qt(i){return i!=null&&Ra(i.length)&&!Or(i)}function xt(i){return vt(i)&&Qt(i)}function Rw(i){return i===!0||i===!1||vt(i)&&Gt(i)==ue}var hi=Ub||nf,kw=Fn?un(Fn):D2;function Iw(i){return vt(i)&&i.nodeType===1&&!cl(i)}function Ow(i){if(i==null)return!0;if(Qt(i)&&(Me(i)||typeof i=="string"||typeof i.splice=="function"||hi(i)||Ws(i)||Xi(i)))return!i.length;var s=$t(i);if(s==me||s==Xe)return!i.size;if(ll(i))return!yu(i).length;for(var c in i)if(lt.call(i,c))return!1;return!0}function Bw(i,s){return il(i,s)}function Mw(i,s,c){c=typeof c=="function"?c:t;var m=c?c(i,s):t;return m===t?il(i,s,t,c):!!m}function Vu(i){if(!vt(i))return!1;var s=Gt(i);return s==ge||s==_e||typeof i.message=="string"&&typeof i.name=="string"&&!cl(i)}function jw(i){return typeof i=="number"&&Rh(i)}function Or(i){if(!gt(i))return!1;var s=Gt(i);return s==ve||s==he||s==ce||s==Qe}function Yp(i){return typeof i=="number"&&i==je(i)}function Ra(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=U}function gt(i){var s=typeof i;return i!=null&&(s=="object"||s=="function")}function vt(i){return i!=null&&typeof i=="object"}var Xp=An?un(An):F2;function Pw(i,s){return i===s||xu(i,s,ju(s))}function Dw(i,s,c){return c=typeof c=="function"?c:t,xu(i,s,ju(s),c)}function qw(i){return Jp(i)&&i!=+i}function Fw(i){if(Ex(i))throw new Be(l);return zh(i)}function Hw(i){return i===null}function $w(i){return i==null}function Jp(i){return typeof i=="number"||vt(i)&&Gt(i)==ke}function cl(i){if(!vt(i)||Gt(i)!=it)return!1;var s=ra(i);if(s===null)return!0;var c=lt.call(s,"constructor")&&s.constructor;return typeof c=="function"&&c instanceof c&&Ql.call(c)==Db}var Gu=sr?un(sr):H2;function zw(i){return Yp(i)&&i>=-U&&i<=U}var Qp=Zo?un(Zo):$2;function ka(i){return typeof i=="string"||!Me(i)&&vt(i)&&Gt(i)==Pt}function dn(i){return typeof i=="symbol"||vt(i)&&Gt(i)==Pn}var Ws=zi?un(zi):z2;function Uw(i){return i===t}function Ww(i){return vt(i)&&$t(i)==yn}function Vw(i){return vt(i)&&Gt(i)==So}var Gw=wa(wu),Zw=wa(function(i,s){return i<=s});function e0(i){if(!i)return[];if(Qt(i))return ka(i)?Hn(i):Jt(i);if(Yo&&i[Yo])return Tb(i[Yo]());var s=$t(i),c=s==me?au:s==Xe?Yl:Vs;return c(i)}function Br(i){if(!i)return i===0?i:0;if(i=kn(i),i===W||i===-W){var s=i<0?-1:1;return s*$}return i===i?i:0}function je(i){var s=Br(i),c=s%1;return s===s?c?s-c:s:0}function t0(i){return i?Gi(je(i),0,le):0}function kn(i){if(typeof i=="number")return i;if(dn(i))return Z;if(gt(i)){var s=typeof i.valueOf=="function"?i.valueOf():i;i=gt(s)?s+"":s}if(typeof i!="string")return i===0?i:+i;i=yh(i);var c=Mo.test(i);return c||Po.test(i)?Te(i.slice(2),c?2:8):Bo.test(i)?Z:+i}function n0(i){return lr(i,en(i))}function Kw(i){return i?Gi(je(i),-U,U):i===0?i:0}function rt(i){return i==null?"":fn(i)}var Yw=$s(function(i,s){if(ll(s)||Qt(s)){lr(s,Rt(s),i);return}for(var c in s)lt.call(s,c)&&tl(i,c,s[c])}),r0=$s(function(i,s){lr(s,en(s),i)}),Ia=$s(function(i,s,c,m){lr(s,en(s),i,m)}),Xw=$s(function(i,s,c,m){lr(s,Rt(s),i,m)}),Jw=kr(pu);function Qw(i,s){var c=Hs(i);return s==null?c:Mh(c,s)}var eC=qe(function(i,s){i=at(i);var c=-1,m=s.length,C=m>2?s[2]:t;for(C&&Zt(s[0],s[1],C)&&(m=1);++c<m;)for(var L=s[c],k=en(L),M=-1,F=k.length;++M<F;){var ie=k[M],se=i[ie];(se===t||zn(se,Ds[ie])&&!lt.call(i,ie))&&(i[ie]=L[ie])}return i}),tC=qe(function(i){return i.push(t,yp),Nt(i0,t,i)});function nC(i,s){return mh(i,Le(s,3),or)}function rC(i,s){return mh(i,Le(s,3),mu)}function iC(i,s){return i==null?i:gu(i,Le(s,3),en)}function sC(i,s){return i==null?i:Fh(i,Le(s,3),en)}function oC(i,s){return i&&or(i,Le(s,3))}function lC(i,s){return i&&mu(i,Le(s,3))}function aC(i){return i==null?[]:ha(i,Rt(i))}function cC(i){return i==null?[]:ha(i,en(i))}function Zu(i,s,c){var m=i==null?t:Zi(i,s);return m===t?c:m}function uC(i,s){return i!=null&&Ep(i,s,O2)}function Ku(i,s){return i!=null&&Ep(i,s,B2)}var fC=gp(function(i,s,c){s!=null&&typeof s.toString!="function"&&(s=ea.call(s)),i[s]=c},Xu(tn)),dC=gp(function(i,s,c){s!=null&&typeof s.toString!="function"&&(s=ea.call(s)),lt.call(i,s)?i[s].push(c):i[s]=[c]},Le),hC=qe(rl);function Rt(i){return Qt(i)?Oh(i):yu(i)}function en(i){return Qt(i)?Oh(i,!0):U2(i)}function pC(i,s){var c={};return s=Le(s,3),or(i,function(m,C,L){Nr(c,s(m,C,L),m)}),c}function gC(i,s){var c={};return s=Le(s,3),or(i,function(m,C,L){Nr(c,C,s(m,C,L))}),c}var mC=$s(function(i,s,c){pa(i,s,c)}),i0=$s(function(i,s,c,m){pa(i,s,c,m)}),vC=kr(function(i,s){var c={};if(i==null)return c;var m=!1;s=ht(s,function(L){return L=fi(L,i),m||(m=L.length>1),L}),lr(i,Bu(i),c),m&&(c=Ln(c,g|p|b,fx));for(var C=s.length;C--;)Tu(c,s[C]);return c});function bC(i,s){return s0(i,Na(Le(s)))}var xC=kr(function(i,s){return i==null?{}:V2(i,s)});function s0(i,s){if(i==null)return{};var c=ht(Bu(i),function(m){return[m]});return s=Le(s),Yh(i,c,function(m,C){return s(m,C[0])})}function yC(i,s,c){s=fi(s,i);var m=-1,C=s.length;for(C||(C=1,i=t);++m<C;){var L=i==null?t:i[ar(s[m])];L===t&&(m=C,L=c),i=Or(L)?L.call(i):L}return i}function wC(i,s,c){return i==null?i:sl(i,s,c)}function CC(i,s,c,m){return m=typeof m=="function"?m:t,i==null?i:sl(i,s,c,m)}var o0=bp(Rt),l0=bp(en);function EC(i,s,c){var m=Me(i),C=m||hi(i)||Ws(i);if(s=Le(s,4),c==null){var L=i&&i.constructor;C?c=m?new L:[]:gt(i)?c=Or(L)?Hs(ra(i)):{}:c={}}return(C?_n:or)(i,function(k,M,F){return s(c,k,M,F)}),c}function AC(i,s){return i==null?!0:Tu(i,s)}function _C(i,s,c){return i==null?i:tp(i,s,Nu(c))}function TC(i,s,c,m){return m=typeof m=="function"?m:t,i==null?i:tp(i,s,Nu(c),m)}function Vs(i){return i==null?[]:lu(i,Rt(i))}function SC(i){return i==null?[]:lu(i,en(i))}function LC(i,s,c){return c===t&&(c=s,s=t),c!==t&&(c=kn(c),c=c===c?c:0),s!==t&&(s=kn(s),s=s===s?s:0),Gi(kn(i),s,c)}function NC(i,s,c){return s=Br(s),c===t?(c=s,s=0):c=Br(c),i=kn(i),M2(i,s,c)}function RC(i,s,c){if(c&&typeof c!="boolean"&&Zt(i,s,c)&&(s=c=t),c===t&&(typeof s=="boolean"?(c=s,s=t):typeof i=="boolean"&&(c=i,i=t)),i===t&&s===t?(i=0,s=1):(i=Br(i),s===t?(s=i,i=0):s=Br(s)),i>s){var m=i;i=s,s=m}if(c||i%1||s%1){var C=kh();return Ht(i+C*(s-i+Oe("1e-"+((C+"").length-1))),s)}return Eu(i,s)}var kC=zs(function(i,s,c){return s=s.toLowerCase(),i+(c?a0(s):s)});function a0(i){return Yu(rt(i).toLowerCase())}function c0(i){return i=rt(i),i&&i.replace(qt,wb).replace(Go,"")}function IC(i,s,c){i=rt(i),s=fn(s);var m=i.length;c=c===t?m:Gi(je(c),0,m);var C=c;return c-=s.length,c>=0&&i.slice(c,C)==s}function OC(i){return i=rt(i),i&&yr.test(i)?i.replace(rr,Cb):i}function BC(i){return i=rt(i),i&&Lo.test(i)?i.replace(Oi,"\\$&"):i}var MC=zs(function(i,s,c){return i+(c?"-":"")+s.toLowerCase()}),jC=zs(function(i,s,c){return i+(c?" ":"")+s.toLowerCase()}),PC=dp("toLowerCase");function DC(i,s,c){i=rt(i),s=je(s);var m=s?js(i):0;if(!s||m>=s)return i;var C=(s-m)/2;return ya(la(C),c)+i+ya(oa(C),c)}function qC(i,s,c){i=rt(i),s=je(s);var m=s?js(i):0;return s&&m<s?i+ya(s-m,c):i}function FC(i,s,c){i=rt(i),s=je(s);var m=s?js(i):0;return s&&m<s?ya(s-m,c)+i:i}function HC(i,s,c){return c||s==null?s=0:s&&(s=+s),Zb(rt(i).replace(Bi,""),s||0)}function $C(i,s,c){return(c?Zt(i,s,c):s===t)?s=1:s=je(s),Au(rt(i),s)}function zC(){var i=arguments,s=rt(i[0]);return i.length<3?s:s.replace(i[1],i[2])}var UC=zs(function(i,s,c){return i+(c?"_":"")+s.toLowerCase()});function WC(i,s,c){return c&&typeof c!="number"&&Zt(i,s,c)&&(s=c=t),c=c===t?le:c>>>0,c?(i=rt(i),i&&(typeof s=="string"||s!=null&&!Gu(s))&&(s=fn(s),!s&&Ms(i))?di(Hn(i),0,c):i.split(s,c)):[]}var VC=zs(function(i,s,c){return i+(c?" ":"")+Yu(s)});function GC(i,s,c){return i=rt(i),c=c==null?0:Gi(je(c),0,i.length),s=fn(s),i.slice(c,c+s.length)==s}function ZC(i,s,c){var m=_.templateSettings;c&&Zt(i,s,c)&&(s=t),i=rt(i),s=Ia({},s,m,xp);var C=Ia({},s.imports,m.imports,xp),L=Rt(C),k=lu(C,L),M,F,ie=0,se=s.interpolate||Qr,oe="__p += '",be=cu((s.escape||Qr).source+"|"+se.source+"|"+(se===Jr?Oo:Qr).source+"|"+(s.evaluate||Qr).source+"|$","g"),Ee="//# sourceURL="+(lt.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++$i+"]")+`
`;i.replace(be,function(Re,He,Ge,hn,Kt,pn){return Ge||(Ge=hn),oe+=i.slice(ie,pn).replace(qo,Eb),He&&(M=!0,oe+=`' +
__e(`+He+`) +
'`),Kt&&(F=!0,oe+=`';
`+Kt+`;
__p += '`),Ge&&(oe+=`' +
((__t = (`+Ge+`)) == null ? '' : __t) +
'`),ie=pn+Re.length,Re}),oe+=`';
`;var Ne=lt.call(s,"variable")&&s.variable;if(!Ne)oe=`with (obj) {
`+oe+`
}
`;else if(ko.test(Ne))throw new Be(u);oe=(F?oe.replace(xr,""):oe).replace(an,"$1").replace(Yr,"$1;"),oe="function("+(Ne||"obj")+`) {
`+(Ne?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(M?", __e = _.escape":"")+(F?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+oe+`return __p
}`;var Pe=f0(function(){return et(L,Ee+"return "+oe).apply(t,k)});if(Pe.source=oe,Vu(Pe))throw Pe;return Pe}function KC(i){return rt(i).toLowerCase()}function YC(i){return rt(i).toUpperCase()}function XC(i,s,c){if(i=rt(i),i&&(c||s===t))return yh(i);if(!i||!(s=fn(s)))return i;var m=Hn(i),C=Hn(s),L=wh(m,C),k=Ch(m,C)+1;return di(m,L,k).join("")}function JC(i,s,c){if(i=rt(i),i&&(c||s===t))return i.slice(0,Ah(i)+1);if(!i||!(s=fn(s)))return i;var m=Hn(i),C=Ch(m,Hn(s))+1;return di(m,0,C).join("")}function QC(i,s,c){if(i=rt(i),i&&(c||s===t))return i.replace(Bi,"");if(!i||!(s=fn(s)))return i;var m=Hn(i),C=wh(m,Hn(s));return di(m,C).join("")}function eE(i,s){var c=fe,m=N;if(gt(s)){var C="separator"in s?s.separator:C;c="length"in s?je(s.length):c,m="omission"in s?fn(s.omission):m}i=rt(i);var L=i.length;if(Ms(i)){var k=Hn(i);L=k.length}if(c>=L)return i;var M=c-js(m);if(M<1)return m;var F=k?di(k,0,M).join(""):i.slice(0,M);if(C===t)return F+m;if(k&&(M+=F.length-M),Gu(C)){if(i.slice(M).search(C)){var ie,se=F;for(C.global||(C=cu(C.source,rt(Tt.exec(C))+"g")),C.lastIndex=0;ie=C.exec(se);)var oe=ie.index;F=F.slice(0,oe===t?M:oe)}}else if(i.indexOf(fn(C),M)!=M){var be=F.lastIndexOf(C);be>-1&&(F=F.slice(0,be))}return F+m}function tE(i){return i=rt(i),i&&Ri.test(i)?i.replace(Xr,Rb):i}var nE=zs(function(i,s,c){return i+(c?" ":"")+s.toUpperCase()}),Yu=dp("toUpperCase");function u0(i,s,c){return i=rt(i),s=c?t:s,s===t?_b(i)?Ob(i):mb(i):i.match(s)||[]}var f0=qe(function(i,s){try{return Nt(i,t,s)}catch(c){return Vu(c)?c:new Be(c)}}),rE=kr(function(i,s){return _n(s,function(c){c=ar(c),Nr(i,c,Uu(i[c],i))}),i});function iE(i){var s=i==null?0:i.length,c=Le();return i=s?ht(i,function(m){if(typeof m[1]!="function")throw new Tn(a);return[c(m[0]),m[1]]}):[],qe(function(m){for(var C=-1;++C<s;){var L=i[C];if(Nt(L[0],this,m))return Nt(L[1],this,m)}})}function sE(i){return R2(Ln(i,g))}function Xu(i){return function(){return i}}function oE(i,s){return i==null||i!==i?s:i}var lE=pp(),aE=pp(!0);function tn(i){return i}function Ju(i){return Uh(typeof i=="function"?i:Ln(i,g))}function cE(i){return Vh(Ln(i,g))}function uE(i,s){return Gh(i,Ln(s,g))}var fE=qe(function(i,s){return function(c){return rl(c,i,s)}}),dE=qe(function(i,s){return function(c){return rl(i,c,s)}});function Qu(i,s,c){var m=Rt(s),C=ha(s,m);c==null&&!(gt(s)&&(C.length||!m.length))&&(c=s,s=i,i=this,C=ha(s,Rt(s)));var L=!(gt(c)&&"chain"in c)||!!c.chain,k=Or(i);return _n(C,function(M){var F=s[M];i[M]=F,k&&(i.prototype[M]=function(){var ie=this.__chain__;if(L||ie){var se=i(this.__wrapped__),oe=se.__actions__=Jt(this.__actions__);return oe.push({func:F,args:arguments,thisArg:i}),se.__chain__=ie,se}return F.apply(i,oi([this.value()],arguments))})}),i}function hE(){return Fe._===this&&(Fe._=qb),this}function ef(){}function pE(i){return i=je(i),qe(function(s){return Zh(s,i)})}var gE=ku(ht),mE=ku(gh),vE=ku(nu);function d0(i){return Du(i)?ru(ar(i)):G2(i)}function bE(i){return function(s){return i==null?t:Zi(i,s)}}var xE=mp(),yE=mp(!0);function tf(){return[]}function nf(){return!1}function wE(){return{}}function CE(){return""}function EE(){return!0}function AE(i,s){if(i=je(i),i<1||i>U)return[];var c=le,m=Ht(i,le);s=Le(s),i-=le;for(var C=ou(m,s);++c<i;)s(c);return C}function _E(i){return Me(i)?ht(i,ar):dn(i)?[i]:Jt(Ip(rt(i)))}function TE(i){var s=++Pb;return rt(i)+s}var SE=xa(function(i,s){return i+s},0),LE=Iu("ceil"),NE=xa(function(i,s){return i/s},1),RE=Iu("floor");function kE(i){return i&&i.length?da(i,tn,vu):t}function IE(i,s){return i&&i.length?da(i,Le(s,2),vu):t}function OE(i){return bh(i,tn)}function BE(i,s){return bh(i,Le(s,2))}function ME(i){return i&&i.length?da(i,tn,wu):t}function jE(i,s){return i&&i.length?da(i,Le(s,2),wu):t}var PE=xa(function(i,s){return i*s},1),DE=Iu("round"),qE=xa(function(i,s){return i-s},0);function FE(i){return i&&i.length?su(i,tn):0}function HE(i,s){return i&&i.length?su(i,Le(s,2)):0}return _.after=cw,_.ary=zp,_.assign=Yw,_.assignIn=r0,_.assignInWith=Ia,_.assignWith=Xw,_.at=Jw,_.before=Up,_.bind=Uu,_.bindAll=rE,_.bindKey=Wp,_.castArray=ww,_.chain=Fp,_.chunk=Rx,_.compact=kx,_.concat=Ix,_.cond=iE,_.conforms=sE,_.constant=Xu,_.countBy=Fy,_.create=Qw,_.curry=Vp,_.curryRight=Gp,_.debounce=Zp,_.defaults=eC,_.defaultsDeep=tC,_.defer=uw,_.delay=fw,_.difference=Ox,_.differenceBy=Bx,_.differenceWith=Mx,_.drop=jx,_.dropRight=Px,_.dropRightWhile=Dx,_.dropWhile=qx,_.fill=Fx,_.filter=$y,_.flatMap=Wy,_.flatMapDeep=Vy,_.flatMapDepth=Gy,_.flatten=jp,_.flattenDeep=Hx,_.flattenDepth=$x,_.flip=dw,_.flow=lE,_.flowRight=aE,_.fromPairs=zx,_.functions=aC,_.functionsIn=cC,_.groupBy=Zy,_.initial=Wx,_.intersection=Vx,_.intersectionBy=Gx,_.intersectionWith=Zx,_.invert=fC,_.invertBy=dC,_.invokeMap=Yy,_.iteratee=Ju,_.keyBy=Xy,_.keys=Rt,_.keysIn=en,_.map=Ta,_.mapKeys=pC,_.mapValues=gC,_.matches=cE,_.matchesProperty=uE,_.memoize=La,_.merge=mC,_.mergeWith=i0,_.method=fE,_.methodOf=dE,_.mixin=Qu,_.negate=Na,_.nthArg=pE,_.omit=vC,_.omitBy=bC,_.once=hw,_.orderBy=Jy,_.over=gE,_.overArgs=pw,_.overEvery=mE,_.overSome=vE,_.partial=Wu,_.partialRight=Kp,_.partition=Qy,_.pick=xC,_.pickBy=s0,_.property=d0,_.propertyOf=bE,_.pull=Jx,_.pullAll=Dp,_.pullAllBy=Qx,_.pullAllWith=ey,_.pullAt=ty,_.range=xE,_.rangeRight=yE,_.rearg=gw,_.reject=nw,_.remove=ny,_.rest=mw,_.reverse=$u,_.sampleSize=iw,_.set=wC,_.setWith=CC,_.shuffle=sw,_.slice=ry,_.sortBy=aw,_.sortedUniq=uy,_.sortedUniqBy=fy,_.split=WC,_.spread=vw,_.tail=dy,_.take=hy,_.takeRight=py,_.takeRightWhile=gy,_.takeWhile=my,_.tap=ky,_.throttle=bw,_.thru=_a,_.toArray=e0,_.toPairs=o0,_.toPairsIn=l0,_.toPath=_E,_.toPlainObject=n0,_.transform=EC,_.unary=xw,_.union=vy,_.unionBy=by,_.unionWith=xy,_.uniq=yy,_.uniqBy=wy,_.uniqWith=Cy,_.unset=AC,_.unzip=zu,_.unzipWith=qp,_.update=_C,_.updateWith=TC,_.values=Vs,_.valuesIn=SC,_.without=Ey,_.words=u0,_.wrap=yw,_.xor=Ay,_.xorBy=_y,_.xorWith=Ty,_.zip=Sy,_.zipObject=Ly,_.zipObjectDeep=Ny,_.zipWith=Ry,_.entries=o0,_.entriesIn=l0,_.extend=r0,_.extendWith=Ia,Qu(_,_),_.add=SE,_.attempt=f0,_.camelCase=kC,_.capitalize=a0,_.ceil=LE,_.clamp=LC,_.clone=Cw,_.cloneDeep=Aw,_.cloneDeepWith=_w,_.cloneWith=Ew,_.conformsTo=Tw,_.deburr=c0,_.defaultTo=oE,_.divide=NE,_.endsWith=IC,_.eq=zn,_.escape=OC,_.escapeRegExp=BC,_.every=Hy,_.find=zy,_.findIndex=Bp,_.findKey=nC,_.findLast=Uy,_.findLastIndex=Mp,_.findLastKey=rC,_.floor=RE,_.forEach=Hp,_.forEachRight=$p,_.forIn=iC,_.forInRight=sC,_.forOwn=oC,_.forOwnRight=lC,_.get=Zu,_.gt=Sw,_.gte=Lw,_.has=uC,_.hasIn=Ku,_.head=Pp,_.identity=tn,_.includes=Ky,_.indexOf=Ux,_.inRange=NC,_.invoke=hC,_.isArguments=Xi,_.isArray=Me,_.isArrayBuffer=Nw,_.isArrayLike=Qt,_.isArrayLikeObject=xt,_.isBoolean=Rw,_.isBuffer=hi,_.isDate=kw,_.isElement=Iw,_.isEmpty=Ow,_.isEqual=Bw,_.isEqualWith=Mw,_.isError=Vu,_.isFinite=jw,_.isFunction=Or,_.isInteger=Yp,_.isLength=Ra,_.isMap=Xp,_.isMatch=Pw,_.isMatchWith=Dw,_.isNaN=qw,_.isNative=Fw,_.isNil=$w,_.isNull=Hw,_.isNumber=Jp,_.isObject=gt,_.isObjectLike=vt,_.isPlainObject=cl,_.isRegExp=Gu,_.isSafeInteger=zw,_.isSet=Qp,_.isString=ka,_.isSymbol=dn,_.isTypedArray=Ws,_.isUndefined=Uw,_.isWeakMap=Ww,_.isWeakSet=Vw,_.join=Kx,_.kebabCase=MC,_.last=Rn,_.lastIndexOf=Yx,_.lowerCase=jC,_.lowerFirst=PC,_.lt=Gw,_.lte=Zw,_.max=kE,_.maxBy=IE,_.mean=OE,_.meanBy=BE,_.min=ME,_.minBy=jE,_.stubArray=tf,_.stubFalse=nf,_.stubObject=wE,_.stubString=CE,_.stubTrue=EE,_.multiply=PE,_.nth=Xx,_.noConflict=hE,_.noop=ef,_.now=Sa,_.pad=DC,_.padEnd=qC,_.padStart=FC,_.parseInt=HC,_.random=RC,_.reduce=ew,_.reduceRight=tw,_.repeat=$C,_.replace=zC,_.result=yC,_.round=DE,_.runInContext=q,_.sample=rw,_.size=ow,_.snakeCase=UC,_.some=lw,_.sortedIndex=iy,_.sortedIndexBy=sy,_.sortedIndexOf=oy,_.sortedLastIndex=ly,_.sortedLastIndexBy=ay,_.sortedLastIndexOf=cy,_.startCase=VC,_.startsWith=GC,_.subtract=qE,_.sum=FE,_.sumBy=HE,_.template=ZC,_.times=AE,_.toFinite=Br,_.toInteger=je,_.toLength=t0,_.toLower=KC,_.toNumber=kn,_.toSafeInteger=Kw,_.toString=rt,_.toUpper=YC,_.trim=XC,_.trimEnd=JC,_.trimStart=QC,_.truncate=eE,_.unescape=tE,_.uniqueId=TE,_.upperCase=nE,_.upperFirst=Yu,_.each=Hp,_.eachRight=$p,_.first=Pp,Qu(_,function(){var i={};return or(_,function(s,c){lt.call(_.prototype,c)||(i[c]=s)}),i}(),{chain:!1}),_.VERSION=r,_n(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){_[i].placeholder=_}),_n(["drop","take"],function(i,s){Ue.prototype[i]=function(c){c=c===t?1:Lt(je(c),0);var m=this.__filtered__&&!s?new Ue(this):this.clone();return m.__filtered__?m.__takeCount__=Ht(c,m.__takeCount__):m.__views__.push({size:Ht(c,le),type:i+(m.__dir__<0?"Right":"")}),m},Ue.prototype[i+"Right"]=function(c){return this.reverse()[i](c).reverse()}}),_n(["filter","map","takeWhile"],function(i,s){var c=s+1,m=c==G||c==H;Ue.prototype[i]=function(C){var L=this.clone();return L.__iteratees__.push({iteratee:Le(C,3),type:c}),L.__filtered__=L.__filtered__||m,L}}),_n(["head","last"],function(i,s){var c="take"+(s?"Right":"");Ue.prototype[i]=function(){return this[c](1).value()[0]}}),_n(["initial","tail"],function(i,s){var c="drop"+(s?"":"Right");Ue.prototype[i]=function(){return this.__filtered__?new Ue(this):this[c](1)}}),Ue.prototype.compact=function(){return this.filter(tn)},Ue.prototype.find=function(i){return this.filter(i).head()},Ue.prototype.findLast=function(i){return this.reverse().find(i)},Ue.prototype.invokeMap=qe(function(i,s){return typeof i=="function"?new Ue(this):this.map(function(c){return rl(c,i,s)})}),Ue.prototype.reject=function(i){return this.filter(Na(Le(i)))},Ue.prototype.slice=function(i,s){i=je(i);var c=this;return c.__filtered__&&(i>0||s<0)?new Ue(c):(i<0?c=c.takeRight(-i):i&&(c=c.drop(i)),s!==t&&(s=je(s),c=s<0?c.dropRight(-s):c.take(s-i)),c)},Ue.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},Ue.prototype.toArray=function(){return this.take(le)},or(Ue.prototype,function(i,s){var c=/^(?:filter|find|map|reject)|While$/.test(s),m=/^(?:head|last)$/.test(s),C=_[m?"take"+(s=="last"?"Right":""):s],L=m||/^find/.test(s);C&&(_.prototype[s]=function(){var k=this.__wrapped__,M=m?[1]:arguments,F=k instanceof Ue,ie=M[0],se=F||Me(k),oe=function(He){var Ge=C.apply(_,oi([He],M));return m&&be?Ge[0]:Ge};se&&c&&typeof ie=="function"&&ie.length!=1&&(F=se=!1);var be=this.__chain__,Ee=!!this.__actions__.length,Ne=L&&!be,Pe=F&&!Ee;if(!L&&se){k=Pe?k:new Ue(this);var Re=i.apply(k,M);return Re.__actions__.push({func:_a,args:[oe],thisArg:t}),new Sn(Re,be)}return Ne&&Pe?i.apply(this,M):(Re=this.thru(oe),Ne?m?Re.value()[0]:Re.value():Re)})}),_n(["pop","push","shift","sort","splice","unshift"],function(i){var s=Xl[i],c=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",m=/^(?:pop|shift)$/.test(i);_.prototype[i]=function(){var C=arguments;if(m&&!this.__chain__){var L=this.value();return s.apply(Me(L)?L:[],C)}return this[c](function(k){return s.apply(Me(k)?k:[],C)})}}),or(Ue.prototype,function(i,s){var c=_[s];if(c){var m=c.name+"";lt.call(Fs,m)||(Fs[m]=[]),Fs[m].push({name:s,func:c})}}),Fs[ba(t,S).name]=[{name:"wrapper",func:t}],Ue.prototype.clone=t2,Ue.prototype.reverse=n2,Ue.prototype.value=r2,_.prototype.at=Iy,_.prototype.chain=Oy,_.prototype.commit=By,_.prototype.next=My,_.prototype.plant=Py,_.prototype.reverse=Dy,_.prototype.toJSON=_.prototype.valueOf=_.prototype.value=qy,_.prototype.first=_.prototype.head,Yo&&(_.prototype[Yo]=jy),_},Ps=Bb();dt?((dt.exports=Ps)._=Ps,Ke._=Ps):Fe._=Ps}).call(wR)}(xl,xl.exports)),xl.exports}var Rc=CR();const Qv=(n,e,t)=>{let r=!1,o="";const l=n.getLength()-1;t.isRequired&&!r&&(l||(r=!0,o="This field cannot be empty!")),t.minLength&&!r&&l<t.minLength&&(r=!0,o=`Minimum ${t.minLength} characters required`),t.maxLength&&!r&&l>t.maxLength&&(r=!0,o=`Maximum ${t.maxLength} characters allowed`),e({isError:r,errorMessage:o},n.getContents())},ER=(n,e,t,r,o)=>{if(!n.current)return null;const l=n.current.getContents();t&&t(l,n),o&&r&&Qv(n.current,o,r),e.current||(e.current=!0)},AR=(n,e,t,r)=>{if(!e.current)return null;if(t(!0),r){const o=e.current.getContents();r(n,o)}},_R=(n,e,t,r,o,l,a)=>{if(!e.current)return null;if(t(!1),a){const u=e.current.getContents();a(n,u)}l&&o&&r.current&&Qv(e.current,l,o)},ms=({className:n,trigger:e,style:t=void 0,shape:r=void 0,isDisabled:o=!1,onClose:l=void 0,onOpen:a=void 0,elementHeader:u=void 0,elementFooter:f=void 0,children:d=void 0,triggerClose:h=void 0,floatingConfig:g=void 0})=>{const{globalShape:p}=A.useContext(Ct),b=A.useRef(!1),[y,w]=A.useState(!1),E=A.useMemo(()=>{const N=[];return u&&N.push("min-content"),d&&N.push("1fr"),f&&N.push("min-content"),N.join(" ")},[]),{refs:S,floatingStyles:R,context:I}=Wc({open:y,onOpenChange:N=>{w(N)},placement:g?.placement??"bottom-start",middleware:[Sd(g?.level?8:4),Ld(),Nd({padding:10,fallbackPlacements:g?.fallbackPlacement??["bottom-start","bottom","bottom-end","top-start","top","top-end"]}),IT({apply({availableHeight:N,elements:D,rects:O}){const G=`${Math.max(0,N)-50}px`;D.floating.style.maxHeight=G,g?.isContainerWidthSameAsTrigger?(D.floating.style.width=`${O.reference.width}px`,D.floating.style.minWidth=`${Math.max(180,O.reference.width)}px`,D.floating.style.maxWidth=`${O.reference.width}px`):(D.floating.style.width=g?.width?`${g.width}px`:"310px",D.floating.style.minWidth=g?.width?`${g.width}px`:"310px",D.floating.style.maxWidth=g?.width?`${g.width}px`:"310px")}})],strategy:"fixed",whileElementsMounted:$c}),j=QT(I,{enabled:!o}),z=Od(I,{outsidePressEvent:"click",ancestorScroll:!1}),J=Vm(I),{isMounted:V}=Gm(I,{duration:{open:0,close:300}}),{getReferenceProps:ne,getFloatingProps:pe}=Bd([j,z,J]);A.useEffect(()=>{V&&(b.current=!0,a&&a()),!V&&l&&b.current&&l()},[V]);const fe=A.useMemo(()=>typeof e=="function"?e(S.setReference,ne,y,S.domReference):v.jsx("div",{className:Ze("dropdown-trigger-box"),...ne(),style:t?.triggerBox,children:$e.cloneElement(e,{ref:S.setReference,isSelected:y})}),[e,y]);return A.useEffect(()=>{h===1&&S.domReference.current.click()},[h]),v.jsxs(v.Fragment,{children:[fe,V&&v.jsx(Id,{children:v.jsx(Wm,{lockScroll:g?.isLockScroll,style:{zIndex:"1",pointerEvents:g?.isLockScroll?"auto":"none"},children:v.jsx(Um,{context:I,order:["reference","content"],modal:g?.isLockScroll,children:v.jsx("div",{className:Ze("dropdown-box",n),ref:S.setFloating,style:R,...pe(),children:v.jsx("div",{className:Ze("dropdown-container",r||p,{closing:!y}),style:t?.container,children:v.jsxs("div",{className:"content-box",style:{gridTemplateRows:E},children:[u&&v.jsx("div",{className:"element-header-box",children:u}),v.jsx("div",{className:"dropdown-body-box",children:d}),f&&v.jsx("div",{className:"element-footer-box",children:f})]})})})})})})]})},ur=(n,e,t,r)=>{if(t?.isChildOpen)return null;e(n),r&&n==="HIDDEN"&&r(!1)},TR=(n,e,t,r)=>{n!=="HIDDEN"&&ur("HIDDEN",e,t,r)},SR=(n,e,t,r)=>{const o=n.target;if(o.tagName==="path"||o.classList.contains("x-icon")||o.classList.contains("x-button"))return null;t(!0),r({y:n.clientY,height:e}),n.preventDefault(),document.body.style.userSelect="none"},LR=(n,e,t,r)=>{if(!e)return;const o=t.y-n.clientY,l=window.innerHeight,a=o/l*100,u=Math.max(0,Math.min(95,t.height+a));r(u)},NR=(n,e,t,r,o,l,a,u)=>{if(!r)return;o(!1),document.body.style.userSelect="";const f=l.y-n.clientY,d=window.innerHeight,h=f/d*100,g=l.height+h;let p="HIDDEN",b=Math.abs(g-t.HIDDEN);Object.entries(t).forEach(([w,E])=>{const S=Math.abs(g-E);S<b&&(b=S,p=w)}),Math.abs(f)>100&&(f>0?g>30?p="FULL":p="HALF":g<50?p="HIDDEN":p="HALF"),a?.isDisableDismiss&&p==="HIDDEN"&&(p="HALF"),ur(p,e,a,u)},RR=(n,e,t)=>{n.target.scrollTop>0&&e==="HALF"&&t("FULL")},R1=(n,e)=>{const t=n.touches[0],r=n.currentTarget;e({y:t.clientY,scrollTop:r.scrollTop})},k1=(n,e,t,r,o,l,a)=>{if(!e)return;const u=n.currentTarget,{scrollTop:f,scrollHeight:d,clientHeight:h}=u,g=d>h,p=f===0,b=n.touches[0],y=e.y-b.clientY;if(Math.abs(y)>30){if(y>0)r==="HALF"&&ur("FULL",o,l,a);else if(y<0){if(g&&!p)return;r==="FULL"?ur("HALF",o,l,a):r==="HALF"&&ur("HIDDEN",o,l,a)}t(null)}};function El(n,e){const t=A.useRef([]);return(!t.current||!kR(e,t.current))&&(t.current=e),A.useMemo(n,t.current)}function kR(n,e){return JSON.stringify(n)===JSON.stringify(e)}const _o=({isOpen:n,setIsOpen:e,className:t,iconTitle:r,txtTitle:o,children:l,onOpen:a=void 0,onClose:u=void 0,elementHeader:f=void 0,elementFooter:d=void 0,style:h=void 0,shape:g=void 0,floatingConfig:p=void 0})=>{const{globalShape:b,screenSize:y}=A.useContext(Ct),w=A.useRef(!1),E=A.useRef(null),S=A.useRef(null),R=A.useRef(null),I=A.useRef(null),[j,z]=A.useState(45),J=El(()=>p?.snapPointSize?p.snapPointSize:y==="mobile"?{HIDDEN:0,HALF:j,FULL:80}:{HIDDEN:0,HALF:j,FULL:95},[y,p?.snapPointSize,j]),[V,ne]=A.useState("HIDDEN"),[pe,fe]=A.useState(0),N=A.useRef(null),[D,O]=A.useState(!1),[G,P]=A.useState({y:0,height:0}),[H,W]=A.useState(null),U=A.useMemo(()=>{const Y=[];return f&&Y.push("min-content"),l&&Y.push("1fr"),d&&Y.push("min-content"),Y.join(" ")},[]);A.useEffect(()=>{D||(V==="HALF"||V==="FULL"?setTimeout(()=>{fe(J[V])},100):fe(J[V]))},[V,D]),A.useEffect(()=>{if(D){const Y=ce=>{LR(ce,D,G,fe)},ae=ce=>{NR(ce,ne,J,D,O,G,p,e)};return document.addEventListener("pointermove",Y),document.addEventListener("pointerup",ae),()=>{document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",ae)}}},[D,G]);const{refs:$,context:Z}=Wc({open:V!=="HIDDEN",onOpenChange:Y=>{Y?ur("HALF",ne,p):TR(V,ne,p,e)},strategy:"fixed",whileElementsMounted:$c}),le=Od(Z,{enabled:p?.isDisableDismiss!==void 0?!p.isDisableDismiss:!0,outsidePressEvent:"pointerdown",ancestorScroll:!1}),Q=Vm(Z),{isMounted:X}=Gm(Z,{duration:{open:300,close:300}}),{getFloatingProps:de}=Bd([le,Q]);return A.useEffect(()=>{X&&(w.current=!0,a&&a()),!X&&u&&w.current&&u(),!X&&e&&n&&e(!1)},[X]),A.useEffect(()=>{if(E.current){const Y=window.visualViewport?.height||window.innerHeight,ae=xe=>xe.current?.scrollHeight||0,ce=ae(E)+ae(I)+ae(S)+ae(R)+(y==="mobile"?80:130),ue=E.current.scrollHeight?Math.min(ce<Y?ce/Y*100:80,80):45;z(ue),setTimeout(()=>fe(ue),100)}},[E.current!==null]),A.useEffect(()=>{n?p?.defaultSnapPoint==="FULL"?ur("FULL",ne,p):ur("HALF",ne,p):ur("HIDDEN",ne,p)},[n]),X?v.jsx(Id,{children:v.jsx(Wm,{lockScroll:!0,style:{overflow:"hidden",zIndex:"1"},children:v.jsx(Um,{context:Z,order:["floating"],modal:!0,children:v.jsxs("div",{className:Ze("bottom-sheet",t),children:[v.jsx("div",{className:"bottom-sheet-overlay",style:{opacity:p?.isChildOpen?0:pe*1/100}}),v.jsx("div",{ref:$.setFloating,className:Ze("bottom-sheet-box",y,{dragging:D}),style:{height:`${pe}vh`},...de(),children:v.jsxs("div",{className:Ze("bottom-sheet-container",g||b),style:h?.container,children:[v.jsxs("div",{ref:N,onPointerDown:Y=>{SR(Y,pe,O,P)},className:Ze("drag-handle-area",{dragging:D}),children:[v.jsx("div",{className:"drag-handle"}),(r||o)&&v.jsxs("div",{ref:R,className:"bottom-sheet-title-box",children:[v.jsxs("div",{className:"title",children:[r&&v.jsx("div",{className:"title-icon",children:r}),o&&v.jsx("p",{className:"title-text",children:o})]}),!p?.isDisableDismiss&&v.jsx(Ie,{className:"x-button",icon:v.jsx(Bl,{className:"global-icon x-icon"}),txtLabel:"Close Modal",appearance:"subtle",isShowtooltip:!1,onClick:()=>{ur("HIDDEN",ne,p)}})]})]}),v.jsxs("div",{className:"content-box",style:{gridTemplateRows:U},children:[f&&v.jsx("div",{ref:S,className:"element-header-box",onTouchStart:Y=>{R1(Y,W)},onTouchMove:Y=>{k1(Y,H,W,V,ne,p,e)},children:f}),v.jsx("div",{ref:E,className:"bottom-sheet-body-box",onScroll:Y=>{RR(Y,V,ne)},children:l}),d&&v.jsx("div",{ref:I,className:"element-footer-box",onTouchStart:Y=>{R1(Y,W)},onTouchMove:Y=>{k1(Y,H,W,V,ne,p,e)},children:d})]})]})})]})})})}):null},od=n=>{if(!n)return"";const e=n.replace(/[^0-9-]/g,"").replace(/-+/g,(l,a)=>a===0?"-":""),t=e.startsWith("-"),r=e.replace("-","");if(!r)return t?"-":"";const o=r.replace(/\B(?=(\d{3})+(?!\d))/g,".");return t?`-${o}`:o},lh=n=>{if(!n)return"";let e=n.replace(/[^0-9-]/g,"");if(e.includes("-")&&(e.indexOf("-")===0?e="-"+e.substring(1).replace(/-/g,""):e=e.replace(/-/g,"")),e){const t=e.startsWith("-"),r=e.replace("-","");if(r){const o=r.replace(/^0+/,"")||"0";o==="0"?e="0":e=t?`-${o}`:o}}return e},IR=n=>{switch(n){case"number":case"number-text":return{type:"numeric",mode:"tel"};case"password":return{type:"password",mode:"text"};default:return{type:"text",mode:"text"}}},es=(n,e)=>e==="number"&&n?od(n):n,OR=(n,e)=>{e({isError:!1,errorMessage:""},n)},ah=(n,e,t,r)=>{let o=!1,l="";if(r.isRequired&&!o&&(e||(o=!0,l="This field cannot be empty!")),r.minLength&&!o&&n!=="number"&&e.length<r.minLength&&(o=!0,l=`Minimum ${r.minLength} characters required`),r.maxLength&&!o&&n!=="number"&&e.length>r.maxLength&&(o=!0,l=`Maximum ${r.maxLength} characters allowed`),(r.maxValue!==void 0||r.minValue!==void 0)&&!o&&n==="number"){const a=lh(e),u=parseInt(a??"0");r.maxValue!==void 0&&r.minValue!==void 0&&(u<r.minValue||u>r.maxValue)?(o=!0,l=`Value is out of range (${es(`${r.minValue}`,"number")} ~ ${es(`${r.maxValue}`,"number")})`):r.maxValue!==void 0&&u>r.maxValue?(o=!0,l=`Value cannot exceed ${es(`${r.maxValue}`,"number")}`):r.minValue!==void 0&&u<r.minValue&&(o=!0,l=`Value must be at least ${es(`${r.minValue}`,"number")}`)}if(r.validRegex&&!o&&n!=="number"){for(const[a,u]of r.validRegex)if(!a.test(e)){o=!0,l=u;break}}t({isError:o,errorMessage:l},e)},BR=(n,e,t)=>{const r=b=>b.split("").filter(o).length,o=b=>/[a-zA-Z0-9]/.test(b),l=es(t,"number"),a=es(e,"number"),f=(n.selectionStart??0)-1;if(f>=a.length){const b=l.length;n.setSelectionRange(b,b);return}const d=a.slice(0,f),h=r(d);let g=0,p=0;for(;g<l.length&&(o(l[g])&&p++,!(p>=h+2));g++);requestAnimationFrame(()=>{n.setSelectionRange(g,g)})},MR=(n,e,t,r,o,l,a,u,f,d)=>{const h=n.target.value;let g=h;switch(t){case"text-no-space":g=h.replace(/\s/g,"");break;case"number-text":g=h.replace(/[^0-9]/g,"");break;case"number":g=lh(h);break;case"text":case"password":default:g=h;break}u?.maxLength&&(g=g.slice(0,u.maxLength)),r(g),a(g,n),d&&f?.isError&&OR(g,d),t==="number"&&BR(n.target,e,g),o||l(!0)},jR=(n,e,t,r,o,l,a,u,f)=>{let h=n.target.value.trim();t==="number"&&(h=lh(h)),e!==h&&(r(h),l(h,n)),u&&o&&a&&ah(t,h,u,a),f&&f(n,h)},PR=(n,e,t)=>{t&&t(n,e)},DR=(n,e,t,r,o,l,a)=>{t(""),r("",n),l&&o&&ah(e,"",l,o),a?.current&&a.current.focus()},Ye=({ref:n=void 0,id:e=void 0,className:t=void 0,style:r=void 0,shape:o=void 0,afterElement:l=void 0,beforeElement:a=void 0,type:u="text",txtPlaceholder:f=void 0,value:d="",isDisabled:h=!1,onChange:g=void 0,onBlur:p=void 0,onFocus:b=void 0,error:y=void 0,onValidate:w=void 0,config:E=void 0})=>{const{globalShape:S}=A.useContext(Ct),[R,I]=A.useState(d),[j,z]=A.useState(!1),[J,V]=A.useState(!1),ne=A.useMemo(()=>IR(u),[u]),pe=A.useRef(null);A.useEffect(()=>{n&&pe.current&&(typeof n=="function"?n(pe.current):n.current!==void 0&&(n.current=pe.current))},[n]);const fe=A.useCallback(Rc.debounce((N,D)=>{g&&g(N,D)},500),[g]);return A.useEffect(()=>{d!==R&&!J&&(I(d),w&&E&&ah(u,d,w,E))},[d]),v.jsxs("div",{className:Ze("input-text-box",t),children:[v.jsxs("div",{className:Ze("input-text-container",o||S,{disabled:h,error:y?.isError}),onClick:()=>{pe.current?.focus()},children:[E?.prefixElement&&v.jsx("div",{className:"prefix-box",children:E?.prefixElement}),v.jsx("input",{id:e,ref:pe,className:Ze("input-text"),style:r?.input,placeholder:f,value:es(R,u),onChange:N=>{h||MR(N,d,u,I,j,z,fe,E,y,w)},onBlur:N=>{h||jR(N,d,u,I,j,fe,E,w,p),V(!1)},onFocus:N=>{h||PR(N,d,b),V(!0)},disabled:h,type:ne.type,inputMode:ne.mode}),E?.sufixElement&&v.jsx("div",{className:"sufix-box",children:E?.sufixElement}),d.length>0&&!h&&!E?.isHideClear&&v.jsx(Ie,{className:"clear-button",icon:v.jsx(Bl,{}),txtLabel:"Clear",appearance:"subtle",isShowtooltip:!1,onClick:N=>{DR(N,u,I,fe,E,w,pe)}}),h&&v.jsx("div",{className:"lock-box",children:v.jsx(yd,{className:"global-icon"})})]}),a&&v.jsx("div",{className:"before-element-box",children:a}),l&&v.jsx("div",{className:"after-element-box",children:l}),y&&y.isError&&y.errorMessage&&v.jsxs("div",{className:"error-box",children:[v.jsx(jc,{className:"global-icon"}),v.jsx("p",{children:y.errorMessage})]})]})},qR=(n,e)=>{e&&e(n)},mt=({ref:n=void 0,id:e=void 0,className:t=void 0,style:r=void 0,appearance:o="neutral",shape:l=void 0,txtLabel:a="",iconBefore:u=void 0,iconAfter:f=void 0,isSelected:d=!1,isDisabled:h=!1,isLoading:g=!1,onClick:p=void 0,tabIndex:b=void 0})=>{const{globalShape:y}=A.useContext(Ct);return v.jsxs("button",{ref:n,tabIndex:b,id:e,className:Ze("button",o,l||y,{selected:d,disabled:h,loading:g},t),style:r?.button,onClick:w=>{!h&&!g&&qR(w,p)},disabled:h,children:[(u||g)&&v.jsxs("div",{className:"icon-before",style:r?.iconBefore,children:[g&&v.jsx(P1,{size:"small"}),u]}),typeof a=="string"?v.jsx("div",{className:"text-label-box",children:v.jsx("span",{className:"text-label",style:r?.textLabel,children:a})}):v.jsx(v.Fragment,{children:a}),f&&v.jsx("div",{className:"icon-after",style:r?.iconAfter,children:f})]})},FR=({quill:n,onInsert:e,isDisabled:t=!1})=>{const{screenSize:r}=A.useContext(Ct),[o,l]=A.useState(!1),[a,u]=A.useState(""),[f,d]=A.useState(""),[h,g]=A.useState({index:0,length:0}),p=A.useRef(null);return A.useEffect(()=>{o&&l(!1)},[r]),v.jsx(v.Fragment,{children:r==="mobile"?v.jsxs(v.Fragment,{children:[v.jsx(Ie,{icon:v.jsx(T0,{className:"global-icon"}),txtLabel:"Insert Link",appearance:"subtle",onClick:()=>{l(!0)},isSelected:o,isDisabled:t}),v.jsxs(_o,{isOpen:o,setIsOpen:l,onOpen:()=>{g(n?.getSelection()||{index:0,length:0})},onClose:()=>{d(""),u("")},children:[v.jsx(Ye,{type:"text-no-space",txtPlaceholder:"Enter link...",value:f,onChange:b=>{d(b)}}),v.jsx(Ye,{type:"text-no-space",txtPlaceholder:"Enter link text...",value:a,onChange:b=>{u(b)}}),v.jsx("div",{style:{display:"flex",justifyContent:"end"},children:v.jsx(mt,{iconAfter:v.jsx(pc,{className:"global-icon"}),txtLabel:"Insert",appearance:"primary",isDisabled:!a&&!f,onClick:()=>{l(!1),e(h,f,a)}})})]})]}):v.jsxs(ms,{trigger:(b,y,w,E)=>(E.current&&(p.current=E.current),v.jsx(Ie,{ref:b,...y?.()??{},icon:v.jsx(T0,{className:"global-icon"}),txtLabel:"Insert Link",appearance:"subtle",isSelected:w,isDisabled:t})),onOpen:()=>{g(n?.getSelection()||{index:0,length:0})},onClose:()=>{d(""),u("")},children:[v.jsx(Ye,{type:"text-no-space",txtPlaceholder:"Enter link...",value:f,onChange:b=>{d(b)}}),v.jsx(Ye,{type:"text-no-space",txtPlaceholder:"Enter link text...",value:a,onChange:b=>{u(b)}}),v.jsx("div",{style:{display:"flex",justifyContent:"end"},children:v.jsx(mt,{iconAfter:v.jsx(pc,{className:"global-icon"}),txtLabel:"Insert",appearance:"primary",isDisabled:!a&&!f,onClick:()=>{p.current&&p.current.click(),e(h,f,a)}})})]})})},HR=({quill:n,onInsert:e,isDisabled:t})=>{const{screenSize:r}=A.useContext(Ct),[o,l]=A.useState(!1),[a,u]=A.useState(""),[f,d]=A.useState(""),[h,g]=A.useState(""),[p,b]=A.useState({index:0,length:0}),y=A.useRef(null);return A.useEffect(()=>{o&&l(!1)},[r]),v.jsx(v.Fragment,{children:r==="mobile"?v.jsxs(v.Fragment,{children:[v.jsx(Ie,{icon:v.jsx(gc,{className:"global-icon"}),txtLabel:"Insert Link",appearance:"subtle",onClick:()=>{l(!0)},isSelected:o,isDisabled:t}),v.jsxs(_o,{isOpen:o,setIsOpen:l,onOpen:()=>{b(n?.getSelection()||{index:0,length:0})},onClose:()=>{u(""),d(""),g("")},children:[v.jsx(Ye,{type:"text-no-space",txtPlaceholder:"Enter image source...",value:a,onChange:w=>{u(w)}}),v.jsx(Ye,{type:"number",txtPlaceholder:"Enter height...",value:f,onChange:w=>{d(w)},config:{sufixElement:"px",isHideClear:!0}}),v.jsx(Ye,{type:"number",txtPlaceholder:"Enter width...",value:h,onChange:w=>{g(w)},config:{sufixElement:"px",isHideClear:!0}}),v.jsx("div",{style:{display:"flex",justifyContent:"end"},children:v.jsx(mt,{iconAfter:v.jsx(pc,{className:"global-icon"}),txtLabel:"Insert",appearance:"primary",isDisabled:!a&&!f&&!h,onClick:()=>{l(!1),e(p,a,f,h)}})})]})]}):v.jsxs(ms,{trigger:(w,E,S,R)=>(R.current&&(y.current=R.current),v.jsx(Ie,{ref:w,...E?.()??{},icon:v.jsx(gc,{className:"global-icon"}),txtLabel:"Insert Link",appearance:"subtle",isSelected:S,isDisabled:t})),onOpen:()=>{b(n?.getSelection()||{index:0,length:0})},onClose:()=>{u(""),d(""),g("")},children:[v.jsx(Ye,{type:"text-no-space",txtPlaceholder:"Enter image source...",value:a,onChange:w=>{u(w)}}),v.jsx(Ye,{type:"number",txtPlaceholder:"Enter height...",value:f,onChange:w=>{d(w)},config:{sufixElement:"px",isHideClear:!0}}),v.jsx(Ye,{type:"number",txtPlaceholder:"Enter width...",value:h,onChange:w=>{g(w)},config:{sufixElement:"px",isHideClear:!0}}),v.jsx("div",{style:{display:"flex",justifyContent:"end"},children:v.jsx(mt,{iconAfter:v.jsx(pc,{className:"global-icon"}),txtLabel:"Insert",appearance:"primary",isDisabled:!a&&!f&&!h,onClick:()=>{y.current&&y.current.click(),e(p,a,f,h)}})})]})})},$R=({selected:n,onApply:e,isDisabled:t=!1})=>{const{screenSize:r}=A.useContext(Ct),[o,l]=A.useState(!1),a=A.useMemo(()=>[{id:"black",color:"var(--clr-dark)",border:"var(--clr-grey-300)",value:"#000000"},{id:"white",color:"var(--clr-light)",border:"var(--clr-grey-300)",value:"#FFFFFF"},{id:"rose",border:"var(--clr-rose-700)",color:"#F46580",value:"#F46580"},{id:"red",border:"var(--clr-red-700)",color:"#D94D44",value:"#D94D44"},{id:"orange",border:"var(--clr-orange-700)",color:"#F46B0C",value:"#F46B0C"},{id:"yellow",border:"var(--clr-yellow-700)",color:"#C89D0E",value:"#C89D0E"},{id:"lime",border:"var(--clr-lime-700)",color:"#6B982C",value:"#6B982C"},{id:"green",border:"var(--clr-green-700)",color:"#13A04D",value:"#13A04D"},{id:"emerald",border:"var(--clr-emerald-700)",color:"#09976A",value:"#09976A"},{id:"teal",border:"var(--clr-teal-700)",color:"#2E96BA",value:"#2E96BA"},{id:"blue",border:"var(--clr-blue-700)",color:"#247BF4",value:"#247BF4"},{id:"purple",border:"var(--clr-purple-700)",color:"#8171D5",value:"#8171D5"},{id:"magenta",border:"var(--clr-magenta-700)",color:"#C6559C",value:"#C6559C"},{id:"grey",border:"var(--clr-grey-700)",color:"#758195",value:"#758195"}],[]),u=A.useRef(null),f=d=>{e(d),l(!1),u.current?.click()};return A.useEffect(()=>{o&&l(!1)},[r]),v.jsx(v.Fragment,{children:r==="mobile"?v.jsxs(v.Fragment,{children:[v.jsx(Ie,{icon:v.jsx("div",{style:{height:"13px",width:"13px",borderRadius:"16px",border:"1px solid var(--clr-grey-700)",background:n==="transparent"?"repeating-conic-gradient(var(--clr-border) 0 25%, #0000 0 50%) 50% / 10px 10px":n}}),txtLabel:"Text Color",appearance:"subtle",onClick:()=>{l(!0)},isSelected:o,isDisabled:t}),v.jsx(_o,{isOpen:o,setIsOpen:l,children:v.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--space-50)"},children:[v.jsx("button",{className:"color-swatch",style:{background:"repeating-conic-gradient(var(--clr-border) 0 25%, #0000 0 50%) 50% / 10px 10px",border:`1px solid ${`${n}`.toLowerCase()==="transparent"?"var(--clr-surface-2)":"var(--clr-border)"}`},onClick:()=>{f("transparent")},children:`${n}`.toLowerCase()==="transparent"&&v.jsx(xi,{style:{color:"var(--clr-grey-200)"}})}),a.map(d=>v.jsx("button",{className:"color-swatch",style:{background:d.color,border:`2px solid ${`${n}`.toLowerCase()===d.value.toLowerCase()?"var(--clr-surface-2)":d.border}`},onClick:()=>{f(d.value)},children:`${n}`.toLowerCase()===d.value.toLowerCase()&&v.jsx(xi,{style:{color:"var(--clr-grey-200)"}})},d.id))]})})]}):v.jsx(ms,{trigger:(d,h,g,p)=>(p.current&&(u.current=p.current),v.jsx(Ie,{ref:d,...h?.()??{},icon:v.jsx("div",{style:{height:"13px",width:"13px",borderRadius:"16px",border:"1px solid var(--clr-grey-700)",background:n==="transparent"?"repeating-conic-gradient(var(--clr-border) 0 25%, #0000 0 50%) 50% / 10px 10px":n}}),txtLabel:"Text Color",appearance:"subtle",isSelected:g,isDisabled:t})),children:v.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--space-50)"},children:[v.jsx("button",{className:"color-swatch",style:{background:"repeating-conic-gradient(var(--clr-border) 0 25%, #0000 0 50%) 50% / 10px 10px",border:`1px solid ${`${n}`.toLowerCase()==="transparent"?"var(--clr-surface-2)":"var(--clr-border)"}`},onClick:()=>{f("transparent")},children:`${n}`.toLowerCase()==="transparent"&&v.jsx(xi,{style:{color:"var(--clr-grey-200)"}})}),a.map(d=>v.jsx("button",{className:"color-swatch",style:{background:d.color,border:`2px solid ${`${n}`.toLowerCase()===d.value.toLowerCase()?"var(--clr-surface-2)":d.border}`},onClick:()=>{f(d.value)},children:`${n}`.toLowerCase()===d.value.toLowerCase()&&v.jsx(xi,{style:{color:"var(--clr-grey-200)"}})},d.id))]})})})},zR=({selected:n,onApply:e,isDisabled:t=!1})=>{const{screenSize:r}=A.useContext(Ct),[o,l]=A.useState(!1),a=A.useMemo(()=>[{id:"black",color:"var(--clr-dark)",border:"var(--clr-grey-300)",value:"#000000"},{id:"white",color:"var(--clr-light)",border:"var(--clr-grey-300)",value:"#FFFFFF"},{id:"rose",border:"var(--clr-rose-700)",color:"#E8909D",value:"#E8909D"},{id:"red",border:"var(--clr-red-700)",color:"#ED756E",value:"#ED756E"},{id:"orange",border:"var(--clr-orange-700)",color:"#F89A30",value:"#F89A30"},{id:"yellow",border:"var(--clr-yellow-700)",color:"#E1BB30",value:"#E1BB30"},{id:"lime",border:"var(--clr-lime-700)",color:"#94BD59",value:"#94BD59"},{id:"green",border:"var(--clr-green-700)",color:"#36C981",value:"#36C981"},{id:"emerald",border:"var(--clr-emerald-700)",color:"#2CC392",value:"#2CC392"},{id:"teal",border:"var(--clr-teal-700)",color:"#61BBDA",value:"#61BBDA"},{id:"blue",border:"var(--clr-blue-700)",color:"#599CFA",value:"#599CFA"},{id:"purple",border:"var(--clr-purple-700)",color:"#9E91E6",value:"#9E91E6"},{id:"magenta",border:"var(--clr-magenta-700)",color:"#DA7BB7",value:"#DA7BB7"},{id:"grey",border:"var(--clr-grey-700)",color:"#96A0AF",value:"#96A0AF"}],[]),u=A.useRef(null),f=d=>{e(d),l(!1),u.current?.click()};return A.useEffect(()=>{o&&l(!1)},[r]),v.jsx(v.Fragment,{children:r==="mobile"?v.jsxs(v.Fragment,{children:[v.jsx(Ie,{icon:v.jsx("div",{style:{height:"16px",borderRadius:"16px",background:n==="transparent"?"repeating-conic-gradient(var(--clr-border) 0 25%, #0000 0 50%) 50% / 10px 10px":n},children:v.jsx(_0,{className:"global-icon"})}),txtLabel:"Text Highlight",appearance:"subtle",onClick:()=>{l(!0)},isSelected:o,isDisabled:t}),v.jsx(_o,{isOpen:o,setIsOpen:l,children:v.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--space-50)"},children:[v.jsx("button",{className:"color-swatch",style:{background:"repeating-conic-gradient(var(--clr-border) 0 25%, #0000 0 50%) 50% / 10px 10px",border:`1px solid ${`${n}`.toLowerCase()==="transparent"?"var(--clr-surface-2)":"var(--clr-border)"}`},onClick:()=>{f("transparent")},children:`${n}`.toLowerCase()==="transparent"&&v.jsx(xi,{style:{color:"var(--clr-grey-200)"}})}),a.map(d=>v.jsx("button",{className:"color-swatch",style:{background:d.color,border:`2px solid ${`${n}`.toLowerCase()===d.value.toLowerCase()?"var(--clr-surface-2)":d.border}`},onClick:()=>{f(d.value)},children:`${n}`.toLowerCase()===d.value.toLowerCase()&&v.jsx(xi,{style:{color:"var(--clr-grey-200)"}})},d.id))]})})]}):v.jsx(ms,{trigger:(d,h,g,p)=>(p.current&&(u.current=p.current),v.jsx(Ie,{ref:d,...h?.()??{},icon:v.jsx("div",{style:{height:"16px",borderRadius:"16px",background:n==="transparent"?"repeating-conic-gradient(var(--clr-border) 0 25%, #0000 0 50%) 50% / 10px 10px":n},children:v.jsx(_0,{className:"global-icon"})}),txtLabel:"Text Highlight",appearance:"subtle",isSelected:g,isDisabled:t})),children:v.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--space-50)"},children:[v.jsx("button",{className:"color-swatch",style:{background:"repeating-conic-gradient(var(--clr-border) 0 25%, #0000 0 50%) 50% / 10px 10px",border:`1px solid ${`${n}`.toLowerCase()==="transparent"?"var(--clr-surface-2)":"var(--clr-border)"}`},onClick:()=>{f("transparent")},children:`${n}`.toLowerCase()==="transparent"&&v.jsx(xi,{style:{color:"var(--clr-grey-200)"}})}),a.map(d=>v.jsx("button",{className:"color-swatch",style:{background:d.color,border:`2px solid ${`${n}`.toLowerCase()===d.value.toLowerCase()?"var(--clr-surface-2)":d.border}`},onClick:()=>{f(d.value)},children:`${n}`.toLowerCase()===d.value.toLowerCase()&&v.jsx(xi,{style:{color:"var(--clr-grey-200)"}})},d.id))]})})})},If=(n,e,t)=>{t&&t(n.id,n,e)},UR=(n,e,t)=>{t&&t(n,e)};function WR(n){return Se({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(n)}function VR(n){return Se({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}const GR=({isSelected:n=!1,isIndeterminate:e=!1,shape:t=void 0})=>{const{globalShape:r}=A.useContext(Ct);return v.jsx("div",{className:Ze("checkbox-square-indicator",n||e?"square-on":"square-off",t||r,{"full-on":n}),children:e?v.jsx(VR,{className:"icon-check",size:8}):n?v.jsx(WR,{className:"icon-check",size:8}):v.jsx(v.Fragment,{})})},ZR=({className:n=void 0,shape:e=void 0,style:t=void 0,appearance:r="subtle-selected",txtLabel:o=void 0,txtSublabel:l=void 0,icon:a=void 0,isSelected:u=!1,onClick:f=void 0,isDisabled:d=!1,isIndeterminate:h=!1})=>{const{globalShape:g}=A.useContext(Ct);return v.jsx(mt,{className:Ze("checkbox-button",r,e||g,n),isSelected:u||h,isDisabled:d,onClick:p=>{UR(!u,p,f)},txtLabel:v.jsx(v.Fragment,{children:(o||l)&&v.jsxs("div",{className:"text-label-box",children:[v.jsx("p",{className:"text-label",children:o}),l&&v.jsx("p",{className:"text-sublabel text-sub",children:l??""})]})}),iconBefore:v.jsxs("div",{style:{display:"flex",gap:"var(--space-200)"},children:[v.jsx(GR,{isIndeterminate:h,isSelected:u,shape:e}),a]}),appearance:"subtle",style:t})},I1=({style:n,shape:e,onClick:t,setIsChildOpen:r,options:o,optionSelected:l,optionSelectedAppearance:a,floatingConfig:u})=>{const{globalShape:f}=A.useContext(Ct);return v.jsx(v.Fragment,{children:o.map(d=>d.type!=="separator"?d.childOption===void 0?u?.isWithCheckmark&&d.type==="option"?v.jsx(ZR,{className:Ze("dropdown-item"),style:n?.optionButton,shape:e,txtLabel:d.txtLabel,txtSublabel:d.txtSublabel,icon:d.icon,isSelected:l?.includes(d.id)||!1,onClick:(h,g)=>{If(d,g,t)},isDisabled:d.isDisabled,appearance:a},d.id):v.jsx(mt,{id:d.id,className:Ze("dropdown-item"),style:n?.optionButton,shape:e,txtLabel:v.jsxs("div",{className:"text-label-box",children:[v.jsx("p",{className:"text-label",children:d.txtLabel}),d.txtSublabel&&v.jsx("p",{className:"text-sublabel text-sub",children:d.txtSublabel??""})]}),iconBefore:u?.isWithCheckmark?v.jsxs("div",{className:"check-icon-container",children:[v.jsx(A0,{className:"global-icon",style:{color:"transparent"}}),d.icon]}):d.icon,isSelected:l?.includes(d.id),appearance:"subtle",onClick:h=>{If(d,h,t)},isDisabled:d.isDisabled},d.id):v.jsx(ch,{options:d.childOption,optionSelected:l,style:{...n,triggerBox:{width:"unset"}},shape:e||f,onClick:(h,g,p)=>{If(g,p,t)},floatingConfig:{placement:u?.placement??"right-start",fallbackPlacement:u?.fallbackPlacement,level:(u?.level??0)+1,isWithCheckmark:u?.isWithCheckmark,isCloseOnItemClicked:u?.isCloseOnItemClicked,isLockScroll:u?.isLockScroll},onOpen:()=>{r&&r(!0)},onClose:()=>{r&&r(!1)},trigger:(h,g,p)=>v.jsx("div",{style:{display:"flex"},...g?.()??{},children:v.jsx(mt,{ref:h,id:d.id,className:Ze("dropdown-item"),style:n?.optionButton,shape:e,txtLabel:d.txtLabel??"",iconBefore:u?.isWithCheckmark?v.jsxs("div",{className:"check-icon-container",children:[v.jsx(A0,{className:"global-icon",style:{color:"transparent"}}),d.icon]}):d.icon,iconAfter:v.jsx("div",{className:"check-icon-container",children:v.jsx(IA,{className:"global-icon",style:{color:`var(--clr-surface${p?"-primary":""}-4)`}})}),isSelected:p,appearance:"subtle",isDisabled:d.isDisabled},d.id)})},d.id):v.jsx("div",{className:"separator",children:d.txtLabel&&v.jsx("span",{className:"section-title",children:d.txtLabel})},d.id))})},ch=({className:n,trigger:e,style:t=void 0,shape:r=void 0,options:o=[],optionSelected:l=void 0,optionSelectedAppearance:a="subtle-selected",isDisabled:u=!1,onClick:f,onClose:d,onOpen:h,elementHeader:g=void 0,elementFooter:p=void 0,floatingConfig:b=void 0})=>{const[y,w]=A.useState(!1),{screenSize:E}=A.useContext(Ct),[S,R]=A.useState(!1),I=A.useRef(null),j=A.useMemo(()=>e?typeof e=="function"?v.jsx(v.Fragment,{children:$e.cloneElement(e(void 0,void 0,S,I),{ref:I,onClick:()=>{u||R(!S)},disabled:u})}):v.jsx("div",{className:Ze("bottom-sheet-trigger-box"),style:t?.triggerBox,children:$e.cloneElement(e,{ref:I,onClick:()=>{u||R(!S)},disabled:u})}):v.jsx(v.Fragment,{}),[e,u,S]),[z,J]=A.useState(0);return A.useEffect(()=>{R(!1)},[E]),E!=="mobile"||b?.mode?.length===1&&b.mode.includes("dropdown")?v.jsx(ms,{className:Ze("dropdown-menu-dropdown",n),trigger:e,elementHeader:g,elementFooter:p,onClose:d,onOpen:h,isDisabled:u,triggerClose:z,floatingConfig:b,style:{container:t?.container,triggerBox:t?.triggerBox},children:v.jsx(I1,{style:t,shape:r,options:o,optionSelected:l,optionSelectedAppearance:a,onClick:(V,ne,pe)=>{f&&f(V,ne,pe),b?.isCloseOnItemClicked&&(J(1),setTimeout(()=>{J(0)},200))},floatingConfig:b})}):v.jsxs(v.Fragment,{children:[j,v.jsx(_o,{isOpen:S,setIsOpen:R,className:Ze("dropdown-menu-bottom-sheet",n),elementHeader:g,elementFooter:p,onClose:d,onOpen:h,floatingConfig:{...b,isChildOpen:y},style:{container:t?.container,triggerBox:t?.triggerBox},children:v.jsx(I1,{style:t,shape:r,options:o,optionSelected:l,optionSelectedAppearance:a,onClick:(V,ne,pe)=>{setTimeout(()=>{f&&f(V,ne,pe),b?.isCloseOnItemClicked&&R(!1)},y?400:0)},setIsChildOpen:w,floatingConfig:b})})]})},KR=({selected:n,onClickOption:e,isDisabled:t=!1})=>v.jsx(Zm,{className:"header-dropdown-box",content:"Text Type",children:v.jsx(ch,{trigger:v.jsx(mt,{txtLabel:`${n?"Header ":""}${n||"Normal"}`,iconAfter:v.jsx(xd,{className:"global-icon"}),isDisabled:t,appearance:"subtle"}),options:[{id:"",txtLabel:"Normal"},{id:"1",txtLabel:"Header 1"},{id:"2",txtLabel:"Header 2"},{id:"3",txtLabel:"Header 3"},{id:"4",txtLabel:"Header 4"},{id:"5",txtLabel:"Header 5"},{id:"6",txtLabel:"Header 6"}],onClick:r=>{e(r)}})}),eb=({quill:n,shape:e,moduleList:t=["bold","italic","underline","strike","code","subscript","superscript","text-type","order-list","unorder-list","indent","align","color","highlight","link","image","quote-block","code-block"],isDisabled:r=!1,isFloating:o=!1})=>{const[l,a]=A.useState({}),u=A.useCallback((p,b)=>{if(!n)return;const y=n.getSelection();if(y){if(b===void 0){const E=!n.getFormat(y)[p];n.format(p,E)}else{const E=n.getFormat(y)[p]===b?!1:b;n.format(p,E)}n.focus()}},[n]),f=A.useCallback((p,b,y)=>{n&&(n.insertText(p.index,y,"link",b),n.focus())},[n]),d=A.useCallback((p,b,y,w)=>{n&&(n.insertEmbed(p.index,"image",b),(y||w)&&n.formatText(p.index,1,{width:y?`${y}px`:void 0,height:w?`${w}px`:void 0}),n.focus())},[n]),h=A.useCallback((p,b)=>{if(!n)return;const y=n.getSelection();if(y){if(p==="blockquote"){const E=!n.getFormat(y).blockquote;n.format("blockquote",E)}else if(p==="code-block"){const E=!n.getFormat(y)["code-block"];n.format("code-block",E)}else if(p==="list")n.getFormat(y).list===b?n.format("list",!1):n.format("list",b);else if(p==="indent"){const w=n.getFormat(y);if(w.list){const E=w.indent||0,S=b==="+1"?E+1:Math.max(0,E-1);n.format("indent",S>0?S:!1)}else{const E=w.indent||0,S=b==="+1"?E+1:Math.max(0,E-1);n.format("indent",S>0?S:!1)}}else n.format(p,b);n.focus()}},[n]),g=A.useCallback(()=>{if(!n)return;const p=n.getSelection();p&&(n.removeFormat(p.index,p.length),n.focus())},[n]);return A.useEffect(()=>{if(!n)return;const p=()=>{const y=n.getSelection();if(y){const w=n.getFormat(y);a(w)}},b=()=>{n.keyboard.addBinding({key:9,handler:y=>n.getFormat(y).list?(h("indent","+1"),!1):!0}),n.keyboard.addBinding({key:9,shiftKey:!0,handler:y=>n.getFormat(y).list?(h("indent","-1"),!1):!0})};return n.on("selection-change",p),n.on("text-change",p),b(),()=>{n.off("selection-change",p),n.off("text-change",p)}},[n,h]),v.jsxs("div",{className:Ze("toolbar-container",{"toolbar-floating":o},e),children:[t.includes("bold")&&v.jsx(Ie,{icon:v.jsx(WA,{className:"global-icon"}),appearance:"subtle",txtLabel:"Bold",onClick:()=>u("bold"),isSelected:l.bold,isDisabled:r}),t.includes("italic")&&v.jsx(Ie,{icon:v.jsx(ZA,{className:"global-icon"}),appearance:"subtle",txtLabel:"Italic",onClick:()=>u("italic"),isSelected:l.italic,isDisabled:r}),t.includes("underline")&&v.jsx(Ie,{icon:v.jsx(e_,{className:"global-icon"}),appearance:"subtle",txtLabel:"Underline",onClick:()=>u("underline"),isSelected:l.underline,isDisabled:r}),t.includes("strike")&&v.jsx(Ie,{icon:v.jsx(YA,{className:"global-icon"}),appearance:"subtle",txtLabel:"Strikethrough",onClick:()=>u("strike"),isSelected:l.strike,isDisabled:r}),t.includes("code")&&v.jsx(Ie,{icon:v.jsx(cm,{className:"global-icon"}),appearance:"subtle",txtLabel:"Code",onClick:()=>u("code"),isSelected:l.code,isDisabled:r}),t.includes("subscript")&&v.jsx(Ie,{icon:v.jsx(XA,{className:"global-icon"}),appearance:"subtle",txtLabel:"Subscript",onClick:()=>u("script","sub"),isSelected:l.script==="sub",isDisabled:r}),t.includes("superscript")&&v.jsx(Ie,{icon:v.jsx(JA,{className:"global-icon"}),appearance:"subtle",txtLabel:"Superscript",onClick:()=>u("script","super"),isSelected:l.script==="super",isDisabled:r}),t.includes("text-type")&&v.jsx(KR,{selected:l.header,onClickOption:p=>{h("header",p||!1)},isDisabled:r}),t.includes("order-list")&&v.jsx(Ie,{icon:v.jsx(FA,{className:"global-icon"}),appearance:"subtle",txtLabel:"Ordered List",onClick:()=>h("list","ordered"),isSelected:l.list==="ordered",isDisabled:r}),t.includes("unorder-list")&&v.jsx(Ie,{icon:v.jsx(um,{className:"global-icon"}),appearance:"subtle",txtLabel:"Bullet List",onClick:()=>h("list","bullet"),isSelected:l.list==="bullet",isDisabled:r}),t.includes("indent")&&v.jsxs(v.Fragment,{children:[v.jsx(Ie,{icon:v.jsx(KA,{className:"global-icon"}),appearance:"subtle",txtLabel:"Decrease Indent",onClick:()=>h("indent","-1"),isDisabled:!l.indent&&l.indent!==0||r}),v.jsx(Ie,{icon:v.jsx(GA,{className:"global-icon"}),appearance:"subtle",txtLabel:"Increase Indent",onClick:()=>h("indent","+1"),isDisabled:l.indent===8||r})]}),t.includes("align")&&v.jsxs(v.Fragment,{children:[v.jsx(Ie,{icon:v.jsx(pm,{className:"global-icon"}),appearance:"subtle",txtLabel:"Align Left",onClick:()=>h("align",""),isSelected:!l.align,isDisabled:r}),v.jsx(Ie,{icon:v.jsx(dm,{className:"global-icon"}),appearance:"subtle",txtLabel:"Align Center",onClick:()=>h("align","center"),isSelected:l.align==="center",isDisabled:r}),v.jsx(Ie,{icon:v.jsx(gm,{className:"global-icon"}),appearance:"subtle",txtLabel:"Align Right",onClick:()=>h("align","right"),isSelected:l.align==="right",isDisabled:r}),v.jsx(Ie,{icon:v.jsx(hm,{className:"global-icon"}),appearance:"subtle",txtLabel:"Align Justify",onClick:()=>h("align","justify"),isSelected:l.align==="justify",isDisabled:r})]}),t.includes("color")&&v.jsx($R,{selected:l.color||"#000000",onApply:p=>u("color",p),isDisabled:r}),t.includes("highlight")&&v.jsx(zR,{selected:l.background||"transparent",onApply:p=>u("background",p),isDisabled:r}),t.includes("link")&&v.jsx(FR,{quill:n,onInsert:(p,b,y)=>{f(p,b,y)},isDisabled:r}),t.includes("image")&&v.jsx(HR,{quill:n,onInsert:(p,b,y,w)=>{d(p,b,w,y)},isDisabled:r}),t.includes("quote-block")&&v.jsx(Ie,{icon:v.jsx(zA,{className:"global-icon"}),appearance:"subtle",txtLabel:"Blockquote",onClick:()=>h("blockquote"),isSelected:l.blockquote,isDisabled:r}),t.includes("code-block")&&v.jsx(Ie,{icon:v.jsx(OA,{className:"global-icon"}),appearance:"subtle",txtLabel:"Code Block",onClick:()=>h("code-block"),isSelected:l["code-block"],isDisabled:r}),t.includes("clear")&&v.jsx(Ie,{icon:v.jsx(DA,{className:"global-icon"}),appearance:"subtle",txtLabel:"Clear Formatting",onClick:()=>g(),isDisabled:r})]})},YR=({quill:n,moduleList:e,shape:t,isDisabled:r})=>{const[o,l]=A.useState(!1),{x:a,y:u,strategy:f,refs:d,update:h}=Wc({placement:"bottom-start",middleware:[Sd(-10),Nd({padding:10,fallbackPlacements:["bottom","bottom-start","bottom-end","top","top-start","top-end"]}),Ld({padding:10})],strategy:"fixed",whileElementsMounted:$c});return A.useEffect(()=>{if(!n)return;const g=p=>{if(p&&p.length>0){const b=n.getBounds(p.index,p.length);if(!b)return;const y=n.root.getBoundingClientRect();d.setReference({getBoundingClientRect:()=>({width:b.width,height:b.height,top:y.top+b.top,bottom:y.top+b.bottom,left:y.left+b.left,right:y.left+b.right,x:y.left+b.left,y:y.top+b.top})}),l(!0),h()}else l(!1)};return n.on("selection-change",g),()=>{n.off("selection-change",g)}},[n,d,h]),v.jsx("div",{ref:d.setFloating,style:{position:f,top:u,left:a??0,zIndex:1,display:o?"block":"none"},children:v.jsx(eb,{quill:n,moduleList:e,shape:t,isDisabled:r,isFloating:!0})})},XR=({type:n="classic",className:e=void 0,style:t=void 0,shape:r=void 0,txtPlaceholder:o=void 0,value:l=void 0,isDisabled:a=!1,onChange:u=void 0,onBlur:f=void 0,onFocus:d=void 0,error:h=void 0,onValidate:g=void 0,config:p=void 0})=>{const{globalShape:b}=A.useContext(Ct),y=A.useRef(null),w=A.useRef(null),E=A.useMemo(()=>{const ne=["bold","italic","underline","strike","code","subscript","superscript","text-type","order-list","unorder-list","indent","align","color","highlight","link","image","quote-block","code-block"];return p?.moduleList?p.moduleList:ne},[p?.moduleList]),S=A.useMemo(()=>p?.isAsPreview,[p?.isAsPreview]),R=A.useRef(!1),[I,j]=A.useState(!1),z=Rc.debounce(()=>{w.current&&ER(w,R,u,p,g)},300),J=ne=>{w.current&&AR(ne,w,j,d)},V=ne=>{w.current&&_R(ne,w,j,R,p,g,f)};return A.useEffect(()=>{if(y.current&&!w.current){let ne=["header","bold","italic","underline","strike","list","indent","align","color","background","link","image","blockquote","code","code-block","script"];p?.disabledFormat&&(ne=[...ne].filter(D=>!p.disabledFormat?.includes(D))),w.current=new re(y.current,{theme:"snow",modules:{toolbar:!1,keyboard:{bindings:{enter:{key:"Enter",handler:function(){return!p?.isDisableNewLine}}}},clipboard:{matchers:[["*",function(D){return new we().insert(D.innerText)}]]}},formats:ne,placeholder:o,readOnly:a});const pe=new we().insert(`
`);w.current.setContents(l??pe);const fe=w.current;fe.on("text-change",()=>{if(!p?.isListOnly){z();return}const D=fe.getLength(),O=fe.getSelection()||{index:D-1},G=fe.getFormat(O.index);if(D<=1&&G.list!=="bullet"&&G.list!=="ordered"){const H=new we().insert(`
`,{list:"bullet"});fe.setContents(H),fe.setSelection(0);return}const[P]=fe.getLine(O.index);if(P&&!fe.getFormat(O.index).list){const H=fe.getIndex(P),W=P.length();fe.deleteText(H,W,"silent");let U=0;const $=fe.getLines();for(let Z=$.length-1;Z>=0;Z--){const le=fe.getFormat(fe.getIndex($[Z]));if(le.list==="bullet"||le.list==="ordered"){U=fe.getIndex($[Z])+$[Z].length()-1;break}}fe.setSelection(U,0,"silent");return}z()});const N=w.current.root;N.addEventListener("focus",J),N.addEventListener("blur",V)}return()=>{if(w.current){const ne=w.current.root;ne.removeEventListener("focus",J),ne.removeEventListener("blur",V),w.current.off("text-change",z),w.current=null}}},[JSON.stringify(p)]),A.useEffect(()=>{if(w&&w.current){const ne=w.current.getContents();JSON.stringify(ne)!==JSON.stringify(l)&&!I&&w.current.setContents(l??[])}},[l]),A.useEffect(()=>{w.current&&w.current.enable(!a)},[a]),v.jsxs("div",{className:Ze("wysiwyg-box",r||b,{"has-error":h?.isError,disabled:a},e),children:[n==="classic"&&(!S||S&&u)&&v.jsx(eb,{quill:w.current,shape:r||b,moduleList:E,isDisabled:a}),n==="floating"&&!S&&v.jsx(YR,{quill:w.current,moduleList:E,shape:r||b,isDisabled:a}),v.jsx("div",{ref:y,className:"editor-box",style:t?.editorBox}),n==="classic"&&!S&&v.jsxs("div",{className:"footer-box",style:t?.footerBox,children:[h&&h.isError&&h.errorMessage&&v.jsxs("div",{className:"error-box",children:[v.jsx(jc,{className:"global-icon"}),v.jsx("p",{children:h.errorMessage})]}),!p?.isHideTextCount&&v.jsxs("p",{className:"count-box",children:["Count: ",w.current?w.current.getLength()-1:"0"]})]})]})},ld=({type:n,onClickBlockToAdd:e})=>{const[t,r]=A.useState(0),o=l=>{e(l),r(1)};return A.useEffect(()=>{t===1&&r(0)},[t]),v.jsx(v.Fragment,{children:v.jsx(ms,{trigger:v.jsx(Ie,{className:`add-block-button add-block-${n}-container`,icon:v.jsx(fm,{className:"global-icon"}),txtLabel:"Add Block",appearance:"primary",isShowtooltip:!1}),floatingConfig:{placement:n==="before"?"top":"bottom",fallbackPlacement:["top","bottom","left","right"],width:420},triggerClose:t,children:v.jsxs("div",{className:"add-block-option-container",children:[v.jsx(mt,{className:"add-block-option-button",txtLabel:"Heading",onClick:()=>{o("heading")},iconBefore:v.jsx(VA,{size:20,className:"global-icon"})}),v.jsx(mt,{className:"add-block-option-button",txtLabel:"Text",onClick:()=>{o("text")},iconBefore:v.jsx(QA,{size:20,className:"global-icon"})}),v.jsx(mt,{className:"add-block-option-button",txtLabel:"List",onClick:()=>{o("list")},iconBefore:v.jsx(um,{size:20,className:"global-icon"})}),v.jsx(mt,{className:"add-block-option-button",txtLabel:"Image",onClick:()=>{o("image")},iconBefore:v.jsx(gc,{size:20,className:"global-icon"})}),v.jsx(mt,{className:"add-block-option-button",txtLabel:"Button",onClick:()=>{o("button")},iconBefore:v.jsx(NA,{size:20,className:"global-icon"})}),v.jsx(mt,{className:"add-block-option-button",txtLabel:"Spacer",onClick:()=>{o("spacer")},iconBefore:v.jsx(UA,{size:20,className:"global-icon"})})]})})})},JR=({onClickAction:n})=>v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"adder-before adder-container global-radius",children:v.jsx(ld,{type:"before",onClickBlockToAdd:e=>{n(e,!0)}})}),v.jsx("div",{className:"adder-after adder-container global-radius",children:v.jsx(ld,{type:"after",onClickBlockToAdd:e=>{n(e,!1)}})})]}),QR=({id:n="",parentId:e="root"})=>{const{paperValue:t,selectedId:r,setSelectedId:o,addNewBlock:l,removeBlock:a,moveUpBlock:u,moveDownBlock:f,triggerRefreshListType:d}=ql(),h=A.useMemo(()=>r===n,[r]),g=A.useMemo(()=>t[n],[JSON.stringify(t[n])]),[p,b]=A.useState(!1),y=w=>{w==="remove"&&a(n,e),w==="move-down"&&f(n,e),w==="move-up"&&u(n,e)};return v.jsxs("div",{className:Ze("block-container",{"block-selected":h,"block-hovered":p}),style:{zIndex:h?"1":p?"0":void 0},onClick:()=>{r!==n&&o(n)},onKeyDown:w=>{w.target&&w.target.classList.contains("block-container")&&(w.key===" "||w.key==="Enter")&&r!==n&&o(n)},onMouseEnter:()=>{b(!0)},onMouseLeave:()=>{b(!1)},tabIndex:0,children:[h&&v.jsxs(v.Fragment,{children:[v.jsx(lS,{onClickAction:w=>{y(w)}}),v.jsx(JR,{onClickAction:(w,E)=>{l(w,n,e,E)}})]}),v.jsxs("div",{className:"paper-block-content",style:{display:"flex",paddingTop:`${g.props.paddingTop||"0"}px`,paddingRight:`${g.props.paddingRight||"0"}px`,paddingBottom:`${g.props.paddingBottom||"0"}px`,paddingLeft:`${g.props.paddingLeft||"0"}px`,backgroundColor:`${g.props.backgroundColor??"transparent"}`,fontFamily:po[t.root.props.fontFamily??"aria"],justifyContent:g.props.alignment??void 0},children:[g.type==="heading"&&v.jsx(v.Fragment,{children:h?v.jsx("div",{style:{width:"100%"},children:v.jsx(rc,{blockId:n,type:g.type,props:g.props})}):v.jsx(ic,{content:g.props.textDelta,type:g.type,props:g.props})}),g.type==="text"&&v.jsx(v.Fragment,{children:h?v.jsx("div",{style:{width:"100%"},children:v.jsx(rc,{blockId:n,type:g.type,props:g.props})}):v.jsx(ic,{content:g.props.textDelta,type:g.type,props:g.props})}),g.type==="list"&&v.jsx(v.Fragment,{children:h&&d===0?v.jsx("div",{style:{width:"100%"},children:v.jsx(rc,{blockId:n,type:g.type,props:g.props})}):v.jsx(ic,{content:g.props.textDelta,type:g.type,props:g.props})}),g.type==="image"&&v.jsx(v.Fragment,{children:g.props.imageSrcUrl?v.jsx("div",{children:v.jsx("img",{style:{height:g.props.height?`${g.props.height}px`:"100%",width:g.props.width?`${g.props.width}px`:"100%",borderRadius:`${g.props.borderRdius}px`},src:g.props.imageSrcUrl})}):v.jsx("div",{style:{backgroundColor:"var(--clr-surface-2)",height:g.props.height||"fit-content",width:g.props.width||"fit-content"},children:v.jsx(gc,{size:48})})}),g.type==="button"&&v.jsx(v.Fragment,{children:h?v.jsx("div",{style:{backgroundColor:g.props.buttonColor??"#f0f0f0",paddingTop:`${g.props.contentPaddingTop}px`,paddingBottom:`${g.props.contentPaddingBottom}px`,paddingLeft:`${g.props.contentPaddingLeft}px`,paddingRight:`${g.props.contentPaddingRight}px`,borderRadius:`${g.props.borderRdius}px`,border:"0px",color:g.props.textColor,width:g.props.buttonWidth==="full"?"100%":"auto"},children:v.jsx(rc,{blockId:n,type:g.type,props:{...g.props,textAlign:g.props.alignment==="start"?"left":g.props.alignment==="end"?"right":"center",isButton:!0}})}):v.jsx("a",{href:g.props.url??"##",style:{backgroundColor:g.props.buttonColor??"#f0f0f0",paddingTop:`${g.props.contentPaddingTop}px`,paddingBottom:`${g.props.contentPaddingBottom}px`,paddingLeft:`${g.props.contentPaddingLeft}px`,paddingRight:`${g.props.contentPaddingRight}px`,borderRadius:`${g.props.borderRdius}px`,border:"0px",color:g.props.textColor,width:g.props.buttonWidth==="full"?"100%":"auto",textAlign:g.props.alignment==="start"?"left":g.props.alignment==="end"?"right":"center",textDecoration:"none"},onClick:w=>{w.preventDefault()},children:v.jsx(ic,{content:g.props.textDelta,type:g.type,props:g.props})})}),!["heading","text","list","image","button"].includes(g.type)&&v.jsxs("p",{children:[g.type," coming soon..."]})]})]})},rc=({blockId:n,type:e,props:t})=>{const{paperValue:r,setPaperValue:o}=ql(),[l,a]=A.useState(t.textDelta);A.useEffect(()=>{JSON.stringify(l)!==JSON.stringify(r[n].props.textDelta)&&(console.log("update from block"),o(g=>{const p={...g};return p[n].props.textDelta=l,p}))},[JSON.stringify(l)]);const u=A.useMemo(()=>r.root.props.fontFamily??"",[]),f=A.useMemo(()=>r.root.props.h1Size?`${r.root.props.h1Size}px`:void 0,[]),d=A.useMemo(()=>r.root.props.h2Size?`${r.root.props.h2Size}px`:void 0,[]),h=A.useMemo(()=>r.root.props.h3Size?`${r.root.props.h3Size}px`:void 0,[]);return v.jsx(XR,{className:`block-wysiwyg text-align-${t.textAlign}`,type:"floating",txtPlaceholder:"Enter text...",value:l,onChange:g=>{a(g)},config:{moduleList:["bold","italic","underline","strike","subscript","superscript"],disabledFormat:e==="list"?["indent"]:["indent","list"],isDisableNewLine:!(e==="text"||e==="list"),isListOnly:e==="list"},style:{editorBox:{color:t.textColor,fontFamily:t.fontFamily?t.fontFamily==="global"?po[u]:po[t.fontFamily]:void 0,fontSize:t.textType==="h1"?f??"2em":t.textType==="h2"?d??"1.5em":t.textType==="h3"?h??"1.17em":t.fontSize?`${t.fontSize}px`:"1em",fontWeight:t.textType?"bold":void 0}}})},ic=({content:n,type:e,props:t})=>{const{paperValue:r}=ql(),o=A.useMemo(()=>r.root.props.h1Size?`${r.root.props.h1Size}px`:void 0,[r.root.props.h1Size]),l=A.useMemo(()=>r.root.props.h2Size?`${r.root.props.h2Size}px`:void 0,[r.root.props.h2Size]),a=A.useMemo(()=>r.root.props.h3Size?`${r.root.props.h3Size}px`:void 0,[r.root.props.h3Size]),u=d=>new bS.QuillDeltaToHtmlConverter(d.ops,{inlineStyles:!0}).convert(),f=A.useMemo(()=>{if(n){console.log(n);let d=u(n);if(console.log(d),e==="list")d=d.replace("<ol>",`<ol style="color:${t.textColor??""}; padding-left:2em; font-size:${t.textType==="h1"?o??"2em":t.textType==="h2"?l??"1.5em":t.textType==="h3"?a??"1.17em":t.fontSize?`${t.fontSize}px`:"1em"}; font-family:${t.fontFamily?po[t.fontFamily]??"":""}">`).replace("<ul>",`<ul style="color:${t.textColor??""}; padding-left:2em; font-size:${t.textType==="h1"?o??"2em":t.textType==="h2"?l??"1.5em":t.textType==="h3"?a??"1.17em":t.fontSize?`${t.fontSize}px`:"1em"}; font-family:${t.fontFamily?po[t.fontFamily]??"":""}">`);else{let h=t.textType?t.textType:"p";d=d.replace("<p>",`<${h} style="color:${t.textColor??""}; text-align:${t.textAlign??""}; font-size:${t.textType==="h1"?o??"2em":t.textType==="h2"?l??"1.5em":t.textType==="h3"?a??"1.17em":t.fontSize?`${t.fontSize}px`:"1em"}; font-family:${t.fontFamily?po[t.fontFamily]??"":""}">`).replace("</p>",`</${h}>`)}return d}else return"<p></p>"},[n,t,o,l,a]);return v.jsx("div",{style:{width:"100%"},dangerouslySetInnerHTML:{__html:f}})},e3=({className:n=void 0,shape:e=void 0,appearance:t="detached",style:r=void 0,tabItem:o=[],selectedItem:l="",onClickTabItem:a=void 0})=>{const{globalShape:u}=A.useContext(Ct);return v.jsx("div",{className:Ze("tabs-box",t,e||u,n),children:o.map(f=>v.jsx(mt,{shape:e,className:"tabs-item-button",appearance:"subtle",txtLabel:f.txtLabel,isSelected:f.id===l,isDisabled:f.isDisabled,iconBefore:f.iconBefore,iconAfter:f.iconAfter,onClick:()=>{a&&a(f.id)},style:r},f.id))})},t3=()=>{const{setSelectedId:n,paperValue:e,addNewBlock:t}=ql(),[r,o]=A.useState(!0);return v.jsxs("div",{style:{display:"grid",height:"100%",gridTemplateRows:"max-content 1fr"},children:[v.jsxs("div",{className:"canvas-header",children:[v.jsx("div",{children:v.jsx(e3,{selectedItem:"canvas",tabItem:[{id:"canvas",txtLabel:"Canvas",iconBefore:v.jsx($A,{className:"global-icon"})},{id:"preview",txtLabel:"Preview",iconBefore:v.jsx(qA,{className:"global-icon"})},{id:"html",txtLabel:"HTML Output",iconBefore:v.jsx(cm,{className:"global-icon"})},{id:"json",txtLabel:"JSON Output",iconBefore:v.jsx(kA,{className:"global-icon"})}]})}),v.jsxs("div",{className:"canvas-view-select-container",children:[v.jsx(Ie,{className:"header-action-button",icon:v.jsx(BA,{className:"global-icon"}),txtLabel:"Desktop view",onClick:()=>{o(!0)},isSelected:r}),v.jsx(Ie,{className:"header-action-button",icon:v.jsx(MA,{className:"global-icon"}),txtLabel:"Mobile view",onClick:()=>{o(!1)},isSelected:!r})]})]}),v.jsx("div",{className:"outside-block",style:{display:"flex",justifyContent:"center",backgroundColor:e.root.props.backdropColor,height:"100%",maxHeight:"100%",overflow:"auto"},onClick:l=>{l.target&&l.target?.classList?.contains("outside-block")&&n("root")},children:v.jsxs("div",{className:"outside-block",style:{width:`${r?"600":"320"}px`,minWidth:`${r?"600":"320"}px`,margin:"var(--space-500)",backgroundColor:e.root.props.backgroundColor,height:"fit-content"},children:[e.root.childIds.map(l=>v.jsx(QR,{id:l,parentId:"root"},l)),v.jsx("div",{style:{display:"flex",justifyContent:"center",border:"1px dashed var(--clr-border)",padding:"var(--space-100)",marginTop:"var(--space-100)"},children:v.jsx(ld,{type:"after",onClickBlockToAdd:l=>{t(l,"","root")}})})]})})]})},tb=(n,e)=>{e(n)},n3=(n,e,t,r,o)=>{r&&tb(n,r),o&&o({isError:!1,errorMessage:""},n),e||t(!0)},ad=(n,e,t)=>{let r=!1,o="";t.isRequired&&!r&&(n||(r=!0,o="This field cannot be empty!")),e({isError:r,errorMessage:o},n)},r3=n=>{n&&tb("",n)},i3=(n,e,t,r,o,l,a)=>{n.stopPropagation(),o&&r3(o),l&&r&&ad("",l,r),a?.current&&a.current.focus(),e||t(!0)},ao=(n,e)=>{const t=n.toLowerCase().replace("#",""),r=()=>t.split("").map(f=>parseInt(f+f,16));let o,l,a;if(t.length===3)[o,l,a]=r();else{const f=parseInt(t.slice(0,6),16);o=f>>16&255,l=f>>8&255,a=f&255}const u=e&&t.length===8?parseInt(t.slice(6,8),16)/255:1;return{r:o,g:l,b:a,a:u}},eo=(n,e)=>{const t=o=>Math.round(o).toString(16).padStart(2,"0");if(!e||n.a===1)return`#${t(n.r)}${t(n.g)}${t(n.b)}`.toUpperCase();const r=Math.round(n.a*255);return`#${t(n.r)}${t(n.g)}${t(n.b)}${t(r)}`.toUpperCase()};function To(){return(To=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function uh(n,e){if(n==null)return{};var t,r,o={},l=Object.keys(n);for(r=0;r<l.length;r++)e.indexOf(t=l[r])>=0||(o[t]=n[t]);return o}function cd(n){var e=A.useRef(n),t=A.useRef(function(r){e.current&&e.current(r)});return e.current=n,t.current}var Co=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n<e?e:n},Al=function(n){return"touches"in n},ud=function(n){return n&&n.ownerDocument.defaultView||self},O1=function(n,e,t){var r=n.getBoundingClientRect(),o=Al(e)?function(l,a){for(var u=0;u<l.length;u++)if(l[u].identifier===a)return l[u];return l[0]}(e.touches,t):e;return{left:Co((o.pageX-(r.left+ud(n).pageXOffset))/r.width),top:Co((o.pageY-(r.top+ud(n).pageYOffset))/r.height)}},B1=function(n){!Al(n)&&n.preventDefault()},fh=$e.memo(function(n){var e=n.onMove,t=n.onKey,r=uh(n,["onMove","onKey"]),o=A.useRef(null),l=cd(e),a=cd(t),u=A.useRef(null),f=A.useRef(!1),d=A.useMemo(function(){var b=function(E){B1(E),(Al(E)?E.touches.length>0:E.buttons>0)&&o.current?l(O1(o.current,E,u.current)):w(!1)},y=function(){return w(!1)};function w(E){var S=f.current,R=ud(o.current),I=E?R.addEventListener:R.removeEventListener;I(S?"touchmove":"mousemove",b),I(S?"touchend":"mouseup",y)}return[function(E){var S=E.nativeEvent,R=o.current;if(R&&(B1(S),!function(j,z){return z&&!Al(j)}(S,f.current)&&R)){if(Al(S)){f.current=!0;var I=S.changedTouches||[];I.length&&(u.current=I[0].identifier)}R.focus(),l(O1(R,S,u.current)),w(!0)}},function(E){var S=E.which||E.keyCode;S<37||S>40||(E.preventDefault(),a({left:S===39?.05:S===37?-.05:0,top:S===40?.05:S===38?-.05:0}))},w]},[a,l]),h=d[0],g=d[1],p=d[2];return A.useEffect(function(){return p},[p]),$e.createElement("div",To({},r,{onTouchStart:h,onMouseDown:h,className:"react-colorful__interactive",ref:o,onKeyDown:g,tabIndex:0,role:"slider"}))}),Gl=function(n){return n.filter(Boolean).join(" ")},dh=function(n){var e=n.color,t=n.left,r=n.top,o=r===void 0?.5:r,l=Gl(["react-colorful__pointer",n.className]);return $e.createElement("div",{className:l,style:{top:100*o+"%",left:100*t+"%"}},$e.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},kt=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t},s3=function(n){return ib(fd(n))},fd=function(n){return n[0]==="#"&&(n=n.substring(1)),n.length<6?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?kt(parseInt(n[3]+n[3],16)/255,2):1}:{r:parseInt(n.substring(0,2),16),g:parseInt(n.substring(2,4),16),b:parseInt(n.substring(4,6),16),a:n.length===8?kt(parseInt(n.substring(6,8),16)/255,2):1}},o3=function(n){return l3(rb(n))},nb=function(n){var e=n.s,t=n.v,r=n.a,o=(200-e)*t/100;return{h:kt(n.h),s:kt(o>0&&o<200?e*t/100/(o<=100?o:200-o)*100:0),l:kt(o/2),a:kt(r,2)}},dd=function(n){var e=nb(n);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},Of=function(n){var e=nb(n);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},rb=function(n){var e=n.h,t=n.s,r=n.v,o=n.a;e=e/360*6,t/=100,r/=100;var l=Math.floor(e),a=r*(1-t),u=r*(1-(e-l)*t),f=r*(1-(1-e+l)*t),d=l%6;return{r:kt(255*[r,u,a,a,f,r][d]),g:kt(255*[f,r,r,u,a,a][d]),b:kt(255*[a,a,f,r,r,u][d]),a:kt(o,2)}},sc=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},l3=function(n){var e=n.r,t=n.g,r=n.b,o=n.a,l=o<1?sc(kt(255*o)):"";return"#"+sc(e)+sc(t)+sc(r)+l},ib=function(n){var e=n.r,t=n.g,r=n.b,o=n.a,l=Math.max(e,t,r),a=l-Math.min(e,t,r),u=a?l===e?(t-r)/a:l===t?2+(r-e)/a:4+(e-t)/a:0;return{h:kt(60*(u<0?u+6:u)),s:kt(l?a/l*100:0),v:kt(l/255*100),a:o}},sb=$e.memo(function(n){var e=n.hue,t=n.onChange,r=Gl(["react-colorful__hue",n.className]);return $e.createElement("div",{className:r},$e.createElement(fh,{onMove:function(o){t({h:360*o.left})},onKey:function(o){t({h:Co(e+360*o.left,0,360)})},"aria-label":"Hue","aria-valuenow":kt(e),"aria-valuemax":"360","aria-valuemin":"0"},$e.createElement(dh,{className:"react-colorful__hue-pointer",left:e/360,color:dd({h:e,s:100,v:100,a:1})})))}),ob=$e.memo(function(n){var e=n.hsva,t=n.onChange,r={backgroundColor:dd({h:e.h,s:100,v:100,a:1})};return $e.createElement("div",{className:"react-colorful__saturation",style:r},$e.createElement(fh,{onMove:function(o){t({s:100*o.left,v:100-100*o.top})},onKey:function(o){t({s:Co(e.s+100*o.left,0,100),v:Co(e.v-100*o.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+kt(e.s)+"%, Brightness "+kt(e.v)+"%"},$e.createElement(dh,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:dd(e)})))}),hh=function(n,e){if(n===e)return!0;for(var t in n)if(n[t]!==e[t])return!1;return!0},a3=function(n,e){return n.toLowerCase()===e.toLowerCase()||hh(fd(n),fd(e))};function lb(n,e,t){var r=cd(t),o=A.useState(function(){return n.toHsva(e)}),l=o[0],a=o[1],u=A.useRef({color:e,hsva:l});A.useEffect(function(){if(!n.equal(e,u.current.color)){var d=n.toHsva(e);u.current={hsva:d,color:e},a(d)}},[e,n]),A.useEffect(function(){var d;hh(l,u.current.hsva)||n.equal(d=n.fromHsva(l),u.current.color)||(u.current={hsva:l,color:d},r(d))},[l,n,r]);var f=A.useCallback(function(d){a(function(h){return Object.assign({},h,d)})},[]);return[l,f]}var c3=typeof window<"u"?A.useLayoutEffect:A.useEffect,u3=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},M1=new Map,ab=function(n){c3(function(){var e=n.current?n.current.ownerDocument:document;if(e!==void 0&&!M1.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,M1.set(e,t);var r=u3();r&&t.setAttribute("nonce",r),e.head.appendChild(t)}},[])},f3=function(n){var e=n.className,t=n.colorModel,r=n.color,o=r===void 0?t.defaultColor:r,l=n.onChange,a=uh(n,["className","colorModel","color","onChange"]),u=A.useRef(null);ab(u);var f=lb(t,o,l),d=f[0],h=f[1],g=Gl(["react-colorful",e]);return $e.createElement("div",To({},a,{ref:u,className:g}),$e.createElement(ob,{hsva:d,onChange:h}),$e.createElement(sb,{hue:d.h,onChange:h,className:"react-colorful__last-control"}))},d3={defaultColor:"000",toHsva:s3,fromHsva:function(n){return o3({h:n.h,s:n.s,v:n.v,a:1})},equal:a3},h3=function(n){return $e.createElement(f3,To({},n,{colorModel:d3}))},p3=function(n){var e=n.className,t=n.hsva,r=n.onChange,o={backgroundImage:"linear-gradient(90deg, "+Of(Object.assign({},t,{a:0}))+", "+Of(Object.assign({},t,{a:1}))+")"},l=Gl(["react-colorful__alpha",e]),a=kt(100*t.a);return $e.createElement("div",{className:l},$e.createElement("div",{className:"react-colorful__alpha-gradient",style:o}),$e.createElement(fh,{onMove:function(u){r({a:u.left})},onKey:function(u){r({a:Co(t.a+u.left)})},"aria-label":"Alpha","aria-valuetext":a+"%","aria-valuenow":a,"aria-valuemin":"0","aria-valuemax":"100"},$e.createElement(dh,{className:"react-colorful__alpha-pointer",left:t.a,color:Of(t)})))},g3=function(n){var e=n.className,t=n.colorModel,r=n.color,o=r===void 0?t.defaultColor:r,l=n.onChange,a=uh(n,["className","colorModel","color","onChange"]),u=A.useRef(null);ab(u);var f=lb(t,o,l),d=f[0],h=f[1],g=Gl(["react-colorful",e]);return $e.createElement("div",To({},a,{ref:u,className:g}),$e.createElement(ob,{hsva:d,onChange:h}),$e.createElement(sb,{hue:d.h,onChange:h}),$e.createElement(p3,{hsva:d,onChange:h,className:"react-colorful__last-control"}))},m3={defaultColor:{r:0,g:0,b:0,a:1},toHsva:ib,fromHsva:rb,equal:hh},v3=function(n){return $e.createElement(g3,To({},n,{colorModel:m3}))};const ph=({value:n,isAllowAlpha:e,height:t,width:r})=>{const o=A.useMemo(()=>ao(n,e),[n]);return v.jsxs("div",{style:{position:"relative"},children:[v.jsx("div",{className:"global-radius",style:{position:"absolute",height:t??"31.6px",width:r??"31.6px",backgroundColor:e?`rgba(${o.r},${o.g},${o.b},${o.a})`:`rgb(${o.r},${o.g},${o.b})`}}),v.jsx("div",{className:"global-radius checkered-background",style:{height:t??"31.6px",width:r??"31.6px"}})]})},j1=({className:n,shape:e,value:t="",onChange:r,initMode:o,onModeChange:l,isAllowAlpha:a=!1})=>{const{globalShape:u,appTheme:f}=A.useContext(Ct),[d,h]=A.useState(t?ao(t,a):{r:0,g:0,b:0,a:1}),[g,p]=A.useState(o??"hex"),[b,y]=A.useState(`${d.r}`),[w,E]=A.useState(!1),[S,R]=A.useState(`${d.g}`),[I,j]=A.useState(!1),[z,J]=A.useState(`${d.g}`),[V,ne]=A.useState(!1),[pe,fe]=A.useState(`${(d.a*100).toFixed(0)}`),[N,D]=A.useState(!1),[O,G]=A.useState(eo(d,a)),[P,H]=A.useState(!1),W=A.useCallback(Rc.debounce($=>{P||G(eo($,a)),w||y(`${$.r}`),I||R(`${$.g}`),V||J(`${$.b}`),N||fe(`${($.a*100).toFixed(0)}`)},10),[G,y,R]),U=A.useCallback(Rc.debounce(($,Z)=>{r&&r(eo($,Z))},300),[r]);return A.useEffect(()=>{W(d),U(d,a)},[JSON.stringify(d)]),A.useEffect(()=>{t&&t!==eo(d,a)&&h(ao(t,a))},[t]),v.jsxs("div",{className:Ze("color-picker",e||u,f.globalTheme,n),children:[v.jsx("div",{style:{padding:"12px"},children:a?v.jsx(v3,{className:"color-picker-box",color:d,onChange:h}):v.jsx(h3,{className:"color-picker-box",color:eo(d,a),onChange:$=>h(ao($,a))})}),v.jsxs("div",{className:"color-input-box",children:[v.jsx("div",{style:{marginTop:"var(--space-25)"},children:v.jsx(ph,{value:O,isAllowAlpha:a})}),v.jsxs("div",{style:{flexGrow:"1"},children:[g==="hex"&&v.jsx(Ye,{className:"hex-input",type:"text",value:O,onChange:$=>{G($)},onFocus:()=>{H(!0)},onBlur:($,Z)=>{H(!1),(a?/^#([0-9A-F]{3}|[0-9A-F]{6}|[0-9A-F]{8})$/i:/^#([0-9A-F]{3}|[0-9A-F]{6})$/i).test(Z)?h(ao(Z,a)):setTimeout(()=>{G(eo(d,a))},600)},config:{isHideClear:!0}}),g==="rgb"&&v.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--space-100)"},children:[v.jsx(Ye,{className:"rgba-input",type:"number-text",value:b,onChange:$=>{y($)},onFocus:()=>{E(!0)},onBlur:($,Z)=>{E(!1);const le=parseInt(Z);le<=255?h(Q=>({...Q,r:le})):setTimeout(()=>{y(`${d.r}`)},600)},config:{prefixElement:"R",isHideClear:!0,maxLength:3}}),v.jsx(Ye,{className:"rgba-input",type:"number-text",value:S,onChange:$=>{R($)},onFocus:()=>{j(!0)},onBlur:($,Z)=>{j(!1);const le=parseInt(Z);le<=255?h(Q=>({...Q,g:le})):setTimeout(()=>{R(`${d.g}`)},600)},config:{prefixElement:"G",isHideClear:!0,maxLength:3}}),v.jsx(Ye,{className:"rgba-input",type:"number-text",value:z,onChange:$=>{J($)},onFocus:()=>{ne(!0)},onBlur:($,Z)=>{ne(!1);const le=parseInt(Z);le<=255?h(Q=>({...Q,b:le})):setTimeout(()=>{J(`${d.b}`)},600)},config:{prefixElement:"B",isHideClear:!0,maxLength:3}}),a&&v.jsx(Ye,{className:"rgba-input",type:"number-text",value:pe,onChange:$=>{fe($)},onFocus:()=>{D(!0)},onBlur:($,Z)=>{D(!1);const le=parseInt(Z);le<=225?h(Q=>({...Q,a:le/100})):setTimeout(()=>{fe(`${(d.a*100).toFixed(0)}`)},600)},config:{prefixElement:"A",sufixElement:"%",isHideClear:!0,maxLength:3}})]})]}),v.jsx("div",{style:{maxWidth:"100%"},children:v.jsx(Ie,{className:"toggle-mode-button",icon:v.jsx(am,{}),txtLabel:"input mode",isShowtooltip:!1,appearance:"subtle",onClick:()=>{p(g==="hex"?"rgb":"hex"),l&&l(g==="hex"?"rgb":"hex")}})})]})]})},b3=({mode:n,setMode:e,className:t,trigger:r,style:o=void 0,shape:l=void 0,isDisabled:a=!1,value:u,config:f,onColorChange:d,onClose:h,onOpen:g,elementHeader:p=void 0,elementFooter:b=void 0,floatingConfig:y=void 0,bottomSheetOpen:w,setBottomSheetOpen:E})=>{const{screenSize:S}=A.useContext(Ct),R=A.useRef(null),I=A.useMemo(()=>r?typeof r=="function"?v.jsx(v.Fragment,{children:$e.cloneElement(r(void 0,void 0,w,R),{ref:R,onClick:()=>{a||E(!w)},disabled:a})}):v.jsx("div",{className:Ze("bottom-sheet-trigger-box"),style:o?.triggerBox,children:$e.cloneElement(r,{ref:R,onClick:()=>{a||E(!w)},disabled:a})}):v.jsx(v.Fragment,{}),[r,a,w]),[j,z]=A.useState(0);return A.useEffect(()=>{E(!1)},[S]),S!=="mobile"||y?.mode?.length===1&&y.mode.includes("dropdown")?v.jsx(ms,{className:Ze("input-color-dropdown",t),trigger:r,elementHeader:p,elementFooter:b,onClose:h,onOpen:g,isDisabled:a,triggerClose:j,floatingConfig:y,shape:l,style:{container:o?.container,triggerBox:o?.triggerBox},children:v.jsx(j1,{className:"drodown-color-picker",initMode:n,isAllowAlpha:f?.isAllowAlpha,value:u,onChange:J=>{d&&d(J)},onModeChange:J=>{e(J)},shape:l})}):v.jsxs(v.Fragment,{children:[I,v.jsx(_o,{isOpen:w,setIsOpen:E,className:Ze("input-color-bottom-sheet",t),elementHeader:p,elementFooter:b,onClose:h,onOpen:g,floatingConfig:{...y,defaultSnapPoint:"FULL"},shape:l,style:{container:o?.container,triggerBox:o?.triggerBox},children:v.jsx(j1,{initMode:n,isAllowAlpha:f?.isAllowAlpha,value:u,onChange:J=>{d&&d(J)},onModeChange:J=>{e(J)},shape:l})})]})},oc=({id:n=void 0,className:e=void 0,style:t=void 0,shape:r=void 0,afterElement:o=void 0,beforeElement:l=void 0,txtPlaceholder:a=void 0,value:u="",isDisabled:f=!1,onChange:d=void 0,error:h=void 0,onValidate:g=void 0,config:p=void 0})=>{const{globalShape:b}=A.useContext(Ct),[y,w]=A.useState(!1),[E,S]=A.useState(!1),[R,I]=A.useState("hex"),j=El(()=>{if(R==="rgb"){const ne=ao(u,p?.isAllowAlpha);return`${p?.isAllowAlpha?"rgba(":"rgb("}${ne.r}, ${ne.g}, ${ne.b}${p?.isAllowAlpha?`, ${ne.a.toFixed(2)})`:")"}`}else return u},[u,R]),[z,J]=A.useState(!1),V=A.useRef(null);return A.useEffect(()=>{!y&&g&&p&&E&&ad(u,g,p)},[u]),v.jsxs("div",{className:Ze("input-color-box",{open:y}),children:[v.jsx(b3,{mode:R,setMode:I,isDisabled:f,trigger:(ne,pe,fe,N)=>(N.current&&(V.current=N.current),v.jsxs("div",{ref:ne,...pe?.()??{},role:"button",tabIndex:f?-1:0,id:n,className:Ze("input-color",r||b,{disabled:f,selected:fe,error:h?.isError},e),style:t?.triggerButton,onKeyDown:D=>{const O=!D.target.classList.contains("clear-button");(D.keyCode===13||D.keyCode===32)&&O&&(D.preventDefault(),V.current?.click())},children:[p?.prefixElement&&v.jsx("div",{className:"prefix-box",children:p?.prefixElement}),v.jsx("div",{className:"value-label-box",children:u?v.jsx("p",{className:"value-label",children:j}):v.jsx("span",{className:"placeholder",children:a})}),p?.sufixElement&&v.jsx("div",{className:"sufix-box",children:p?.sufixElement}),u&&!f&&!p?.isHideClear&&v.jsx(Ie,{className:"clear-button",icon:v.jsx(Bl,{}),txtLabel:"Clear",appearance:"subtle",isShowtooltip:!1,onClick:D=>{i3(D,E,S,p,d,g,V)}}),f?v.jsx("div",{className:"lock-box",children:v.jsx(yd,{className:"global-icon"})}):v.jsx("div",{className:"caret-box",children:fe?v.jsx(lm,{className:"global-icon"}):v.jsx(xd,{className:"global-icon"})})]})),shape:r,style:t?.dropdownMenu,value:u,config:p,onColorChange:ne=>{f||n3(ne,E,S,d,g)},onOpen:()=>{w(!0)},onClose:()=>{w(!1),E&&g&&p&&ad(u,g,p)},bottomSheetOpen:z,setBottomSheetOpen:J,floatingConfig:{isLockScroll:!0,isContainerWidthSameAsTrigger:!1}}),v.jsxs("div",{className:"before-element-box",children:[v.jsx("div",{style:{margin:"var(--space-50)"},onClick:()=>{V.current?.click(),J(!0)},children:v.jsx(ph,{value:u,isAllowAlpha:p?.isAllowAlpha,height:"28px",width:"28px"})}),l]}),v.jsxs("div",{className:"after-element-box",children:[v.jsx(Ie,{icon:v.jsx(am,{className:"global-icon"}),txtLabel:"Chane mode",onClick:()=>{I(ne=>ne==="rgb"?"hex":"rgb")}}),o]}),h&&h.isError&&h.errorMessage&&v.jsxs("div",{className:"error-box",children:[v.jsx(jc,{className:"global-icon"}),v.jsx("p",{children:h.errorMessage})]})]})},x3=(n,e)=>n.map(t=>{const r=e.find(o=>o.id===t);return r?r.txtLabel:t}),y3=(n,e,t,r)=>{let o=[...e];return t&&(o=o.filter(l=>`${l.txtLabel}${l.alias}`.toLowerCase().includes(t.toLowerCase()))),r&&n.length>=r?o.map(l=>n.includes(l.id)?l:{...l,isDisabled:!0}):o},cb=(n,e,t,r)=>{t(n,e,r)},w3=(n,e)=>{e({isError:!1,errorMessage:""},n)},hd=(n,e,t)=>{let r=!1,o="";t.isRequired&&!r&&n.length===0&&(r=!0,o="This field cannot be empty!"),t.maxValue&&!r&&n.length>t.maxValue&&(r=!0,o=`Value selected cannot exceed ${od(`${t.maxValue}`)} items`),t.minValue&&!r&&n.length<t.minValue&&(r=!0,o=`Value must be at least ${od(`${t.minValue}`)} items`),e({isError:r,errorMessage:o},n)},C3=(n,e,t,r,o,l,a,u,f,d)=>{let h=[...t];r==="multiple"?t.includes(e.id)?h=h.filter(g=>g!=e.id):h.push(e.id):h=[e.id],a?.maxValue&&h.length>a.maxValue&&(h=[...t]),u&&cb(h,e,u,n),d&&f?.isError&&w3(h,d),o||l(!0)},ub=(n,e)=>{e&&cb([],void 0,e,n)},E3=(n,e,t,r,o,l,a)=>{n.stopPropagation(),o&&ub(n,o),l&&r&&hd([],l,r),a?.current&&a.current.focus(),e||t(!0)},A3=({id:n=void 0,className:e=void 0,style:t=void 0,shape:r=void 0,afterElement:o=void 0,beforeElement:l=void 0,type:a="single",txtPlaceholder:u=void 0,option:f=[],value:d=[],isDisabled:h=!1,onChange:g=void 0,error:p=void 0,onValidate:b=void 0,config:y=void 0})=>{const{globalShape:w}=A.useContext(Ct),[E,S]=A.useState(!1),[R,I]=A.useState(!1),[j,z]=A.useState(""),J=El(()=>x3(d,f),[d,f]),V=El(()=>y3(d,f,j,y?.maxValue),[f,d,j,y?.maxValue]),ne=A.useRef(null),pe=A.useRef(null),fe=El(()=>f.filter(N=>N.type==="option"),[f]);return A.useEffect(()=>{!E&&b&&y&&R&&hd(d,b,y)},[JSON.stringify(d)]),v.jsxs("div",{className:Ze("input-selection-box",{open:E}),children:[v.jsxs("select",{style:{display:"none"},id:n,value:a==="multiple"?d:d.length>0?d[0]:"",multiple:a==="multiple",disabled:!0,children:[v.jsx("option",{value:""}),fe.filter(N=>N.type==="option").map(N=>v.jsx("option",{value:N.id,children:N.txtLabel},N.id))]}),v.jsx(ch,{className:"input-select-dropdown",isDisabled:h,trigger:(N,D,O,G)=>(G.current&&(ne.current=G.current),v.jsxs("div",{ref:N,...D?.()??{},role:"button",tabIndex:h?-1:0,id:n,className:Ze("input-selection",r||w,{disabled:h,selected:O,error:p?.isError},e),style:t?.triggerButton,onKeyDown:P=>{const H=!P.target.classList.contains("clear-button");(P.keyCode===13||P.keyCode===32)&&H&&(P.preventDefault(),ne.current?.click())},children:[y?.prefixElement&&v.jsx("div",{className:"prefix-box",children:y?.prefixElement}),v.jsx("div",{className:"value-label-box",children:d.length>0?v.jsx("p",{className:"value-label",children:J.join(", ")}):v.jsx("span",{className:"placeholder",children:u})}),y?.sufixElement&&v.jsx("div",{className:"sufix-box",children:y?.sufixElement}),d.length>0&&!h&&!y?.isHideClear&&v.jsx(Ie,{className:"clear-button",icon:v.jsx(Bl,{}),txtLabel:"Clear",appearance:"subtle",isShowtooltip:!1,onClick:P=>{E3(P,R,I,y,g,b,ne)}}),h?v.jsx("div",{className:"lock-box",children:v.jsx(yd,{className:"global-icon"})}):v.jsx("div",{className:"caret-box",children:O?v.jsx(lm,{className:"global-icon"}):v.jsx(xd,{className:"global-icon"})})]})),options:V,optionSelected:d,optionSelectedAppearance:"appear-selected",shape:r,style:t?.dropdownMenu,onClick:(N,D,O)=>{h||C3(O,D,d,a,R,I,y,g,p,b)},onOpen:()=>{S(!0)},onClose:()=>{S(!1),z(""),R&&b&&y&&hd(d,b,y)},elementHeader:v.jsxs(v.Fragment,{children:[y?.isCombobox?v.jsx("div",{className:"search-bar-box",children:v.jsx(Ye,{ref:pe,type:"text",txtPlaceholder:"Search...",value:j,onChange:N=>{z(N)},config:{prefixElement:v.jsx(HA,{className:"global-icon"})}})}):void 0,!y?.isHideClear&&v.jsx("div",{className:"reset-box",children:v.jsx(mt,{shape:"box",className:"reset-button",txtLabel:"Clear Selection",appearance:"subtle",onClick:N=>{g&&ub(N,g)}})})]}),elementFooter:v.jsx(v.Fragment,{children:j&&V.length===0&&f.length>0&&v.jsxs("div",{className:"empty-box",children:[v.jsx(r_,{className:"global-icon",size:32}),v.jsxs("div",{children:[v.jsx("span",{children:"No result."}),v.jsx("span",{children:"Try other search param!"})]})]})}),floatingConfig:{isLockScroll:!0,isContainerWidthSameAsTrigger:!0,isWithCheckmark:a==="multiple",isCloseOnItemClicked:a==="single"}}),l&&v.jsx("div",{className:"before-element-box",children:l}),o&&v.jsx("div",{className:"after-element-box",children:o}),p&&p.isError&&p.errorMessage&&v.jsxs("div",{className:"error-box",children:[v.jsx(jc,{className:"global-icon"}),v.jsx("p",{children:p.errorMessage})]})]})},Bf=({isSelected:n=!1})=>v.jsx("div",{className:Ze("radio-circle-indicator",n?"circle-on":"circle-off",{"full-on":n})}),_3=()=>{const{selectedId:n,triggerRefreshListType:e,setRefreshListType:t,paperValue:r,setPaperValue:o}=ql(),l=A.useRef(null),[a,u]=A.useState(r.root.props),f=(h,g)=>{u(p=>{const b={...p};return b[h]=g,b})},d=h=>{o(g=>{const p={...g};return p[h].props={...a},p})};return A.useEffect(()=>{const h=n||"root";JSON.stringify(a)!==JSON.stringify(r[h].props)&&(console.log("update from properies"),d(h))},[JSON.stringify(a)]),A.useEffect(()=>{u(r[n||"root"].props),l.current&&l.current.scrollIntoView({behavior:"smooth"})},[n,e]),v.jsxs("div",{children:[v.jsx("div",{ref:l}),"url"in a&&v.jsxs("div",{style:{marginBottom:"var(--space-200)"},children:[v.jsx("p",{children:"Url"}),v.jsx(Ye,{type:"text-no-space",txtPlaceholder:"Enter source...",value:a.url,onChange:h=>{f("url",h)},config:{isHideClear:!0}})]}),"textColor"in a&&v.jsxs("div",{style:{marginBottom:"var(--space-200)"},children:[v.jsx("p",{children:"Text color"}),v.jsx(oc,{txtPlaceholder:"Select color...",value:a.textColor,onChange:h=>{f("textColor",h||"#000000")},config:{isHideClear:!0}})]}),"textType"in a&&v.jsxs("div",{style:{marginBottom:"var(--space-200)"},children:[v.jsx("p",{children:"Heading Type"}),v.jsxs("div",{style:{display:"flex"},children:[v.jsx(mt,{txtLabel:"H1",onClick:()=>{f("textType","h1")},iconBefore:v.jsx(Bf,{isSelected:a.textType==="h1"}),isSelected:a.textType==="h1"}),v.jsx(mt,{txtLabel:"H2",onClick:()=>{f("textType","h2")},iconBefore:v.jsx(Bf,{isSelected:a.textType==="h2"}),isSelected:a.textType==="h2"}),v.jsx(mt,{txtLabel:"H3",onClick:()=>{f("textType","h3")},iconBefore:v.jsx(Bf,{isSelected:a.textType==="h3"}),isSelected:a.textType==="h3"})]})]}),"fontSize"in a&&v.jsxs("div",{style:{marginBottom:"var(--space-200)"},children:[v.jsx("p",{children:"Text size"}),v.jsx(Ye,{type:"number",txtPlaceholder:"Enter value...",value:a.fontSize,onChange:h=>{f("fontSize",h)},config:{isHideClear:!0,sufixElement:"px"}})]}),"h1Size"in a&&v.jsxs("div",{style:{marginBottom:"var(--space-200)"},children:[v.jsx("p",{children:"Global Heading 1 size"}),v.jsx(Ye,{type:"number",txtPlaceholder:"Enter value...",value:a.h1Size,onChange:h=>{f("h1Size",h)},config:{isHideClear:!0,sufixElement:"px"}})]}),"h2Size"in a&&v.jsxs("div",{style:{marginBottom:"var(--space-200)"},children:[v.jsx("p",{children:"Global Heding 2 size"}),v.jsx(Ye,{type:"number",txtPlaceholder:"Enter value...",value:a.h2Size,onChange:h=>{f("h2Size",h)},config:{isHideClear:!0,sufixElement:"px"}})]}),"h3Size"in a&&v.jsxs("div",{style:{marginBottom:"var(--space-200)"},children:[v.jsx("p",{children:"Global Heding 3 size"}),v.jsx(Ye,{type:"number",txtPlaceholder:"Enter value...",value:a.h3Size,onChange:h=>{f("h3Size",h)},config:{isHideClear:!0,sufixElement:"px"}})]}),"fontFamily"in a&&v.jsxs("div",{style:{marginBottom:"var(--space-200)"},children:[v.jsx("p",{children:n==="root"?"Global font family":"Font family"}),v.jsx(A3,{type:"single",option:n==="root"?Tg:_g,value:a.fontFamily?[a.fontFamily]:[],onChange:h=>{f("fontFamily",h[0]||(n==="root"?Tg[0].id:_g[0].id))},config:{isHideClear:!0}})]}),"listType"in a&&v.jsxs("div",{style:{marginBottom:"var(--space-200)"},children:[v.jsx("p",{children:"Button Width"}),v.jsxs("div",{style:{display:"flex"},children:[v.jsx(mt,{txtLabel:"bullet",onClick:()=>{if(a.listType!=="bullet"){f("listType","bullet");const h=JSON.stringify(a.textDelta).replaceAll('"list":"ordered"','"list":"bullet"');f("textDelta",JSON.parse(h)),setTimeout(()=>{t(1)},100),setTimeout(()=>{t(0)},500)}},isSelected:a.listType==="bullet"}),v.jsx(mt,{txtLabel:"ordered",onClick:()=>{if(a.listType!=="ordered"){f("listType","ordered");const h=JSON.stringify(a.textDelta).replaceAll('"list":"bullet"','"list":"ordered"');f("textDelta",JSON.parse(h)),setTimeout(()=>{t(1)},100),setTimeout(()=>{t(0)},500)}},isSelected:a.listType==="ordered"})]})]}),"imageSrcUrl"in a&&v.jsxs("div",{style:{marginBottom:"var(--space-200)"},children:[v.jsx("p",{children:"Image url"}),v.jsx(Ye,{type:"text-no-space",txtPlaceholder:"Enter source...",value:a.imageSrcUrl,onChange:h=>{f("imageSrcUrl",h)},config:{isHideClear:!0}})]}),"buttonColor"in a&&v.jsxs("div",{style:{marginBottom:"var(--space-200)"},children:[v.jsx("p",{children:"Button color"}),v.jsx(oc,{txtPlaceholder:"Select color...",value:a.buttonColor,onChange:h=>{f("buttonColor",h||"#000000")},config:{isHideClear:!0}})]}),"buttonWidth"in a&&v.jsxs("div",{style:{marginBottom:"var(--space-200)"},children:[v.jsx("p",{children:"Button Width"}),v.jsxs("div",{style:{display:"flex"},children:[v.jsx(mt,{txtLabel:"auto",onClick:()=>{f("buttonWidth","auto")},isSelected:a.buttonWidth==="auto"}),v.jsx(mt,{txtLabel:"full",onClick:()=>{f("buttonWidth","full")},isSelected:a.buttonWidth==="full"})]})]}),"borderRdius"in a&&v.jsxs("div",{style:{marginBottom:"var(--space-200)"},children:[v.jsx("p",{children:"Border raidus"}),v.jsx(Ye,{type:"number",txtPlaceholder:"Enter value...",value:a.borderRdius,onChange:h=>{f("borderRdius",h)},onBlur:(h,g)=>{!g&&f("borderRdius",g||"0")},config:{isHideClear:!0,sufixElement:"px"}})]}),"contentPaddingTop"in a&&v.jsxs("div",{style:{marginBottom:"var(--space-200)"},children:[v.jsx("p",{children:"Content Padding top"}),v.jsx(Ye,{type:"number",txtPlaceholder:"Enter value...",value:a.contentPaddingTop,onChange:h=>{f("contentPaddingTop",h)},onBlur:(h,g)=>{!g&&f("contentPaddingTop",g||"0")},config:{isHideClear:!0,sufixElement:"px"}})]}),"contentPaddingBottom"in a&&v.jsxs("div",{style:{marginBottom:"var(--space-200)"},children:[v.jsx("p",{children:"Content Padding Bottom"}),v.jsx(Ye,{type:"number",txtPlaceholder:"Enter value...",value:a.contentPaddingBottom,onChange:h=>{f("contentPaddingBottom",h)},onBlur:(h,g)=>{!g&&f("contentPaddingBottom",g||"0")},config:{isHideClear:!0,sufixElement:"px"}})]}),"contentPaddingRight"in a&&v.jsxs("div",{style:{marginBottom:"var(--space-200)"},children:[v.jsx("p",{children:"Content Padding Right"}),v.jsx(Ye,{type:"number",txtPlaceholder:"Enter value...",value:a.contentPaddingRight,onChange:h=>{f("contentPaddingRight",h)},onBlur:(h,g)=>{!g&&f("contentPaddingRight",g||"0")},config:{isHideClear:!0,sufixElement:"px"}})]}),"contentPaddingLeft"in a&&v.jsxs("div",{style:{marginBottom:"var(--space-200)"},children:[v.jsx("p",{children:"Content Padding Left"}),v.jsx(Ye,{type:"number",txtPlaceholder:"Enter value...",value:a.contentPaddingLeft,onChange:h=>{f("contentPaddingLeft",h)},onBlur:(h,g)=>{!g&&f("contentPaddingLeft",g||"0")},config:{isHideClear:!0,sufixElement:"px"}})]}),"height"in a&&v.jsxs("div",{style:{marginBottom:"var(--space-200)"},children:[v.jsx("p",{children:"Height"}),v.jsx(Ye,{type:"number",txtPlaceholder:"Enter value...",value:a.height,onChange:h=>{f("height",h)},config:{isHideClear:!0,sufixElement:"px"}})]}),"width"in a&&v.jsxs("div",{style:{marginBottom:"var(--space-200)"},children:[v.jsx("p",{children:"Width"}),v.jsx(Ye,{type:"number",txtPlaceholder:"Enter value...",value:a.width,onChange:h=>{f("width",h)},config:{isHideClear:!0,sufixElement:"px"}})]}),"textAlign"in a&&v.jsxs("div",{style:{marginBottom:"var(--space-200)"},children:[v.jsx("p",{children:"Text align"}),v.jsxs("div",{style:{display:"flex"},children:[v.jsx(Ie,{icon:v.jsx(pm,{className:"global-icon"}),txtLabel:"left",onClick:()=>{f("textAlign","left")},isSelected:a.textAlign==="left"}),v.jsx(Ie,{icon:v.jsx(dm,{className:"global-icon"}),txtLabel:"center",onClick:()=>{f("textAlign","center")},isSelected:a.textAlign==="center"}),v.jsx(Ie,{icon:v.jsx(gm,{className:"global-icon"}),txtLabel:"right",onClick:()=>{f("textAlign","right")},isSelected:a.textAlign==="right"}),v.jsx(Ie,{icon:v.jsx(hm,{className:"global-icon"}),txtLabel:"justify",onClick:()=>{f("textAlign","justify")},isSelected:a.textAlign==="justify"})]})]}),"backdropColor"in a&&v.jsxs("div",{style:{marginBottom:"var(--space-200)"},children:[v.jsx("p",{children:"Backdrop background"}),v.jsx(oc,{txtPlaceholder:"Select color...",value:a.backdropColor,onChange:h=>{f("backdropColor",h||"#FFFFFF")},config:{isHideClear:!0}})]}),"backgroundColor"in a&&v.jsxs("div",{style:{marginBottom:"var(--space-200)"},children:[v.jsx("p",{children:n==="root"?"Paper background":"Background"}),v.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[a.backgroundColor?v.jsx("div",{style:{flexGrow:"1"},children:v.jsx(oc,{txtPlaceholder:"Select color...",value:a.backgroundColor,onChange:h=>{f("backgroundColor",h||"#FFFFFF")},config:{isHideClear:!0}})}):v.jsx("div",{style:{marginLeft:"var(--space-50)"},children:v.jsx(ph,{value:"#FFFFFF00",isAllowAlpha:!0,height:"28px",width:"28px"})}),v.jsx(Ie,{icon:a.backgroundColor?v.jsx(Bl,{className:"global-icon"}):v.jsx(fm,{className:"global-icon"}),txtLabel:a.backgroundColor?"Remove background color":"Add color",onClick:()=>{a.backgroundColor?f("backgroundColor",void 0):f("backgroundColor","#FFFFFF")},isShowtooltip:!1})]})]}),"alignment"in a&&v.jsxs("div",{style:{marginBottom:"var(--space-200)"},children:[v.jsx("p",{children:"Alignment"}),v.jsxs("div",{style:{display:"flex"},children:[v.jsx(Ie,{icon:v.jsx(TA,{className:"global-icon"}),txtLabel:"start",onClick:()=>{f("alignment","start")},isSelected:a.alignment==="start"}),v.jsx(Ie,{icon:v.jsx(_A,{className:"global-icon"}),txtLabel:"center",onClick:()=>{f("alignment","center")},isSelected:a.alignment==="center"}),v.jsx(Ie,{icon:v.jsx(SA,{className:"global-icon"}),txtLabel:"end",onClick:()=>{f("alignment","end")},isSelected:a.alignment==="end"})]})]}),"paddingTop"in a&&v.jsxs("div",{style:{marginBottom:"var(--space-200)"},children:[v.jsx("p",{children:"Padding top"}),v.jsx(Ye,{type:"number",txtPlaceholder:"Enter value...",value:a.paddingTop,onChange:h=>{f("paddingTop",h)},onBlur:(h,g)=>{!g&&f("paddingTop",g||"0")},config:{isHideClear:!0,sufixElement:"px"}})]}),"paddingBottom"in a&&v.jsxs("div",{style:{marginBottom:"var(--space-200)"},children:[v.jsx("p",{children:"Padding Bottom"}),v.jsx(Ye,{type:"number",txtPlaceholder:"Enter value...",value:a.paddingBottom,onChange:h=>{f("paddingBottom",h)},onBlur:(h,g)=>{!g&&f("paddingBottom",g||"0")},config:{isHideClear:!0,sufixElement:"px"}})]}),"paddingRight"in a&&v.jsxs("div",{style:{marginBottom:"var(--space-200)"},children:[v.jsx("p",{children:"Padding Right"}),v.jsx(Ye,{type:"number",txtPlaceholder:"Enter value...",value:a.paddingRight,onChange:h=>{f("paddingRight",h)},onBlur:(h,g)=>{!g&&f("paddingRight",g||"0")},config:{isHideClear:!0,sufixElement:"px"}})]}),"paddingLeft"in a&&v.jsxs("div",{style:{marginBottom:"var(--space-200)"},children:[v.jsx("p",{children:"Padding Left"}),v.jsx(Ye,{type:"number",txtPlaceholder:"Enter value...",value:a.paddingLeft,onChange:h=>{f("paddingLeft",h)},onBlur:(h,g)=>{!g&&f("paddingLeft",g||"0")},config:{isHideClear:!0,sufixElement:"px"}})]}),v.jsx("p",{style:{wordWrap:"break-word"},children:JSON.stringify(a)})]})},M3=()=>{const[n,e]=A.useState("root"),[t,r]=A.useState({root:{type:"main",props:{backdropColor:"#FFFFFF",backgroundColor:"#FFFFFF",fontFamily:"aria",h1Size:"32",h2Size:"24",h3Size:"20"},childIds:[]}}),[o,l]=A.useState(0);function a(y,w,E){const S=y.indexOf(E);return y.splice(S===-1?y.length:S,0,w),y}function u(y,w,E){const S=y.indexOf(E),R=S===-1?y.length:S+1;return y.splice(R,0,w),y}function f(y,w){const E=y.indexOf(w);return E>0&&([y[E-1],y[E]]=[y[E],y[E-1]]),y}function d(y,w){const E=y.indexOf(w);return E!==-1&&E<y.length-1&&([y[E],y[E+1]]=[y[E+1],y[E]]),y}const h=(y,w,E,S)=>{const R={...t},I=`block_${new Date().getTime()}`,j={type:y,props:{backgroundColor:void 0,paddingTop:"16",paddingRight:"24",paddingBottom:"16",paddingLeft:"24"},childIds:[]};switch(y){case"heading":j.props.textDelta={ops:[{insert:`New Title Block
`}]},j.props.textColor="#000000",j.props.textType="h1",j.props.fontFamily="global",j.props.textAlign="left";break;case"text":j.props.textDelta={ops:[{insert:`New Text Block
`}]},j.props.textColor="#000000",j.props.fontSize="14",j.props.fontFamily="global",j.props.textAlign="left";break;case"list":j.props.textDelta={ops:[{insert:"New List"},{attributes:{list:"bullet"},insert:`
`}]},j.props.listType="bullet",j.props.textColor="#000000",j.props.fontSize="14",j.props.fontFamily="global";break;case"image":j.props.imageSrcUrl="",j.props.imageHref="",j.props.height="",j.props.width="",j.props.alignment="center",j.props.borderRdius="0";break;case"button":j.props.textDelta={ops:[{attributes:{bold:!0},insert:"Button"},{insert:`
`}]},j.props.fontSize="14",j.props.url="",j.props.alignment="center",j.props.buttonWidth="auto",j.props.buttonColor="#0F147A",j.props.textColor="#FFFFFF",j.props.borderRdius="4",j.props.contentPaddingTop="12",j.props.contentPaddingBottom="12",j.props.contentPaddingLeft="24",j.props.contentPaddingRight="24";break}S?R[E].childIds=a(R[E].childIds,I,w):R[E].childIds=u(R[E].childIds,I,w),R[I]=j,r(R)},g=(y,w)=>{e("root");const E={...t};delete E[y],E[w].childIds=E[w].childIds.filter(S=>S!==y),r(E)},p=(y,w)=>{const E={...t};E[w].childIds=f(E[w].childIds,y),r(E)},b=(y,w)=>{const E={...t};E[w].childIds=d(E[w].childIds,y),r(E)};return v.jsx(Km.Provider,{value:{selectedId:n,setSelectedId:e,paperValue:t,setPaperValue:r,addNewBlock:h,removeBlock:g,moveUpBlock:p,moveDownBlock:b,triggerRefreshListType:o,setRefreshListType:l},children:v.jsxs("div",{style:{height:"100dvh",maxHeight:"100dvh",display:"grid",gridTemplateRows:"max-content 1fr"},children:[v.jsx("div",{children:v.jsx("div",{style:{backgroundColor:"var(--clr-orange-200)",padding:"var(--space-100) var(--space-200)"},children:v.jsx("p",{style:{textAlign:"center"},children:v.jsx("strong",{children:"This project is still in development 🚧"})})})}),v.jsxs(vA,{direction:"horizontal",children:[v.jsx(S0,{defaultPanelSize:75,minContentWidth:"720px",children:v.jsx(v.Fragment,{children:v.jsx(t3,{})})}),v.jsx(i_,{direction:"horizontal"}),v.jsx(S0,{defaultPanelSize:30,minPanelSize:30,maxPanelSize:50,minContentWidth:"320px",children:v.jsx("div",{className:"properties-panel-container",children:v.jsx(_3,{})})})]})]})})};export{M3 as default};
