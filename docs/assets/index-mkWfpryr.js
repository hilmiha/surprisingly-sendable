import{r as C,R as rb,j as O,a as tt,G as Lt,b as F3,c as je,S as VT,g as WT}from"./index-CIevvGea.js";const FT=C.createContext(null),xn=()=>{const n=C.useContext(FT);if(!n)throw new Error("useDocModule must be used inside <CanvasModuleContext>");return n},og=C.createContext(null);og.displayName="PanelGroupContext";const zt={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},ib=10,yl=C.useLayoutEffect,Wy=rb.useId,Y3=typeof Wy=="function"?Wy:()=>null;let H3=0;function sb(n=null){const e=Y3(),t=C.useRef(n||e||null);return t.current===null&&(t.current=""+H3++),n??t.current}function YT({children:n,className:e="",collapsedSize:t,collapsible:r,defaultSize:i,forwardedRef:s,id:o,maxSize:l,minSize:a,onCollapse:u,onExpand:h,onResize:d,order:p,style:g,tagName:b="div",...x}){const v=C.useContext(og);if(v===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:w,expandPanel:k,getPanelSize:$,getPanelStyle:B,groupId:N,isPanelCollapsed:z,reevaluatePanelConstraints:Z,registerPanel:H,resizePanel:te,unregisterPanel:K}=v,R=sb(o),E=C.useRef({callbacks:{onCollapse:u,onExpand:h,onResize:d},constraints:{collapsedSize:t,collapsible:r,defaultSize:i,maxSize:l,minSize:a},id:R,idIsFromProps:o!==void 0,order:p});C.useRef({didLogMissingDefaultSizeWarning:!1}),yl(()=>{const{callbacks:Q,constraints:I}=E.current,j={...I};E.current.id=R,E.current.idIsFromProps=o!==void 0,E.current.order=p,Q.onCollapse=u,Q.onExpand=h,Q.onResize=d,I.collapsedSize=t,I.collapsible=r,I.defaultSize=i,I.maxSize=l,I.minSize=a,(j.collapsedSize!==I.collapsedSize||j.collapsible!==I.collapsible||j.maxSize!==I.maxSize||j.minSize!==I.minSize)&&Z(E.current,j)}),yl(()=>{const Q=E.current;return H(Q),()=>{K(Q)}},[p,R,H,K]),C.useImperativeHandle(s,()=>({collapse:()=>{w(E.current)},expand:Q=>{k(E.current,Q)},getId(){return R},getSize(){return $(E.current)},isCollapsed(){return z(E.current)},isExpanded(){return!z(E.current)},resize:Q=>{te(E.current,Q)}}),[w,k,$,z,R,te]);const P=B(E.current,i);return C.createElement(b,{...x,children:n,className:e,id:R,style:{...P,...g},[zt.groupId]:N,[zt.panel]:"",[zt.panelCollapsible]:r||void 0,[zt.panelId]:R,[zt.panelSize]:parseFloat(""+P.flexGrow).toFixed(1)})}const QO=C.forwardRef((n,e)=>C.createElement(YT,{...n,forwardedRef:e}));YT.displayName="Panel";QO.displayName="forwardRef(Panel)";let $O=null,qd=-1,uo=null;function G3(n,e,t){const r=(e&JT)!==0,i=(e&eC)!==0,s=(e&tC)!==0,o=(e&nC)!==0;if(e){if(r)return s?"se-resize":o?"ne-resize":"e-resize";if(i)return s?"sw-resize":o?"nw-resize":"w-resize";if(s)return"s-resize";if(o)return"n-resize"}switch(n){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function U3(){uo!==null&&(document.head.removeChild(uo),$O=null,uo=null,qd=-1)}function Ym(n,e,t){var r,i;const s=G3(n,e);if($O!==s){if($O=s,uo===null&&(uo=document.createElement("style"),document.head.appendChild(uo)),qd>=0){var o;(o=uo.sheet)===null||o===void 0||o.removeRule(qd)}qd=(r=(i=uo.sheet)===null||i===void 0?void 0:i.insertRule(`*{cursor: ${s} !important;}`))!==null&&r!==void 0?r:-1}}function HT(n){return n.type==="keydown"}function GT(n){return n.type.startsWith("pointer")}function UT(n){return n.type.startsWith("mouse")}function lg(n){if(GT(n)){if(n.isPrimary)return{x:n.clientX,y:n.clientY}}else if(UT(n))return{x:n.clientX,y:n.clientY};return{x:1/0,y:1/0}}function K3(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function J3(n,e,t){return n.x<e.x+e.width&&n.x+n.width>e.x&&n.y<e.y+e.height&&n.y+n.height>e.y}function e6(n,e){if(n===e)throw new Error("Cannot compare node with itself");const t={a:Hy(n),b:Hy(e)};let r;for(;t.a.at(-1)===t.b.at(-1);)n=t.a.pop(),e=t.b.pop(),r=n;Ge(r,"Stacking order can only be calculated for elements with a common ancestor");const i={a:Yy(Fy(t.a)),b:Yy(Fy(t.b))};if(i.a===i.b){const s=r.childNodes,o={a:t.a.at(-1),b:t.b.at(-1)};let l=s.length;for(;l--;){const a=s[l];if(a===o.a)return 1;if(a===o.b)return-1}}return Math.sign(i.a-i.b)}const t6=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function n6(n){var e;const t=getComputedStyle((e=KT(n))!==null&&e!==void 0?e:n).display;return t==="flex"||t==="inline-flex"}function r6(n){const e=getComputedStyle(n);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||n6(n))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||t6.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function Fy(n){let e=n.length;for(;e--;){const t=n[e];if(Ge(t,"Missing node"),r6(t))return t}return null}function Yy(n){return n&&Number(getComputedStyle(n).zIndex)||0}function Hy(n){const e=[];for(;n;)e.push(n),n=KT(n);return e}function KT(n){const{parentNode:e}=n;return e&&e instanceof ShadowRoot?e.host:e}const JT=1,eC=2,tC=4,nC=8,i6=K3()==="coarse";let ui=[],Ya=!1,ho=new Map,ag=new Map;const sh=new Set;function s6(n,e,t,r,i){var s;const{ownerDocument:o}=e,l={direction:t,element:e,hitAreaMargins:r,setResizeHandlerState:i},a=(s=ho.get(o))!==null&&s!==void 0?s:0;return ho.set(o,a+1),sh.add(l),lp(),function(){var h;ag.delete(n),sh.delete(l);const d=(h=ho.get(o))!==null&&h!==void 0?h:1;if(ho.set(o,d-1),lp(),d===1&&ho.delete(o),ui.includes(l)){const p=ui.indexOf(l);p>=0&&ui.splice(p,1),cg(),i("up",!0,null)}}}function o6(n){const{target:e}=n,{x:t,y:r}=lg(n);Ya=!0,ob({target:e,x:t,y:r}),lp(),ui.length>0&&(ap("down",n),cg(),n.preventDefault(),rC(e)||n.stopImmediatePropagation())}function Hm(n){const{x:e,y:t}=lg(n);if(Ya&&n.type!=="pointerleave"&&n.buttons===0&&(Ya=!1,ap("up",n)),!Ya){const{target:r}=n;ob({target:r,x:e,y:t})}ap("move",n),cg(),ui.length>0&&n.preventDefault()}function Gm(n){const{target:e}=n,{x:t,y:r}=lg(n);ag.clear(),Ya=!1,ui.length>0&&(n.preventDefault(),rC(e)||n.stopImmediatePropagation()),ap("up",n),ob({target:e,x:t,y:r}),cg(),lp()}function rC(n){let e=n;for(;e;){if(e.hasAttribute(zt.resizeHandle))return!0;e=e.parentElement}return!1}function ob({target:n,x:e,y:t}){ui.splice(0);let r=null;(n instanceof HTMLElement||n instanceof SVGElement)&&(r=n),sh.forEach(i=>{const{element:s,hitAreaMargins:o}=i,l=s.getBoundingClientRect(),{bottom:a,left:u,right:h,top:d}=l,p=i6?o.coarse:o.fine;if(e>=u-p&&e<=h+p&&t>=d-p&&t<=a+p){if(r!==null&&document.contains(r)&&s!==r&&!s.contains(r)&&!r.contains(s)&&e6(r,s)>0){let b=r,x=!1;for(;b&&!b.contains(s);){if(J3(b.getBoundingClientRect(),l)){x=!0;break}b=b.parentElement}if(x)return}ui.push(i)}})}function Um(n,e){ag.set(n,e)}function cg(){let n=!1,e=!1;ui.forEach(r=>{const{direction:i}=r;i==="horizontal"?n=!0:e=!0});let t=0;ag.forEach(r=>{t|=r}),n&&e?Ym("intersection",t):n?Ym("horizontal",t):e?Ym("vertical",t):U3()}let Km;function lp(){var n;(n=Km)===null||n===void 0||n.abort(),Km=new AbortController;const e={capture:!0,signal:Km.signal};sh.size&&(Ya?(ui.length>0&&ho.forEach((t,r)=>{const{body:i}=r;t>0&&(i.addEventListener("contextmenu",Gm,e),i.addEventListener("pointerleave",Hm,e),i.addEventListener("pointermove",Hm,e))}),ho.forEach((t,r)=>{const{body:i}=r;i.addEventListener("pointerup",Gm,e),i.addEventListener("pointercancel",Gm,e)})):ho.forEach((t,r)=>{const{body:i}=r;t>0&&(i.addEventListener("pointerdown",o6,e),i.addEventListener("pointermove",Hm,e))}))}function ap(n,e){sh.forEach(t=>{const{setResizeHandlerState:r}=t,i=ui.includes(t);r(n,i,e)})}function l6(){const[n,e]=C.useState(0);return C.useCallback(()=>e(t=>t+1),[])}function Ge(n,e){if(!n)throw console.error(e),Error(e)}function wl(n,e,t=ib){return n.toFixed(t)===e.toFixed(t)?0:n>e?1:-1}function ys(n,e,t=ib){return wl(n,e,t)===0}function mr(n,e,t){return wl(n,e,t)===0}function a6(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){const i=n[r],s=e[r];if(!mr(i,s,t))return!1}return!0}function za({panelConstraints:n,panelIndex:e,size:t}){const r=n[e];Ge(r!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:i=0,collapsible:s,maxSize:o=100,minSize:l=0}=r;if(wl(t,l)<0)if(s){const a=(i+l)/2;wl(t,a)<0?t=i:t=l}else t=l;return t=Math.min(o,t),t=parseFloat(t.toFixed(ib)),t}function Bu({delta:n,initialLayout:e,panelConstraints:t,pivotIndices:r,prevLayout:i,trigger:s}){if(mr(n,0))return e;const o=[...e],[l,a]=r;Ge(l!=null,"Invalid first pivot index"),Ge(a!=null,"Invalid second pivot index");let u=0;if(s==="keyboard"){{const d=n<0?a:l,p=t[d];Ge(p,`Panel constraints not found for index ${d}`);const{collapsedSize:g=0,collapsible:b,minSize:x=0}=p;if(b){const v=e[d];if(Ge(v!=null,`Previous layout not found for panel index ${d}`),mr(v,g)){const w=x-v;wl(w,Math.abs(n))>0&&(n=n<0?0-w:w)}}}{const d=n<0?l:a,p=t[d];Ge(p,`No panel constraints found for index ${d}`);const{collapsedSize:g=0,collapsible:b,minSize:x=0}=p;if(b){const v=e[d];if(Ge(v!=null,`Previous layout not found for panel index ${d}`),mr(v,x)){const w=v-g;wl(w,Math.abs(n))>0&&(n=n<0?0-w:w)}}}}{const d=n<0?1:-1;let p=n<0?a:l,g=0;for(;;){const x=e[p];Ge(x!=null,`Previous layout not found for panel index ${p}`);const w=za({panelConstraints:t,panelIndex:p,size:100})-x;if(g+=w,p+=d,p<0||p>=t.length)break}const b=Math.min(Math.abs(n),Math.abs(g));n=n<0?0-b:b}{let p=n<0?l:a;for(;p>=0&&p<t.length;){const g=Math.abs(n)-Math.abs(u),b=e[p];Ge(b!=null,`Previous layout not found for panel index ${p}`);const x=b-g,v=za({panelConstraints:t,panelIndex:p,size:x});if(!mr(b,v)&&(u+=b-v,o[p]=v,u.toFixed(3).localeCompare(Math.abs(n).toFixed(3),void 0,{numeric:!0})>=0))break;n<0?p--:p++}}if(a6(i,o))return i;{const d=n<0?a:l,p=e[d];Ge(p!=null,`Previous layout not found for panel index ${d}`);const g=p+u,b=za({panelConstraints:t,panelIndex:d,size:g});if(o[d]=b,!mr(b,g)){let x=g-b,w=n<0?a:l;for(;w>=0&&w<t.length;){const k=o[w];Ge(k!=null,`Previous layout not found for panel index ${w}`);const $=k+x,B=za({panelConstraints:t,panelIndex:w,size:$});if(mr(k,B)||(x-=B-k,o[w]=B),mr(x,0))break;n>0?w--:w++}}}const h=o.reduce((d,p)=>p+d,0);return mr(h,100)?o:i}function c6({layout:n,panelsArray:e,pivotIndices:t}){let r=0,i=100,s=0,o=0;const l=t[0];Ge(l!=null,"No pivot index found"),e.forEach((d,p)=>{const{constraints:g}=d,{maxSize:b=100,minSize:x=0}=g;p===l?(r=x,i=b):(s+=x,o+=b)});const a=Math.min(i,100-s),u=Math.max(r,100-o),h=n[l];return{valueMax:a,valueMin:u,valueNow:h}}function oh(n,e=document){return Array.from(e.querySelectorAll(`[${zt.resizeHandleId}][data-panel-group-id="${n}"]`))}function iC(n,e,t=document){const i=oh(n,t).findIndex(s=>s.getAttribute(zt.resizeHandleId)===e);return i??null}function sC(n,e,t){const r=iC(n,e,t);return r!=null?[r,r+1]:[-1,-1]}function u6(n){return n instanceof HTMLElement?!0:typeof n=="object"&&n!==null&&"tagName"in n&&"getAttribute"in n}function oC(n,e=document){if(u6(e)&&e.dataset.panelGroupId==n)return e;const t=e.querySelector(`[data-panel-group][data-panel-group-id="${n}"]`);return t||null}function ug(n,e=document){const t=e.querySelector(`[${zt.resizeHandleId}="${n}"]`);return t||null}function h6(n,e,t,r=document){var i,s,o,l;const a=ug(e,r),u=oh(n,r),h=a?u.indexOf(a):-1,d=(i=(s=t[h])===null||s===void 0?void 0:s.id)!==null&&i!==void 0?i:null,p=(o=(l=t[h+1])===null||l===void 0?void 0:l.id)!==null&&o!==void 0?o:null;return[d,p]}function f6({committedValuesRef:n,eagerValuesRef:e,groupId:t,layout:r,panelDataArray:i,panelGroupElement:s,setLayout:o}){C.useRef({didWarnAboutMissingResizeHandle:!1}),yl(()=>{if(!s)return;const l=oh(t,s);for(let a=0;a<i.length-1;a++){const{valueMax:u,valueMin:h,valueNow:d}=c6({layout:r,panelsArray:i,pivotIndices:[a,a+1]}),p=l[a];if(p!=null){const g=i[a];Ge(g,`No panel data found for index "${a}"`),p.setAttribute("aria-controls",g.id),p.setAttribute("aria-valuemax",""+Math.round(u)),p.setAttribute("aria-valuemin",""+Math.round(h)),p.setAttribute("aria-valuenow",d!=null?""+Math.round(d):"")}}return()=>{l.forEach((a,u)=>{a.removeAttribute("aria-controls"),a.removeAttribute("aria-valuemax"),a.removeAttribute("aria-valuemin"),a.removeAttribute("aria-valuenow")})}},[t,r,i,s]),C.useEffect(()=>{if(!s)return;const l=e.current;Ge(l,"Eager values not found");const{panelDataArray:a}=l,u=oC(t,s);Ge(u!=null,`No group found for id "${t}"`);const h=oh(t,s);Ge(h,`No resize handles found for group id "${t}"`);const d=h.map(p=>{const g=p.getAttribute(zt.resizeHandleId);Ge(g,"Resize handle element has no handle id attribute");const[b,x]=h6(t,g,a,s);if(b==null||x==null)return()=>{};const v=w=>{if(!w.defaultPrevented)switch(w.key){case"Enter":{w.preventDefault();const k=a.findIndex($=>$.id===b);if(k>=0){const $=a[k];Ge($,`No panel data found for index ${k}`);const B=r[k],{collapsedSize:N=0,collapsible:z,minSize:Z=0}=$.constraints;if(B!=null&&z){const H=Bu({delta:mr(B,N)?Z-N:N-B,initialLayout:r,panelConstraints:a.map(te=>te.constraints),pivotIndices:sC(t,g,s),prevLayout:r,trigger:"keyboard"});r!==H&&o(H)}}break}}};return p.addEventListener("keydown",v),()=>{p.removeEventListener("keydown",v)}});return()=>{d.forEach(p=>p())}},[s,n,e,t,r,i,o])}function Gy(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function lC(n,e){const t=n==="horizontal",{x:r,y:i}=lg(e);return t?r:i}function d6(n,e,t,r,i){const s=t==="horizontal",o=ug(e,i);Ge(o,`No resize handle element found for id "${e}"`);const l=o.getAttribute(zt.groupId);Ge(l,"Resize handle element has no group id attribute");let{initialCursorPosition:a}=r;const u=lC(t,n),h=oC(l,i);Ge(h,`No group element found for id "${l}"`);const d=h.getBoundingClientRect(),p=s?d.width:d.height;return(u-a)/p*100}function p6(n,e,t,r,i,s){if(HT(n)){const o=t==="horizontal";let l=0;n.shiftKey?l=100:i!=null?l=i:l=10;let a=0;switch(n.key){case"ArrowDown":a=o?0:l;break;case"ArrowLeft":a=o?-l:0;break;case"ArrowRight":a=o?l:0;break;case"ArrowUp":a=o?0:-l;break;case"End":a=100;break;case"Home":a=-100;break}return a}else return r==null?0:d6(n,e,t,r,s)}function g6({panelDataArray:n}){const e=Array(n.length),t=n.map(s=>s.constraints);let r=0,i=100;for(let s=0;s<n.length;s++){const o=t[s];Ge(o,`Panel constraints not found for index ${s}`);const{defaultSize:l}=o;l!=null&&(r++,e[s]=l,i-=l)}for(let s=0;s<n.length;s++){const o=t[s];Ge(o,`Panel constraints not found for index ${s}`);const{defaultSize:l}=o;if(l!=null)continue;const a=n.length-r,u=i/a;r++,e[s]=u,i-=u}return e}function ya(n,e,t){e.forEach((r,i)=>{const s=n[i];Ge(s,`Panel data not found for index ${i}`);const{callbacks:o,constraints:l,id:a}=s,{collapsedSize:u=0,collapsible:h}=l,d=t[a];if(d==null||r!==d){t[a]=r;const{onCollapse:p,onExpand:g,onResize:b}=o;b&&b(r,d),h&&(p||g)&&(g&&(d==null||ys(d,u))&&!ys(r,u)&&g(),p&&(d==null||!ys(d,u))&&ys(r,u)&&p())}})}function Wf(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t])return!1;return!0}function m6({defaultSize:n,dragState:e,layout:t,panelData:r,panelIndex:i,precision:s=3}){const o=t[i];let l;return o==null?l=n!=null?n.toFixed(s):"1":r.length===1?l="1":l=o.toFixed(s),{flexBasis:0,flexGrow:l,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function O6(n,e=10){let t=null;return(...i)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{n(...i)},e)}}function Uy(n){try{if(typeof localStorage<"u")n.getItem=e=>localStorage.getItem(e),n.setItem=(e,t)=>{localStorage.setItem(e,t)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),n.getItem=()=>null,n.setItem=()=>{}}}function aC(n){return`react-resizable-panels:${n}`}function cC(n){return n.map(e=>{const{constraints:t,id:r,idIsFromProps:i,order:s}=e;return i?r:s?`${s}:${JSON.stringify(t)}`:JSON.stringify(t)}).sort((e,t)=>e.localeCompare(t)).join(",")}function uC(n,e){try{const t=aC(n),r=e.getItem(t);if(r){const i=JSON.parse(r);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function b6(n,e,t){var r,i;const s=(r=uC(n,t))!==null&&r!==void 0?r:{},o=cC(e);return(i=s[o])!==null&&i!==void 0?i:null}function x6(n,e,t,r,i){var s;const o=aC(n),l=cC(e),a=(s=uC(n,i))!==null&&s!==void 0?s:{};a[l]={expandToSizes:Object.fromEntries(t.entries()),layout:r};try{i.setItem(o,JSON.stringify(a))}catch(u){console.error(u)}}function Ky({layout:n,panelConstraints:e}){const t=[...n],r=t.reduce((s,o)=>s+o,0);if(t.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${t.map(s=>`${s}%`).join(", ")}`);if(!mr(r,100)&&t.length>0)for(let s=0;s<e.length;s++){const o=t[s];Ge(o!=null,`No layout data found for index ${s}`);const l=100/r*o;t[s]=l}let i=0;for(let s=0;s<e.length;s++){const o=t[s];Ge(o!=null,`No layout data found for index ${s}`);const l=za({panelConstraints:e,panelIndex:s,size:o});o!=l&&(i+=o-l,t[s]=l)}if(!mr(i,0))for(let s=0;s<e.length;s++){const o=t[s];Ge(o!=null,`No layout data found for index ${s}`);const l=o+i,a=za({panelConstraints:e,panelIndex:s,size:l});if(o!==a&&(i-=a-o,t[s]=a,mr(i,0)))break}return t}const v6=100,Iu={getItem:n=>(Uy(Iu),Iu.getItem(n)),setItem:(n,e)=>{Uy(Iu),Iu.setItem(n,e)}},Jy={};function hC({autoSaveId:n=null,children:e,className:t="",direction:r,forwardedRef:i,id:s=null,onLayout:o=null,keyboardResizeBy:l=null,storage:a=Iu,style:u,tagName:h="div",...d}){const p=sb(s),g=C.useRef(null),[b,x]=C.useState(null),[v,w]=C.useState([]),k=l6(),$=C.useRef({}),B=C.useRef(new Map),N=C.useRef(0),z=C.useRef({autoSaveId:n,direction:r,dragState:b,id:p,keyboardResizeBy:l,onLayout:o,storage:a}),Z=C.useRef({layout:v,panelDataArray:[],panelDataArrayChanged:!1});C.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),C.useImperativeHandle(i,()=>({getId:()=>z.current.id,getLayout:()=>{const{layout:ee}=Z.current;return ee},setLayout:ee=>{const{onLayout:fe}=z.current,{layout:ne,panelDataArray:he}=Z.current,de=Ky({layout:ee,panelConstraints:he.map(ge=>ge.constraints)});Gy(ne,de)||(w(de),Z.current.layout=de,fe&&fe(de),ya(he,de,$.current))}}),[]),yl(()=>{z.current.autoSaveId=n,z.current.direction=r,z.current.dragState=b,z.current.id=p,z.current.onLayout=o,z.current.storage=a}),f6({committedValuesRef:z,eagerValuesRef:Z,groupId:p,layout:v,panelDataArray:Z.current.panelDataArray,setLayout:w,panelGroupElement:g.current}),C.useEffect(()=>{const{panelDataArray:ee}=Z.current;if(n){if(v.length===0||v.length!==ee.length)return;let fe=Jy[n];fe==null&&(fe=O6(x6,v6),Jy[n]=fe);const ne=[...ee],he=new Map(B.current);fe(n,ne,he,v,a)}},[n,v,a]),C.useEffect(()=>{});const H=C.useCallback(ee=>{const{onLayout:fe}=z.current,{layout:ne,panelDataArray:he}=Z.current;if(ee.constraints.collapsible){const de=he.map(Oe=>Oe.constraints),{collapsedSize:ge=0,panelSize:ke,pivotIndices:Ee}=ol(he,ee,ne);if(Ge(ke!=null,`Panel size not found for panel "${ee.id}"`),!ys(ke,ge)){B.current.set(ee.id,ke);const Se=_a(he,ee)===he.length-1?ke-ge:ge-ke,me=Bu({delta:Se,initialLayout:ne,panelConstraints:de,pivotIndices:Ee,prevLayout:ne,trigger:"imperative-api"});Wf(ne,me)||(w(me),Z.current.layout=me,fe&&fe(me),ya(he,me,$.current))}}},[]),te=C.useCallback((ee,fe)=>{const{onLayout:ne}=z.current,{layout:he,panelDataArray:de}=Z.current;if(ee.constraints.collapsible){const ge=de.map(be=>be.constraints),{collapsedSize:ke=0,panelSize:Ee=0,minSize:Oe=0,pivotIndices:Se}=ol(de,ee,he),me=fe??Oe;if(ys(Ee,ke)){const be=B.current.get(ee.id),De=be!=null&&be>=me?be:me,bt=_a(de,ee)===de.length-1?Ee-De:De-Ee,ft=Bu({delta:bt,initialLayout:he,panelConstraints:ge,pivotIndices:Se,prevLayout:he,trigger:"imperative-api"});Wf(he,ft)||(w(ft),Z.current.layout=ft,ne&&ne(ft),ya(de,ft,$.current))}}},[]),K=C.useCallback(ee=>{const{layout:fe,panelDataArray:ne}=Z.current,{panelSize:he}=ol(ne,ee,fe);return Ge(he!=null,`Panel size not found for panel "${ee.id}"`),he},[]),R=C.useCallback((ee,fe)=>{const{panelDataArray:ne}=Z.current,he=_a(ne,ee);return m6({defaultSize:fe,dragState:b,layout:v,panelData:ne,panelIndex:he})},[b,v]),E=C.useCallback(ee=>{const{layout:fe,panelDataArray:ne}=Z.current,{collapsedSize:he=0,collapsible:de,panelSize:ge}=ol(ne,ee,fe);return Ge(ge!=null,`Panel size not found for panel "${ee.id}"`),de===!0&&ys(ge,he)},[]),P=C.useCallback(ee=>{const{layout:fe,panelDataArray:ne}=Z.current,{collapsedSize:he=0,collapsible:de,panelSize:ge}=ol(ne,ee,fe);return Ge(ge!=null,`Panel size not found for panel "${ee.id}"`),!de||wl(ge,he)>0},[]),Q=C.useCallback(ee=>{const{panelDataArray:fe}=Z.current;fe.push(ee),fe.sort((ne,he)=>{const de=ne.order,ge=he.order;return de==null&&ge==null?0:de==null?-1:ge==null?1:de-ge}),Z.current.panelDataArrayChanged=!0,k()},[k]);yl(()=>{if(Z.current.panelDataArrayChanged){Z.current.panelDataArrayChanged=!1;const{autoSaveId:ee,onLayout:fe,storage:ne}=z.current,{layout:he,panelDataArray:de}=Z.current;let ge=null;if(ee){const Ee=b6(ee,de,ne);Ee&&(B.current=new Map(Object.entries(Ee.expandToSizes)),ge=Ee.layout)}ge==null&&(ge=g6({panelDataArray:de}));const ke=Ky({layout:ge,panelConstraints:de.map(Ee=>Ee.constraints)});Gy(he,ke)||(w(ke),Z.current.layout=ke,fe&&fe(ke),ya(de,ke,$.current))}}),yl(()=>{const ee=Z.current;return()=>{ee.layout=[]}},[]);const I=C.useCallback(ee=>{let fe=!1;const ne=g.current;return ne&&window.getComputedStyle(ne,null).getPropertyValue("direction")==="rtl"&&(fe=!0),function(de){de.preventDefault();const ge=g.current;if(!ge)return()=>null;const{direction:ke,dragState:Ee,id:Oe,keyboardResizeBy:Se,onLayout:me}=z.current,{layout:be,panelDataArray:De}=Z.current,{initialLayout:gt}=Ee??{},bt=sC(Oe,ee,ge);let ft=p6(de,ee,ke,Ee,Se,ge);const dt=ke==="horizontal";dt&&fe&&(ft=-ft);const nt=De.map(Hr=>Hr.constraints),ut=Bu({delta:ft,initialLayout:gt??be,panelConstraints:nt,pivotIndices:bt,prevLayout:be,trigger:HT(de)?"keyboard":"mouse-or-touch"}),vn=!Wf(be,ut);(GT(de)||UT(de))&&N.current!=ft&&(N.current=ft,!vn&&ft!==0?dt?Um(ee,ft<0?JT:eC):Um(ee,ft<0?tC:nC):Um(ee,0)),vn&&(w(ut),Z.current.layout=ut,me&&me(ut),ya(De,ut,$.current))}},[]),j=C.useCallback((ee,fe)=>{const{onLayout:ne}=z.current,{layout:he,panelDataArray:de}=Z.current,ge=de.map(be=>be.constraints),{panelSize:ke,pivotIndices:Ee}=ol(de,ee,he);Ge(ke!=null,`Panel size not found for panel "${ee.id}"`);const Se=_a(de,ee)===de.length-1?ke-fe:fe-ke,me=Bu({delta:Se,initialLayout:he,panelConstraints:ge,pivotIndices:Ee,prevLayout:he,trigger:"imperative-api"});Wf(he,me)||(w(me),Z.current.layout=me,ne&&ne(me),ya(de,me,$.current))},[]),q=C.useCallback((ee,fe)=>{const{layout:ne,panelDataArray:he}=Z.current,{collapsedSize:de=0,collapsible:ge}=fe,{collapsedSize:ke=0,collapsible:Ee,maxSize:Oe=100,minSize:Se=0}=ee.constraints,{panelSize:me}=ol(he,ee,ne);me!=null&&(ge&&Ee&&ys(me,de)?ys(de,ke)||j(ee,ke):me<Se?j(ee,Se):me>Oe&&j(ee,Oe))},[j]),V=C.useCallback((ee,fe)=>{const{direction:ne}=z.current,{layout:he}=Z.current;if(!g.current)return;const de=ug(ee,g.current);Ge(de,`Drag handle element not found for id "${ee}"`);const ge=lC(ne,fe);x({dragHandleId:ee,dragHandleRect:de.getBoundingClientRect(),initialCursorPosition:ge,initialLayout:he})},[]),F=C.useCallback(()=>{x(null)},[]),U=C.useCallback(ee=>{const{panelDataArray:fe}=Z.current,ne=_a(fe,ee);ne>=0&&(fe.splice(ne,1),delete $.current[ee.id],Z.current.panelDataArrayChanged=!0,k())},[k]),oe=C.useMemo(()=>({collapsePanel:H,direction:r,dragState:b,expandPanel:te,getPanelSize:K,getPanelStyle:R,groupId:p,isPanelCollapsed:E,isPanelExpanded:P,reevaluatePanelConstraints:q,registerPanel:Q,registerResizeHandle:I,resizePanel:j,startDragging:V,stopDragging:F,unregisterPanel:U,panelGroupElement:g.current}),[H,b,r,te,K,R,p,E,P,q,Q,I,j,V,F,U]),J={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return C.createElement(og.Provider,{value:oe},C.createElement(h,{...d,children:e,className:t,id:s,ref:g,style:{...J,...u},[zt.group]:"",[zt.groupDirection]:r,[zt.groupId]:p}))}const fC=C.forwardRef((n,e)=>C.createElement(hC,{...n,forwardedRef:e}));hC.displayName="PanelGroup";fC.displayName="forwardRef(PanelGroup)";function _a(n,e){return n.findIndex(t=>t===e||t.id===e.id)}function ol(n,e,t){const r=_a(n,e),s=r===n.length-1?[r-1,r]:[r,r+1],o=t[r];return{...e.constraints,panelSize:o,pivotIndices:s}}function y6({disabled:n,handleId:e,resizeHandler:t,panelGroupElement:r}){C.useEffect(()=>{if(n||t==null||r==null)return;const i=ug(e,r);if(i==null)return;const s=o=>{if(!o.defaultPrevented)switch(o.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{o.preventDefault(),t(o);break}case"F6":{o.preventDefault();const l=i.getAttribute(zt.groupId);Ge(l,`No group element found for id "${l}"`);const a=oh(l,r),u=iC(l,e,r);Ge(u!==null,`No resize element found for id "${e}"`);const h=o.shiftKey?u>0?u-1:a.length-1:u+1<a.length?u+1:0;a[h].focus();break}}};return i.addEventListener("keydown",s),()=>{i.removeEventListener("keydown",s)}},[r,n,e,t])}function dC({children:n=null,className:e="",disabled:t=!1,hitAreaMargins:r,id:i,onBlur:s,onClick:o,onDragging:l,onFocus:a,onPointerDown:u,onPointerUp:h,style:d={},tabIndex:p=0,tagName:g="div",...b}){var x,v;const w=C.useRef(null),k=C.useRef({onClick:o,onDragging:l,onPointerDown:u,onPointerUp:h});C.useEffect(()=>{k.current.onClick=o,k.current.onDragging=l,k.current.onPointerDown=u,k.current.onPointerUp=h});const $=C.useContext(og);if($===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:B,groupId:N,registerResizeHandle:z,startDragging:Z,stopDragging:H,panelGroupElement:te}=$,K=sb(i),[R,E]=C.useState("inactive"),[P,Q]=C.useState(!1),[I,j]=C.useState(null),q=C.useRef({state:R});yl(()=>{q.current.state=R}),C.useEffect(()=>{if(t)j(null);else{const oe=z(K);j(()=>oe)}},[t,K,z]);const V=(x=r?.coarse)!==null&&x!==void 0?x:15,F=(v=r?.fine)!==null&&v!==void 0?v:5;C.useEffect(()=>{if(t||I==null)return;const oe=w.current;Ge(oe,"Element ref not attached");let J=!1;return s6(K,oe,B,{coarse:V,fine:F},(fe,ne,he)=>{if(!ne){E("inactive");return}switch(fe){case"down":{E("drag"),J=!1,Ge(he,'Expected event to be defined for "down" action'),Z(K,he);const{onDragging:de,onPointerDown:ge}=k.current;de?.(!0),ge?.();break}case"move":{const{state:de}=q.current;J=!0,de!=="drag"&&E("hover"),Ge(he,'Expected event to be defined for "move" action'),I(he);break}case"up":{E("hover"),H();const{onClick:de,onDragging:ge,onPointerUp:ke}=k.current;ge?.(!1),ke?.(),J||de?.();break}}})},[V,B,t,F,z,K,I,Z,H]),y6({disabled:t,handleId:K,resizeHandler:I,panelGroupElement:te});const U={touchAction:"none",userSelect:"none"};return C.createElement(g,{...b,children:n,className:e,id:i,onBlur:()=>{Q(!1),s?.()},onFocus:()=>{Q(!0),a?.()},ref:w,role:"separator",style:{...U,...d},tabIndex:p,[zt.groupDirection]:B,[zt.groupId]:N,[zt.resizeHandle]:"",[zt.resizeHandleActive]:R==="drag"?"pointer":P?"keyboard":void 0,[zt.resizeHandleEnabled]:!t,[zt.resizeHandleId]:K,[zt.resizeHandleState]:R})}dC.displayName="PanelResizeHandle";const S6=({children:n,isSavePanelSize:e,direction:t,minHeight:r,maxHeight:i})=>O.jsx(fC,{autoSaveId:e?"conditional":void 0,direction:t,className:`resizable-panel-group ${t}`,style:{minHeight:r,maxHeight:i},children:n}),e2=({id:n=void 0,children:e,order:t=void 0,minPanelSize:r=0,maxPanelSize:i=void 0,defaultPanelSize:s=50,minContentWidth:o="80px",isOverFlow:l=!1})=>C.useMemo(()=>typeof e.type=="function",[])?O.jsx(QO,{id:n,minSize:r,maxSize:i,defaultSize:s,order:t,children:e}):O.jsx(QO,{id:n,minSize:r,maxSize:i,defaultSize:s,children:O.jsx("div",{className:"resizable-panel",style:{overflow:"auto"},children:O.jsx("div",{style:{minWidth:o,height:"100%"},children:e})})});var pC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},t2=tt.createContext&&tt.createContext(pC),w6=["attr","size","title"];function k6(n,e){if(n==null)return{};var t=T6(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function T6(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function cp(){return cp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},cp.apply(this,arguments)}function n2(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function up(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?n2(Object(t),!0).forEach(function(r){C6(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):n2(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function C6(n,e,t){return e=P6(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function P6(n){var e=Q6(n,"string");return typeof e=="symbol"?e:e+""}function Q6(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function gC(n){return n&&n.map((e,t)=>tt.createElement(e.tag,up({key:t},e.attr),gC(e.child)))}function ye(n){return e=>tt.createElement($6,cp({attr:up({},n.attr)},e),gC(n.child))}function $6(n){var e=t=>{var{attr:r,size:i,title:s}=n,o=k6(n,w6),l=i||t.size||"1em",a;return t.className&&(a=t.className),n.className&&(a=(a?a+" ":"")+n.className),tt.createElement("svg",cp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:a,style:up(up({color:n.color||t.color},t.style),n.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&tt.createElement("title",null,s),n.children)};return t2!==void 0?tt.createElement(t2.Consumer,null,t=>e(t)):e(pC)}function A6(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M212,232a12,12,0,0,1-12,12H56a12,12,0,0,1,0-24H200A12,12,0,0,1,212,232ZM76,184V40A20,20,0,0,1,96,20h64a20,20,0,0,1,20,20V184a20,20,0,0,1-20,20H96A20,20,0,0,1,76,184Zm24-4h56V44H100Z"},child:[]}]})(n)}function R6(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208,76H140V48a12,12,0,0,0-24,0V76H48A20,20,0,0,0,28,96v64a20,20,0,0,0,20,20h68v28a12,12,0,0,0,24,0V180h68a20,20,0,0,0,20-20V96A20,20,0,0,0,208,76Zm-4,80H52V100H204Z"},child:[]}]})(n)}function E6(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208,116H180V48a20,20,0,0,0-20-20H96A20,20,0,0,0,76,48v68H48a12,12,0,0,0,0,24H76v68a20,20,0,0,0,20,20h64a20,20,0,0,0,20-20V140h28a12,12,0,0,0,0-24Zm-52,88H100V52h56Z"},child:[]}]})(n)}function L6(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M44,56V200a12,12,0,0,1-24,0V56a12,12,0,0,1,24,0ZM244,96v64a20,20,0,0,1-20,20H80a20,20,0,0,1-20-20V96A20,20,0,0,1,80,76H224A20,20,0,0,1,244,96Zm-24,4H84v56H220Z"},child:[]}]})(n)}function _6(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M236,56V200a12,12,0,0,1-24,0V56a12,12,0,0,1,24,0ZM196,96v64a20,20,0,0,1-20,20H32a20,20,0,0,1-20-20V96A20,20,0,0,1,32,76H176A20,20,0,0,1,196,96Zm-24,4H36v56H172Z"},child:[]}]})(n)}function M6(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M212,32a12,12,0,0,1-12,12H56a12,12,0,0,1,0-24H200A12,12,0,0,1,212,32ZM180,80V224a20,20,0,0,1-20,20H96a20,20,0,0,1-20-20V80A20,20,0,0,1,96,60h64A20,20,0,0,1,180,80Zm-24,4H100V220h56Z"},child:[]}]})(n)}function N6(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208.49,152.49l-72,72a12,12,0,0,1-17,0l-72-72a12,12,0,0,1,17-17L116,187V40a12,12,0,0,1,24,0V187l51.51-51.52a12,12,0,0,1,17,17Z"},child:[]}]})(n)}function hp(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M224.49,136.49l-72,72a12,12,0,0,1-17-17L187,140H40a12,12,0,0,1,0-24H187L135.51,64.48a12,12,0,0,1,17-17l72,72A12,12,0,0,1,224.49,136.49Z"},child:[]}]})(n)}function B6(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208,28H48A20,20,0,0,0,28,48V208a20,20,0,0,0,20,20H208a20,20,0,0,0,20-20V48A20,20,0,0,0,208,28Zm-4,176H52V52H204ZM76,128a12,12,0,0,1,12-12h51l-11.52-11.51a12,12,0,1,1,17-17l32,32a12,12,0,0,1,0,17l-32,32a12,12,0,1,1-17-17L139,140H88A12,12,0,0,1,76,128Z"},child:[]}]})(n)}function I6(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208.49,120.49a12,12,0,0,1-17,0L140,69V216a12,12,0,0,1-24,0V69L64.49,120.49a12,12,0,0,1-17-17l72-72a12,12,0,0,1,17,0l72,72A12,12,0,0,1,208.49,120.49Z"},child:[]}]})(n)}function mC(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M240.49,136.49l-32,32a12,12,0,0,1-17-17L203,140H53l11.52,11.51a12,12,0,0,1-17,17l-32-32a12,12,0,0,1,0-17l32-32a12,12,0,1,1,17,17L53,116H203l-11.52-11.51a12,12,0,0,1,17-17l32,32A12,12,0,0,1,240.49,136.49Z"},child:[]}]})(n)}function j6(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M168.49,191.51a12,12,0,0,1,0,17l-32,32a12,12,0,0,1-17,0l-32-32a12,12,0,0,1,17-17L116,203V53L104.49,64.49a12,12,0,1,1-17-17l32-32a12,12,0,0,1,17,0l32,32a12,12,0,0,1-17,17L140,53V203l11.51-11.52A12,12,0,0,1,168.49,191.51Z"},child:[]}]})(n)}function D6(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M54.8,119.49A35.06,35.06,0,0,1,49.05,128a35.06,35.06,0,0,1,5.75,8.51C60,147.24,60,159.83,60,172c0,25.94,1.84,32,20,32a12,12,0,0,1,0,24c-19.14,0-32.2-6.9-38.8-20.51C36,196.76,36,184.17,36,172c0-25.94-1.84-32-20-32a12,12,0,0,1,0-24c18.16,0,20-6.06,20-32,0-12.17,0-24.76,5.2-35.49C47.8,34.9,60.86,28,80,28a12,12,0,0,1,0,24c-18.16,0-20,6.06-20,32C60,96.17,60,108.76,54.8,119.49ZM240,116c-18.16,0-20-6.06-20-32,0-12.17,0-24.76-5.2-35.49C208.2,34.9,195.14,28,176,28a12,12,0,0,0,0,24c18.16,0,20,6.06,20,32,0,12.17,0,24.76,5.2,35.49A35.06,35.06,0,0,0,207,128a35.06,35.06,0,0,0-5.75,8.51C196,147.24,196,159.83,196,172c0,25.94-1.84,32-20,32a12,12,0,0,0,0,24c19.14,0,32.2-6.9,38.8-20.51C220,196.76,220,184.17,220,172c0-25.94,1.84-32,20-32a12,12,0,0,0,0-24Z"},child:[]}]})(n)}function lb(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216.49,104.49l-80,80a12,12,0,0,1-17,0l-80-80a12,12,0,0,1,17-17L128,159l71.51-71.52a12,12,0,0,1,17,17Z"},child:[]}]})(n)}function Z6(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M184.49,136.49l-80,80a12,12,0,0,1-17-17L159,128,87.51,56.49a12,12,0,1,1,17-17l80,80A12,12,0,0,1,184.49,136.49Z"},child:[]}]})(n)}function OC(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216.49,168.49a12,12,0,0,1-17,0L128,97,56.49,168.49a12,12,0,0,1-17-17l80-80a12,12,0,0,1,17,0l80,80A12,12,0,0,1,216.49,168.49Z"},child:[]}]})(n)}function bC(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M184.49,167.51a12,12,0,0,1,0,17l-48,48a12,12,0,0,1-17,0l-48-48a12,12,0,0,1,17-17L128,207l39.51-39.52A12,12,0,0,1,184.49,167.51Zm-96-79L128,49l39.51,39.52a12,12,0,0,0,17-17l-48-48a12,12,0,0,0-17,0l-48,48a12,12,0,0,0,17,17Z"},child:[]}]})(n)}function go(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M176.49,95.51a12,12,0,0,1,0,17l-56,56a12,12,0,0,1-17,0l-24-24a12,12,0,1,1,17-17L112,143l47.51-47.52A12,12,0,0,1,176.49,95.51ZM236,128A108,108,0,1,1,128,20,108.12,108.12,0,0,1,236,128Zm-24,0a84,84,0,1,0-84,84A84.09,84.09,0,0,0,212,128Z"},child:[]}]})(n)}function r2(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M128,20A108,108,0,1,0,236,128,108.12,108.12,0,0,0,128,20Zm0,192a84,84,0,1,1,84-84A84.09,84.09,0,0,1,128,212Z"},child:[]}]})(n)}function z6(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M51.51,104.49l-32-32a12,12,0,0,1,0-17l32-32a12,12,0,1,1,17,17L45,64,68.49,87.51a12,12,0,0,1-17,17Zm48,0a12,12,0,0,0,17,0l32-32a12,12,0,0,0,0-17l-32-32a12,12,0,1,0-17,17L123,64,99.51,87.51A12,12,0,0,0,99.51,104.49ZM200,36H180a12,12,0,0,0,0,24h16V196H60V140a12,12,0,0,0-24,0v60a20,20,0,0,0,20,20H200a20,20,0,0,0,20-20V56A20,20,0,0,0,200,36Z"},child:[]}]})(n)}function xC(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M71.68,97.22,34.74,128l36.94,30.78a12,12,0,1,1-15.36,18.44l-48-40a12,12,0,0,1,0-18.44l48-40A12,12,0,0,1,71.68,97.22Zm176,21.56-48-40a12,12,0,1,0-15.36,18.44L221.26,128l-36.94,30.78a12,12,0,1,0,15.36,18.44l48-40a12,12,0,0,0,0-18.44ZM164.1,28.72a12,12,0,0,0-15.38,7.18l-64,176a12,12,0,0,0,7.18,15.37A11.79,11.79,0,0,0,96,228a12,12,0,0,0,11.28-7.9l64-176A12,12,0,0,0,164.1,28.72Z"},child:[]}]})(n)}function q6(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M180,64H40A12,12,0,0,0,28,76V216a12,12,0,0,0,12,12H180a12,12,0,0,0,12-12V76A12,12,0,0,0,180,64ZM168,204H52V88H168ZM228,40V180a12,12,0,0,1-24,0V52H76a12,12,0,0,1,0-24H216A12,12,0,0,1,228,40Z"},child:[]}]})(n)}function X6(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208,36H48A28,28,0,0,0,20,64V172a28,28,0,0,0,28,28h68v12H96a12,12,0,0,0,0,24h64a12,12,0,0,0,0-24H140V200h68a28,28,0,0,0,28-28V64A28,28,0,0,0,208,36ZM48,60H208a4,4,0,0,1,4,4v72H44V64A4,4,0,0,1,48,60ZM208,176H48a4,4,0,0,1-4-4V160H212v12A4,4,0,0,1,208,176Z"},child:[]}]})(n)}function vC(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M176,12H80A28,28,0,0,0,52,40V216a28,28,0,0,0,28,28h96a28,28,0,0,0,28-28V40A28,28,0,0,0,176,12ZM76,76H180V180H76Zm4-40h96a4,4,0,0,1,4,4V52H76V40A4,4,0,0,1,80,36Zm96,184H80a4,4,0,0,1-4-4V204H180v12A4,4,0,0,1,176,220Z"},child:[]}]})(n)}function yC(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M76,92A16,16,0,1,1,60,76,16,16,0,0,1,76,92Zm52-16a16,16,0,1,0,16,16A16,16,0,0,0,128,76Zm68,32a16,16,0,1,0-16-16A16,16,0,0,0,196,108ZM60,148a16,16,0,1,0,16,16A16,16,0,0,0,60,148Zm68,0a16,16,0,1,0,16,16A16,16,0,0,0,128,148Zm68,0a16,16,0,1,0,16,16A16,16,0,0,0,196,148Z"},child:[]}]})(n)}function V6(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M108,60A16,16,0,1,1,92,44,16,16,0,0,1,108,60Zm56,16a16,16,0,1,0-16-16A16,16,0,0,0,164,76ZM92,112a16,16,0,1,0,16,16A16,16,0,0,0,92,112Zm72,0a16,16,0,1,0,16,16A16,16,0,0,0,164,112ZM92,180a16,16,0,1,0,16,16A16,16,0,0,0,92,180Zm72,0a16,16,0,1,0,16,16A16,16,0,0,0,164,180Z"},child:[]}]})(n)}function W6(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216,204H141l86.84-86.84a28,28,0,0,0,0-39.6L186.43,36.19a28,28,0,0,0-39.6,0L28.19,154.82a28,28,0,0,0,0,39.6l30.06,30.07A12,12,0,0,0,66.74,228H216a12,12,0,0,0,0-24ZM163.8,53.16a4,4,0,0,1,5.66,0l41.38,41.38a4,4,0,0,1,0,5.65L160,151l-47-47ZM71.71,204,45.16,177.45a4,4,0,0,1,0-5.65L96,121l47,47-36,36Z"},child:[]}]})(n)}function i2(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M251,123.13c-.37-.81-9.13-20.26-28.48-39.61C196.63,57.67,164,44,128,44S59.37,57.67,33.51,83.52C14.16,102.87,5.4,122.32,5,123.13a12.08,12.08,0,0,0,0,9.75c.37.82,9.13,20.26,28.49,39.61C59.37,198.34,92,212,128,212s68.63-13.66,94.48-39.51c19.36-19.35,28.12-38.79,28.49-39.61A12.08,12.08,0,0,0,251,123.13Zm-46.06,33C183.47,177.27,157.59,188,128,188s-55.47-10.73-76.91-31.88A130.36,130.36,0,0,1,29.52,128,130.45,130.45,0,0,1,51.09,99.89C72.54,78.73,98.41,68,128,68s55.46,10.73,76.91,31.89A130.36,130.36,0,0,1,226.48,128,130.45,130.45,0,0,1,204.91,156.12ZM128,84a44,44,0,1,0,44,44A44.05,44.05,0,0,0,128,84Zm0,64a20,20,0,1,1,20-20A20,20,0,0,1,128,148Z"},child:[]}]})(n)}function F6(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M56.88,31.93A12,12,0,1,0,39.12,48.07l16,17.65C20.67,88.66,5.72,121.58,5,123.13a12.08,12.08,0,0,0,0,9.75c.37.82,9.13,20.26,28.49,39.61C59.37,198.34,92,212,128,212a131.34,131.34,0,0,0,51-10l20.09,22.1a12,12,0,0,0,17.76-16.14ZM128,188c-29.59,0-55.47-10.73-76.91-31.88A130.69,130.69,0,0,1,29.52,128c5.27-9.31,18.79-29.9,42-44.29l90.09,99.11A109.33,109.33,0,0,1,128,188Zm123-55.12c-.36.81-9,20-28,39.16a12,12,0,1,1-17-16.9A130.48,130.48,0,0,0,226.48,128a130.36,130.36,0,0,0-21.57-28.12C183.46,78.73,157.59,68,128,68c-3.35,0-6.7.14-10,.42a12,12,0,1,1-2-23.91c3.93-.34,8-.51,12-.51,36,0,68.63,13.67,94.49,39.52,19.35,19.35,28.11,38.8,28.48,39.61A12.08,12.08,0,0,1,251,132.88Z"},child:[]}]})(n)}function s2(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M252.49,107.51a12,12,0,0,0-17,0L192,151,113,72l43.52-43.51a12,12,0,0,0-17-17L93.17,57.86a20,20,0,0,0-4.72,20.72L69.17,97.86a20,20,0,0,0,0,28.28L71,128,15.51,183.51a12,12,0,0,0,4.7,19.87l72,24A11.8,11.8,0,0,0,96,228a12,12,0,0,0,8.49-3.52L136,193l1.86,1.86a20,20,0,0,0,28.28,0l19.27-19.27a20.27,20.27,0,0,0,6.59,1.13,19.86,19.86,0,0,0,14.14-5.86l46.35-46.34A12,12,0,0,0,252.49,107.51ZM92.76,202.27,46.21,186.76,88,145l31,31ZM152,175,96.49,119.52h0L89,112l15-15,63,63Z"},child:[]}]})(n)}function fp(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M144,96a16,16,0,1,1,16,16A16,16,0,0,1,144,96Zm92-40V200a20,20,0,0,1-20,20H40a20,20,0,0,1-20-20V56A20,20,0,0,1,40,36H216A20,20,0,0,1,236,56ZM44,60v79.72l33.86-33.86a20,20,0,0,1,28.28,0L147.31,147l17.18-17.17a20,20,0,0,1,28.28,0L212,149.09V60Zm0,136H162.34L92,125.66l-48,48Zm168,0V183l-33.37-33.37L164.28,164l32,32Z"},child:[]}]})(n)}function o2(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"},child:[]}]})(n)}function SC(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M76,64A12,12,0,0,1,88,52H216a12,12,0,0,1,0,24H88A12,12,0,0,1,76,64Zm140,52H88a12,12,0,0,0,0,24H216a12,12,0,0,0,0-24Zm0,64H88a12,12,0,0,0,0,24H216a12,12,0,0,0,0-24ZM44,112a16,16,0,1,0,16,16A16,16,0,0,0,44,112Zm0-64A16,16,0,1,0,60,64,16,16,0,0,0,44,48Zm0,128a16,16,0,1,0,16,16A16,16,0,0,0,44,176Z"},child:[]}]})(n)}function Y6(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M228,128a12,12,0,0,1-12,12H116a12,12,0,0,1,0-24H216A12,12,0,0,1,228,128ZM116,76H216a12,12,0,0,0,0-24H116a12,12,0,0,0,0,24ZM216,180H116a12,12,0,0,0,0,24H216a12,12,0,0,0,0-24ZM44,59.31V104a12,12,0,0,0,24,0V40A12,12,0,0,0,50.64,29.27l-16,8a12,12,0,0,0,9.36,22Zm39.73,96.86a27.7,27.7,0,0,0-11.2-18.63A28.89,28.89,0,0,0,32.9,143a27.71,27.71,0,0,0-4.17,7.54,12,12,0,0,0,22.55,8.21,4,4,0,0,1,.58-1,4.78,4.78,0,0,1,6.5-.82,3.82,3.82,0,0,1,1.61,2.6,3.63,3.63,0,0,1-.77,2.77l-.13.17L30.39,200.82A12,12,0,0,0,40,220H72a12,12,0,0,0,0-24H64l14.28-19.11A27.48,27.48,0,0,0,83.73,156.17Z"},child:[]}]})(n)}function hg(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208,76H180V56A52,52,0,0,0,76,56V76H48A20,20,0,0,0,28,96V208a20,20,0,0,0,20,20H208a20,20,0,0,0,20-20V96A20,20,0,0,0,208,76ZM100,56a28,28,0,0,1,56,0V76H100ZM204,204H52V100H204Zm-60-52a16,16,0,1,1-16-16A16,16,0,0,1,144,152Z"},child:[]}]})(n)}function H6(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M232.49,215.51,185,168a92.12,92.12,0,1,0-17,17l47.53,47.54a12,12,0,0,0,17-17ZM44,112a68,68,0,1,1,68,68A68.07,68.07,0,0,1,44,112Z"},child:[]}]})(n)}function G6(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M228,128a12,12,0,0,1-12,12H40a12,12,0,0,1,0-24H216A12,12,0,0,1,228,128Z"},child:[]}]})(n)}function U6(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208,36H48A28,28,0,0,0,20,64V176a28,28,0,0,0,28,28H208a28,28,0,0,0,28-28V64A28,28,0,0,0,208,36Zm4,140a4,4,0,0,1-4,4H48a4,4,0,0,1-4-4V64a4,4,0,0,1,4-4H208a4,4,0,0,1,4,4Zm-40,52a12,12,0,0,1-12,12H96a12,12,0,0,1,0-24h64A12,12,0,0,1,172,228Z"},child:[]}]})(n)}function K6(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M230.14,70.54,185.46,25.85a20,20,0,0,0-28.29,0L33.86,149.17A19.85,19.85,0,0,0,28,163.31V208a20,20,0,0,0,20,20H92.69a19.86,19.86,0,0,0,14.14-5.86L230.14,98.82a20,20,0,0,0,0-28.28ZM93,180l71-71,11,11-71,71ZM76,163,65,152l71-71,11,11ZM52,173l15.51,15.51h0L83,204H52ZM192,103,153,64l18.34-18.34,39,39Z"},child:[]}]})(n)}function wC(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M228,128a12,12,0,0,1-12,12H140v76a12,12,0,0,1-24,0V140H40a12,12,0,0,1,0-24h76V40a12,12,0,0,1,24,0v76h76A12,12,0,0,1,228,128Z"},child:[]}]})(n)}function J6(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M100,52H40A20,20,0,0,0,20,72v64a20,20,0,0,0,20,20H96v4a28,28,0,0,1-28,28,12,12,0,0,0,0,24,52.06,52.06,0,0,0,52-52V72A20,20,0,0,0,100,52Zm-4,80H44V76H96ZM216,52H156a20,20,0,0,0-20,20v64a20,20,0,0,0,20,20h56v4a28,28,0,0,1-28,28,12,12,0,0,0,0,24,52.06,52.06,0,0,0,52-52V72A20,20,0,0,0,216,52Zm-4,80H160V76h52Z"},child:[]}]})(n)}function e8(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216,36H40A20,20,0,0,0,20,56V200a20,20,0,0,0,20,20H216a20,20,0,0,0,20-20V56A20,20,0,0,0,216,36Zm-4,160H44V60H212Z"},child:[]}]})(n)}function t8(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M84,48A12,12,0,0,1,72,60H44V72a12,12,0,0,1-24,0V56A20,20,0,0,1,40,36H72A12,12,0,0,1,84,48ZM32,156a12,12,0,0,0,12-12V112a12,12,0,0,0-24,0v32A12,12,0,0,0,32,156Zm40,40H44V184a12,12,0,0,0-24,0v16a20,20,0,0,0,20,20H72a12,12,0,0,0,0-24Zm72,0H112a12,12,0,0,0,0,24h32a12,12,0,0,0,0-24Zm80-24a12,12,0,0,0-12,12v12H184a12,12,0,0,0,0,24h32a20,20,0,0,0,20-20V184A12,12,0,0,0,224,172Zm0-72a12,12,0,0,0-12,12v32a12,12,0,0,0,24,0V112A12,12,0,0,0,224,100Zm-8-64H184a12,12,0,0,0,0,24h28V72a12,12,0,0,0,24,0V56A20,20,0,0,0,216,36Zm-72,0H112a12,12,0,0,0,0,24h32a12,12,0,0,0,0-24Z"},child:[]}]})(n)}function n8(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M200,36H56A20,20,0,0,0,36,56V200a20,20,0,0,0,20,20H200a20,20,0,0,0,20-20V56A20,20,0,0,0,200,36ZM60,60h56V196H60ZM196,196H140V60h56Z"},child:[]}]})(n)}function kC(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M28,64A12,12,0,0,1,40,52H216a12,12,0,0,1,0,24H40A12,12,0,0,1,28,64ZM64,92a12,12,0,0,0,0,24H192a12,12,0,0,0,0-24Zm152,40H40a12,12,0,0,0,0,24H216a12,12,0,0,0,0-24Zm-24,40H64a12,12,0,0,0,0,24H192a12,12,0,0,0,0-24Z"},child:[]}]})(n)}function TC(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M28,64A12,12,0,0,1,40,52H216a12,12,0,0,1,0,24H40A12,12,0,0,1,28,64ZM216,92H40a12,12,0,0,0,0,24H216a12,12,0,0,0,0-24Zm0,40H40a12,12,0,0,0,0,24H216a12,12,0,0,0,0-24Zm0,40H40a12,12,0,0,0,0,24H216a12,12,0,0,0,0-24Z"},child:[]}]})(n)}function CC(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M28,64A12,12,0,0,1,40,52H216a12,12,0,0,1,0,24H40A12,12,0,0,1,28,64Zm12,52H168a12,12,0,0,0,0-24H40a12,12,0,0,0,0,24Zm176,16H40a12,12,0,0,0,0,24H216a12,12,0,0,0,0-24Zm-48,40H40a12,12,0,0,0,0,24H168a12,12,0,0,0,0-24Z"},child:[]}]})(n)}function PC(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M28,64A12,12,0,0,1,40,52H216a12,12,0,0,1,0,24H40A12,12,0,0,1,28,64ZM216,92H88a12,12,0,0,0,0,24H216a12,12,0,0,0,0-24Zm0,40H40a12,12,0,0,0,0,24H216a12,12,0,0,0,0-24Zm0,40H88a12,12,0,0,0,0,24H216a12,12,0,0,0,0-24Z"},child:[]}]})(n)}function r8(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M185.08,114.46A48,48,0,0,0,148,36H80A12,12,0,0,0,68,48V200a12,12,0,0,0,12,12h80a52,52,0,0,0,25.08-97.54ZM92,60h56a24,24,0,0,1,0,48H92Zm68,128H92V132h68a28,28,0,0,1,0,56Z"},child:[]}]})(n)}function i8(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M212,56V200a12,12,0,0,1-24,0V140H68v60a12,12,0,0,1-24,0V56a12,12,0,0,1,24,0v60H188V56a12,12,0,0,1,24,0Z"},child:[]}]})(n)}function s8(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M228,128a12,12,0,0,1-12,12H120a12,12,0,0,1,0-24h96A12,12,0,0,1,228,128ZM120,76h96a12,12,0,0,0,0-24H120a12,12,0,0,0,0,24Zm96,104H40a12,12,0,0,0,0,24H216a12,12,0,0,0,0-24ZM31.51,144.49a12,12,0,0,0,17,0l40-40a12,12,0,0,0,0-17l-40-40a12,12,0,0,0-17,17L63,96,31.51,127.51A12,12,0,0,0,31.51,144.49Z"},child:[]}]})(n)}function o8(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M204,56a12,12,0,0,1-12,12H160.65l-40,120H144a12,12,0,0,1,0,24H64a12,12,0,0,1,0-24H95.35l40-120H112a12,12,0,0,1,0-24h80A12,12,0,0,1,204,56Z"},child:[]}]})(n)}function l8(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M228,128a12,12,0,0,1-12,12H120a12,12,0,0,1,0-24h96A12,12,0,0,1,228,128ZM120,76h96a12,12,0,0,0,0-24H120a12,12,0,0,0,0,24Zm96,104H40a12,12,0,0,0,0,24H216a12,12,0,0,0,0-24ZM72,148a12,12,0,0,0,8.49-20.49L49,96,80.49,64.48a12,12,0,0,0-17-17l-40,40a12,12,0,0,0,0,17l40,40A12,12,0,0,0,72,148Z"},child:[]}]})(n)}function a8(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M228,128a12,12,0,0,1-12,12H185.86A41.48,41.48,0,0,1,196,168c0,14.45-7.81,28.32-21.43,38.05C162,215.05,145.44,220,128,220s-34-4.95-46.57-13.95C67.81,196.32,60,182.45,60,168a12,12,0,0,1,24,0c0,15.18,20.15,28,44,28s44-12.82,44-28c0-12.76-9.3-20.18-35.35-28H40a12,12,0,0,1,0-24H216A12,12,0,0,1,228,128ZM75.11,100a12,12,0,0,0,12-12c0-16,17.58-28,40.89-28,17.36,0,31.37,6.65,37.48,17.78a12,12,0,0,0,21-11.56C176.13,47.3,154.25,36,128,36,91,36,63.11,58.35,63.11,88A12,12,0,0,0,75.11,100Z"},child:[]}]})(n)}function c8(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M252,208a12,12,0,0,1-12,12H192a12,12,0,0,1-9.6-19.2l43.17-57.56a12,12,0,0,0-2.35-16.82A12,12,0,0,0,204.68,132a12,12,0,0,1-22.63-8,36.3,36.3,0,0,1,5.2-9.67,36,36,0,0,1,57.5,43.34L216,196h24A12,12,0,0,1,252,208ZM151.86,46.93a12,12,0,0,0-16.93,1.21L92,97.68,49.07,48.14A12,12,0,0,0,30.93,63.86L76.12,116,30.93,168.14a12,12,0,0,0,18.14,15.72L92,134.32l42.93,49.54a12,12,0,1,0,18.14-15.72L107.88,116l45.19-52.14A12,12,0,0,0,151.86,46.93Z"},child:[]}]})(n)}function u8(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M252,144a12,12,0,0,1-12,12H192a12,12,0,0,1-9.6-19.2l43.17-57.55A12,12,0,1,0,204.68,68a12,12,0,0,1-22.63-8,36.24,36.24,0,0,1,5.2-9.66,36,36,0,0,1,57.5,43.33L216,132h24A12,12,0,0,1,252,144ZM151.86,70.94a12,12,0,0,0-16.93,1.2L92,121.68,49.07,72.14A12,12,0,0,0,30.93,87.86L76.12,140,30.93,192.14a12,12,0,0,0,18.14,15.72L92,158.32l42.93,49.54a12,12,0,1,0,18.14-15.72L107.88,140l45.19-52.14A12,12,0,0,0,151.86,70.94Z"},child:[]}]})(n)}function h8(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M212,56V88a12,12,0,0,1-24,0V68H140V188h20a12,12,0,0,1,0,24H96a12,12,0,0,1,0-24h20V68H68V88a12,12,0,0,1-24,0V56A12,12,0,0,1,56,44H200A12,12,0,0,1,212,56Z"},child:[]}]})(n)}function f8(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M204,224a12,12,0,0,1-12,12H64a12,12,0,0,1,0-24H192A12,12,0,0,1,204,224Zm-76-28a68.07,68.07,0,0,0,68-68V56a12,12,0,0,0-24,0v72a44,44,0,0,1-88,0V56a12,12,0,0,0-24,0v72A68.07,68.07,0,0,0,128,196Z"},child:[]}]})(n)}function d8(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216,48H180V36A28,28,0,0,0,152,8H104A28,28,0,0,0,76,36V48H40a12,12,0,0,0,0,24h4V208a20,20,0,0,0,20,20H192a20,20,0,0,0,20-20V72h4a12,12,0,0,0,0-24ZM100,36a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4V48H100Zm88,168H68V72H188ZM116,104v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Zm48,0v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Z"},child:[]}]})(n)}function kc(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M240.26,186.1,152.81,34.23h0a28.74,28.74,0,0,0-49.62,0L15.74,186.1a27.45,27.45,0,0,0,0,27.71A28.31,28.31,0,0,0,40.55,228h174.9a28.31,28.31,0,0,0,24.79-14.19A27.45,27.45,0,0,0,240.26,186.1Zm-20.8,15.7a4.46,4.46,0,0,1-4,2.2H40.55a4.46,4.46,0,0,1-4-2.2,3.56,3.56,0,0,1,0-3.73L124,46.2a4.77,4.77,0,0,1,8,0l87.44,151.87A3.56,3.56,0,0,1,219.46,201.8ZM116,136V104a12,12,0,0,1,24,0v32a12,12,0,0,1-24,0Zm28,40a16,16,0,1,1-16-16A16,16,0,0,1,144,176Z"},child:[]}]})(n)}function Bl(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208.49,191.51a12,12,0,0,1-17,17L128,145,64.49,208.49a12,12,0,0,1-17-17L111,128,47.51,64.49a12,12,0,0,1,17-17L128,111l63.51-63.52a12,12,0,0,1,17,17L145,128Z"},child:[]}]})(n)}function p8(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Z"},child:[]}]})(n)}function g8(n){return ye({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M198.24,62.63l15.68-17.25a8,8,0,0,0-11.84-10.76L186.4,51.86A95.95,95.95,0,0,0,57.76,193.37L42.08,210.62a8,8,0,1,0,11.84,10.76L69.6,204.14A95.95,95.95,0,0,0,198.24,62.63ZM48,128A80,80,0,0,1,175.6,63.75l-107,117.73A79.63,79.63,0,0,1,48,128Zm80,80a79.55,79.55,0,0,1-47.6-15.75l107-117.73A79.95,79.95,0,0,1,128,208Z"},child:[]}]})(n)}const m8=({direction:n})=>{const{screenSize:e}=C.useContext(Lt);return O.jsx(dC,{className:"resizable-handle",children:e==="mobile"&&O.jsx("div",{className:"handle-box",children:n==="horizontal"?O.jsx(V6,{size:12,className:"handle-icon"}):O.jsx(yC,{size:12,className:"handle-icon"})})})},O8=({propertiesSection:n,children:e})=>O.jsxs("div",{className:"suprisingly-sendable-template",children:[O.jsx("div",{className:"banner-box",children:O.jsx("div",{children:O.jsx("p",{style:{textAlign:"center"},children:O.jsx("strong",{children:"This project is still in development "})})})}),O.jsxs(S6,{direction:"horizontal",children:[O.jsx(e2,{defaultPanelSize:75,minContentWidth:"720px",children:O.jsx(O.Fragment,{children:e})}),O.jsx(m8,{direction:"horizontal"}),O.jsx(e2,{defaultPanelSize:30,minPanelSize:30,maxPanelSize:50,minContentWidth:"320px",children:O.jsx("div",{className:"properties-panel-container",children:n})})]})]}),b8=(n,e)=>{e&&e(n)};function fg(){return typeof window<"u"}function Eo(n){return QC(n)?(n.nodeName||"").toLowerCase():"#document"}function nr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Wi(n){var e;return(e=(QC(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function QC(n){return fg()?n instanceof Node||n instanceof nr(n).Node:!1}function Qt(n){return fg()?n instanceof Element||n instanceof nr(n).Element:!1}function Kt(n){return fg()?n instanceof HTMLElement||n instanceof nr(n).HTMLElement:!1}function AO(n){return!fg()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof nr(n).ShadowRoot}const x8=new Set(["inline","contents"]);function Eh(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Wr(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!x8.has(i)}const v8=new Set(["table","td","th"]);function y8(n){return v8.has(Eo(n))}const S8=[":popover-open",":modal"];function dg(n){return S8.some(e=>{try{return n.matches(e)}catch{return!1}})}const w8=["transform","translate","scale","rotate","perspective"],k8=["transform","translate","scale","rotate","perspective","filter"],T8=["paint","layout","strict","content"];function ab(n){const e=pg(),t=Qt(n)?Wr(n):n;return w8.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||k8.some(r=>(t.willChange||"").includes(r))||T8.some(r=>(t.contain||"").includes(r))}function C8(n){let e=Qs(n);for(;Kt(e)&&!Ts(e);){if(ab(e))return e;if(dg(e))return null;e=Qs(e)}return null}function pg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const P8=new Set(["html","body","#document"]);function Ts(n){return P8.has(Eo(n))}function Wr(n){return nr(n).getComputedStyle(n)}function gg(n){return Qt(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Qs(n){if(Eo(n)==="html")return n;const e=n.assignedSlot||n.parentNode||AO(n)&&n.host||Wi(n);return AO(e)?e.host:e}function $C(n){const e=Qs(n);return Ts(e)?n.ownerDocument?n.ownerDocument.body:n.body:Kt(e)&&Eh(e)?e:$C(e)}function vo(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=$C(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=nr(i);if(s){const l=RO(o);return e.concat(o,o.visualViewport||[],Eh(i)?i:[],l&&t?vo(l):[])}return e.concat(i,vo(i,[],t))}function RO(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}const cc=Math.min,br=Math.max,dp=Math.round,Ff=Math.floor,Di=n=>({x:n,y:n}),Q8={left:"right",right:"left",bottom:"top",top:"bottom"},$8={start:"end",end:"start"};function l2(n,e,t){return br(n,cc(e,t))}function Lh(n,e){return typeof n=="function"?n(e):n}function ko(n){return n.split("-")[0]}function _h(n){return n.split("-")[1]}function AC(n){return n==="x"?"y":"x"}function RC(n){return n==="y"?"height":"width"}const A8=new Set(["top","bottom"]);function ks(n){return A8.has(ko(n))?"y":"x"}function EC(n){return AC(ks(n))}function R8(n,e,t){t===void 0&&(t=!1);const r=_h(n),i=EC(n),s=RC(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=pp(o)),[o,pp(o)]}function E8(n){const e=pp(n);return[EO(n),e,EO(e)]}function EO(n){return n.replace(/start|end/g,e=>$8[e])}const a2=["left","right"],c2=["right","left"],L8=["top","bottom"],_8=["bottom","top"];function M8(n,e,t){switch(n){case"top":case"bottom":return t?e?c2:a2:e?a2:c2;case"left":case"right":return e?L8:_8;default:return[]}}function N8(n,e,t,r){const i=_h(n);let s=M8(ko(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(EO)))),s}function pp(n){return n.replace(/left|right|bottom|top/g,e=>Q8[e])}function B8(n){return{top:0,right:0,bottom:0,left:0,...n}}function I8(n){return typeof n!="number"?B8(n):{top:n,right:n,bottom:n,left:n}}function gp(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}var j8=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],mp=j8.join(","),LC=typeof Element>"u",uc=LC?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Op=!LC&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n?.ownerDocument},bp=function n(e,t){var r;t===void 0&&(t=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=i===""||i==="true",o=s||t&&e&&n(e.parentNode);return o},D8=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return r===""||r==="true"},_C=function(e,t,r){if(bp(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(mp));return t&&uc.call(e,mp)&&i.unshift(e),i=i.filter(r),i},MC=function n(e,t,r){for(var i=[],s=Array.from(e);s.length;){var o=s.shift();if(!bp(o,!1))if(o.tagName==="SLOT"){var l=o.assignedElements(),a=l.length?l:o.children,u=n(a,!0,r);r.flatten?i.push.apply(i,u):i.push({scopeParent:o,candidates:u})}else{var h=uc.call(o,mp);h&&r.filter(o)&&(t||!e.includes(o))&&i.push(o);var d=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),p=!bp(d,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(d&&p){var g=n(d===!0?o.children:d.children,!0,r);r.flatten?i.push.apply(i,g):i.push({scopeParent:o,candidates:g})}else s.unshift.apply(s,o.children)}}return i},NC=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},BC=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||D8(e))&&!NC(e)?0:e.tabIndex},Z8=function(e,t){var r=BC(e);return r<0&&t&&!NC(e)?0:r},z8=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},IC=function(e){return e.tagName==="INPUT"},q8=function(e){return IC(e)&&e.type==="hidden"},X8=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},V8=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},W8=function(e){if(!e.name)return!0;var t=e.form||Op(e),r=function(l){return t.querySelectorAll('input[type="radio"][name="'+l+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=V8(i,e.form);return!s||s===e},F8=function(e){return IC(e)&&e.type==="radio"},Y8=function(e){return F8(e)&&!W8(e)},H8=function(e){var t,r=e&&Op(e),i=(t=r)===null||t===void 0?void 0:t.host,s=!1;if(r&&r!==e){var o,l,a;for(s=!!((o=i)!==null&&o!==void 0&&(l=o.ownerDocument)!==null&&l!==void 0&&l.contains(i)||e!=null&&(a=e.ownerDocument)!==null&&a!==void 0&&a.contains(e));!s&&i;){var u,h,d;r=Op(i),i=(u=r)===null||u===void 0?void 0:u.host,s=!!((h=i)!==null&&h!==void 0&&(d=h.ownerDocument)!==null&&d!==void 0&&d.contains(i))}}return s},u2=function(e){var t=e.getBoundingClientRect(),r=t.width,i=t.height;return r===0&&i===0},G8=function(e,t){var r=t.displayCheck,i=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=uc.call(e,"details>summary:first-of-type"),o=s?e.parentElement:e;if(uc.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var l=e;e;){var a=e.parentElement,u=Op(e);if(a&&!a.shadowRoot&&i(a)===!0)return u2(e);e.assignedSlot?e=e.assignedSlot:!a&&u!==e.ownerDocument?e=u.host:e=a}e=l}if(H8(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return u2(e);return!1},U8=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var i=t.children.item(r);if(i.tagName==="LEGEND")return uc.call(t,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}t=t.parentElement}return!1},LO=function(e,t){return!(t.disabled||bp(t)||q8(t)||G8(t,e)||X8(t)||U8(t))},_O=function(e,t){return!(Y8(t)||BC(t)<0||!LO(e,t))},K8=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},J8=function n(e){var t=[],r=[];return e.forEach(function(i,s){var o=!!i.scopeParent,l=o?i.scopeParent:i,a=Z8(l,o),u=o?n(i.candidates):l;a===0?o?t.push.apply(t,u):t.push(l):r.push({documentOrder:s,tabIndex:a,item:i,isScope:o,content:u})}),r.sort(z8).reduce(function(i,s){return s.isScope?i.push.apply(i,s.content):i.push(s.content),i},[]).concat(t)},mg=function(e,t){t=t||{};var r;return t.getShadowRoot?r=MC([e],t.includeContainer,{filter:_O.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:K8}):r=_C(e,t.includeContainer,_O.bind(null,t)),J8(r)},eN=function(e,t){t=t||{};var r;return t.getShadowRoot?r=MC([e],t.includeContainer,{filter:LO.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):r=_C(e,t.includeContainer,LO.bind(null,t)),r},jC=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return uc.call(e,mp)===!1?!1:_O(t,e)};function cb(){const n=navigator.userAgentData;return n!=null&&n.platform?n.platform:navigator.platform}function DC(){const n=navigator.userAgentData;return n&&Array.isArray(n.brands)?n.brands.map(e=>{let{brand:t,version:r}=e;return t+"/"+r}).join(" "):navigator.userAgent}function ZC(){return/apple/i.test(navigator.vendor)}function MO(){const n=/android/i;return n.test(cb())||n.test(DC())}function tN(){return cb().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function zC(){return DC().includes("jsdom/")}const h2="data-floating-ui-focusable",nN="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function fo(n){let e=n.activeElement;for(;((t=e)==null||(t=t.shadowRoot)==null?void 0:t.activeElement)!=null;){var t;e=e.shadowRoot.activeElement}return e}function Cn(n,e){if(!n||!e)return!1;const t=e.getRootNode==null?void 0:e.getRootNode();if(n.contains(e))return!0;if(t&&AO(t)){let r=e;for(;r;){if(n===r)return!0;r=r.parentNode||r.host}}return!1}function Ss(n){return"composedPath"in n?n.composedPath()[0]:n.target}function Jm(n,e){if(e==null)return!1;if("composedPath"in n)return n.composedPath().includes(e);const t=n;return t.target!=null&&e.contains(t.target)}function rN(n){return n.matches("html,body")}function Qn(n){return n?.ownerDocument||document}function ub(n){return Kt(n)&&n.matches(nN)}function f2(n){return n?n.getAttribute("role")==="combobox"&&ub(n):!1}function iN(n){if(!n||zC())return!0;try{return n.matches(":focus-visible")}catch{return!0}}function NO(n){return n?n.hasAttribute(h2)?n:n.querySelector("["+h2+"]")||n:null}function Ha(n,e,t){return t===void 0&&(t=!0),n.filter(i=>{var s;return i.parentId===e&&(!t||((s=i.context)==null?void 0:s.open))}).flatMap(i=>[i,...Ha(n,i.id,t)])}function d2(n,e){var t;let r=[],i=(t=n.find(s=>s.id===e))==null?void 0:t.parentId;for(;i;){const s=n.find(o=>o.id===i);i=s?.parentId,s&&(r=r.concat(s))}return r}function e0(n){n.preventDefault(),n.stopPropagation()}function sN(n){return"nativeEvent"in n}function oN(n){return n.mozInputSource===0&&n.isTrusted?!0:MO()&&n.pointerType?n.type==="click"&&n.buttons===1:n.detail===0&&!n.pointerType}function lN(n){return zC()?!1:!MO()&&n.width===0&&n.height===0||MO()&&n.width===1&&n.height===1&&n.pressure===0&&n.detail===0&&n.pointerType==="mouse"||n.width<1&&n.height<1&&n.pressure===0&&n.detail===0&&n.pointerType==="touch"}function lh(n,e){const t=["mouse","pen"];return e||t.push("",void 0),t.includes(n)}var aN=typeof document<"u",cN=function(){},mn=aN?C.useLayoutEffect:cN;const uN={...rb};function ai(n){const e=C.useRef(n);return mn(()=>{e.current=n}),e}const hN=uN.useInsertionEffect,fN=hN||(n=>n());function Jn(n){const e=C.useRef(()=>{});return fN(()=>{e.current=n}),C.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}const Mh=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function qC(n,e){const t=mg(n,Mh()),r=t.length;if(r===0)return;const i=fo(Qn(n)),s=t.indexOf(i),o=s===-1?e===1?0:r-1:s+e;return t[o]}function XC(n){return qC(Qn(n).body,1)||n}function VC(n){return qC(Qn(n).body,-1)||n}function Yu(n,e){const t=e||n.currentTarget,r=n.relatedTarget;return!r||!Cn(t,r)}function dN(n){mg(n,Mh()).forEach(t=>{t.dataset.tabindex=t.getAttribute("tabindex")||"",t.setAttribute("tabindex","-1")})}function p2(n){n.querySelectorAll("[data-tabindex]").forEach(t=>{const r=t.dataset.tabindex;delete t.dataset.tabindex,r?t.setAttribute("tabindex",r):t.removeAttribute("tabindex")})}var hb=F3();function g2(n,e,t){let{reference:r,floating:i}=n;const s=ks(e),o=EC(e),l=RC(o),a=ko(e),u=s==="y",h=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,p=r[l]/2-i[l]/2;let g;switch(a){case"top":g={x:h,y:r.y-i.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:d};break;case"left":g={x:r.x-i.width,y:d};break;default:g={x:r.x,y:r.y}}switch(_h(e)){case"start":g[o]-=p*(t&&u?-1:1);break;case"end":g[o]+=p*(t&&u?-1:1);break}return g}const pN=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,l=s.filter(Boolean),a=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:h,y:d}=g2(u,r,a),p=r,g={},b=0;for(let x=0;x<l.length;x++){const{name:v,fn:w}=l[x],{x:k,y:$,data:B,reset:N}=await w({x:h,y:d,initialPlacement:r,placement:p,strategy:i,middlewareData:g,rects:u,platform:o,elements:{reference:n,floating:e}});h=k??h,d=$??d,g={...g,[v]:{...g[v],...B}},N&&b<=50&&(b++,typeof N=="object"&&(N.placement&&(p=N.placement),N.rects&&(u=N.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):N.rects),{x:h,y:d}=g2(u,p,a)),x=-1)}return{x:h,y:d,placement:p,strategy:i,middlewareData:g}};async function fb(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:a}=n,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:p=!1,padding:g=0}=Lh(e,n),b=I8(g),v=l[p?d==="floating"?"reference":"floating":d],w=gp(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(v)))==null||t?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:a})),k=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,$=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),B=await(s.isElement==null?void 0:s.isElement($))?await(s.getScale==null?void 0:s.getScale($))||{x:1,y:1}:{x:1,y:1},N=gp(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:k,offsetParent:$,strategy:a}):k);return{top:(w.top-N.top+b.top)/B.y,bottom:(N.bottom-w.bottom+b.bottom)/B.y,left:(w.left-N.left+b.left)/B.x,right:(N.right-w.right+b.right)/B.x}}const gN=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:a,elements:u}=e,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...v}=Lh(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const w=ko(i),k=ks(l),$=ko(l)===l,B=await(a.isRTL==null?void 0:a.isRTL(u.floating)),N=p||($||!x?[pp(l)]:E8(l)),z=b!=="none";!p&&z&&N.push(...N8(l,x,b,B));const Z=[l,...N],H=await fb(e,v),te=[];let K=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&te.push(H[w]),d){const Q=R8(i,o,B);te.push(H[Q[0]],H[Q[1]])}if(K=[...K,{placement:i,overflows:te}],!te.every(Q=>Q<=0)){var R,E;const Q=(((R=s.flip)==null?void 0:R.index)||0)+1,I=Z[Q];if(I&&(!(d==="alignment"?k!==ks(I):!1)||K.every(V=>V.overflows[0]>0&&ks(V.placement)===k)))return{data:{index:Q,overflows:K},reset:{placement:I}};let j=(E=K.filter(q=>q.overflows[0]<=0).sort((q,V)=>q.overflows[1]-V.overflows[1])[0])==null?void 0:E.placement;if(!j)switch(g){case"bestFit":{var P;const q=(P=K.filter(V=>{if(z){const F=ks(V.placement);return F===k||F==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(F=>F>0).reduce((F,U)=>F+U,0)]).sort((V,F)=>V[1]-F[1])[0])==null?void 0:P[0];q&&(j=q);break}case"initialPlacement":j=l;break}if(i!==j)return{reset:{placement:j}}}return{}}}},mN=new Set(["left","top"]);async function ON(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=ko(t),l=_h(t),a=ks(t)==="y",u=mN.has(o)?-1:1,h=s&&a?-1:1,d=Lh(e,n);let{mainAxis:p,crossAxis:g,alignmentAxis:b}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return l&&typeof b=="number"&&(g=l==="end"?b*-1:b),a?{x:g*h,y:p*u}:{x:p*u,y:g*h}}const bN=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:l}=e,a=await ON(e,n);return o===((t=l.offset)==null?void 0:t.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+a.x,y:s+a.y,data:{...a,placement:o}}}}},xN=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:v=>{let{x:w,y:k}=v;return{x:w,y:k}}},...a}=Lh(n,e),u={x:t,y:r},h=await fb(e,a),d=ks(ko(i)),p=AC(d);let g=u[p],b=u[d];if(s){const v=p==="y"?"top":"left",w=p==="y"?"bottom":"right",k=g+h[v],$=g-h[w];g=l2(k,g,$)}if(o){const v=d==="y"?"top":"left",w=d==="y"?"bottom":"right",k=b+h[v],$=b-h[w];b=l2(k,b,$)}const x=l.fn({...e,[p]:g,[d]:b});return{...x,data:{x:x.x-t,y:x.y-r,enabled:{[p]:s,[d]:o}}}}}},vN=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:a=()=>{},...u}=Lh(n,e),h=await fb(e,u),d=ko(i),p=_h(i),g=ks(i)==="y",{width:b,height:x}=s.floating;let v,w;d==="top"||d==="bottom"?(v=d,w=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(w=d,v=p==="end"?"top":"bottom");const k=x-h.top-h.bottom,$=b-h.left-h.right,B=cc(x-h[v],k),N=cc(b-h[w],$),z=!e.middlewareData.shift;let Z=B,H=N;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(H=$),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(Z=k),z&&!p){const K=br(h.left,0),R=br(h.right,0),E=br(h.top,0),P=br(h.bottom,0);g?H=b-2*(K!==0||R!==0?K+R:br(h.left,h.right)):Z=x-2*(E!==0||P!==0?E+P:br(h.top,h.bottom))}await a({...e,availableWidth:H,availableHeight:Z});const te=await o.getDimensions(l.floating);return b!==te.width||x!==te.height?{reset:{rects:!0}}:{}}}};function WC(n){const e=Wr(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Kt(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,l=dp(t)!==s||dp(r)!==o;return l&&(t=s,r=o),{width:t,height:r,$:l}}function db(n){return Qt(n)?n:n.contextElement}function Ga(n){const e=db(n);if(!Kt(e))return Di(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=WC(e);let o=(s?dp(t.width):t.width)/r,l=(s?dp(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const yN=Di(0);function FC(n){const e=nr(n);return!pg()||!e.visualViewport?yN:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function SN(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==nr(n)?!1:e}function kl(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=db(n);let o=Di(1);e&&(r?Qt(r)&&(o=Ga(r)):o=Ga(n));const l=SN(s,t,r)?FC(s):Di(0);let a=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,h=i.width/o.x,d=i.height/o.y;if(s){const p=nr(s),g=r&&Qt(r)?nr(r):r;let b=p,x=RO(b);for(;x&&r&&g!==b;){const v=Ga(x),w=x.getBoundingClientRect(),k=Wr(x),$=w.left+(x.clientLeft+parseFloat(k.paddingLeft))*v.x,B=w.top+(x.clientTop+parseFloat(k.paddingTop))*v.y;a*=v.x,u*=v.y,h*=v.x,d*=v.y,a+=$,u+=B,b=nr(x),x=RO(b)}}return gp({width:h,height:d,x:a,y:u})}function pb(n,e){const t=gg(n).scrollLeft;return e?e.left+t:kl(Wi(n)).left+t}function YC(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),i=r.left+e.scrollLeft-(t?0:pb(n,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function wN(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",o=Wi(r),l=e?dg(e.floating):!1;if(r===o||l&&s)return t;let a={scrollLeft:0,scrollTop:0},u=Di(1);const h=Di(0),d=Kt(r);if((d||!d&&!s)&&((Eo(r)!=="body"||Eh(o))&&(a=gg(r)),Kt(r))){const g=kl(r);u=Ga(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const p=o&&!d&&!s?YC(o,a,!0):Di(0);return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-a.scrollLeft*u.x+h.x+p.x,y:t.y*u.y-a.scrollTop*u.y+h.y+p.y}}function kN(n){return Array.from(n.getClientRects())}function TN(n){const e=Wi(n),t=gg(n),r=n.ownerDocument.body,i=br(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=br(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+pb(n);const l=-t.scrollTop;return Wr(r).direction==="rtl"&&(o+=br(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}function CN(n,e){const t=nr(n),r=Wi(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,a=0;if(i){s=i.width,o=i.height;const u=pg();(!u||u&&e==="fixed")&&(l=i.offsetLeft,a=i.offsetTop)}return{width:s,height:o,x:l,y:a}}const PN=new Set(["absolute","fixed"]);function QN(n,e){const t=kl(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=Kt(n)?Ga(n):Di(1),o=n.clientWidth*s.x,l=n.clientHeight*s.y,a=i*s.x,u=r*s.y;return{width:o,height:l,x:a,y:u}}function m2(n,e,t){let r;if(e==="viewport")r=CN(n,t);else if(e==="document")r=TN(Wi(n));else if(Qt(e))r=QN(e,t);else{const i=FC(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return gp(r)}function HC(n,e){const t=Qs(n);return t===e||!Qt(t)||Ts(t)?!1:Wr(t).position==="fixed"||HC(t,e)}function $N(n,e){const t=e.get(n);if(t)return t;let r=vo(n,[],!1).filter(l=>Qt(l)&&Eo(l)!=="body"),i=null;const s=Wr(n).position==="fixed";let o=s?Qs(n):n;for(;Qt(o)&&!Ts(o);){const l=Wr(o),a=ab(o);!a&&l.position==="fixed"&&(i=null),(s?!a&&!i:!a&&l.position==="static"&&!!i&&PN.has(i.position)||Eh(o)&&!a&&HC(n,o))?r=r.filter(h=>h!==o):i=l,o=Qs(o)}return e.set(n,r),r}function AN(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?dg(e)?[]:$N(e,this._c):[].concat(t),r],l=o[0],a=o.reduce((u,h)=>{const d=m2(e,h,i);return u.top=br(d.top,u.top),u.right=cc(d.right,u.right),u.bottom=cc(d.bottom,u.bottom),u.left=br(d.left,u.left),u},m2(e,l,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}}function RN(n){const{width:e,height:t}=WC(n);return{width:e,height:t}}function EN(n,e,t){const r=Kt(e),i=Wi(e),s=t==="fixed",o=kl(n,!0,s,e);let l={scrollLeft:0,scrollTop:0};const a=Di(0);function u(){a.x=pb(i)}if(r||!r&&!s)if((Eo(e)!=="body"||Eh(i))&&(l=gg(e)),r){const g=kl(e,!0,s,e);a.x=g.x+e.clientLeft,a.y=g.y+e.clientTop}else i&&u();s&&!r&&i&&u();const h=i&&!r&&!s?YC(i,l):Di(0),d=o.left+l.scrollLeft-a.x-h.x,p=o.top+l.scrollTop-a.y-h.y;return{x:d,y:p,width:o.width,height:o.height}}function t0(n){return Wr(n).position==="static"}function O2(n,e){if(!Kt(n)||Wr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Wi(n)===t&&(t=t.ownerDocument.body),t}function GC(n,e){const t=nr(n);if(dg(n))return t;if(!Kt(n)){let i=Qs(n);for(;i&&!Ts(i);){if(Qt(i)&&!t0(i))return i;i=Qs(i)}return t}let r=O2(n,e);for(;r&&y8(r)&&t0(r);)r=O2(r,e);return r&&Ts(r)&&t0(r)&&!ab(r)?t:r||C8(n)||t}const LN=async function(n){const e=this.getOffsetParent||GC,t=this.getDimensions,r=await t(n.floating);return{reference:EN(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function _N(n){return Wr(n).direction==="rtl"}const MN={convertOffsetParentRelativeRectToViewportRelativeRect:wN,getDocumentElement:Wi,getClippingRect:AN,getOffsetParent:GC,getElementRects:LN,getClientRects:kN,getDimensions:RN,getScale:Ga,isElement:Qt,isRTL:_N};function UC(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function NN(n,e){let t=null,r;const i=Wi(n);function s(){var l;clearTimeout(r),(l=t)==null||l.disconnect(),t=null}function o(l,a){l===void 0&&(l=!1),a===void 0&&(a=1),s();const u=n.getBoundingClientRect(),{left:h,top:d,width:p,height:g}=u;if(l||e(),!p||!g)return;const b=Ff(d),x=Ff(i.clientWidth-(h+p)),v=Ff(i.clientHeight-(d+g)),w=Ff(h),$={rootMargin:-b+"px "+-x+"px "+-v+"px "+-w+"px",threshold:br(0,cc(1,a))||1};let B=!0;function N(z){const Z=z[0].intersectionRatio;if(Z!==a){if(!B)return o();Z?o(!1,Z):r=setTimeout(()=>{o(!1,1e-7)},1e3)}Z===1&&!UC(u,n.getBoundingClientRect())&&o(),B=!1}try{t=new IntersectionObserver(N,{...$,root:i.ownerDocument})}catch{t=new IntersectionObserver(N,$)}t.observe(n)}return o(!0),s}function Nh(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:a=!1}=r,u=db(n),h=i||s?[...u?vo(u):[],...vo(e)]:[];h.forEach(w=>{i&&w.addEventListener("scroll",t,{passive:!0}),s&&w.addEventListener("resize",t)});const d=u&&l?NN(u,t):null;let p=-1,g=null;o&&(g=new ResizeObserver(w=>{let[k]=w;k&&k.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var $;($=g)==null||$.observe(e)})),t()}),u&&!a&&g.observe(u),g.observe(e));let b,x=a?kl(n):null;a&&v();function v(){const w=kl(n);x&&!UC(x,w)&&t(),x=w,b=requestAnimationFrame(v)}return t(),()=>{var w;h.forEach(k=>{i&&k.removeEventListener("scroll",t),s&&k.removeEventListener("resize",t)}),d?.(),(w=g)==null||w.disconnect(),g=null,a&&cancelAnimationFrame(b)}}const BN=bN,IN=xN,jN=gN,DN=vN,ZN=(n,e,t)=>{const r=new Map,i={platform:MN,...t},s={...i.platform,_c:r};return pN(n,e,{...i,platform:s})};var zN=typeof document<"u",qN=function(){},Xd=zN?C.useLayoutEffect:qN;function xp(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!xp(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!xp(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function KC(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function b2(n,e){const t=KC(n);return Math.round(e*t)/t}function n0(n){const e=C.useRef(n);return Xd(()=>{e.current=n}),e}function XN(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:a,open:u}=n,[h,d]=C.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=C.useState(r);xp(p,r)||g(r);const[b,x]=C.useState(null),[v,w]=C.useState(null),k=C.useCallback(V=>{V!==z.current&&(z.current=V,x(V))},[]),$=C.useCallback(V=>{V!==Z.current&&(Z.current=V,w(V))},[]),B=s||b,N=o||v,z=C.useRef(null),Z=C.useRef(null),H=C.useRef(h),te=a!=null,K=n0(a),R=n0(i),E=n0(u),P=C.useCallback(()=>{if(!z.current||!Z.current)return;const V={placement:e,strategy:t,middleware:p};R.current&&(V.platform=R.current),ZN(z.current,Z.current,V).then(F=>{const U={...F,isPositioned:E.current!==!1};Q.current&&!xp(H.current,U)&&(H.current=U,hb.flushSync(()=>{d(U)}))})},[p,e,t,R,E]);Xd(()=>{u===!1&&H.current.isPositioned&&(H.current.isPositioned=!1,d(V=>({...V,isPositioned:!1})))},[u]);const Q=C.useRef(!1);Xd(()=>(Q.current=!0,()=>{Q.current=!1}),[]),Xd(()=>{if(B&&(z.current=B),N&&(Z.current=N),B&&N){if(K.current)return K.current(B,N,P);P()}},[B,N,P,K,te]);const I=C.useMemo(()=>({reference:z,floating:Z,setReference:k,setFloating:$}),[k,$]),j=C.useMemo(()=>({reference:B,floating:N}),[B,N]),q=C.useMemo(()=>{const V={position:t,left:0,top:0};if(!j.floating)return V;const F=b2(j.floating,h.x),U=b2(j.floating,h.y);return l?{...V,transform:"translate("+F+"px, "+U+"px)",...KC(j.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:F,top:U}},[t,l,j.floating,h.x,h.y]);return C.useMemo(()=>({...h,update:P,refs:I,elements:j,floatingStyles:q}),[h,P,I,j,q])}const gb=(n,e)=>({...BN(n),options:[n,e]}),mb=(n,e)=>({...IN(n),options:[n,e]}),Ob=(n,e)=>({...jN(n),options:[n,e]}),VN=(n,e)=>({...DN(n),options:[n,e]}),WN="data-floating-ui-focusable",x2="active",v2="selected",FN={...rb};let y2=!1,YN=0;const S2=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+YN++;function HN(){const[n,e]=C.useState(()=>y2?S2():void 0);return mn(()=>{n==null&&e(S2())},[]),C.useEffect(()=>{y2=!0},[]),n}const GN=FN.useId,bb=GN||HN;function UN(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(i=>i(t))},on(e,t){n.has(e)||n.set(e,new Set),n.get(e).add(t)},off(e,t){var r;(r=n.get(e))==null||r.delete(t)}}}const KN=C.createContext(null),JN=C.createContext(null),xb=()=>{var n;return((n=C.useContext(KN))==null?void 0:n.id)||null},Og=()=>C.useContext(JN);function Tl(n){return"data-floating-ui-"+n}function gr(n){n.current!==-1&&(clearTimeout(n.current),n.current=-1)}const w2=Tl("safe-polygon");function r0(n,e,t){if(t&&!lh(t))return 0;if(typeof n=="number")return n;if(typeof n=="function"){const r=n();return typeof r=="number"?r:r?.[e]}return n?.[e]}function i0(n){return typeof n=="function"?n():n}function eB(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,dataRef:i,events:s,elements:o}=n,{enabled:l=!0,delay:a=0,handleClose:u=null,mouseOnly:h=!1,restMs:d=0,move:p=!0}=e,g=Og(),b=xb(),x=ai(u),v=ai(a),w=ai(t),k=ai(d),$=C.useRef(),B=C.useRef(-1),N=C.useRef(),z=C.useRef(-1),Z=C.useRef(!0),H=C.useRef(!1),te=C.useRef(()=>{}),K=C.useRef(!1),R=Jn(()=>{var q;const V=(q=i.current.openEvent)==null?void 0:q.type;return V?.includes("mouse")&&V!=="mousedown"});C.useEffect(()=>{if(!l)return;function q(V){let{open:F}=V;F||(gr(B),gr(z),Z.current=!0,K.current=!1)}return s.on("openchange",q),()=>{s.off("openchange",q)}},[l,s]),C.useEffect(()=>{if(!l||!x.current||!t)return;function q(F){R()&&r(!1,F,"hover")}const V=Qn(o.floating).documentElement;return V.addEventListener("mouseleave",q),()=>{V.removeEventListener("mouseleave",q)}},[o.floating,t,r,l,x,R]);const E=C.useCallback(function(q,V,F){V===void 0&&(V=!0),F===void 0&&(F="hover");const U=r0(v.current,"close",$.current);U&&!N.current?(gr(B),B.current=window.setTimeout(()=>r(!1,q,F),U)):V&&(gr(B),r(!1,q,F))},[v,r]),P=Jn(()=>{te.current(),N.current=void 0}),Q=Jn(()=>{if(H.current){const q=Qn(o.floating).body;q.style.pointerEvents="",q.removeAttribute(w2),H.current=!1}}),I=Jn(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);C.useEffect(()=>{if(!l)return;function q(J){if(gr(B),Z.current=!1,h&&!lh($.current)||i0(k.current)>0&&!r0(v.current,"open"))return;const ee=r0(v.current,"open",$.current);ee?B.current=window.setTimeout(()=>{w.current||r(!0,J,"hover")},ee):t||r(!0,J,"hover")}function V(J){if(I()){Q();return}te.current();const ee=Qn(o.floating);if(gr(z),K.current=!1,x.current&&i.current.floatingContext){t||gr(B),N.current=x.current({...i.current.floatingContext,tree:g,x:J.clientX,y:J.clientY,onClose(){Q(),P(),I()||E(J,!0,"safe-polygon")}});const ne=N.current;ee.addEventListener("mousemove",ne),te.current=()=>{ee.removeEventListener("mousemove",ne)};return}($.current==="touch"?!Cn(o.floating,J.relatedTarget):!0)&&E(J)}function F(J){I()||i.current.floatingContext&&(x.current==null||x.current({...i.current.floatingContext,tree:g,x:J.clientX,y:J.clientY,onClose(){Q(),P(),I()||E(J)}})(J))}function U(){gr(B)}function oe(J){I()||E(J,!1)}if(Qt(o.domReference)){const J=o.domReference,ee=o.floating;return t&&J.addEventListener("mouseleave",F),p&&J.addEventListener("mousemove",q,{once:!0}),J.addEventListener("mouseenter",q),J.addEventListener("mouseleave",V),ee&&(ee.addEventListener("mouseleave",F),ee.addEventListener("mouseenter",U),ee.addEventListener("mouseleave",oe)),()=>{t&&J.removeEventListener("mouseleave",F),p&&J.removeEventListener("mousemove",q),J.removeEventListener("mouseenter",q),J.removeEventListener("mouseleave",V),ee&&(ee.removeEventListener("mouseleave",F),ee.removeEventListener("mouseenter",U),ee.removeEventListener("mouseleave",oe))}}},[o,l,n,h,p,E,P,Q,r,t,w,g,v,x,i,I,k]),mn(()=>{var q;if(l&&t&&(q=x.current)!=null&&(q=q.__options)!=null&&q.blockPointerEvents&&R()){H.current=!0;const F=o.floating;if(Qt(o.domReference)&&F){var V;const U=Qn(o.floating).body;U.setAttribute(w2,"");const oe=o.domReference,J=g==null||(V=g.nodesRef.current.find(ee=>ee.id===b))==null||(V=V.context)==null?void 0:V.elements.floating;return J&&(J.style.pointerEvents=""),U.style.pointerEvents="none",oe.style.pointerEvents="auto",F.style.pointerEvents="auto",()=>{U.style.pointerEvents="",oe.style.pointerEvents="",F.style.pointerEvents=""}}}},[l,t,b,o,g,x,R]),mn(()=>{t||($.current=void 0,K.current=!1,P(),Q())},[t,P,Q]),C.useEffect(()=>()=>{P(),gr(B),gr(z),Q()},[l,o.domReference,P,Q]);const j=C.useMemo(()=>{function q(V){$.current=V.pointerType}return{onPointerDown:q,onPointerEnter:q,onMouseMove(V){const{nativeEvent:F}=V;function U(){!Z.current&&!w.current&&r(!0,F,"hover")}h&&!lh($.current)||t||i0(k.current)===0||K.current&&V.movementX**2+V.movementY**2<2||(gr(z),$.current==="touch"?U():(K.current=!0,z.current=window.setTimeout(U,i0(k.current))))}}},[h,r,t,w,k]);return C.useMemo(()=>l?{reference:j}:{},[l,j])}let k2=0;function Sa(n,e){e===void 0&&(e={});const{preventScroll:t=!1,cancelPrevious:r=!0,sync:i=!1}=e;r&&cancelAnimationFrame(k2);const s=()=>n?.focus({preventScroll:t});i?s():k2=requestAnimationFrame(s)}function tB(n){return n?.ownerDocument||document}const Ua={inert:new WeakMap,"aria-hidden":new WeakMap,none:new WeakMap};function T2(n){return n==="inert"?Ua.inert:n==="aria-hidden"?Ua["aria-hidden"]:Ua.none}let Yf=new WeakSet,Hf={},s0=0;const nB=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,JC=n=>n&&(n.host||JC(n.parentNode)),rB=(n,e)=>e.map(t=>{if(n.contains(t))return t;const r=JC(t);return n.contains(r)?r:null}).filter(t=>t!=null);function iB(n,e,t,r){const i="data-floating-ui-inert",s=r?"inert":t?"aria-hidden":null,o=rB(e,n),l=new Set,a=new Set(o),u=[];Hf[i]||(Hf[i]=new WeakMap);const h=Hf[i];o.forEach(d),p(e),l.clear();function d(g){!g||l.has(g)||(l.add(g),g.parentNode&&d(g.parentNode))}function p(g){!g||a.has(g)||[].forEach.call(g.children,b=>{if(Eo(b)!=="script")if(l.has(b))p(b);else{const x=s?b.getAttribute(s):null,v=x!==null&&x!=="false",w=T2(s),k=(w.get(b)||0)+1,$=(h.get(b)||0)+1;w.set(b,k),h.set(b,$),u.push(b),k===1&&v&&Yf.add(b),$===1&&b.setAttribute(i,""),!v&&s&&b.setAttribute(s,s==="inert"?"":"true")}})}return s0++,()=>{u.forEach(g=>{const b=T2(s),v=(b.get(g)||0)-1,w=(h.get(g)||0)-1;b.set(g,v),h.set(g,w),v||(!Yf.has(g)&&s&&g.removeAttribute(s),Yf.delete(g)),w||g.removeAttribute(i)}),s0--,s0||(Ua.inert=new WeakMap,Ua["aria-hidden"]=new WeakMap,Ua.none=new WeakMap,Yf=new WeakSet,Hf={})}}function C2(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=tB(n[0]).body;return iB(n.concat(Array.from(r.querySelectorAll('[aria-live],[role="status"],output'))),r,e,t)}const bg={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},vp=C.forwardRef(function(e,t){const[r,i]=C.useState();mn(()=>{ZC()&&i("button")},[]);const s={ref:t,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[Tl("focus-guard")]:"",style:bg};return O.jsx("span",{...e,...s})}),eP=C.createContext(null),P2=Tl("portal");function sB(n){n===void 0&&(n={});const{id:e,root:t}=n,r=bb(),i=tP(),[s,o]=C.useState(null),l=C.useRef(null);return mn(()=>()=>{s?.remove(),queueMicrotask(()=>{l.current=null})},[s]),mn(()=>{if(!r||l.current)return;const a=e?document.getElementById(e):null;if(!a)return;const u=document.createElement("div");u.id=r,u.setAttribute(P2,""),a.appendChild(u),l.current=u,o(u)},[e,r]),mn(()=>{if(t===null||!r||l.current)return;let a=t||i?.portalNode;a&&!Qt(a)&&(a=a.current),a=a||document.body;let u=null;e&&(u=document.createElement("div"),u.id=e,a.appendChild(u));const h=document.createElement("div");h.id=r,h.setAttribute(P2,""),a=u||a,a.appendChild(h),l.current=h,o(h)},[e,t,r,i]),s}function xg(n){const{children:e,id:t,root:r,preserveTabOrder:i=!0}=n,s=sB({id:t,root:r}),[o,l]=C.useState(null),a=C.useRef(null),u=C.useRef(null),h=C.useRef(null),d=C.useRef(null),p=o?.modal,g=o?.open,b=!!o&&!o.modal&&o.open&&i&&!!(r||s);return C.useEffect(()=>{if(!s||!i||p)return;function x(v){s&&Yu(v)&&(v.type==="focusin"?p2:dN)(s)}return s.addEventListener("focusin",x,!0),s.addEventListener("focusout",x,!0),()=>{s.removeEventListener("focusin",x,!0),s.removeEventListener("focusout",x,!0)}},[s,i,p]),C.useEffect(()=>{s&&(g||p2(s))},[g,s]),O.jsxs(eP.Provider,{value:C.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:a,afterOutsideRef:u,beforeInsideRef:h,afterInsideRef:d,portalNode:s,setFocusManagerState:l}),[i,s]),children:[b&&s&&O.jsx(vp,{"data-type":"outside",ref:a,onFocus:x=>{if(Yu(x,s)){var v;(v=h.current)==null||v.focus()}else{const w=o?o.domReference:null,k=VC(w);k?.focus()}}}),b&&s&&O.jsx("span",{"aria-owns":s.id,style:bg}),s&&hb.createPortal(e,s),b&&s&&O.jsx(vp,{"data-type":"outside",ref:u,onFocus:x=>{if(Yu(x,s)){var v;(v=d.current)==null||v.focus()}else{const w=o?o.domReference:null,k=XC(w);k?.focus(),o?.closeOnFocusOut&&o?.onOpenChange(!1,x.nativeEvent,"focus-out")}}})]})}const tP=()=>C.useContext(eP);function Q2(n){return C.useMemo(()=>e=>{n.forEach(t=>{t&&(t.current=e)})},n)}const oB=20;let fl=[];function lB(n){fl=fl.filter(e=>e.isConnected),n&&Eo(n)!=="body"&&(fl.push(n),fl.length>oB&&(fl=fl.slice(-20)))}function $2(){return fl.slice().reverse().find(n=>n.isConnected)}function aB(n){const e=Mh();return jC(n,e)?n:mg(n,e)[0]||n}function A2(n,e){var t;if(!e.current.includes("floating")&&!((t=n.getAttribute("role"))!=null&&t.includes("dialog")))return;const r=Mh(),s=eN(n,r).filter(l=>{const a=l.getAttribute("data-tabindex")||"";return jC(l,r)||l.hasAttribute("data-tabindex")&&!a.startsWith("-")}),o=n.getAttribute("tabindex");e.current.includes("floating")||s.length===0?o!=="0"&&n.setAttribute("tabindex","0"):(o!=="-1"||n.hasAttribute("data-tabindex")&&n.getAttribute("data-tabindex")!=="-1")&&(n.setAttribute("tabindex","-1"),n.setAttribute("data-tabindex","-1"))}const cB=C.forwardRef(function(e,t){return O.jsx("button",{...e,type:"button",ref:t,tabIndex:-1,style:bg})});function vb(n){const{context:e,children:t,disabled:r=!1,order:i=["content"],guards:s=!0,initialFocus:o=0,returnFocus:l=!0,restoreFocus:a=!1,modal:u=!0,visuallyHiddenDismiss:h=!1,closeOnFocusOut:d=!0,outsideElementsInert:p=!1,getInsideElements:g=()=>[]}=n,{open:b,onOpenChange:x,events:v,dataRef:w,elements:{domReference:k,floating:$}}=e,B=Jn(()=>{var Oe;return(Oe=w.current.floatingContext)==null?void 0:Oe.nodeId}),N=Jn(g),z=typeof o=="number"&&o<0,Z=f2(k)&&z,H=nB(),te=H?s:!0,K=!te||H&&p,R=ai(i),E=ai(o),P=ai(l),Q=Og(),I=tP(),j=C.useRef(null),q=C.useRef(null),V=C.useRef(!1),F=C.useRef(!1),U=C.useRef(-1),oe=I!=null,J=NO($),ee=Jn(function(Oe){return Oe===void 0&&(Oe=J),Oe?mg(Oe,Mh()):[]}),fe=Jn(Oe=>{const Se=ee(Oe);return R.current.map(me=>k&&me==="reference"?k:J&&me==="floating"?J:Se).filter(Boolean).flat()});C.useEffect(()=>{if(r||!u)return;function Oe(me){if(me.key==="Tab"){Cn(J,fo(Qn(J)))&&ee().length===0&&!Z&&e0(me);const be=fe(),De=Ss(me);R.current[0]==="reference"&&De===k&&(e0(me),me.shiftKey?Sa(be[be.length-1]):Sa(be[1])),R.current[1]==="floating"&&De===J&&me.shiftKey&&(e0(me),Sa(be[0]))}}const Se=Qn(J);return Se.addEventListener("keydown",Oe),()=>{Se.removeEventListener("keydown",Oe)}},[r,k,J,u,R,Z,ee,fe]),C.useEffect(()=>{if(r||!$)return;function Oe(Se){const me=Ss(Se),De=ee().indexOf(me);De!==-1&&(U.current=De)}return $.addEventListener("focusin",Oe),()=>{$.removeEventListener("focusin",Oe)}},[r,$,ee]),C.useEffect(()=>{if(r||!d)return;function Oe(){F.current=!0,setTimeout(()=>{F.current=!1})}function Se(me){const be=me.relatedTarget,De=me.currentTarget,gt=Ss(me);queueMicrotask(()=>{const bt=B(),ft=!(Cn(k,be)||Cn($,be)||Cn(be,$)||Cn(I?.portalNode,be)||be!=null&&be.hasAttribute(Tl("focus-guard"))||Q&&(Ha(Q.nodesRef.current,bt).find(dt=>{var nt,ut;return Cn((nt=dt.context)==null?void 0:nt.elements.floating,be)||Cn((ut=dt.context)==null?void 0:ut.elements.domReference,be)})||d2(Q.nodesRef.current,bt).find(dt=>{var nt,ut,vn;return[(nt=dt.context)==null?void 0:nt.elements.floating,NO((ut=dt.context)==null?void 0:ut.elements.floating)].includes(be)||((vn=dt.context)==null?void 0:vn.elements.domReference)===be})));if(De===k&&J&&A2(J,R),a&&De!==k&&!(gt!=null&&gt.isConnected)&&fo(Qn(J))===Qn(J).body){Kt(J)&&J.focus();const dt=U.current,nt=ee(),ut=nt[dt]||nt[nt.length-1]||J;Kt(ut)&&ut.focus()}if(w.current.insideReactTree){w.current.insideReactTree=!1;return}(Z||!u)&&be&&ft&&!F.current&&be!==$2()&&(V.current=!0,x(!1,me,"focus-out"))})}if($&&Kt(k))return k.addEventListener("focusout",Se),k.addEventListener("pointerdown",Oe),$.addEventListener("focusout",Se),()=>{k.removeEventListener("focusout",Se),k.removeEventListener("pointerdown",Oe),$.removeEventListener("focusout",Se)}},[r,k,$,J,u,Q,I,x,d,a,ee,Z,B,R,w]);const ne=C.useRef(null),he=C.useRef(null),de=Q2([ne,I?.beforeInsideRef]),ge=Q2([he,I?.afterInsideRef]);C.useEffect(()=>{var Oe,Se;if(r||!$)return;const me=Array.from((I==null||(Oe=I.portalNode)==null?void 0:Oe.querySelectorAll("["+Tl("portal")+"]"))||[]),be=Q?d2(Q.nodesRef.current,B()):[],De=Q&&!u?be.map(dt=>{var nt;return(nt=dt.context)==null?void 0:nt.elements.floating}):[],gt=(Se=be.find(dt=>{var nt;return f2(((nt=dt.context)==null?void 0:nt.elements.domReference)||null)}))==null||(Se=Se.context)==null?void 0:Se.elements.domReference,bt=[$,gt,...me,...De,...N(),j.current,q.current,ne.current,he.current,I?.beforeOutsideRef.current,I?.afterOutsideRef.current,R.current.includes("reference")||Z?k:null].filter(dt=>dt!=null),ft=u||Z?C2(bt,!K,K):C2(bt);return()=>{ft()}},[r,k,$,u,R,I,Z,te,K,Q,B,N]),mn(()=>{if(r||!Kt(J))return;const Oe=Qn(J),Se=fo(Oe);queueMicrotask(()=>{const me=fe(J),be=E.current,De=(typeof be=="number"?me[be]:be.current)||J,gt=Cn(J,Se);!z&&!gt&&b&&Sa(De,{preventScroll:De===J})})},[r,b,J,z,fe,E]),mn(()=>{if(r||!J)return;const Oe=Qn(J),Se=fo(Oe);lB(Se);function me(gt){let{reason:bt,event:ft,nested:dt}=gt;if(["hover","safe-polygon"].includes(bt)&&ft.type==="mouseleave"&&(V.current=!0),bt==="outside-press")if(dt)V.current=!1;else if(oN(ft)||lN(ft))V.current=!1;else{let nt=!1;document.createElement("div").focus({get preventScroll(){return nt=!0,!1}}),nt?V.current=!1:V.current=!0}}v.on("openchange",me);const be=Oe.createElement("span");be.setAttribute("tabindex","-1"),be.setAttribute("aria-hidden","true"),Object.assign(be.style,bg),oe&&k&&k.insertAdjacentElement("afterend",be);function De(){if(typeof P.current=="boolean"){const gt=k||$2();return gt&&gt.isConnected?gt:be}return P.current.current||be}return()=>{v.off("openchange",me);const gt=fo(Oe),bt=Cn($,gt)||Q&&Ha(Q.nodesRef.current,B(),!1).some(dt=>{var nt;return Cn((nt=dt.context)==null?void 0:nt.elements.floating,gt)}),ft=De();queueMicrotask(()=>{const dt=aB(ft);P.current&&!V.current&&Kt(dt)&&(!(dt!==gt&&gt!==Oe.body)||bt)&&dt.focus({preventScroll:!0}),be.remove()})}},[r,$,J,P,w,v,Q,oe,k,B]),C.useEffect(()=>{queueMicrotask(()=>{V.current=!1})},[r]),mn(()=>{if(!r&&I)return I.setFocusManagerState({modal:u,closeOnFocusOut:d,open:b,onOpenChange:x,domReference:k}),()=>{I.setFocusManagerState(null)}},[r,I,u,b,x,d,k]),mn(()=>{r||J&&A2(J,R)},[r,J,R]);function ke(Oe){return r||!h||!u?null:O.jsx(cB,{ref:Oe==="start"?j:q,onClick:Se=>x(!1,Se.nativeEvent),children:typeof h=="string"?h:"Dismiss"})}const Ee=!r&&te&&(u?!Z:!0)&&(oe||u);return O.jsxs(O.Fragment,{children:[Ee&&O.jsx(vp,{"data-type":"inside",ref:de,onFocus:Oe=>{if(u){const me=fe();Sa(i[0]==="reference"?me[0]:me[me.length-1])}else if(I!=null&&I.preserveTabOrder&&I.portalNode)if(V.current=!1,Yu(Oe,I.portalNode)){const me=XC(k);me?.focus()}else{var Se;(Se=I.beforeOutsideRef.current)==null||Se.focus()}}}),!Z&&ke("start"),t,ke("end"),Ee&&O.jsx(vp,{"data-type":"inside",ref:ge,onFocus:Oe=>{if(u)Sa(fe()[0]);else if(I!=null&&I.preserveTabOrder&&I.portalNode)if(d&&(V.current=!0),Yu(Oe,I.portalNode)){const me=VC(k);me?.focus()}else{var Se;(Se=I.afterOutsideRef.current)==null||Se.focus()}}})]})}let Gf=0;const R2="--floating-ui-scrollbar-width";function uB(){const n=cb(),e=/iP(hone|ad|od)|iOS/.test(n)||n==="MacIntel"&&navigator.maxTouchPoints>1,t=document.body.style,i=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",s=window.innerWidth-document.documentElement.clientWidth,o=t.left?parseFloat(t.left):window.scrollX,l=t.top?parseFloat(t.top):window.scrollY;if(t.overflow="hidden",t.setProperty(R2,s+"px"),s&&(t[i]=s+"px"),e){var a,u;const h=((a=window.visualViewport)==null?void 0:a.offsetLeft)||0,d=((u=window.visualViewport)==null?void 0:u.offsetTop)||0;Object.assign(t,{position:"fixed",top:-(l-Math.floor(d))+"px",left:-(o-Math.floor(h))+"px",right:"0"})}return()=>{Object.assign(t,{overflow:"",[i]:""}),t.removeProperty(R2),e&&(Object.assign(t,{position:"",top:"",left:"",right:""}),window.scrollTo(o,l))}}let E2=()=>{};const yb=C.forwardRef(function(e,t){const{lockScroll:r=!1,...i}=e;return mn(()=>{if(r)return Gf++,Gf===1&&(E2=uB()),()=>{Gf--,Gf===0&&E2()}},[r]),O.jsx("div",{ref:t,...i,style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...i.style}})});function L2(n){return Kt(n.target)&&n.target.tagName==="BUTTON"}function hB(n){return Kt(n.target)&&n.target.tagName==="A"}function _2(n){return ub(n)}function fB(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,dataRef:i,elements:{domReference:s}}=n,{enabled:o=!0,event:l="click",toggle:a=!0,ignoreMouse:u=!1,keyboardHandlers:h=!0,stickIfOpen:d=!0}=e,p=C.useRef(),g=C.useRef(!1),b=C.useMemo(()=>({onPointerDown(x){p.current=x.pointerType},onMouseDown(x){const v=p.current;x.button===0&&l!=="click"&&(lh(v,!0)&&u||(t&&a&&(!(i.current.openEvent&&d)||i.current.openEvent.type==="mousedown")?r(!1,x.nativeEvent,"click"):(x.preventDefault(),r(!0,x.nativeEvent,"click"))))},onClick(x){const v=p.current;if(l==="mousedown"&&p.current){p.current=void 0;return}lh(v,!0)&&u||(t&&a&&(!(i.current.openEvent&&d)||i.current.openEvent.type==="click")?r(!1,x.nativeEvent,"click"):r(!0,x.nativeEvent,"click"))},onKeyDown(x){p.current=void 0,!(x.defaultPrevented||!h||L2(x))&&(x.key===" "&&!_2(s)&&(x.preventDefault(),g.current=!0),!hB(x)&&x.key==="Enter"&&r(!(t&&a),x.nativeEvent,"click"))},onKeyUp(x){x.defaultPrevented||!h||L2(x)||_2(s)||x.key===" "&&g.current&&(g.current=!1,r(!(t&&a),x.nativeEvent,"click"))}}),[i,s,l,u,h,r,t,d,a]);return C.useMemo(()=>o?{reference:b}:{},[o,b])}const dB={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},pB={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},M2=n=>{var e,t;return{escapeKey:typeof n=="boolean"?n:(e=n?.escapeKey)!=null?e:!1,outsidePress:typeof n=="boolean"?n:(t=n?.outsidePress)!=null?t:!0}};function vg(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,elements:i,dataRef:s}=n,{enabled:o=!0,escapeKey:l=!0,outsidePress:a=!0,outsidePressEvent:u="pointerdown",referencePress:h=!1,referencePressEvent:d="pointerdown",ancestorScroll:p=!1,bubbles:g,capture:b}=e,x=Og(),v=Jn(typeof a=="function"?a:()=>!1),w=typeof a=="function"?v:a,k=C.useRef(!1),{escapeKey:$,outsidePress:B}=M2(g),{escapeKey:N,outsidePress:z}=M2(b),Z=C.useRef(!1),H=C.useRef(-1),te=Jn(I=>{var j;if(!t||!o||!l||I.key!=="Escape"||Z.current)return;const q=(j=s.current.floatingContext)==null?void 0:j.nodeId,V=x?Ha(x.nodesRef.current,q):[];if(!$&&(I.stopPropagation(),V.length>0)){let F=!0;if(V.forEach(U=>{var oe;if((oe=U.context)!=null&&oe.open&&!U.context.dataRef.current.__escapeKeyBubbles){F=!1;return}}),!F)return}r(!1,sN(I)?I.nativeEvent:I,"escape-key")}),K=Jn(I=>{var j;const q=()=>{var V;te(I),(V=Ss(I))==null||V.removeEventListener("keydown",q)};(j=Ss(I))==null||j.addEventListener("keydown",q)}),R=Jn(I=>{var j;const q=s.current.insideReactTree;s.current.insideReactTree=!1;const V=k.current;if(k.current=!1,u==="click"&&V||q||typeof w=="function"&&!w(I))return;const F=Ss(I),U="["+Tl("inert")+"]",oe=Qn(i.floating).querySelectorAll(U);let J=Qt(F)?F:null;for(;J&&!Ts(J);){const he=Qs(J);if(Ts(he)||!Qt(he))break;J=he}if(oe.length&&Qt(F)&&!rN(F)&&!Cn(F,i.floating)&&Array.from(oe).every(he=>!Cn(J,he)))return;if(Kt(F)&&Q){const he=Ts(F),de=Wr(F),ge=/auto|scroll/,ke=he||ge.test(de.overflowX),Ee=he||ge.test(de.overflowY),Oe=ke&&F.clientWidth>0&&F.scrollWidth>F.clientWidth,Se=Ee&&F.clientHeight>0&&F.scrollHeight>F.clientHeight,me=de.direction==="rtl",be=Se&&(me?I.offsetX<=F.offsetWidth-F.clientWidth:I.offsetX>F.clientWidth),De=Oe&&I.offsetY>F.clientHeight;if(be||De)return}const ee=(j=s.current.floatingContext)==null?void 0:j.nodeId,fe=x&&Ha(x.nodesRef.current,ee).some(he=>{var de;return Jm(I,(de=he.context)==null?void 0:de.elements.floating)});if(Jm(I,i.floating)||Jm(I,i.domReference)||fe)return;const ne=x?Ha(x.nodesRef.current,ee):[];if(ne.length>0){let he=!0;if(ne.forEach(de=>{var ge;if((ge=de.context)!=null&&ge.open&&!de.context.dataRef.current.__outsidePressBubbles){he=!1;return}}),!he)return}r(!1,I,"outside-press")}),E=Jn(I=>{var j;const q=()=>{var V;R(I),(V=Ss(I))==null||V.removeEventListener(u,q)};(j=Ss(I))==null||j.addEventListener(u,q)});C.useEffect(()=>{if(!t||!o)return;s.current.__escapeKeyBubbles=$,s.current.__outsidePressBubbles=B;let I=-1;function j(oe){r(!1,oe,"ancestor-scroll")}function q(){window.clearTimeout(I),Z.current=!0}function V(){I=window.setTimeout(()=>{Z.current=!1},pg()?5:0)}const F=Qn(i.floating);l&&(F.addEventListener("keydown",N?K:te,N),F.addEventListener("compositionstart",q),F.addEventListener("compositionend",V)),w&&F.addEventListener(u,z?E:R,z);let U=[];return p&&(Qt(i.domReference)&&(U=vo(i.domReference)),Qt(i.floating)&&(U=U.concat(vo(i.floating))),!Qt(i.reference)&&i.reference&&i.reference.contextElement&&(U=U.concat(vo(i.reference.contextElement)))),U=U.filter(oe=>{var J;return oe!==((J=F.defaultView)==null?void 0:J.visualViewport)}),U.forEach(oe=>{oe.addEventListener("scroll",j,{passive:!0})}),()=>{l&&(F.removeEventListener("keydown",N?K:te,N),F.removeEventListener("compositionstart",q),F.removeEventListener("compositionend",V)),w&&F.removeEventListener(u,z?E:R,z),U.forEach(oe=>{oe.removeEventListener("scroll",j)}),window.clearTimeout(I)}},[s,i,l,w,u,t,r,p,o,$,B,te,N,K,R,z,E]),C.useEffect(()=>{s.current.insideReactTree=!1},[s,w,u]);const P=C.useMemo(()=>({onKeyDown:te,...h&&{[dB[d]]:I=>{r(!1,I.nativeEvent,"reference-press")},...d!=="click"&&{onClick(I){r(!1,I.nativeEvent,"reference-press")}}}}),[te,r,h,d]),Q=C.useMemo(()=>({onKeyDown:te,onMouseDown(){k.current=!0},onMouseUp(){k.current=!0},[pB[u]]:()=>{s.current.insideReactTree=!0},onBlurCapture(){x||(gr(H),s.current.insideReactTree=!0,H.current=window.setTimeout(()=>{s.current.insideReactTree=!1}))}}),[te,u,s,x]);return C.useMemo(()=>o?{reference:P,floating:Q}:{},[o,P,Q])}function gB(n){const{open:e=!1,onOpenChange:t,elements:r}=n,i=bb(),s=C.useRef({}),[o]=C.useState(()=>UN()),l=xb()!=null,[a,u]=C.useState(r.reference),h=Jn((g,b,x)=>{s.current.openEvent=g?b:void 0,o.emit("openchange",{open:g,event:b,reason:x,nested:l}),t?.(g,b,x)}),d=C.useMemo(()=>({setPositionReference:u}),[]),p=C.useMemo(()=>({reference:a||r.reference||null,floating:r.floating||null,domReference:r.reference}),[a,r.reference,r.floating]);return C.useMemo(()=>({dataRef:s,open:e,onOpenChange:h,elements:p,events:o,floatingId:i,refs:d}),[e,h,p,o,i,d])}function Bh(n){n===void 0&&(n={});const{nodeId:e}=n,t=gB({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,i=r.elements,[s,o]=C.useState(null),[l,a]=C.useState(null),h=i?.domReference||s,d=C.useRef(null),p=Og();mn(()=>{h&&(d.current=h)},[h]);const g=XN({...n,elements:{...i,...l&&{reference:l}}}),b=C.useCallback($=>{const B=Qt($)?{getBoundingClientRect:()=>$.getBoundingClientRect(),getClientRects:()=>$.getClientRects(),contextElement:$}:$;a(B),g.refs.setReference(B)},[g.refs]),x=C.useCallback($=>{(Qt($)||$===null)&&(d.current=$,o($)),(Qt(g.refs.reference.current)||g.refs.reference.current===null||$!==null&&!Qt($))&&g.refs.setReference($)},[g.refs]),v=C.useMemo(()=>({...g.refs,setReference:x,setPositionReference:b,domReference:d}),[g.refs,x,b]),w=C.useMemo(()=>({...g.elements,domReference:h}),[g.elements,h]),k=C.useMemo(()=>({...g,...r,refs:v,elements:w,nodeId:e}),[g,v,w,e,r]);return mn(()=>{r.dataRef.current.floatingContext=k;const $=p?.nodesRef.current.find(B=>B.id===e);$&&($.context=k)}),C.useMemo(()=>({...g,context:k,refs:v,elements:w}),[g,v,w,k])}function o0(){return tN()&&ZC()}function mB(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,events:i,dataRef:s,elements:o}=n,{enabled:l=!0,visibleOnly:a=!0}=e,u=C.useRef(!1),h=C.useRef(-1),d=C.useRef(!0);C.useEffect(()=>{if(!l)return;const g=nr(o.domReference);function b(){!t&&Kt(o.domReference)&&o.domReference===fo(Qn(o.domReference))&&(u.current=!0)}function x(){d.current=!0}function v(){d.current=!1}return g.addEventListener("blur",b),o0()&&(g.addEventListener("keydown",x,!0),g.addEventListener("pointerdown",v,!0)),()=>{g.removeEventListener("blur",b),o0()&&(g.removeEventListener("keydown",x,!0),g.removeEventListener("pointerdown",v,!0))}},[o.domReference,t,l]),C.useEffect(()=>{if(!l)return;function g(b){let{reason:x}=b;(x==="reference-press"||x==="escape-key")&&(u.current=!0)}return i.on("openchange",g),()=>{i.off("openchange",g)}},[i,l]),C.useEffect(()=>()=>{gr(h)},[]);const p=C.useMemo(()=>({onMouseLeave(){u.current=!1},onFocus(g){if(u.current)return;const b=Ss(g.nativeEvent);if(a&&Qt(b)){if(o0()&&!g.relatedTarget){if(!d.current&&!ub(b))return}else if(!iN(b))return}r(!0,g.nativeEvent,"focus")},onBlur(g){u.current=!1;const b=g.relatedTarget,x=g.nativeEvent,v=Qt(b)&&b.hasAttribute(Tl("focus-guard"))&&b.getAttribute("data-type")==="outside";h.current=window.setTimeout(()=>{var w;const k=fo(o.domReference?o.domReference.ownerDocument:document);!b&&k===o.domReference||Cn((w=s.current.floatingContext)==null?void 0:w.refs.floating.current,k)||Cn(o.domReference,k)||v||r(!1,x,"focus")})}}),[s,o.domReference,r,a]);return C.useMemo(()=>l?{reference:p}:{},[l,p])}function l0(n,e,t){const r=new Map,i=t==="item";let s=n;if(i&&n){const{[x2]:o,[v2]:l,...a}=n;s=a}return{...t==="floating"&&{tabIndex:-1,[WN]:""},...s,...e.map(o=>{const l=o?o[t]:null;return typeof l=="function"?n?l(n):null:l}).concat(n).reduce((o,l)=>(l&&Object.entries(l).forEach(a=>{let[u,h]=a;if(!(i&&[x2,v2].includes(u)))if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof h=="function"){var d;(d=r.get(u))==null||d.push(h),o[u]=function(){for(var p,g=arguments.length,b=new Array(g),x=0;x<g;x++)b[x]=arguments[x];return(p=r.get(u))==null?void 0:p.map(v=>v(...b)).find(v=>v!==void 0)}}}else o[u]=h}),o),{})}}function yg(n){n===void 0&&(n=[]);const e=n.map(l=>l?.reference),t=n.map(l=>l?.floating),r=n.map(l=>l?.item),i=C.useCallback(l=>l0(l,n,"reference"),e),s=C.useCallback(l=>l0(l,n,"floating"),t),o=C.useCallback(l=>l0(l,n,"item"),r);return C.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}const OB=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Sb(n,e){var t,r;e===void 0&&(e={});const{open:i,elements:s,floatingId:o}=n,{enabled:l=!0,role:a="dialog"}=e,u=bb(),h=((t=s.domReference)==null?void 0:t.id)||u,d=C.useMemo(()=>{var k;return((k=NO(s.floating))==null?void 0:k.id)||o},[s.floating,o]),p=(r=OB.get(a))!=null?r:a,b=xb()!=null,x=C.useMemo(()=>p==="tooltip"||a==="label"?{["aria-"+(a==="label"?"labelledby":"describedby")]:i?d:void 0}:{"aria-expanded":i?"true":"false","aria-haspopup":p==="alertdialog"?"dialog":p,"aria-controls":i?d:void 0,...p==="listbox"&&{role:"combobox"},...p==="menu"&&{id:h},...p==="menu"&&b&&{role:"menuitem"},...a==="select"&&{"aria-autocomplete":"none"},...a==="combobox"&&{"aria-autocomplete":"list"}},[p,d,b,i,h,a]),v=C.useMemo(()=>{const k={id:d,...p&&{role:p}};return p==="tooltip"||a==="label"?k:{...k,...p==="menu"&&{"aria-labelledby":h}}},[p,d,h,a]),w=C.useCallback(k=>{let{active:$,selected:B}=k;const N={role:"option",...$&&{id:d+"-fui-option"}};switch(a){case"select":return{...N,"aria-selected":$&&B};case"combobox":return{...N,"aria-selected":B}}return{}},[d,a]);return C.useMemo(()=>l?{reference:x,floating:v,item:w}:{},[l,x,v,w])}const N2=n=>n.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,t)=>(t?"-":"")+e.toLowerCase());function wa(n,e){return typeof n=="function"?n(e):n}function bB(n,e){const[t,r]=C.useState(n);return n&&!t&&r(!0),C.useEffect(()=>{if(!n&&t){const i=setTimeout(()=>r(!1),e);return()=>clearTimeout(i)}},[n,t,e]),t}function xB(n,e){e===void 0&&(e={});const{open:t,elements:{floating:r}}=n,{duration:i=250}=e,o=(typeof i=="number"?i:i.close)||0,[l,a]=C.useState("unmounted"),u=bB(t,o);return!u&&l==="close"&&a("unmounted"),mn(()=>{if(r){if(t){a("initial");const h=requestAnimationFrame(()=>{hb.flushSync(()=>{a("open")})});return()=>{cancelAnimationFrame(h)}}a("close")}},[t,r]),{isMounted:u,status:l}}function wb(n,e){e===void 0&&(e={});const{initial:t={opacity:0},open:r,close:i,common:s,duration:o=250}=e,l=n.placement,a=l.split("-")[0],u=C.useMemo(()=>({side:a,placement:l}),[a,l]),h=typeof o=="number",d=(h?o:o.open)||0,p=(h?o:o.close)||0,[g,b]=C.useState(()=>({...wa(s,u),...wa(t,u)})),{isMounted:x,status:v}=xB(n,{duration:o}),w=ai(t),k=ai(r),$=ai(i),B=ai(s);return mn(()=>{const N=wa(w.current,u),z=wa($.current,u),Z=wa(B.current,u),H=wa(k.current,u)||Object.keys(N).reduce((te,K)=>(te[K]="",te),{});if(v==="initial"&&b(te=>({transitionProperty:te.transitionProperty,...Z,...N})),v==="open"&&b({transitionProperty:Object.keys(H).map(N2).join(","),transitionDuration:d+"ms",...Z,...H}),v==="close"){const te=z||N;b({transitionProperty:Object.keys(te).map(N2).join(","),transitionDuration:p+"ms",...Z,...te})}},[p,$,w,k,B,d,v,u]),{isMounted:x,styles:g}}const nP=({className:n=void 0,children:e=O.jsx(O.Fragment,{}),content:t="",placement:r="top",fallbackPlacement:i=["top","bottom","right","left"]})=>{if(!t)return O.jsx(O.Fragment,{children:e});const{globalShape:s}=C.useContext(Lt),[o,l]=C.useState(!1),{refs:a,floatingStyles:u,context:h}=Bh({open:o,onOpenChange:l,placement:r,middleware:[gb(4),mb(),Ob({padding:10,fallbackPlacements:i})],strategy:"fixed",whileElementsMounted:Nh}),d=eB(h,{move:!1}),p=mB(h),g=vg(h),{getReferenceProps:b,getFloatingProps:x}=yg([d,p,g]);return O.jsxs(O.Fragment,{children:[O.jsx("div",{className:je("tooltip",n),ref:a.setReference,...b(),children:e}),o&&O.jsx(xg,{children:O.jsx("div",{className:je("tooltip-content-container",s),ref:a.setFloating,style:u,...x(),children:t})})]})},We=({ref:n=void 0,id:e=void 0,className:t=void 0,style:r=void 0,appearance:i="neutral",shape:s=void 0,icon:o=O.jsx(p8,{}),txtLabel:l="",isSelected:a=!1,isDisabled:u=!1,isLoading:h=!1,isShowtooltip:d=!0,tooltipPlacement:p="top",onClick:g=void 0,tabIndex:b=void 0})=>{const{globalShape:x}=C.useContext(Lt);return O.jsx(nP,{content:d?l:"",placement:p,children:O.jsx("button",{ref:n,id:e,tabIndex:b,className:je(t,"icon-button",i,s||x,{selected:a,disabled:u,loading:h}),style:r?.button,onClick:v=>{u||b8(v,g)},disabled:u,"aria-label":l,children:O.jsx("div",{className:"icon",style:r?.icon,children:h?O.jsx(VT,{size:"small"}):o})})})},vB=(n,e)=>{e&&e(n)},qe=({ref:n=void 0,id:e=void 0,className:t=void 0,style:r=void 0,appearance:i="neutral",shape:s=void 0,txtLabel:o="",iconBefore:l=void 0,iconAfter:a=void 0,isSelected:u=!1,isDisabled:h=!1,isLoading:d=!1,onClick:p=void 0,tabIndex:g=void 0})=>{const{globalShape:b}=C.useContext(Lt);return O.jsxs("button",{ref:n,tabIndex:g,id:e,className:je("button",i,s||b,{selected:u,disabled:h,loading:d},t),style:r?.button,onClick:x=>{!h&&!d&&vB(x,p)},disabled:h,children:[(l||d)&&O.jsxs("div",{className:"icon-before",style:r?.iconBefore,children:[d&&O.jsx(VT,{size:"small"}),l]}),typeof o=="string"?O.jsx("div",{className:"text-label-box",style:r?.textLabelBox,children:O.jsx("span",{className:"text-label",style:r?.textLabel,children:o})}):O.jsx(O.Fragment,{children:o}),a&&O.jsx("div",{className:"icon-after",style:r?.iconAfter,children:a})]})},yB=({className:n=void 0,shape:e=void 0,appearance:t="detached",style:r=void 0,tabItem:i=[],selectedItem:s="",onClickTabItem:o=void 0})=>{const{globalShape:l}=C.useContext(Lt);return O.jsx("div",{className:je("tabs-box",t,e||l,n),children:i.map(a=>O.jsx(qe,{shape:e,className:"tabs-item-button",appearance:"subtle",txtLabel:a.txtLabel,isSelected:a.id===s,isDisabled:a.isDisabled,iconBefore:a.iconBefore,iconAfter:a.iconAfter,onClick:()=>{o&&o(a.id)},style:r},a.id))})},Tc=({className:n,trigger:e,style:t=void 0,shape:r=void 0,isDisabled:i=!1,onClose:s=void 0,onOpen:o=void 0,elementHeader:l=void 0,elementFooter:a=void 0,children:u=void 0,triggerClose:h=void 0,floatingConfig:d=void 0})=>{const{globalShape:p}=C.useContext(Lt),g=C.useRef(!1),[b,x]=C.useState(!1),v=C.useMemo(()=>{const R=[];return l&&R.push("min-content"),u&&R.push("1fr"),a&&R.push("min-content"),R.join(" ")},[]),{refs:w,floatingStyles:k,context:$}=Bh({open:b,onOpenChange:R=>{x(R)},placement:d?.placement??"bottom-start",middleware:[gb(d?.level?8:4),mb(),Ob({padding:10,fallbackPlacements:d?.fallbackPlacement??["bottom-start","bottom","bottom-end","top-start","top","top-end"]}),VN({apply({availableHeight:R,elements:E,rects:P}){const Q=`${Math.max(0,R)-50}px`;E.floating.style.maxHeight=Q,d?.isContainerWidthSameAsTrigger?(E.floating.style.width=`${P.reference.width}px`,E.floating.style.minWidth=`${Math.max(180,P.reference.width)}px`,E.floating.style.maxWidth=`${P.reference.width}px`):(E.floating.style.width=d?.width?`${d.width}px`:"310px",E.floating.style.minWidth=d?.width?`${d.width}px`:"310px",E.floating.style.maxWidth=d?.width?`${d.width}px`:"310px")}})],strategy:"fixed",whileElementsMounted:Nh}),B=fB($,{enabled:!i}),N=vg($,{enabled:d?.disabledDismiss!=="all",escapeKey:d?.disabledDismiss!=="esc",outsidePress:d?.disabledDismiss!=="outside",outsidePressEvent:"pointerdown",ancestorScroll:!1}),z=Sb($),{isMounted:Z}=wb($,{duration:{open:0,close:300}}),{getReferenceProps:H,getFloatingProps:te}=yg([B,N,z]);C.useEffect(()=>{Z&&(g.current=!0,o&&o()),!Z&&s&&g.current&&s()},[Z]);const K=C.useMemo(()=>typeof e=="function"?e(w.setReference,H,b,w.domReference):O.jsx("div",{className:je("dropdown-trigger-box"),...H(),style:t?.triggerBox,children:tt.cloneElement(e,{ref:w.setReference,isSelected:b})}),[e,b]);return C.useEffect(()=>{h===1&&w.domReference.current.click()},[h]),O.jsxs(O.Fragment,{children:[K,Z&&O.jsx(xg,{children:O.jsx(yb,{lockScroll:d?.isLockScroll,style:{zIndex:"10",pointerEvents:d?.isLockScroll?"auto":"none"},children:O.jsx(vb,{context:$,order:["reference","content"],modal:d?.isLockScroll,children:O.jsx("div",{className:je("dropdown-box",n),ref:w.setFloating,style:k,...te(),children:O.jsx("div",{className:je("dropdown-container",r||p,{closing:!b}),style:t?.container,children:O.jsxs("div",{className:"content-box",style:{gridTemplateRows:v},children:[l&&O.jsx("div",{className:"element-header-box",children:l}),O.jsx("div",{className:"dropdown-body-box",children:u}),a&&O.jsx("div",{className:"element-footer-box",children:a})]})})})})})})]})},yp=({type:n,onClickBlockToAdd:e})=>{const[t,r]=C.useState(0),i=s=>{e(s),r(1)};return C.useEffect(()=>{t===1&&r(0)},[t]),O.jsx(O.Fragment,{children:O.jsx(Tc,{trigger:O.jsx(We,{className:`add-block-button add-block-${n}-container`,icon:O.jsx(wC,{className:"global-icon"}),txtLabel:`Add block ${n}`,appearance:"primary",isShowtooltip:!1}),floatingConfig:{placement:n==="before"?"top":"bottom",fallbackPlacement:["top","bottom","left","right"],width:420},triggerClose:t,children:O.jsxs("div",{className:"add-block-option-container",children:[O.jsx(qe,{className:"add-block-option-button",txtLabel:"Heading",onClick:()=>{i("heading")},iconBefore:O.jsx(i8,{size:20,className:"global-icon"})}),O.jsx(qe,{className:"add-block-option-button",txtLabel:"Text",onClick:()=>{i("text")},iconBefore:O.jsx(h8,{size:20,className:"global-icon"})}),O.jsx(qe,{className:"add-block-option-button",txtLabel:"List",onClick:()=>{i("list")},iconBefore:O.jsx(SC,{size:20,className:"global-icon"})}),O.jsx(qe,{className:"add-block-option-button",txtLabel:"Image",onClick:()=>{i("image")},iconBefore:O.jsx(fp,{size:20,className:"global-icon"})}),O.jsx(qe,{className:"add-block-option-button",txtLabel:"Button",onClick:()=>{i("button")},iconBefore:O.jsx(B6,{size:20,className:"global-icon"})}),O.jsx(qe,{className:"add-block-option-button",txtLabel:"Container",onClick:()=>{i("container")},iconBefore:O.jsx(e8,{size:20,className:"global-icon"})}),O.jsx(qe,{className:"add-block-option-button",txtLabel:"Column",onClick:()=>{i("column")},iconBefore:O.jsx(n8,{size:20,className:"global-icon"})}),O.jsx(qe,{className:"add-block-option-button",txtLabel:"Devider",onClick:()=>{i("devider")},iconBefore:O.jsx(G6,{size:20,className:"global-icon"})}),O.jsx(qe,{className:"add-block-option-button",txtLabel:"Spacer",onClick:()=>{i("spacer")},iconBefore:O.jsx(t8,{size:20,className:"global-icon"})})]})})})},B2=[{id:"global",txtLabel:"Global Font"},{id:"aria",txtLabel:"Aria"},{id:"verdana",txtLabel:"Verdana"},{id:"tahoma",txtLabel:"Tahoma"},{id:"trebuchet-ms",txtLabel:"Trebuchet MS"},{id:"times-new-roman",txtLabel:"Times New Roman"},{id:"georgia",txtLabel:"Georgia"},{id:"garamond",txtLabel:"Garamond"},{id:"courier-new",txtLabel:"Courier New"},{id:"brush-script-mt",txtLabel:"Brush Script MT"}],I2=[{id:"aria",txtLabel:"Aria"},{id:"verdana",txtLabel:"Verdana"},{id:"tahoma",txtLabel:"Tahoma"},{id:"trebuchet-ms",txtLabel:"Trebuchet MS"},{id:"times-new-roman",txtLabel:"Times New Roman"},{id:"georgia",txtLabel:"Georgia"},{id:"garamond",txtLabel:"Garamond"},{id:"courier-new",txtLabel:"Courier New"},{id:"brush-script-mt",txtLabel:"Brush Script MT"}],Ni={aria:"Arial, sans-serif",verdana:"Verdana, sans-serif",tahoma:"Tahoma, sans-serif","trebuchet-ms":"'Trebuchet MS', sans-serif","times-new-roman":"'Times New Roman', serif",georgia:"Georgia, serif",garamond:"Garamond, serif","courier-new":"'Courier New', monospace","brush-script-mt":"'Brush Script MT', cursive"},SB=({onClickAction:n})=>O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"adder-before adder-container global-radius",children:O.jsx(yp,{type:"before",onClickBlockToAdd:e=>{n(e,!0)}})}),O.jsx("div",{className:"adder-after adder-container global-radius",children:O.jsx(yp,{type:"after",onClickBlockToAdd:e=>{n(e,!1)}})})]}),wB=({handleDragStart:n,handleDragEnd:e,onClickAction:t,isCopyable:r=!0})=>O.jsxs("div",{className:"mover-container global-radius",children:[O.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"32px",width:"32px",borderRadius:"var(--space-100)"},draggable:!0,onDragStart:i=>{n(i)},onDragEnd:i=>{e(i)},children:O.jsx(yC,{className:"global-icon"})}),O.jsx(We,{icon:O.jsx(I6,{className:"global-icon"}),txtLabel:"Move Up",onClick:()=>{t("move-up")},isShowtooltip:!1}),r&&O.jsx(We,{icon:O.jsx(q6,{className:"global-icon"}),txtLabel:"Coppy",onClick:()=>{t("copy")},isShowtooltip:!1}),O.jsx(We,{icon:O.jsx(N6,{className:"global-icon"}),txtLabel:"Move down",onClick:()=>{t("move-down")},isShowtooltip:!1}),O.jsx(We,{icon:O.jsx(d8,{className:"global-icon"}),txtLabel:"Remove",onClick:()=>{t("remove")},isShowtooltip:!1})]});var Wt={},ka={},Uf={},Ta={},Ci={},j2;function Il(){if(j2)return Ci;j2=1,Object.defineProperty(Ci,"__esModule",{value:!0});var n=`
`;Ci.NewLine=n;var e;(function(l){l.Ordered="ordered",l.Bullet="bullet",l.Checked="checked",l.Unchecked="unchecked"})(e||(e={})),Ci.ListType=e;var t;(function(l){l.Sub="sub",l.Super="super"})(t||(t={})),Ci.ScriptType=t;var r;(function(l){l.Rtl="rtl"})(r||(r={})),Ci.DirectionType=r;var i;(function(l){l.Left="left",l.Center="center",l.Right="right",l.Justify="justify"})(i||(i={})),Ci.AlignType=i;var s;(function(l){l.Image="image",l.Video="video",l.Formula="formula",l.Text="text"})(s||(s={})),Ci.DataType=s;var o;return function(l){l.Block="block",l.InlineGroup="inline-group",l.List="list",l.Video="video",l.Table="table"}(o||(o={})),Ci.GroupType=o,Ci}var xu={},D2;function kb(){if(D2)return xu;D2=1,Object.defineProperty(xu,"__esModule",{value:!0});var n=function(){function t(r,i){this.type=r,this.value=i}return t}();xu.InsertDataQuill=n;var e=function(){function t(r,i){this.type=r,this.value=i}return t}();return xu.InsertDataCustom=e,xu}var ju={exports:{}};ju.exports;var Z2;function Tb(){return Z2||(Z2=1,function(n,e){var t=200,r="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,l="[object Arguments]",a="[object Array]",u="[object AsyncFunction]",h="[object Boolean]",d="[object Date]",p="[object Error]",g="[object Function]",b="[object GeneratorFunction]",x="[object Map]",v="[object Number]",w="[object Null]",k="[object Object]",$="[object Promise]",B="[object Proxy]",N="[object RegExp]",z="[object Set]",Z="[object String]",H="[object Symbol]",te="[object Undefined]",K="[object WeakMap]",R="[object ArrayBuffer]",E="[object DataView]",P="[object Float32Array]",Q="[object Float64Array]",I="[object Int8Array]",j="[object Int16Array]",q="[object Int32Array]",V="[object Uint8Array]",F="[object Uint8ClampedArray]",U="[object Uint16Array]",oe="[object Uint32Array]",J=/[\\^$.*+?()[\]{}|]/g,ee=/^\[object .+?Constructor\]$/,fe=/^(?:0|[1-9]\d*)$/,ne={};ne[P]=ne[Q]=ne[I]=ne[j]=ne[q]=ne[V]=ne[F]=ne[U]=ne[oe]=!0,ne[l]=ne[a]=ne[R]=ne[h]=ne[E]=ne[d]=ne[p]=ne[g]=ne[x]=ne[v]=ne[k]=ne[N]=ne[z]=ne[Z]=ne[K]=!1;var he=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,de=typeof self=="object"&&self&&self.Object===Object&&self,ge=he||de||Function("return this")(),ke=e&&!e.nodeType&&e,Ee=ke&&!0&&n&&!n.nodeType&&n,Oe=Ee&&Ee.exports===ke,Se=Oe&&he.process,me=function(){try{return Se&&Se.binding&&Se.binding("util")}catch{}}(),be=me&&me.isTypedArray;function De(S,L){for(var X=-1,ie=S==null?0:S.length,Ze=0,_e=[];++X<ie;){var it=S[X];L(it,X,S)&&(_e[Ze++]=it)}return _e}function gt(S,L){for(var X=-1,ie=L.length,Ze=S.length;++X<ie;)S[Ze+X]=L[X];return S}function bt(S,L){for(var X=-1,ie=S==null?0:S.length;++X<ie;)if(L(S[X],X,S))return!0;return!1}function ft(S,L){for(var X=-1,ie=Array(S);++X<S;)ie[X]=L(X);return ie}function dt(S){return function(L){return S(L)}}function nt(S,L){return S.has(L)}function ut(S,L){return S?.[L]}function vn(S){var L=-1,X=Array(S.size);return S.forEach(function(ie,Ze){X[++L]=[Ze,ie]}),X}function Hr(S,L){return function(X){return S(L(X))}}function Sr(S){var L=-1,X=Array(S.size);return S.forEach(function(ie){X[++L]=ie}),X}var wr=Array.prototype,Nc=Function.prototype,rr=Object.prototype,ir=ge["__core-js_shared__"],Ki=Nc.toString,yn=rr.hasOwnProperty,Bs=function(){var S=/[^.]+$/.exec(ir&&ir.keys&&ir.keys.IE_PROTO||"");return S?"Symbol(src)_1."+S:""}(),Is=rr.toString,Bo=RegExp("^"+Ki.call(yn).replace(J,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ji=Oe?ge.Buffer:void 0,bi=ge.Symbol,js=ge.Uint8Array,xi=rr.propertyIsEnumerable,es=wr.splice,sr=bi?bi.toStringTag:void 0,Ds=Object.getOwnPropertySymbols,Zs=Ji?Ji.isBuffer:void 0,vi=Hr(Object.keys,Object),Io=wn(ge,"DataView"),ts=wn(ge,"Map"),jo=wn(ge,"Promise"),Do=wn(ge,"Set"),zs=wn(ge,"WeakMap"),yi=wn(Object,"create"),Vl=un(Io),Gr=un(ts),Zo=un(jo),Bc=un(Do),zo=un(zs),Wl=bi?bi.prototype:void 0,qo=Wl?Wl.valueOf:void 0;function en(S){var L=-1,X=S==null?0:S.length;for(this.clear();++L<X;){var ie=S[L];this.set(ie[0],ie[1])}}function Ic(){this.__data__=yi?yi(null):{},this.size=0}function jc(S){var L=this.has(S)&&delete this.__data__[S];return this.size-=L?1:0,L}function Dc(S){var L=this.__data__;if(yi){var X=L[S];return X===r?void 0:X}return yn.call(L,S)?L[S]:void 0}function Zc(S){var L=this.__data__;return yi?L[S]!==void 0:yn.call(L,S)}function zc(S,L){var X=this.__data__;return this.size+=this.has(S)?0:1,X[S]=yi&&L===void 0?r:L,this}en.prototype.clear=Ic,en.prototype.delete=jc,en.prototype.get=Dc,en.prototype.has=Zc,en.prototype.set=zc;function tn(S){var L=-1,X=S==null?0:S.length;for(this.clear();++L<X;){var ie=S[L];this.set(ie[0],ie[1])}}function qc(){this.__data__=[],this.size=0}function Xc(S){var L=this.__data__,X=rs(L,S);if(X<0)return!1;var ie=L.length-1;return X==ie?L.pop():es.call(L,X,1),--this.size,!0}function Vc(S){var L=this.__data__,X=rs(L,S);return X<0?void 0:L[X][1]}function Wc(S){return rs(this.__data__,S)>-1}function Fc(S,L){var X=this.__data__,ie=rs(X,S);return ie<0?(++this.size,X.push([S,L])):X[ie][1]=L,this}tn.prototype.clear=qc,tn.prototype.delete=Xc,tn.prototype.get=Vc,tn.prototype.has=Wc,tn.prototype.set=Fc;function Sn(S){var L=-1,X=S==null?0:S.length;for(this.clear();++L<X;){var ie=S[L];this.set(ie[0],ie[1])}}function qs(){this.size=0,this.__data__={hash:new en,map:new(ts||tn),string:new en}}function Yc(S){var L=Ln(this,S).delete(S);return this.size-=L?1:0,L}function Xs(S){return Ln(this,S).get(S)}function Hc(S){return Ln(this,S).has(S)}function Gc(S,L){var X=Ln(this,S),ie=X.size;return X.set(S,L),this.size+=X.size==ie?0:1,this}Sn.prototype.clear=qs,Sn.prototype.delete=Yc,Sn.prototype.get=Xs,Sn.prototype.has=Hc,Sn.prototype.set=Gc;function Vs(S){var L=-1,X=S==null?0:S.length;for(this.__data__=new Sn;++L<X;)this.add(S[L])}function Xo(S){return this.__data__.set(S,r),this}function ns(S){return this.__data__.has(S)}Vs.prototype.add=Vs.prototype.push=Xo,Vs.prototype.has=ns;function or(S){var L=this.__data__=new tn(S);this.size=L.size}function Vo(){this.__data__=new tn,this.size=0}function Uc(S){var L=this.__data__,X=L.delete(S);return this.size=L.size,X}function Kc(S){return this.__data__.get(S)}function Jc(S){return this.__data__.has(S)}function Fl(S,L){var X=this.__data__;if(X instanceof tn){var ie=X.__data__;if(!ts||ie.length<t-1)return ie.push([S,L]),this.size=++X.size,this;X=this.__data__=new Sn(ie)}return X.set(S,L),this.size=X.size,this}or.prototype.clear=Vo,or.prototype.delete=Uc,or.prototype.get=Kc,or.prototype.has=Jc,or.prototype.set=Fl;function Yl(S,L){var X=Ws(S),ie=!X&&Fo(S),Ze=!X&&!ie&&Fs(S),_e=!X&&!ie&&!Ze&&la(S),it=X||ie||Ze||_e,st=it?ft(S.length,String):[],Je=st.length;for(var lt in S)yn.call(S,lt)&&!(it&&(lt=="length"||Ze&&(lt=="offset"||lt=="parent")||_e&&(lt=="buffer"||lt=="byteLength"||lt=="byteOffset")||ea(lt,Je)))&&st.push(lt);return st}function rs(S,L){for(var X=S.length;X--;)if(sa(S[X][0],L))return X;return-1}function is(S,L,X){var ie=L(S);return Ws(S)?ie:gt(ie,X(S))}function ss(S){return S==null?S===void 0?te:w:sr&&sr in Object(S)?kr(S):ia(S)}function Wo(S){return Cr(S)&&ss(S)==l}function os(S,L,X,ie,Ze){return S===L?!0:S==null||L==null||!Cr(S)&&!Cr(L)?S!==S&&L!==L:Hl(S,L,X,ie,os,Ze)}function Hl(S,L,X,ie,Ze,_e){var it=Ws(S),st=Ws(L),Je=it?a:Tr(S),lt=st?a:Tr(L);Je=Je==l?k:Je,lt=lt==l?k:lt;var _t=Je==k,hn=lt==k,Bt=Je==lt;if(Bt&&Fs(S)){if(!Fs(L))return!1;it=!0,_t=!1}if(Bt&&!_t)return _e||(_e=new or),it||la(S)?ls(S,L,X,ie,Ze,_e):tu(S,L,Je,X,ie,Ze,_e);if(!(X&i)){var vt=_t&&yn.call(S,"__wrapped__"),Ht=hn&&yn.call(L,"__wrapped__");if(vt||Ht){var Kr=vt?S.value():S,Pr=Ht?L.value():L;return _e||(_e=new or),Ze(Kr,Pr,X,ie,_e)}}return Bt?(_e||(_e=new or),Kl(S,L,X,ie,Ze,_e)):!1}function eu(S){if(!oa(S)||na(S))return!1;var L=Ys(S)?Bo:ee;return L.test(un(S))}function Gl(S){return Cr(S)&&Ho(S.length)&&!!ne[ss(S)]}function Ul(S){if(!ra(S))return vi(S);var L=[];for(var X in Object(S))yn.call(S,X)&&X!="constructor"&&L.push(X);return L}function ls(S,L,X,ie,Ze,_e){var it=X&i,st=S.length,Je=L.length;if(st!=Je&&!(it&&Je>st))return!1;var lt=_e.get(S);if(lt&&_e.get(L))return lt==L;var _t=-1,hn=!0,Bt=X&s?new Vs:void 0;for(_e.set(S,L),_e.set(L,S);++_t<st;){var vt=S[_t],Ht=L[_t];if(ie)var Kr=it?ie(Ht,vt,_t,L,S,_e):ie(vt,Ht,_t,S,L,_e);if(Kr!==void 0){if(Kr)continue;hn=!1;break}if(Bt){if(!bt(L,function(Pr,Si){if(!nt(Bt,Si)&&(vt===Pr||Ze(vt,Pr,X,ie,_e)))return Bt.push(Si)})){hn=!1;break}}else if(!(vt===Ht||Ze(vt,Ht,X,ie,_e))){hn=!1;break}}return _e.delete(S),_e.delete(L),hn}function tu(S,L,X,ie,Ze,_e,it){switch(X){case E:if(S.byteLength!=L.byteLength||S.byteOffset!=L.byteOffset)return!1;S=S.buffer,L=L.buffer;case R:return!(S.byteLength!=L.byteLength||!_e(new js(S),new js(L)));case h:case d:case v:return sa(+S,+L);case p:return S.name==L.name&&S.message==L.message;case N:case Z:return S==L+"";case x:var st=vn;case z:var Je=ie&i;if(st||(st=Sr),S.size!=L.size&&!Je)return!1;var lt=it.get(S);if(lt)return lt==L;ie|=s,it.set(S,L);var _t=ls(st(S),st(L),ie,Ze,_e,it);return it.delete(S),_t;case H:if(qo)return qo.call(S)==qo.call(L)}return!1}function Kl(S,L,X,ie,Ze,_e){var it=X&i,st=Ur(S),Je=st.length,lt=Ur(L),_t=lt.length;if(Je!=_t&&!it)return!1;for(var hn=Je;hn--;){var Bt=st[hn];if(!(it?Bt in L:yn.call(L,Bt)))return!1}var vt=_e.get(S);if(vt&&_e.get(L))return vt==L;var Ht=!0;_e.set(S,L),_e.set(L,S);for(var Kr=it;++hn<Je;){Bt=st[hn];var Pr=S[Bt],Si=L[Bt];if(ie)var ru=it?ie(Si,Pr,Bt,L,S,_e):ie(Pr,Si,Bt,S,L,_e);if(!(ru===void 0?Pr===Si||Ze(Pr,Si,X,ie,_e):ru)){Ht=!1;break}Kr||(Kr=Bt=="constructor")}if(Ht&&!Kr){var Uo=S.constructor,sn=L.constructor;Uo!=sn&&"constructor"in S&&"constructor"in L&&!(typeof Uo=="function"&&Uo instanceof Uo&&typeof sn=="function"&&sn instanceof sn)&&(Ht=!1)}return _e.delete(S),_e.delete(L),Ht}function Ur(S){return is(S,Go,Jl)}function Ln(S,L){var X=S.__data__;return ta(L)?X[typeof L=="string"?"string":"hash"]:X.map}function wn(S,L){var X=ut(S,L);return eu(X)?X:void 0}function kr(S){var L=yn.call(S,sr),X=S[sr];try{S[sr]=void 0;var ie=!0}catch{}var Ze=Is.call(S);return ie&&(L?S[sr]=X:delete S[sr]),Ze}var Jl=Ds?function(S){return S==null?[]:(S=Object(S),De(Ds(S),function(L){return xi.call(S,L)}))}:xt,Tr=ss;(Io&&Tr(new Io(new ArrayBuffer(1)))!=E||ts&&Tr(new ts)!=x||jo&&Tr(jo.resolve())!=$||Do&&Tr(new Do)!=z||zs&&Tr(new zs)!=K)&&(Tr=function(S){var L=ss(S),X=L==k?S.constructor:void 0,ie=X?un(X):"";if(ie)switch(ie){case Vl:return E;case Gr:return x;case Zo:return $;case Bc:return z;case zo:return K}return L});function ea(S,L){return L=L??o,!!L&&(typeof S=="number"||fe.test(S))&&S>-1&&S%1==0&&S<L}function ta(S){var L=typeof S;return L=="string"||L=="number"||L=="symbol"||L=="boolean"?S!=="__proto__":S===null}function na(S){return!!Bs&&Bs in S}function ra(S){var L=S&&S.constructor,X=typeof L=="function"&&L.prototype||rr;return S===X}function ia(S){return Is.call(S)}function un(S){if(S!=null){try{return Ki.call(S)}catch{}try{return S+""}catch{}}return""}function sa(S,L){return S===L||S!==S&&L!==L}var Fo=Wo(function(){return arguments}())?Wo:function(S){return Cr(S)&&yn.call(S,"callee")&&!xi.call(S,"callee")},Ws=Array.isArray;function Yo(S){return S!=null&&Ho(S.length)&&!Ys(S)}var Fs=Zs||mt;function nu(S,L){return os(S,L)}function Ys(S){if(!oa(S))return!1;var L=ss(S);return L==g||L==b||L==u||L==B}function Ho(S){return typeof S=="number"&&S>-1&&S%1==0&&S<=o}function oa(S){var L=typeof S;return S!=null&&(L=="object"||L=="function")}function Cr(S){return S!=null&&typeof S=="object"}var la=be?dt(be):Gl;function Go(S){return Yo(S)?Yl(S):Ul(S)}function xt(){return[]}function mt(){return!1}n.exports=nu}(ju,ju.exports)),ju.exports}var z2;function Cb(){if(z2)return Ta;z2=1;var n=Ta&&Ta.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ta,"__esModule",{value:!0});var e=Il(),t=kb(),r=n(Tb()),i=function(){function s(o,l){typeof o=="string"&&(o=new t.InsertDataQuill(e.DataType.Text,o+"")),this.insert=o,this.attributes=l||{}}return s.createNewLineOp=function(){return new s(e.NewLine)},s.prototype.isContainerBlock=function(){return this.isBlockquote()||this.isList()||this.isTable()||this.isCodeBlock()||this.isHeader()||this.isBlockAttribute()||this.isCustomTextBlock()},s.prototype.isBlockAttribute=function(){var o=this.attributes;return!!(o.align||o.direction||o.indent)},s.prototype.isBlockquote=function(){return!!this.attributes.blockquote},s.prototype.isHeader=function(){return!!this.attributes.header},s.prototype.isTable=function(){return!!this.attributes.table},s.prototype.isSameHeaderAs=function(o){return o.attributes.header===this.attributes.header&&this.isHeader()},s.prototype.hasSameAdiAs=function(o){return this.attributes.align===o.attributes.align&&this.attributes.direction===o.attributes.direction&&this.attributes.indent===o.attributes.indent},s.prototype.hasSameIndentationAs=function(o){return this.attributes.indent===o.attributes.indent},s.prototype.hasSameAttr=function(o){return r.default(this.attributes,o.attributes)},s.prototype.hasHigherIndentThan=function(o){return(Number(this.attributes.indent)||0)>(Number(o.attributes.indent)||0)},s.prototype.isInline=function(){return!(this.isContainerBlock()||this.isVideo()||this.isCustomEmbedBlock())},s.prototype.isCodeBlock=function(){return!!this.attributes["code-block"]},s.prototype.hasSameLangAs=function(o){return this.attributes["code-block"]===o.attributes["code-block"]},s.prototype.isJustNewline=function(){return this.insert.value===e.NewLine},s.prototype.isList=function(){return this.isOrderedList()||this.isBulletList()||this.isCheckedList()||this.isUncheckedList()},s.prototype.isOrderedList=function(){return this.attributes.list===e.ListType.Ordered},s.prototype.isBulletList=function(){return this.attributes.list===e.ListType.Bullet},s.prototype.isCheckedList=function(){return this.attributes.list===e.ListType.Checked},s.prototype.isUncheckedList=function(){return this.attributes.list===e.ListType.Unchecked},s.prototype.isACheckList=function(){return this.attributes.list==e.ListType.Unchecked||this.attributes.list===e.ListType.Checked},s.prototype.isSameListAs=function(o){return!!o.attributes.list&&(this.attributes.list===o.attributes.list||o.isACheckList()&&this.isACheckList())},s.prototype.isSameTableRowAs=function(o){return!!o.isTable()&&this.isTable()&&this.attributes.table===o.attributes.table},s.prototype.isText=function(){return this.insert.type===e.DataType.Text},s.prototype.isImage=function(){return this.insert.type===e.DataType.Image},s.prototype.isFormula=function(){return this.insert.type===e.DataType.Formula},s.prototype.isVideo=function(){return this.insert.type===e.DataType.Video},s.prototype.isLink=function(){return this.isText()&&!!this.attributes.link},s.prototype.isCustomEmbed=function(){return this.insert instanceof t.InsertDataCustom},s.prototype.isCustomEmbedBlock=function(){return this.isCustomEmbed()&&!!this.attributes.renderAsBlock},s.prototype.isCustomTextBlock=function(){return this.isText()&&!!this.attributes.renderAsBlock},s.prototype.isMentions=function(){return this.isText()&&!!this.attributes.mentions},s}();return Ta.DeltaInsertOp=i,Ta}var Kf={},Jf={},Ca={},ed={},q2;function kB(){if(q2)return ed;q2=1,Object.defineProperty(ed,"__esModule",{value:!0});function n(e){var t=e;t=t.replace(/^\s*/gm,"");var r=/^((https?|s?ftp|file|blob|mailto|tel):|#|\/|data:image\/)/;return r.test(t)?t:"unsafe:"+t}return ed.sanitize=n,ed}var io={},X2;function Pb(){if(X2)return io;X2=1,Object.defineProperty(io,"__esModule",{value:!0});var n;(function(u){u[u.Html=0]="Html",u[u.Url=1]="Url"})(n||(n={}));function e(u,h){if(h===void 0&&(h=void 0),!u)return"";var d="";if(h){var p=[].concat(h);d=p.map(function(b){return b.key+(b.value?'="'+b.value+'"':"")}).join(" ")}var g=">";return(u==="img"||u==="br")&&(g="/>"),d?"<"+u+" "+d+g:"<"+u+g}io.makeStartTag=e;function t(u){return u===void 0&&(u=""),u&&"</"+u+">"||""}io.makeEndTag=t;function r(u){return o(n.Html).reduce(a,u)}io.decodeHtml=r;function i(u,h){return h===void 0&&(h=!0),h&&(u=r(u)),o(n.Html).reduce(l,u)}io.encodeHtml=i;function s(u){var h=o(n.Url),d=h.reduce(a,u);return h.reduce(l,d)}io.encodeLink=s;function o(u){var h=[["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#x27;"],["\\/","&#x2F;"],["\\(","&#40;"],["\\)","&#41;"]];return u===n.Html?h.filter(function(d){var p=d[0];return d[1],p.indexOf("(")===-1&&p.indexOf(")")===-1}):h.filter(function(d){var p=d[0];return d[1],p.indexOf("/")===-1})}function l(u,h){return u.replace(new RegExp(h[0],"g"),h[1])}function a(u,h){return u.replace(new RegExp(h[1],"g"),h[0].replace("\\",""))}return io}var V2;function Qb(){if(V2)return Ca;V2=1;var n=Ca&&Ca.__importStar||function(i){if(i&&i.__esModule)return i;var s={};if(i!=null)for(var o in i)Object.hasOwnProperty.call(i,o)&&(s[o]=i[o]);return s.default=i,s};Object.defineProperty(Ca,"__esModule",{value:!0});var e=n(kB()),t=Pb(),r=function(){function i(){}return i.sanitize=function(s,o){var l=function(){};o&&typeof o.urlSanitizer=="function"&&(l=o.urlSanitizer);var a=l(s);return typeof a=="string"?a:t.encodeLink(e.sanitize(s))},i}();return Ca.OpLinkSanitizer=r,Ca}var W2;function TB(){if(W2)return Jf;W2=1,Object.defineProperty(Jf,"__esModule",{value:!0});var n=Qb(),e=function(){function t(){}return t.sanitize=function(r,i){var s={};return!r||typeof r!="object"||(r.class&&t.IsValidClass(r.class)&&(s.class=r.class),r.id&&t.IsValidId(r.id)&&(s.id=r.id),t.IsValidTarget(r.target+"")&&(s.target=r.target),r.avatar&&(s.avatar=n.OpLinkSanitizer.sanitize(r.avatar+"",i)),r["end-point"]&&(s["end-point"]=n.OpLinkSanitizer.sanitize(r["end-point"]+"",i)),r.slug&&(s.slug=r.slug+"")),s},t.IsValidClass=function(r){return!!r.match(/^[a-zA-Z0-9_\-]{1,500}$/i)},t.IsValidId=function(r){return!!r.match(/^[a-zA-Z0-9_\-\:\.]{1,500}$/i)},t.IsValidTarget=function(r){return["_self","_blank","_parent","_top"].indexOf(r)>-1},t}();return Jf.MentionSanitizer=e,Jf}var Os={},F2;function Ih(){if(F2)return Os;F2=1,Object.defineProperty(Os,"__esModule",{value:!0});function n(o){return o.length===0?null:o.length>=2?o[1]:o[0]}Os.preferSecond=n;function e(o){return o.reduce(function(l,a){return l.concat(Array.isArray(a)?e(a):a)},[])}Os.flatten=e;function t(o,l){if(Array.prototype.find)return Array.prototype.find.call(o,l);for(var a=0;a<o.length;a++)if(l(o[a]))return o[a]}Os.find=t;function r(o,l){for(var a=[],u,h,d=0;d<o.length;d++)u=o[d],d>0&&l(u,o[d-1])?(h=a[a.length-1],h.push(u)):a.push([u]);return a.map(function(p){return p.length===1?p[0]:p})}Os.groupConsecutiveElementsWhile=r;function i(o,l,a){for(var u={elements:[],sliceStartsAt:-1},h=l;h>=0&&a(o[h]);h--)u.sliceStartsAt=h,u.elements.unshift(o[h]);return u}Os.sliceFromReverseWhile=i;function s(o,l){return o.reduce(function(a,u,h){return a.push(u),h<o.length-1&&a.push(l),a},[])}return Os.intersperse=s,Os}var Y2;function rP(){if(Y2)return Kf;Y2=1,Object.defineProperty(Kf,"__esModule",{value:!0});var n=Il(),e=TB(),t=Ih(),r=Qb(),i=function(){function s(){}return s.sanitize=function(o,l){var a={};if(!o||typeof o!="object")return a;var u=["bold","italic","underline","strike","code","blockquote","code-block","renderAsBlock"],h=["background","color"],d=o.font,p=o.size,g=o.link,b=o.script,x=o.list,v=o.header,w=o.align,k=o.direction,$=o.indent,B=o.mentions,N=o.mention,z=o.width,Z=o.target,H=o.rel,te=o["code-block"],K=u.concat(h,["font","size","link","script","list","header","align","direction","indent","mentions","mention","width","target","rel","code-block"]);if(u.forEach(function(E){var P=o[E];P&&(a[E]=!!P)}),h.forEach(function(E){var P=o[E];P&&(s.IsValidHexColor(P+"")||s.IsValidColorLiteral(P+"")||s.IsValidRGBColor(P+""))&&(a[E]=P)}),d&&s.IsValidFontName(d+"")&&(a.font=d),p&&s.IsValidSize(p+"")&&(a.size=p),z&&s.IsValidWidth(z+"")&&(a.width=z),g&&(a.link=r.OpLinkSanitizer.sanitize(g+"",l)),Z&&s.isValidTarget(Z)&&(a.target=Z),H&&s.IsValidRel(H)&&(a.rel=H),te&&(s.IsValidLang(te)?a["code-block"]=te:a["code-block"]=!!te),(b===n.ScriptType.Sub||n.ScriptType.Super===b)&&(a.script=b),(x===n.ListType.Bullet||x===n.ListType.Ordered||x===n.ListType.Checked||x===n.ListType.Unchecked)&&(a.list=x),Number(v)&&(a.header=Math.min(Number(v),6)),t.find([n.AlignType.Center,n.AlignType.Right,n.AlignType.Justify,n.AlignType.Left],function(E){return E===w})&&(a.align=w),k===n.DirectionType.Rtl&&(a.direction=k),$&&Number($)&&(a.indent=Math.min(Number($),30)),B&&N){var R=e.MentionSanitizer.sanitize(N,l);Object.keys(R).length>0&&(a.mentions=!!B,a.mention=N)}return Object.keys(o).reduce(function(E,P){return K.indexOf(P)===-1&&(E[P]=o[P]),E},a)},s.IsValidHexColor=function(o){return!!o.match(/^#([0-9A-F]{6}|[0-9A-F]{3})$/i)},s.IsValidColorLiteral=function(o){return!!o.match(/^[a-z]{1,50}$/i)},s.IsValidRGBColor=function(o){var l=/^rgb\(((0|25[0-5]|2[0-4]\d|1\d\d|0?\d?\d),\s*){2}(0|25[0-5]|2[0-4]\d|1\d\d|0?\d?\d)\)$/i;return!!o.match(l)},s.IsValidFontName=function(o){return!!o.match(/^[a-z\s0-9\- ]{1,30}$/i)},s.IsValidSize=function(o){return!!o.match(/^[a-z0-9\-]{1,20}$/i)},s.IsValidWidth=function(o){return!!o.match(/^[0-9]*(px|em|%)?$/)},s.isValidTarget=function(o){return!!o.match(/^[_a-zA-Z0-9\-]{1,50}$/)},s.IsValidRel=function(o){return!!o.match(/^[a-zA-Z\s\-]{1,250}$/i)},s.IsValidLang=function(o){return typeof o=="boolean"?!0:!!o.match(/^[a-zA-Z\s\-\\\/\+]{1,50}$/i)},s}();return Kf.OpAttributeSanitizer=i,Kf}var Pa={},td={},H2;function CB(){if(H2)return td;H2=1,Object.defineProperty(td,"__esModule",{value:!0});function n(e){var t=`
`;if(e===t)return[e];var r=e.split(t);if(r.length===1)return r;var i=r.length-1;return r.reduce(function(s,o,l){return l!==i?o!==""?s=s.concat(o,t):s.push(t):o!==""&&s.push(o),s},[])}return td.tokenizeWithNewLines=n,td}var nd={},G2;function $b(){if(G2)return nd;G2=1,Object.defineProperty(nd,"__esModule",{value:!0});function n(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),s=0;s<t.length;s++){var o=t[s];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i}return nd.assign=n,nd}var U2;function PB(){if(U2)return Pa;U2=1;var n=Pa&&Pa.__importStar||function(s){if(s&&s.__esModule)return s;var o={};if(s!=null)for(var l in s)Object.hasOwnProperty.call(s,l)&&(o[l]=s[l]);return o.default=s,o};Object.defineProperty(Pa,"__esModule",{value:!0});var e=Il(),t=n(CB()),r=n($b()),i=function(){function s(){}return s.denormalize=function(o){if(!o||typeof o!="object")return[];if(typeof o.insert=="object"||o.insert===e.NewLine)return[o];var l=t.tokenizeWithNewLines(o.insert+"");if(l.length===1)return[o];var a=r.assign({},o,{insert:e.NewLine});return l.map(function(u){return u===e.NewLine?a:r.assign({},o,{insert:u})})},s}();return Pa.InsertOpDenormalizer=i,Pa}var K2;function QB(){if(K2)return Uf;K2=1,Object.defineProperty(Uf,"__esModule",{value:!0});var n=Cb(),e=Il(),t=kb(),r=rP(),i=PB(),s=Qb(),o=function(){function l(){}return l.convert=function(a,u){if(!Array.isArray(a))return[];for(var h=[].concat.apply([],a.map(i.InsertOpDenormalizer.denormalize)),d=[],p,g,b=0,x=h;b<x.length;b++){var v=x[b];v.insert&&(p=l.convertInsertVal(v.insert,u),p&&(g=r.OpAttributeSanitizer.sanitize(v.attributes,u),d.push(new n.DeltaInsertOp(p,g))))}return d},l.convertInsertVal=function(a,u){if(typeof a=="string")return new t.InsertDataQuill(e.DataType.Text,a);if(!a||typeof a!="object")return null;var h=Object.keys(a);return h.length?e.DataType.Image in a?new t.InsertDataQuill(e.DataType.Image,s.OpLinkSanitizer.sanitize(a[e.DataType.Image]+"",u)):e.DataType.Video in a?new t.InsertDataQuill(e.DataType.Video,s.OpLinkSanitizer.sanitize(a[e.DataType.Video]+"",u)):e.DataType.Formula in a?new t.InsertDataQuill(e.DataType.Formula,a[e.DataType.Formula]):new t.InsertDataCustom(h[0],a[h[0]]):null},l}();return Uf.InsertOpsConverter=o,Uf}var vu={},J2;function iP(){return J2||(J2=1,function(n){var e=vu&&vu.__importStar||function(u){if(u&&u.__esModule)return u;var h={};if(u!=null)for(var d in u)Object.hasOwnProperty.call(u,d)&&(h[d]=u[d]);return h.default=u,h};Object.defineProperty(n,"__esModule",{value:!0});var t=Pb(),r=Il(),i=e($b()),s=e(Ih()),o=rP(),l={serif:"font-family: Georgia, Times New Roman, serif",monospace:"font-family: Monaco, Courier New, monospace"};n.DEFAULT_INLINE_STYLES={font:function(u){return l[u]||"font-family:"+u},size:{small:"font-size: 0.75em",large:"font-size: 1.5em",huge:"font-size: 2.5em"},indent:function(u,h){var d=parseInt(u,10)*3,p=h.attributes.direction==="rtl"?"right":"left";return"padding-"+p+":"+d+"em"},direction:function(u,h){if(u==="rtl")return"direction:rtl"+(h.attributes.align?"":"; text-align:inherit")}};var a=function(){function u(h,d){this.op=h,this.options=i.assign({},{classPrefix:"ql",inlineStyles:void 0,encodeHtml:!0,listItemTag:"li",paragraphTag:"p"},d)}return u.prototype.prefixClass=function(h){return this.options.classPrefix?this.options.classPrefix+"-"+h:h+""},u.prototype.getHtml=function(){var h=this.getHtmlParts();return h.openingTag+h.content+h.closingTag},u.prototype.getHtmlParts=function(){var h=this;if(this.op.isJustNewline()&&!this.op.isContainerBlock())return{openingTag:"",closingTag:"",content:r.NewLine};var d=this.getTags(),p=this.getTagAttributes();!d.length&&p.length&&d.push("span");for(var g=[],b=[],x="img",v=function(B){return B===x&&!!h.op.attributes.link},w=0,k=d;w<k.length;w++){var $=k[w];v($)&&g.push(t.makeStartTag("a",this.getLinkAttrs())),g.push(t.makeStartTag($,p)),b.push($==="img"?"":t.makeEndTag($)),v($)&&b.push(t.makeEndTag("a")),p=[]}return b.reverse(),{openingTag:g.join(""),content:this.getContent(),closingTag:b.join("")}},u.prototype.getContent=function(){if(this.op.isContainerBlock())return"";if(this.op.isMentions())return this.op.insert.value;var h=this.op.isFormula()||this.op.isText()?this.op.insert.value:"";return this.options.encodeHtml&&t.encodeHtml(h)||h},u.prototype.getCssClasses=function(){var h=this.op.attributes;if(this.options.inlineStyles)return[];var d=["indent","align","direction","font","size"];return this.options.allowBackgroundClasses&&d.push("background"),(this.getCustomCssClasses()||[]).concat(d.filter(function(p){return!!h[p]}).filter(function(p){return p==="background"?o.OpAttributeSanitizer.IsValidColorLiteral(h[p]):!0}).map(function(p){return p+"-"+h[p]}).concat(this.op.isFormula()?"formula":[]).concat(this.op.isVideo()?"video":[]).concat(this.op.isImage()?"image":[]).map(this.prefixClass.bind(this)))},u.prototype.getCssStyles=function(){var h=this,d=this.op.attributes,p=[["color"]];return(this.options.inlineStyles||!this.options.allowBackgroundClasses)&&p.push(["background","background-color"]),this.options.inlineStyles&&(p=p.concat([["indent"],["align","text-align"],["direction"],["font","font-family"],["size"]])),(this.getCustomCssStyles()||[]).concat(p.filter(function(g){return!!d[g[0]]}).map(function(g){var b=g[0],x=d[b],v=h.options.inlineStyles&&h.options.inlineStyles[b]||n.DEFAULT_INLINE_STYLES[b];if(typeof v=="object")return v[x];if(typeof v=="function"){var w=v;return w(x,h.op)}else return s.preferSecond(g)+":"+x})).filter(function(g){return g!==void 0})},u.prototype.getTagAttributes=function(){if(this.op.attributes.code&&!this.op.isLink())return[];var h=this.makeAttr.bind(this),d=this.getCustomTagAttributes(),p=d?Object.keys(this.getCustomTagAttributes()).map(function(w){return h(w,d[w])}):[],g=this.getCssClasses(),b=g.length?p.concat([h("class",g.join(" "))]):p;if(this.op.isImage())return this.op.attributes.width&&(b=b.concat(h("width",this.op.attributes.width))),b.concat(h("src",this.op.insert.value));if(this.op.isACheckList())return b.concat(h("data-checked",this.op.isCheckedList()?"true":"false"));if(this.op.isFormula())return b;if(this.op.isVideo())return b.concat(h("frameborder","0"),h("allowfullscreen","true"),h("src",this.op.insert.value));if(this.op.isMentions()){var x=this.op.attributes.mention;return x.class&&(b=b.concat(h("class",x.class))),x["end-point"]&&x.slug?b=b.concat(h("href",x["end-point"]+"/"+x.slug)):b=b.concat(h("href","about:blank")),x.target&&(b=b.concat(h("target",x.target))),b}var v=this.getCssStyles();return v.length&&b.push(h("style",v.join(";"))),this.op.isCodeBlock()&&typeof this.op.attributes["code-block"]=="string"?b.concat(h("data-language",this.op.attributes["code-block"])):(this.op.isContainerBlock()||this.op.isLink()&&(b=b.concat(this.getLinkAttrs())),b)},u.prototype.makeAttr=function(h,d){return{key:h,value:d}},u.prototype.getLinkAttrs=function(){var h=[],d=o.OpAttributeSanitizer.isValidTarget(this.options.linkTarget||"")?this.options.linkTarget:void 0,p=o.OpAttributeSanitizer.IsValidRel(this.options.linkRel||"")?this.options.linkRel:void 0,g=this.op.attributes.target||d,b=this.op.attributes.rel||p;return h.concat(this.makeAttr("href",this.op.attributes.link)).concat(g?this.makeAttr("target",g):[]).concat(b?this.makeAttr("rel",b):[])},u.prototype.getCustomTag=function(h){if(this.options.customTag&&typeof this.options.customTag=="function")return this.options.customTag.apply(null,[h,this.op])},u.prototype.getCustomTagAttributes=function(){if(this.options.customTagAttributes&&typeof this.options.customTagAttributes=="function")return this.options.customTagAttributes.apply(null,[this.op])},u.prototype.getCustomCssClasses=function(){if(this.options.customCssClasses&&typeof this.options.customCssClasses=="function"){var h=this.options.customCssClasses.apply(null,[this.op]);if(h)return Array.isArray(h)?h:[h]}},u.prototype.getCustomCssStyles=function(){if(this.options.customCssStyles&&typeof this.options.customCssStyles=="function"){var h=this.options.customCssStyles.apply(null,[this.op]);if(h)return Array.isArray(h)?h:[h]}},u.prototype.getTags=function(){var h=this,d=this.op.attributes;if(!this.op.isText())return[this.op.isVideo()?"iframe":this.op.isImage()?"img":"span"];for(var p=this.options.paragraphTag||"p",g=[["blockquote"],["code-block","pre"],["list",this.options.listItemTag],["header"],["align",p],["direction",p],["indent",p]],b=0,x=g;b<x.length;b++){var v=x[b],w=v[0];if(d[w]){var k=this.getCustomTag(w);return k?[k]:w==="header"?["h"+d[w]]:[s.preferSecond(v)]}}if(this.op.isCustomTextBlock()){var k=this.getCustomTag("renderAsBlock");return k?[k]:[p]}var $=Object.keys(d).reduce(function(N,z){var Z=h.getCustomTag(z);return Z&&(N[z]=Z),N},{}),B=[["link","a"],["mentions","a"],["script"],["bold","strong"],["italic","em"],["strike","s"],["underline","u"],["code"]];return B.filter(function(N){return!!d[N[0]]}).concat(Object.keys($).filter(function(N){return!B.some(function(z){return z[0]==N})}).map(function(N){return[N,$[N]]})).map(function(N){return $[N[0]]?$[N[0]]:N[0]==="script"?d[N[0]]===r.ScriptType.Sub?"sub":"sup":s.preferSecond(N)})},u}();n.OpToHtmlConverter=a}(vu)),vu}var rd={},Fn={},eS;function jh(){if(eS)return Fn;eS=1;var n=Fn&&Fn.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var b in g)g.hasOwnProperty(b)&&(p[b]=g[b])};return function(p,g){d(p,g);function b(){this.constructor=p}p.prototype=g===null?Object.create(g):(b.prototype=g.prototype,new b)}}();Object.defineProperty(Fn,"__esModule",{value:!0});var e=function(){function d(p){this.ops=p}return d}();Fn.InlineGroup=e;var t=function(){function d(p){this.op=p}return d}(),r=function(d){n(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p}(t);Fn.VideoItem=r;var i=function(d){n(p,d);function p(){return d!==null&&d.apply(this,arguments)||this}return p}(t);Fn.BlotBlock=i;var s=function(){function d(p,g){this.op=p,this.ops=g}return d}();Fn.BlockGroup=s;var o=function(){function d(p){this.items=p}return d}();Fn.ListGroup=o;var l=function(){function d(p,g){g===void 0&&(g=null),this.item=p,this.innerList=g}return d}();Fn.ListItem=l;var a=function(){function d(p){this.rows=p}return d}();Fn.TableGroup=a;var u=function(){function d(p){this.cells=p}return d}();Fn.TableRow=u;var h=function(){function d(p){this.item=p}return d}();return Fn.TableCell=h,Fn}var tS;function $B(){if(tS)return rd;tS=1,Object.defineProperty(rd,"__esModule",{value:!0});var n=Cb(),e=Ih(),t=jh(),r=function(){function i(){}return i.pairOpsWithTheirBlock=function(s){for(var o=[],l=function(g){return!(g.isJustNewline()||g.isCustomEmbedBlock()||g.isVideo()||g.isContainerBlock())},a=function(g){return g.isInline()},u=s.length-1,h,d=u;d>=0;d--){var p=s[d];p.isVideo()?o.push(new t.VideoItem(p)):p.isCustomEmbedBlock()?o.push(new t.BlotBlock(p)):p.isContainerBlock()?(h=e.sliceFromReverseWhile(s,d-1,l),o.push(new t.BlockGroup(p,h.elements)),d=h.sliceStartsAt>-1?h.sliceStartsAt:d):(h=e.sliceFromReverseWhile(s,d-1,a),o.push(new t.InlineGroup(h.elements.concat(p))),d=h.sliceStartsAt>-1?h.sliceStartsAt:d)}return o.reverse(),o},i.groupConsecutiveSameStyleBlocks=function(s,o){return o===void 0&&(o={header:!0,codeBlocks:!0,blockquotes:!0,customBlocks:!0}),e.groupConsecutiveElementsWhile(s,function(l,a){return!(l instanceof t.BlockGroup)||!(a instanceof t.BlockGroup)?!1:o.codeBlocks&&i.areBothCodeblocksWithSameLang(l,a)||o.blockquotes&&i.areBothBlockquotesWithSameAdi(l,a)||o.header&&i.areBothSameHeadersWithSameAdi(l,a)||o.customBlocks&&i.areBothCustomBlockWithSameAttr(l,a)})},i.reduceConsecutiveSameStyleBlocksToOne=function(s){var o=n.DeltaInsertOp.createNewLineOp();return s.map(function(l){if(!Array.isArray(l))return l instanceof t.BlockGroup&&!l.ops.length&&l.ops.push(o),l;var a=l.length-1;return l[0].ops=e.flatten(l.map(function(u,h){return u.ops.length?u.ops.concat(h<a?[o]:[]):[o]})),l[0]})},i.areBothCodeblocksWithSameLang=function(s,o){return s.op.isCodeBlock()&&o.op.isCodeBlock()&&s.op.hasSameLangAs(o.op)},i.areBothSameHeadersWithSameAdi=function(s,o){return s.op.isSameHeaderAs(o.op)&&s.op.hasSameAdiAs(o.op)},i.areBothBlockquotesWithSameAdi=function(s,o){return s.op.isBlockquote()&&o.op.isBlockquote()&&s.op.hasSameAdiAs(o.op)},i.areBothCustomBlockWithSameAttr=function(s,o){return s.op.isCustomTextBlock()&&o.op.isCustomTextBlock()&&s.op.hasSameAttr(o.op)},i}();return rd.Grouper=r,rd}var id={},nS;function AB(){if(nS)return id;nS=1,Object.defineProperty(id,"__esModule",{value:!0});var n=jh(),e=Ih(),t=function(){function r(){}return r.prototype.nest=function(i){var s=this,o=this.convertListBlocksToListGroups(i),l=this.groupConsecutiveListGroups(o),a=e.flatten(l.map(function(h){return Array.isArray(h)?s.nestListSection(h):h})),u=e.groupConsecutiveElementsWhile(a,function(h,d){return h instanceof n.ListGroup&&d instanceof n.ListGroup?h.items[0].item.op.isSameListAs(d.items[0].item.op):!1});return u.map(function(h){if(!Array.isArray(h))return h;var d=h.map(function(p){return p.items});return new n.ListGroup(e.flatten(d))})},r.prototype.convertListBlocksToListGroups=function(i){var s=e.groupConsecutiveElementsWhile(i,function(o,l){return o instanceof n.BlockGroup&&l instanceof n.BlockGroup&&o.op.isList()&&l.op.isList()&&o.op.isSameListAs(l.op)&&o.op.hasSameIndentationAs(l.op)});return s.map(function(o){return Array.isArray(o)?new n.ListGroup(o.map(function(l){return new n.ListItem(l)})):o instanceof n.BlockGroup&&o.op.isList()?new n.ListGroup([new n.ListItem(o)]):o})},r.prototype.groupConsecutiveListGroups=function(i){return e.groupConsecutiveElementsWhile(i,function(s,o){return s instanceof n.ListGroup&&o instanceof n.ListGroup})},r.prototype.nestListSection=function(i){var s=this,o=this.groupByIndent(i);return Object.keys(o).map(Number).sort().reverse().forEach(function(l){o[l].forEach(function(a){var u=i.indexOf(a);s.placeUnderParent(a,i.slice(0,u))&&i.splice(u,1)})}),i},r.prototype.groupByIndent=function(i){return i.reduce(function(s,o){var l=o.items[0].item.op.attributes.indent;return l&&(s[l]=s[l]||[],s[l].push(o)),s},{})},r.prototype.placeUnderParent=function(i,s){for(var o=s.length-1;o>=0;o--){var l=s[o];if(i.items[0].item.op.hasHigherIndentThan(l.items[0].item.op)){var a=l.items[l.items.length-1];return a.innerList?a.innerList.items=a.innerList.items.concat(i.items):a.innerList=i,!0}}return!1},r}();return id.ListNester=t,id}var sd={},rS;function RB(){if(rS)return sd;rS=1,Object.defineProperty(sd,"__esModule",{value:!0});var n=jh(),e=Ih(),t=function(){function r(){}return r.prototype.group=function(i){var s=this.convertTableBlocksToTableGroups(i);return s},r.prototype.convertTableBlocksToTableGroups=function(i){var s=this,o=e.groupConsecutiveElementsWhile(i,function(l,a){return l instanceof n.BlockGroup&&a instanceof n.BlockGroup&&l.op.isTable()&&a.op.isTable()});return o.map(function(l){return Array.isArray(l)?new n.TableGroup(s.convertTableBlocksToTableRows(l)):l instanceof n.BlockGroup&&l.op.isTable()?new n.TableGroup([new n.TableRow([new n.TableCell(l)])]):l})},r.prototype.convertTableBlocksToTableRows=function(i){var s=e.groupConsecutiveElementsWhile(i,function(o,l){return o instanceof n.BlockGroup&&l instanceof n.BlockGroup&&o.op.isTable()&&l.op.isTable()&&o.op.isSameTableRowAs(l.op)});return s.map(function(o){return new n.TableRow(Array.isArray(o)?o.map(function(l){return new n.TableCell(l)}):[new n.TableCell(o)])})},r}();return sd.TableGrouper=t,sd}var iS;function EB(){if(iS)return ka;iS=1;var n=ka&&ka.__importStar||function(p){if(p&&p.__esModule)return p;var g={};if(p!=null)for(var b in p)Object.hasOwnProperty.call(p,b)&&(g[b]=p[b]);return g.default=p,g};Object.defineProperty(ka,"__esModule",{value:!0});var e=QB(),t=iP(),r=$B(),i=jh(),s=AB(),o=Pb(),l=n($b()),a=Il(),u=RB(),h="<br/>",d=function(){function p(g,b){this.rawDeltaOps=[],this.callbacks={},this.options=l.assign({paragraphTag:"p",encodeHtml:!0,classPrefix:"ql",inlineStyles:!1,multiLineBlockquote:!0,multiLineHeader:!0,multiLineCodeblock:!0,multiLineParagraph:!0,multiLineCustomBlock:!0,allowBackgroundClasses:!1,linkTarget:"_blank"},b,{orderedListTag:"ol",bulletListTag:"ul",listItemTag:"li"});var x;this.options.inlineStyles?typeof this.options.inlineStyles=="object"?x=this.options.inlineStyles:x={}:x=void 0,this.converterOptions={encodeHtml:this.options.encodeHtml,classPrefix:this.options.classPrefix,inlineStyles:x,listItemTag:this.options.listItemTag,paragraphTag:this.options.paragraphTag,linkRel:this.options.linkRel,linkTarget:this.options.linkTarget,allowBackgroundClasses:this.options.allowBackgroundClasses,customTag:this.options.customTag,customTagAttributes:this.options.customTagAttributes,customCssClasses:this.options.customCssClasses,customCssStyles:this.options.customCssStyles},this.rawDeltaOps=g}return p.prototype._getListTag=function(g){return g.isOrderedList()?this.options.orderedListTag+"":g.isBulletList()?this.options.bulletListTag+"":g.isCheckedList()?this.options.bulletListTag+"":g.isUncheckedList()?this.options.bulletListTag+"":""},p.prototype.getGroupedOps=function(){var g=e.InsertOpsConverter.convert(this.rawDeltaOps,this.options),b=r.Grouper.pairOpsWithTheirBlock(g),x=r.Grouper.groupConsecutiveSameStyleBlocks(b,{blockquotes:!!this.options.multiLineBlockquote,header:!!this.options.multiLineHeader,codeBlocks:!!this.options.multiLineCodeblock,customBlocks:!!this.options.multiLineCustomBlock}),v=r.Grouper.reduceConsecutiveSameStyleBlocksToOne(x),w=new u.TableGrouper;v=w.group(v);var k=new s.ListNester;return k.nest(v)},p.prototype.convert=function(){var g=this,b=this.getGroupedOps();return b.map(function(x){if(x instanceof i.ListGroup)return g._renderWithCallbacks(a.GroupType.List,x,function(){return g._renderList(x)});if(x instanceof i.TableGroup)return g._renderWithCallbacks(a.GroupType.Table,x,function(){return g._renderTable(x)});if(x instanceof i.BlockGroup){var v=x;return g._renderWithCallbacks(a.GroupType.Block,x,function(){return g._renderBlock(v.op,v.ops)})}else return x instanceof i.BlotBlock?g._renderCustom(x.op,null):x instanceof i.VideoItem?g._renderWithCallbacks(a.GroupType.Video,x,function(){var w=x,k=new t.OpToHtmlConverter(w.op,g.converterOptions);return k.getHtml()}):g._renderWithCallbacks(a.GroupType.InlineGroup,x,function(){return g._renderInlines(x.ops,!0)})}).join("")},p.prototype._renderWithCallbacks=function(g,b,x){var v="",w=this.callbacks.beforeRender_cb;v=typeof w=="function"?w.apply(null,[g,b]):"",v||(v=x());var k=this.callbacks.afterRender_cb;return v=typeof k=="function"?k.apply(null,[g,v]):v,v},p.prototype._renderList=function(g){var b=this,x=g.items[0];return o.makeStartTag(this._getListTag(x.item.op))+g.items.map(function(v){return b._renderListItem(v)}).join("")+o.makeEndTag(this._getListTag(x.item.op))},p.prototype._renderListItem=function(g){g.item.op.attributes.indent=0;var b=new t.OpToHtmlConverter(g.item.op,this.converterOptions),x=b.getHtmlParts(),v=this._renderInlines(g.item.ops,!1);return x.openingTag+v+(g.innerList?this._renderList(g.innerList):"")+x.closingTag},p.prototype._renderTable=function(g){var b=this;return o.makeStartTag("table")+o.makeStartTag("tbody")+g.rows.map(function(x){return b._renderTableRow(x)}).join("")+o.makeEndTag("tbody")+o.makeEndTag("table")},p.prototype._renderTableRow=function(g){var b=this;return o.makeStartTag("tr")+g.cells.map(function(x){return b._renderTableCell(x)}).join("")+o.makeEndTag("tr")},p.prototype._renderTableCell=function(g){var b=new t.OpToHtmlConverter(g.item.op,this.converterOptions),x=b.getHtmlParts(),v=this._renderInlines(g.item.ops,!1);return o.makeStartTag("td",{key:"data-row",value:g.item.op.attributes.table})+x.openingTag+v+x.closingTag+o.makeEndTag("td")},p.prototype._renderBlock=function(g,b){var x=this,v=new t.OpToHtmlConverter(g,this.converterOptions),w=v.getHtmlParts();if(g.isCodeBlock())return w.openingTag+o.encodeHtml(b.map(function($){return $.isCustomEmbed()?x._renderCustom($,g):$.insert.value}).join(""))+w.closingTag;var k=b.map(function($){return x._renderInline($,g)}).join("");return w.openingTag+(k||h)+w.closingTag},p.prototype._renderInlines=function(g,b){var x=this;b===void 0&&(b=!0);var v=g.length-1,w=g.map(function(B,N){return N>0&&N===v&&B.isJustNewline()?"":x._renderInline(B,null)}).join("");if(!b)return w;var k=o.makeStartTag(this.options.paragraphTag),$=o.makeEndTag(this.options.paragraphTag);return w===h||this.options.multiLineParagraph?k+w+$:k+w.split(h).map(function(B){return B===""?h:B}).join($+k)+$},p.prototype._renderInline=function(g,b){if(g.isCustomEmbed())return this._renderCustom(g,b);var x=new t.OpToHtmlConverter(g,this.converterOptions);return x.getHtml().replace(/\n/g,h)},p.prototype._renderCustom=function(g,b){var x=this.callbacks.renderCustomOp_cb;return typeof x=="function"?x.apply(null,[g,b]):""},p.prototype.beforeRender=function(g){typeof g=="function"&&(this.callbacks.beforeRender_cb=g)},p.prototype.afterRender=function(g){typeof g=="function"&&(this.callbacks.afterRender_cb=g)},p.prototype.renderCustomWith=function(g){this.callbacks.renderCustomOp_cb=g},p}();return ka.QuillDeltaToHtmlConverter=d,ka}var sS;function LB(){if(sS)return Wt;sS=1,Object.defineProperty(Wt,"__esModule",{value:!0});var n=EB();Wt.QuillDeltaToHtmlConverter=n.QuillDeltaToHtmlConverter;var e=iP();Wt.OpToHtmlConverter=e.OpToHtmlConverter;var t=jh();Wt.InlineGroup=t.InlineGroup,Wt.VideoItem=t.VideoItem,Wt.BlockGroup=t.BlockGroup,Wt.ListGroup=t.ListGroup,Wt.ListItem=t.ListItem,Wt.BlotBlock=t.BlotBlock;var r=Cb();Wt.DeltaInsertOp=r.DeltaInsertOp;var i=kb();Wt.InsertDataQuill=i.InsertDataQuill,Wt.InsertDataCustom=i.InsertDataCustom;var s=Il();return Wt.NewLine=s.NewLine,Wt.ListType=s.ListType,Wt.ScriptType=s.ScriptType,Wt.DirectionType=s.DirectionType,Wt.AlignType=s.AlignType,Wt.DataType=s.DataType,Wt.GroupType=s.GroupType,Wt}var sP=LB();const Sg=({blockId:n})=>{const{paperValue:e}=xn(),t=e[n],r=t.props,i=r.textDelta,s=t.type,o=C.useMemo(()=>e.root.props.h1Size?`${e.root.props.h1Size}px`:void 0,[e.root.props.h1Size]),l=C.useMemo(()=>e.root.props.h2Size?`${e.root.props.h2Size}px`:void 0,[e.root.props.h2Size]),a=C.useMemo(()=>e.root.props.h3Size?`${e.root.props.h3Size}px`:void 0,[e.root.props.h3Size]),u=d=>new sP.QuillDeltaToHtmlConverter(d.ops,{inlineStyles:!0}).convert(),h=C.useMemo(()=>{if(i){let d=u(i);if(s==="list")d=d.replace("<ol>",`<ol style="color:${r.textColor??""}; padding-left:1.5em; font-size:${r.fontSize?`${r.fontSize}px`:"12px"}; font-family:${r.fontFamily?Ni[r.fontFamily]??"":""}">`).replace("<ul>",`<ul style="color:${r.textColor??""}; padding-left:1.5em; font-size:${r.fontSize?`${r.fontSize}px`:"12px"}; font-family:${r.fontFamily?Ni[r.fontFamily]??"":""}">`);else{let p=r.textType?r.textType:"p";d=d.replace("<p>",`<${p} style="word-break: break-word; color:${r.textColor??""}; text-align:${r.textAlign??""}; font-size:${r.textType==="h1"?o??"32px":r.textType==="h2"?l??"24px":r.textType==="h3"?a??"20px":r.fontSize?`${r.fontSize}px`:"12px"}; font-family:${r.fontFamily?Ni[r.fontFamily]??"":""}">`).replace("</p>",`</${p}>`)}return d}else return"<p></p>"},[i,r,o,l,a]);return O.jsx("div",{style:{width:"100%"},dangerouslySetInnerHTML:{__html:h}})};var oP=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,_B=typeof self=="object"&&self&&self.Object===Object&&self,Fi=oP||_B||Function("return this")(),To=Fi.Symbol,lP=Object.prototype,MB=lP.hasOwnProperty,NB=lP.toString,yu=To?To.toStringTag:void 0;function BB(n){var e=MB.call(n,yu),t=n[yu];try{n[yu]=void 0;var r=!0}catch{}var i=NB.call(n);return r&&(e?n[yu]=t:delete n[yu]),i}var IB=Object.prototype,jB=IB.toString;function DB(n){return jB.call(n)}var ZB="[object Null]",zB="[object Undefined]",oS=To?To.toStringTag:void 0;function Cc(n){return n==null?n===void 0?zB:ZB:oS&&oS in Object(n)?BB(n):DB(n)}function $s(n){return n!=null&&typeof n=="object"}var Cl=Array.isArray;function Lo(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function aP(n){return n}var qB="[object AsyncFunction]",XB="[object Function]",VB="[object GeneratorFunction]",WB="[object Proxy]";function Ab(n){if(!Lo(n))return!1;var e=Cc(n);return e==XB||e==VB||e==qB||e==WB}var a0=Fi["__core-js_shared__"],lS=function(){var n=/[^.]+$/.exec(a0&&a0.keys&&a0.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function FB(n){return!!lS&&lS in n}var YB=Function.prototype,HB=YB.toString;function jl(n){if(n!=null){try{return HB.call(n)}catch{}try{return n+""}catch{}}return""}var GB=/[\\^$.*+?()[\]{}|]/g,UB=/^\[object .+?Constructor\]$/,KB=Function.prototype,JB=Object.prototype,eI=KB.toString,tI=JB.hasOwnProperty,nI=RegExp("^"+eI.call(tI).replace(GB,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function rI(n){if(!Lo(n)||FB(n))return!1;var e=Ab(n)?nI:UB;return e.test(jl(n))}function iI(n,e){return n?.[e]}function Dl(n,e){var t=iI(n,e);return rI(t)?t:void 0}var BO=Dl(Fi,"WeakMap"),aS=Object.create,sI=function(){function n(){}return function(e){if(!Lo(e))return{};if(aS)return aS(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();function oI(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function lI(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var aI=800,cI=16,uI=Date.now;function hI(n){var e=0,t=0;return function(){var r=uI(),i=cI-(r-t);if(t=r,i>0){if(++e>=aI)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function fI(n){return function(){return n}}var Sp=function(){try{var n=Dl(Object,"defineProperty");return n({},"",{}),n}catch{}}(),dI=Sp?function(n,e){return Sp(n,"toString",{configurable:!0,enumerable:!1,value:fI(e),writable:!0})}:aP,pI=hI(dI);function gI(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var mI=9007199254740991,OI=/^(?:0|[1-9]\d*)$/;function cP(n,e){var t=typeof n;return e=e??mI,!!e&&(t=="number"||t!="symbol"&&OI.test(n))&&n>-1&&n%1==0&&n<e}function Rb(n,e,t){e=="__proto__"&&Sp?Sp(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function Dh(n,e){return n===e||n!==n&&e!==e}var bI=Object.prototype,xI=bI.hasOwnProperty;function uP(n,e,t){var r=n[e];(!(xI.call(n,e)&&Dh(r,t))||t===void 0&&!(e in n))&&Rb(n,e,t)}function vI(n,e,t,r){var i=!t;t||(t={});for(var s=-1,o=e.length;++s<o;){var l=e[s],a=void 0;a===void 0&&(a=n[l]),i?Rb(t,l,a):uP(t,l,a)}return t}var cS=Math.max;function yI(n,e,t){return e=cS(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,s=cS(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=r[i];return l[e]=t(o),oI(n,this,l)}}function SI(n,e){return pI(yI(n,e,aP),n+"")}var wI=9007199254740991;function hP(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=wI}function wg(n){return n!=null&&hP(n.length)&&!Ab(n)}function kI(n,e,t){if(!Lo(t))return!1;var r=typeof e;return(r=="number"?wg(t)&&cP(e,t.length):r=="string"&&e in t)?Dh(t[e],n):!1}function TI(n){return SI(function(e,t){var r=-1,i=t.length,s=i>1?t[i-1]:void 0,o=i>2?t[2]:void 0;for(s=n.length>3&&typeof s=="function"?(i--,s):void 0,o&&kI(t[0],t[1],o)&&(s=i<3?void 0:s,i=1),e=Object(e);++r<i;){var l=t[r];l&&n(e,l,r,s)}return e})}var CI=Object.prototype;function Eb(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||CI;return n===t}function PI(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var QI="[object Arguments]";function uS(n){return $s(n)&&Cc(n)==QI}var fP=Object.prototype,$I=fP.hasOwnProperty,AI=fP.propertyIsEnumerable,IO=uS(function(){return arguments}())?uS:function(n){return $s(n)&&$I.call(n,"callee")&&!AI.call(n,"callee")};function RI(){return!1}var dP=typeof exports=="object"&&exports&&!exports.nodeType&&exports,hS=dP&&typeof module=="object"&&module&&!module.nodeType&&module,EI=hS&&hS.exports===dP,fS=EI?Fi.Buffer:void 0,LI=fS?fS.isBuffer:void 0,ah=LI||RI,_I="[object Arguments]",MI="[object Array]",NI="[object Boolean]",BI="[object Date]",II="[object Error]",jI="[object Function]",DI="[object Map]",ZI="[object Number]",zI="[object Object]",qI="[object RegExp]",XI="[object Set]",VI="[object String]",WI="[object WeakMap]",FI="[object ArrayBuffer]",YI="[object DataView]",HI="[object Float32Array]",GI="[object Float64Array]",UI="[object Int8Array]",KI="[object Int16Array]",JI="[object Int32Array]",ej="[object Uint8Array]",tj="[object Uint8ClampedArray]",nj="[object Uint16Array]",rj="[object Uint32Array]",At={};At[HI]=At[GI]=At[UI]=At[KI]=At[JI]=At[ej]=At[tj]=At[nj]=At[rj]=!0;At[_I]=At[MI]=At[FI]=At[NI]=At[YI]=At[BI]=At[II]=At[jI]=At[DI]=At[ZI]=At[zI]=At[qI]=At[XI]=At[VI]=At[WI]=!1;function ij(n){return $s(n)&&hP(n.length)&&!!At[Cc(n)]}function Lb(n){return function(e){return n(e)}}var pP=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Hu=pP&&typeof module=="object"&&module&&!module.nodeType&&module,sj=Hu&&Hu.exports===pP,c0=sj&&oP.process,hc=function(){try{var n=Hu&&Hu.require&&Hu.require("util").types;return n||c0&&c0.binding&&c0.binding("util")}catch{}}(),dS=hc&&hc.isTypedArray,_b=dS?Lb(dS):ij,oj=Object.prototype,lj=oj.hasOwnProperty;function gP(n,e){var t=Cl(n),r=!t&&IO(n),i=!t&&!r&&ah(n),s=!t&&!r&&!i&&_b(n),o=t||r||i||s,l=o?PI(n.length,String):[],a=l.length;for(var u in n)(e||lj.call(n,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||cP(u,a)))&&l.push(u);return l}function mP(n,e){return function(t){return n(e(t))}}var aj=mP(Object.keys,Object),cj=Object.prototype,uj=cj.hasOwnProperty;function hj(n){if(!Eb(n))return aj(n);var e=[];for(var t in Object(n))uj.call(n,t)&&t!="constructor"&&e.push(t);return e}function fj(n){return wg(n)?gP(n):hj(n)}function dj(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var pj=Object.prototype,gj=pj.hasOwnProperty;function mj(n){if(!Lo(n))return dj(n);var e=Eb(n),t=[];for(var r in n)r=="constructor"&&(e||!gj.call(n,r))||t.push(r);return t}function OP(n){return wg(n)?gP(n,!0):mj(n)}var ch=Dl(Object,"create");function Oj(){this.__data__=ch?ch(null):{},this.size=0}function bj(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var xj="__lodash_hash_undefined__",vj=Object.prototype,yj=vj.hasOwnProperty;function Sj(n){var e=this.__data__;if(ch){var t=e[n];return t===xj?void 0:t}return yj.call(e,n)?e[n]:void 0}var wj=Object.prototype,kj=wj.hasOwnProperty;function Tj(n){var e=this.__data__;return ch?e[n]!==void 0:kj.call(e,n)}var Cj="__lodash_hash_undefined__";function Pj(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=ch&&e===void 0?Cj:e,this}function Pl(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Pl.prototype.clear=Oj;Pl.prototype.delete=bj;Pl.prototype.get=Sj;Pl.prototype.has=Tj;Pl.prototype.set=Pj;function Qj(){this.__data__=[],this.size=0}function kg(n,e){for(var t=n.length;t--;)if(Dh(n[t][0],e))return t;return-1}var $j=Array.prototype,Aj=$j.splice;function Rj(n){var e=this.__data__,t=kg(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():Aj.call(e,t,1),--this.size,!0}function Ej(n){var e=this.__data__,t=kg(e,n);return t<0?void 0:e[t][1]}function Lj(n){return kg(this.__data__,n)>-1}function _j(n,e){var t=this.__data__,r=kg(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function _s(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}_s.prototype.clear=Qj;_s.prototype.delete=Rj;_s.prototype.get=Ej;_s.prototype.has=Lj;_s.prototype.set=_j;var uh=Dl(Fi,"Map");function Mj(){this.size=0,this.__data__={hash:new Pl,map:new(uh||_s),string:new Pl}}function Nj(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function Tg(n,e){var t=n.__data__;return Nj(e)?t[typeof e=="string"?"string":"hash"]:t.map}function Bj(n){var e=Tg(this,n).delete(n);return this.size-=e?1:0,e}function Ij(n){return Tg(this,n).get(n)}function jj(n){return Tg(this,n).has(n)}function Dj(n,e){var t=Tg(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function Zl(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Zl.prototype.clear=Mj;Zl.prototype.delete=Bj;Zl.prototype.get=Ij;Zl.prototype.has=jj;Zl.prototype.set=Dj;function Zj(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var bP=mP(Object.getPrototypeOf,Object),zj="[object Object]",qj=Function.prototype,Xj=Object.prototype,xP=qj.toString,Vj=Xj.hasOwnProperty,Wj=xP.call(Object);function Fj(n){if(!$s(n)||Cc(n)!=zj)return!1;var e=bP(n);if(e===null)return!0;var t=Vj.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&xP.call(t)==Wj}function Yj(){this.__data__=new _s,this.size=0}function Hj(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function Gj(n){return this.__data__.get(n)}function Uj(n){return this.__data__.has(n)}var Kj=200;function Jj(n,e){var t=this.__data__;if(t instanceof _s){var r=t.__data__;if(!uh||r.length<Kj-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new Zl(r)}return t.set(n,e),this.size=t.size,this}function Zi(n){var e=this.__data__=new _s(n);this.size=e.size}Zi.prototype.clear=Yj;Zi.prototype.delete=Hj;Zi.prototype.get=Gj;Zi.prototype.has=Uj;Zi.prototype.set=Jj;var vP=typeof exports=="object"&&exports&&!exports.nodeType&&exports,pS=vP&&typeof module=="object"&&module&&!module.nodeType&&module,e7=pS&&pS.exports===vP,gS=e7?Fi.Buffer:void 0,mS=gS?gS.allocUnsafe:void 0;function yP(n,e){if(e)return n.slice();var t=n.length,r=mS?mS(t):new n.constructor(t);return n.copy(r),r}function t7(n,e){for(var t=-1,r=n==null?0:n.length,i=0,s=[];++t<r;){var o=n[t];e(o,t,n)&&(s[i++]=o)}return s}function n7(){return[]}var r7=Object.prototype,i7=r7.propertyIsEnumerable,OS=Object.getOwnPropertySymbols,s7=OS?function(n){return n==null?[]:(n=Object(n),t7(OS(n),function(e){return i7.call(n,e)}))}:n7;function o7(n,e,t){var r=e(n);return Cl(n)?r:Zj(r,t(n))}function jO(n){return o7(n,fj,s7)}var DO=Dl(Fi,"DataView"),ZO=Dl(Fi,"Promise"),zO=Dl(Fi,"Set"),bS="[object Map]",l7="[object Object]",xS="[object Promise]",vS="[object Set]",yS="[object WeakMap]",SS="[object DataView]",a7=jl(DO),c7=jl(uh),u7=jl(ZO),h7=jl(zO),f7=jl(BO),si=Cc;(DO&&si(new DO(new ArrayBuffer(1)))!=SS||uh&&si(new uh)!=bS||ZO&&si(ZO.resolve())!=xS||zO&&si(new zO)!=vS||BO&&si(new BO)!=yS)&&(si=function(n){var e=Cc(n),t=e==l7?n.constructor:void 0,r=t?jl(t):"";if(r)switch(r){case a7:return SS;case c7:return bS;case u7:return xS;case h7:return vS;case f7:return yS}return e});var d7=Object.prototype,p7=d7.hasOwnProperty;function g7(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&p7.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var wp=Fi.Uint8Array;function Mb(n){var e=new n.constructor(n.byteLength);return new wp(e).set(new wp(n)),e}function m7(n,e){var t=Mb(n.buffer);return new n.constructor(t,n.byteOffset,n.byteLength)}var O7=/\w*$/;function b7(n){var e=new n.constructor(n.source,O7.exec(n));return e.lastIndex=n.lastIndex,e}var wS=To?To.prototype:void 0,kS=wS?wS.valueOf:void 0;function x7(n){return kS?Object(kS.call(n)):{}}function SP(n,e){var t=e?Mb(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var v7="[object Boolean]",y7="[object Date]",S7="[object Map]",w7="[object Number]",k7="[object RegExp]",T7="[object Set]",C7="[object String]",P7="[object Symbol]",Q7="[object ArrayBuffer]",$7="[object DataView]",A7="[object Float32Array]",R7="[object Float64Array]",E7="[object Int8Array]",L7="[object Int16Array]",_7="[object Int32Array]",M7="[object Uint8Array]",N7="[object Uint8ClampedArray]",B7="[object Uint16Array]",I7="[object Uint32Array]";function j7(n,e,t){var r=n.constructor;switch(e){case Q7:return Mb(n);case v7:case y7:return new r(+n);case $7:return m7(n);case A7:case R7:case E7:case L7:case _7:case M7:case N7:case B7:case I7:return SP(n,t);case S7:return new r;case w7:case C7:return new r(n);case k7:return b7(n);case T7:return new r;case P7:return x7(n)}}function wP(n){return typeof n.constructor=="function"&&!Eb(n)?sI(bP(n)):{}}var D7="[object Map]";function Z7(n){return $s(n)&&si(n)==D7}var TS=hc&&hc.isMap,z7=TS?Lb(TS):Z7,q7="[object Set]";function X7(n){return $s(n)&&si(n)==q7}var CS=hc&&hc.isSet,V7=CS?Lb(CS):X7,W7=1,kP="[object Arguments]",F7="[object Array]",Y7="[object Boolean]",H7="[object Date]",G7="[object Error]",TP="[object Function]",U7="[object GeneratorFunction]",K7="[object Map]",J7="[object Number]",CP="[object Object]",eD="[object RegExp]",tD="[object Set]",nD="[object String]",rD="[object Symbol]",iD="[object WeakMap]",sD="[object ArrayBuffer]",oD="[object DataView]",lD="[object Float32Array]",aD="[object Float64Array]",cD="[object Int8Array]",uD="[object Int16Array]",hD="[object Int32Array]",fD="[object Uint8Array]",dD="[object Uint8ClampedArray]",pD="[object Uint16Array]",gD="[object Uint32Array]",Pt={};Pt[kP]=Pt[F7]=Pt[sD]=Pt[oD]=Pt[Y7]=Pt[H7]=Pt[lD]=Pt[aD]=Pt[cD]=Pt[uD]=Pt[hD]=Pt[K7]=Pt[J7]=Pt[CP]=Pt[eD]=Pt[tD]=Pt[nD]=Pt[rD]=Pt[fD]=Pt[dD]=Pt[pD]=Pt[gD]=!0;Pt[G7]=Pt[TP]=Pt[iD]=!1;function Vd(n,e,t,r,i,s){var o,l=e&W7;if(o!==void 0)return o;if(!Lo(n))return n;var a=Cl(n);if(a)o=g7(n);else{var u=si(n),h=u==TP||u==U7;if(ah(n))return yP(n,l);if(u==CP||u==kP||h&&!i)o=h?{}:wP(n);else{if(!Pt[u])return i?n:{};o=j7(n,u,l)}}s||(s=new Zi);var d=s.get(n);if(d)return d;s.set(n,o),V7(n)?n.forEach(function(b){o.add(Vd(b,e,t,b,n,s))}):z7(n)&&n.forEach(function(b,x){o.set(x,Vd(b,e,t,x,n,s))});var p=jO,g=a?void 0:p(n);return gI(g||n,function(b,x){g&&(x=b,b=n[x]),uP(o,x,Vd(b,e,t,x,n,s))}),o}var mD=1,OD=4;function Ka(n){return Vd(n,mD|OD)}var bD="__lodash_hash_undefined__";function xD(n){return this.__data__.set(n,bD),this}function vD(n){return this.__data__.has(n)}function kp(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new Zl;++e<t;)this.add(n[e])}kp.prototype.add=kp.prototype.push=xD;kp.prototype.has=vD;function yD(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function SD(n,e){return n.has(e)}var wD=1,kD=2;function PP(n,e,t,r,i,s){var o=t&wD,l=n.length,a=e.length;if(l!=a&&!(o&&a>l))return!1;var u=s.get(n),h=s.get(e);if(u&&h)return u==e&&h==n;var d=-1,p=!0,g=t&kD?new kp:void 0;for(s.set(n,e),s.set(e,n);++d<l;){var b=n[d],x=e[d];if(r)var v=o?r(x,b,d,e,n,s):r(b,x,d,n,e,s);if(v!==void 0){if(v)continue;p=!1;break}if(g){if(!yD(e,function(w,k){if(!SD(g,k)&&(b===w||i(b,w,t,r,s)))return g.push(k)})){p=!1;break}}else if(!(b===x||i(b,x,t,r,s))){p=!1;break}}return s.delete(n),s.delete(e),p}function TD(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}function CD(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var PD=1,QD=2,$D="[object Boolean]",AD="[object Date]",RD="[object Error]",ED="[object Map]",LD="[object Number]",_D="[object RegExp]",MD="[object Set]",ND="[object String]",BD="[object Symbol]",ID="[object ArrayBuffer]",jD="[object DataView]",PS=To?To.prototype:void 0,u0=PS?PS.valueOf:void 0;function DD(n,e,t,r,i,s,o){switch(t){case jD:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case ID:return!(n.byteLength!=e.byteLength||!s(new wp(n),new wp(e)));case $D:case AD:case LD:return Dh(+n,+e);case RD:return n.name==e.name&&n.message==e.message;case _D:case ND:return n==e+"";case ED:var l=TD;case MD:var a=r&PD;if(l||(l=CD),n.size!=e.size&&!a)return!1;var u=o.get(n);if(u)return u==e;r|=QD,o.set(n,e);var h=PP(l(n),l(e),r,i,s,o);return o.delete(n),h;case BD:if(u0)return u0.call(n)==u0.call(e)}return!1}var ZD=1,zD=Object.prototype,qD=zD.hasOwnProperty;function XD(n,e,t,r,i,s){var o=t&ZD,l=jO(n),a=l.length,u=jO(e),h=u.length;if(a!=h&&!o)return!1;for(var d=a;d--;){var p=l[d];if(!(o?p in e:qD.call(e,p)))return!1}var g=s.get(n),b=s.get(e);if(g&&b)return g==e&&b==n;var x=!0;s.set(n,e),s.set(e,n);for(var v=o;++d<a;){p=l[d];var w=n[p],k=e[p];if(r)var $=o?r(k,w,p,e,n,s):r(w,k,p,n,e,s);if(!($===void 0?w===k||i(w,k,t,r,s):$)){x=!1;break}v||(v=p=="constructor")}if(x&&!v){var B=n.constructor,N=e.constructor;B!=N&&"constructor"in n&&"constructor"in e&&!(typeof B=="function"&&B instanceof B&&typeof N=="function"&&N instanceof N)&&(x=!1)}return s.delete(n),s.delete(e),x}var VD=1,QS="[object Arguments]",$S="[object Array]",od="[object Object]",WD=Object.prototype,AS=WD.hasOwnProperty;function FD(n,e,t,r,i,s){var o=Cl(n),l=Cl(e),a=o?$S:si(n),u=l?$S:si(e);a=a==QS?od:a,u=u==QS?od:u;var h=a==od,d=u==od,p=a==u;if(p&&ah(n)){if(!ah(e))return!1;o=!0,h=!1}if(p&&!h)return s||(s=new Zi),o||_b(n)?PP(n,e,t,r,i,s):DD(n,e,a,t,r,i,s);if(!(t&VD)){var g=h&&AS.call(n,"__wrapped__"),b=d&&AS.call(e,"__wrapped__");if(g||b){var x=g?n.value():n,v=b?e.value():e;return s||(s=new Zi),i(x,v,t,r,s)}}return p?(s||(s=new Zi),XD(n,e,t,r,i,s)):!1}function QP(n,e,t,r,i){return n===e?!0:n==null||e==null||!$s(n)&&!$s(e)?n!==n&&e!==e:FD(n,e,t,r,QP,i)}function YD(n){return function(e,t,r){for(var i=-1,s=Object(e),o=r(e),l=o.length;l--;){var a=o[++i];if(t(s[a],a,s)===!1)break}return e}}var HD=YD();function qO(n,e,t){(t!==void 0&&!Dh(n[e],t)||t===void 0&&!(e in n))&&Rb(n,e,t)}function GD(n){return $s(n)&&wg(n)}function XO(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function UD(n){return vI(n,OP(n))}function KD(n,e,t,r,i,s,o){var l=XO(n,t),a=XO(e,t),u=o.get(a);if(u){qO(n,t,u);return}var h=s?s(l,a,t+"",n,e,o):void 0,d=h===void 0;if(d){var p=Cl(a),g=!p&&ah(a),b=!p&&!g&&_b(a);h=a,p||g||b?Cl(l)?h=l:GD(l)?h=lI(l):g?(d=!1,h=yP(a,!0)):b?(d=!1,h=SP(a,!0)):h=[]:Fj(a)||IO(a)?(h=l,IO(l)?h=UD(l):(!Lo(l)||Ab(l))&&(h=wP(a))):d=!1}d&&(o.set(a,h),i(h,a,r,s,o),o.delete(a)),qO(n,t,h)}function $P(n,e,t,r,i){n!==e&&HD(e,function(s,o){if(i||(i=new Zi),Lo(s))KD(n,e,o,t,$P,r,i);else{var l=r?r(XO(n,o),s,o+"",n,e,i):void 0;l===void 0&&(l=s),qO(n,o,l)}},OP)}function Nb(n,e){return QP(n,e)}var yo=TI(function(n,e,t){$P(n,e,t)}),Re=(n=>(n[n.TYPE=3]="TYPE",n[n.LEVEL=12]="LEVEL",n[n.ATTRIBUTE=13]="ATTRIBUTE",n[n.BLOT=14]="BLOT",n[n.INLINE=7]="INLINE",n[n.BLOCK=11]="BLOCK",n[n.BLOCK_BLOT=10]="BLOCK_BLOT",n[n.INLINE_BLOT=6]="INLINE_BLOT",n[n.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",n[n.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",n[n.ANY=15]="ANY",n))(Re||{});class Xi{constructor(e,t,r={}){this.attrName=e,this.keyName=t;const i=Re.TYPE&Re.ATTRIBUTE;this.scope=r.scope!=null?r.scope&Re.LEVEL|i:Re.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(e){return Array.from(e.attributes).map(t=>t.name)}add(e,t){return this.canAdd(e,t)?(e.setAttribute(this.keyName,t),!0):!1}canAdd(e,t){return this.whitelist==null?!0:typeof t=="string"?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""}}class Ja extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const AP=class VO{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,t=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(t){let r=null;try{r=e.parentNode}catch{return null}return this.find(r,t)}return null}create(e,t,r){const i=this.query(t);if(i==null)throw new Ja(`Unable to create ${t} blot`);const s=i,o=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:s.create(r),l=new s(e,o,r);return VO.blots.set(l.domNode,l),l}find(e,t=!1){return VO.find(e,t)}query(e,t=Re.ANY){let r;return typeof e=="string"?r=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?r=this.types.text:typeof e=="number"?e&Re.LEVEL&Re.BLOCK?r=this.types.block:e&Re.LEVEL&Re.INLINE&&(r=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(i=>(r=this.classes[i],!!r)),r=r||this.tags[e.tagName]),r==null?null:"scope"in r&&t&Re.LEVEL&r.scope&&t&Re.TYPE&r.scope?r:null}register(...e){return e.map(t=>{const r="blotName"in t,i="attrName"in t;if(!r&&!i)throw new Ja("Invalid definition");if(r&&t.blotName==="abstract")throw new Ja("Cannot register abstract class");const s=r?t.blotName:i?t.attrName:void 0;return this.types[s]=t,i?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):r&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(o=>o.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(o=>{(this.tags[o]==null||t.className==null)&&(this.tags[o]=t)}))),t})}};AP.blots=new WeakMap;let fc=AP;function RS(n,e){return(n.getAttribute("class")||"").split(/\s+/).filter(t=>t.indexOf(`${e}-`)===0)}class JD extends Xi{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(e,t){return this.canAdd(e,t)?(this.remove(e),e.classList.add(`${this.keyName}-${t}`),!0):!1}remove(e){RS(e,this.keyName).forEach(t=>{e.classList.remove(t)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const t=(RS(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""}}const gi=JD;function h0(n){const e=n.split("-"),t=e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return e[0]+t}class eZ extends Xi{static keys(e){return(e.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(e,t){return this.canAdd(e,t)?(e.style[h0(this.keyName)]=t,!0):!1}remove(e){e.style[h0(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const t=e.style[h0(this.keyName)];return this.canAdd(e,t)?t:""}}const _o=eZ;class tZ{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,t){t?e.add(this.domNode,t)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=fc.find(this.domNode);if(e==null)return;const t=Xi.keys(this.domNode),r=gi.keys(this.domNode),i=_o.keys(this.domNode);t.concat(r).concat(i).forEach(s=>{const o=e.scroll.query(s,Re.ATTRIBUTE);o instanceof Xi&&(this.attributes[o.attrName]=o)})}copy(e){Object.keys(this.attributes).forEach(t=>{const r=this.attributes[t].value(this.domNode);e.format(t,r)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,t)=>(e[t]=this.attributes[t].value(this.domNode),e),{})}}const Cg=tZ,RP=class{constructor(e,t){this.scroll=e,this.domNode=t,fc.blots.set(t,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new Ja("Blot definition missing tagName");let t,r;return Array.isArray(this.tagName)?(typeof e=="string"?(r=e.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof e=="number"&&(r=e),typeof r=="number"?t=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?t=document.createElement(r):t=document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),fc.blots.delete(this.domNode)}deleteAt(e,t){this.isolate(e,t).remove()}formatAt(e,t,r,i){const s=this.isolate(e,t);if(this.scroll.query(r,Re.BLOT)!=null&&i)s.wrap(r,i);else if(this.scroll.query(r,Re.ATTRIBUTE)!=null){const o=this.scroll.create(this.statics.scope);s.wrap(o),o.format(r,i)}}insertAt(e,t,r){const i=r==null?this.scroll.create("text",t):this.scroll.create(t,r),s=this.split(e);this.parent.insertBefore(i,s||void 0)}isolate(e,t){const r=this.split(e);if(r==null)throw new Error("Attempt to isolate at end");return r.split(t),r}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(e,t){return e===0?this:this.next}update(e,t){}wrap(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new Ja(`Cannot wrap ${e}`);return r.appendChild(this),r}};RP.blotName="abstract";let EP=RP;const LP=class extends EP{static value(e){return!0}index(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(e,t){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};LP.scope=Re.INLINE_BLOT;let nZ=LP;const $n=nZ;class rZ{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const t=e.slice(1);this.append(...t)}}at(e){const t=this.iterator();let r=t();for(;r&&e>0;)e-=1,r=t();return r}contains(e){const t=this.iterator();let r=t();for(;r;){if(r===e)return!0;r=t()}return!1}indexOf(e){const t=this.iterator();let r=t(),i=0;for(;r;){if(r===e)return i;i+=1,r=t()}return-1}insertBefore(e,t){e!=null&&(this.remove(e),e.next=t,t!=null?(e.prev=t.prev,t.prev!=null&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let t=0,r=this.head;for(;r!=null;){if(r===e)return t;t+=r.length(),r=r.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const t=e;return e!=null&&(e=e.next),t}}find(e,t=!1){const r=this.iterator();let i=r();for(;i;){const s=i.length();if(e<s||t&&e===s&&(i.next==null||i.next.length()!==0))return[i,e];e-=s,i=r()}return[null,0]}forEach(e){const t=this.iterator();let r=t();for(;r;)e(r),r=t()}forEachAt(e,t,r){if(t<=0)return;const[i,s]=this.find(e);let o=e-s;const l=this.iterator(i);let a=l();for(;a&&o<e+t;){const u=a.length();e>o?r(a,e-o,Math.min(t,o+u-e)):r(a,0,Math.min(u,e+t-o)),o+=u,a=l()}}map(e){return this.reduce((t,r)=>(t.push(e(r)),t),[])}reduce(e,t){const r=this.iterator();let i=r();for(;i;)t=e(t,i),i=r();return t}}function ES(n,e){const t=e.find(n);if(t)return t;try{return e.create(n)}catch{const r=e.create(Re.INLINE);return Array.from(n.childNodes).forEach(i=>{r.domNode.appendChild(i)}),n.parentNode&&n.parentNode.replaceChild(r.domNode,n),r.attach(),r}}const _P=class so extends EP{constructor(e,t){super(e,t),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,so.uiClass&&this.uiNode.classList.add(so.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new rZ,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const t=ES(e,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof Ja)return;throw t}})}deleteAt(e,t){if(e===0&&t===this.length())return this.remove();this.children.forEachAt(e,t,(r,i,s)=>{r.deleteAt(i,s)})}descendant(e,t=0){const[r,i]=this.children.find(t);return e.blotName==null&&e(r)||e.blotName!=null&&r instanceof e?[r,i]:r instanceof so?r.descendant(e,i):[null,-1]}descendants(e,t=0,r=Number.MAX_VALUE){let i=[],s=r;return this.children.forEachAt(t,r,(o,l,a)=>{(e.blotName==null&&e(o)||e.blotName!=null&&o instanceof e)&&i.push(o),o instanceof so&&(i=i.concat(o.descendants(e,l,s))),s-=a}),i}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(t=>{e||this.statics.allowedChildren.some(r=>t instanceof r)||(t.statics.scope===Re.BLOCK_BLOT?(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev),t.parent.unwrap(),e=!0):t instanceof so?t.unwrap():t.remove())})}formatAt(e,t,r,i){this.children.forEachAt(e,t,(s,o,l)=>{s.formatAt(o,l,r,i)})}insertAt(e,t,r){const[i,s]=this.children.find(e);if(i)i.insertAt(s,t,r);else{const o=r==null?this.scroll.create("text",t):this.scroll.create(t,r);this.appendChild(o)}}insertBefore(e,t){e.parent!=null&&e.parent.children.remove(e);let r=null;this.children.insertBefore(e,t||null),e.parent=this,t!=null&&(r=t.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(e.domNode,r),e.attach()}length(){return this.children.reduce((e,t)=>e+t.length(),0)}moveChildren(e,t){this.children.forEach(r=>{e.insertBefore(r,t)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(e,t=!1){const[r,i]=this.children.find(e,t),s=[[this,e]];return r instanceof so?s.concat(r.path(i,t)):(r!=null&&s.push([r,i]),s)}removeChild(e){this.children.remove(e)}replaceWith(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;return r instanceof so&&this.moveChildren(r),super.replaceWith(r)}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(e,this.length(),(i,s,o)=>{const l=i.split(s,t);l!=null&&r.appendChild(l)}),r}splitAfter(e){const t=this.clone();for(;e.next!=null;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,t){const r=[],i=[];e.forEach(s=>{s.target===this.domNode&&s.type==="childList"&&(r.push(...s.addedNodes),i.push(...s.removedNodes))}),i.forEach(s=>{if(s.parentNode!=null&&s.tagName!=="IFRAME"&&document.body.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const o=this.scroll.find(s);o!=null&&(o.domNode.parentNode==null||o.domNode.parentNode===this.domNode)&&o.detach()}),r.filter(s=>s.parentNode===this.domNode&&s!==this.uiNode).sort((s,o)=>s===o?0:s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(s=>{let o=null;s.nextSibling!=null&&(o=this.scroll.find(s.nextSibling));const l=ES(s,this.scroll);(l.next!==o||l.next==null)&&(l.parent!=null&&l.parent.removeChild(this),this.insertBefore(l,o||void 0))}),this.enforceAllowedChildren()}};_P.uiClass="";let iZ=_P;const hi=iZ;function sZ(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}const Ma=class Na extends hi{static create(e){return super.create(e)}static formats(e,t){const r=t.query(Na.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Cg(this.domNode)}format(e,t){if(e===this.statics.blotName&&!t)this.children.forEach(r=>{r instanceof Na||(r=r.wrap(Na.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(e,Re.INLINE);if(r==null)return;r instanceof Xi?this.attributes.attribute(r,t):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t)}}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,r,i){this.formats()[r]!=null||this.scroll.query(r,Re.ATTRIBUTE)?this.isolate(e,t).format(r,i):super.formatAt(e,t,r,i)}optimize(e){super.optimize(e);const t=this.formats();if(Object.keys(t).length===0)return this.unwrap();const r=this.next;r instanceof Na&&r.prev===this&&sZ(t,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(e,t){const r=super.replaceWith(e,t);return this.attributes.copy(r),r}update(e,t){super.update(e,t),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(e,t){const r=super.wrap(e,t);return r instanceof Na&&this.attributes.move(r),r}};Ma.allowedChildren=[Ma,$n],Ma.blotName="inline",Ma.scope=Re.INLINE_BLOT,Ma.tagName="SPAN";let oZ=Ma;const Bb=oZ,Ba=class WO extends hi{static create(e){return super.create(e)}static formats(e,t){const r=t.query(WO.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Cg(this.domNode)}format(e,t){const r=this.scroll.query(e,Re.BLOCK);r!=null&&(r instanceof Xi?this.attributes.attribute(r,t):e===this.statics.blotName&&!t?this.replaceWith(WO.blotName):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t))}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,r,i){this.scroll.query(r,Re.BLOCK)!=null?this.format(r,i):super.formatAt(e,t,r,i)}insertAt(e,t,r){if(r==null||this.scroll.query(t,Re.INLINE)!=null)super.insertAt(e,t,r);else{const i=this.split(e);if(i!=null){const s=this.scroll.create(t,r);i.parent.insertBefore(s,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,t){const r=super.replaceWith(e,t);return this.attributes.copy(r),r}update(e,t){super.update(e,t),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};Ba.blotName="block",Ba.scope=Re.BLOCK_BLOT,Ba.tagName="P",Ba.allowedChildren=[Bb,Ba,$n];let lZ=Ba;const hh=lZ,FO=class extends hi{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,t){super.deleteAt(e,t),this.enforceAllowedChildren()}formatAt(e,t,r,i){super.formatAt(e,t,r,i),this.enforceAllowedChildren()}insertAt(e,t,r){super.insertAt(e,t,r),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};FO.blotName="container",FO.scope=Re.BLOCK_BLOT;let aZ=FO;const Pg=aZ;class cZ extends $n{static formats(e,t){}format(e,t){super.formatAt(0,this.length(),e,t)}formatAt(e,t,r,i){e===0&&t===this.length()?this.format(r,i):super.formatAt(e,t,r,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const vr=cZ,uZ={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},hZ=100,Ia=class extends hi{constructor(e,t){super(null,t),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,uZ),this.attach()}create(e,t){return this.registry.create(this,e,t)}find(e,t=!1){const r=this.registry.find(e,t);return r?r.scroll===this?r:t?this.find(r.scroll.domNode.parentNode,!0):null:null}query(e,t=Re.ANY){return this.registry.query(e,t)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,t){this.update(),e===0&&t===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(e,t)}formatAt(e,t,r,i){this.update(),super.formatAt(e,t,r,i)}insertAt(e,t,r){this.update(),super.insertAt(e,t,r)}optimize(e=[],t={}){super.optimize(t);const r=t.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)e.push(i.pop());const s=(a,u=!0)=>{a==null||a===this||a.domNode.parentNode!=null&&(r.has(a.domNode)||r.set(a.domNode,[]),u&&s(a.parent))},o=a=>{r.has(a.domNode)&&(a instanceof hi&&a.children.forEach(o),r.delete(a.domNode),a.optimize(t))};let l=e;for(let a=0;l.length>0;a+=1){if(a>=hZ)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(u=>{const h=this.find(u.target,!0);h!=null&&(h.domNode===u.target&&(u.type==="childList"?(s(this.find(u.previousSibling,!1)),Array.from(u.addedNodes).forEach(d=>{const p=this.find(d,!1);s(p,!1),p instanceof hi&&p.children.forEach(g=>{s(g,!1)})})):u.type==="attributes"&&s(h.prev)),s(h))}),this.children.forEach(o),l=Array.from(this.observer.takeRecords()),i=l.slice();i.length>0;)e.push(i.pop())}}update(e,t={}){e=e||this.observer.takeRecords();const r=new WeakMap;e.map(i=>{const s=this.find(i.target,!0);return s==null?null:r.has(s.domNode)?(r.get(s.domNode).push(i),null):(r.set(s.domNode,[i]),s)}).forEach(i=>{i!=null&&i!==this&&r.has(i.domNode)&&i.update(r.get(i.domNode)||[],t)}),t.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),t),this.optimize(e,t)}};Ia.blotName="scroll",Ia.defaultChild=hh,Ia.allowedChildren=[hh,Pg],Ia.scope=Re.BLOCK_BLOT,Ia.tagName="DIV";let fZ=Ia;const Ib=fZ,YO=class MP extends $n{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,t){super(e,t),this.text=this.statics.value(this.domNode)}deleteAt(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)}index(e,t){return this.domNode===e?t:-1}insertAt(e,t,r){r==null?(this.text=this.text.slice(0,e)+t+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,t,r)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof MP&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,t=!1){return[this.domNode,e]}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(e,t){e.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};YO.blotName="text",YO.scope=Re.INLINE_BLOT;let dZ=YO;const Tp=dZ,pZ=Object.freeze(Object.defineProperty({__proto__:null,Attributor:Xi,AttributorStore:Cg,BlockBlot:hh,ClassAttributor:gi,ContainerBlot:Pg,EmbedBlot:vr,InlineBlot:Bb,LeafBlot:$n,ParentBlot:hi,Registry:fc,Scope:Re,ScrollBlot:Ib,StyleAttributor:_o,TextBlot:Tp},Symbol.toStringTag,{value:"Module"}));var ld={exports:{}},f0,LS;function gZ(){if(LS)return f0;LS=1;var n=-1,e=1,t=0;function r(R,E,P,Q,I){if(R===E)return R?[[t,R]]:[];if(P!=null){var j=te(R,E,P);if(j)return j}var q=l(R,E),V=R.substring(0,q);R=R.substring(q),E=E.substring(q),q=u(R,E);var F=R.substring(R.length-q);R=R.substring(0,R.length-q),E=E.substring(0,E.length-q);var U=i(R,E);return V&&U.unshift([t,V]),F&&U.push([t,F]),k(U,I),Q&&d(U),U}function i(R,E){var P;if(!R)return[[e,E]];if(!E)return[[n,R]];var Q=R.length>E.length?R:E,I=R.length>E.length?E:R,j=Q.indexOf(I);if(j!==-1)return P=[[e,Q.substring(0,j)],[t,I],[e,Q.substring(j+I.length)]],R.length>E.length&&(P[0][0]=P[2][0]=n),P;if(I.length===1)return[[n,R],[e,E]];var q=h(R,E);if(q){var V=q[0],F=q[1],U=q[2],oe=q[3],J=q[4],ee=r(V,U),fe=r(F,oe);return ee.concat([[t,J]],fe)}return s(R,E)}function s(R,E){for(var P=R.length,Q=E.length,I=Math.ceil((P+Q)/2),j=I,q=2*I,V=new Array(q),F=new Array(q),U=0;U<q;U++)V[U]=-1,F[U]=-1;V[j+1]=0,F[j+1]=0;for(var oe=P-Q,J=oe%2!==0,ee=0,fe=0,ne=0,he=0,de=0;de<I;de++){for(var ge=-de+ee;ge<=de-fe;ge+=2){var ke=j+ge,Ee;ge===-de||ge!==de&&V[ke-1]<V[ke+1]?Ee=V[ke+1]:Ee=V[ke-1]+1;for(var Oe=Ee-ge;Ee<P&&Oe<Q&&R.charAt(Ee)===E.charAt(Oe);)Ee++,Oe++;if(V[ke]=Ee,Ee>P)fe+=2;else if(Oe>Q)ee+=2;else if(J){var Se=j+oe-ge;if(Se>=0&&Se<q&&F[Se]!==-1){var me=P-F[Se];if(Ee>=me)return o(R,E,Ee,Oe)}}}for(var be=-de+ne;be<=de-he;be+=2){var Se=j+be,me;be===-de||be!==de&&F[Se-1]<F[Se+1]?me=F[Se+1]:me=F[Se-1]+1;for(var De=me-be;me<P&&De<Q&&R.charAt(P-me-1)===E.charAt(Q-De-1);)me++,De++;if(F[Se]=me,me>P)he+=2;else if(De>Q)ne+=2;else if(!J){var ke=j+oe-be;if(ke>=0&&ke<q&&V[ke]!==-1){var Ee=V[ke],Oe=j+Ee-ke;if(me=P-me,Ee>=me)return o(R,E,Ee,Oe)}}}}return[[n,R],[e,E]]}function o(R,E,P,Q){var I=R.substring(0,P),j=E.substring(0,Q),q=R.substring(P),V=E.substring(Q),F=r(I,j),U=r(q,V);return F.concat(U)}function l(R,E){if(!R||!E||R.charAt(0)!==E.charAt(0))return 0;for(var P=0,Q=Math.min(R.length,E.length),I=Q,j=0;P<I;)R.substring(j,I)==E.substring(j,I)?(P=I,j=P):Q=I,I=Math.floor((Q-P)/2+P);return $(R.charCodeAt(I-1))&&I--,I}function a(R,E){var P=R.length,Q=E.length;if(P==0||Q==0)return 0;P>Q?R=R.substring(P-Q):P<Q&&(E=E.substring(0,P));var I=Math.min(P,Q);if(R==E)return I;for(var j=0,q=1;;){var V=R.substring(I-q),F=E.indexOf(V);if(F==-1)return j;q+=F,(F==0||R.substring(I-q)==E.substring(0,q))&&(j=q,q++)}}function u(R,E){if(!R||!E||R.slice(-1)!==E.slice(-1))return 0;for(var P=0,Q=Math.min(R.length,E.length),I=Q,j=0;P<I;)R.substring(R.length-I,R.length-j)==E.substring(E.length-I,E.length-j)?(P=I,j=P):Q=I,I=Math.floor((Q-P)/2+P);return B(R.charCodeAt(R.length-I))&&I--,I}function h(R,E){var P=R.length>E.length?R:E,Q=R.length>E.length?E:R;if(P.length<4||Q.length*2<P.length)return null;function I(fe,ne,he){for(var de=fe.substring(he,he+Math.floor(fe.length/4)),ge=-1,ke="",Ee,Oe,Se,me;(ge=ne.indexOf(de,ge+1))!==-1;){var be=l(fe.substring(he),ne.substring(ge)),De=u(fe.substring(0,he),ne.substring(0,ge));ke.length<De+be&&(ke=ne.substring(ge-De,ge)+ne.substring(ge,ge+be),Ee=fe.substring(0,he-De),Oe=fe.substring(he+be),Se=ne.substring(0,ge-De),me=ne.substring(ge+be))}return ke.length*2>=fe.length?[Ee,Oe,Se,me,ke]:null}var j=I(P,Q,Math.ceil(P.length/4)),q=I(P,Q,Math.ceil(P.length/2)),V;if(!j&&!q)return null;q?j?V=j[4].length>q[4].length?j:q:V=q:V=j;var F,U,oe,J;R.length>E.length?(F=V[0],U=V[1],oe=V[2],J=V[3]):(oe=V[0],J=V[1],F=V[2],U=V[3]);var ee=V[4];return[F,U,oe,J,ee]}function d(R){for(var E=!1,P=[],Q=0,I=null,j=0,q=0,V=0,F=0,U=0;j<R.length;)R[j][0]==t?(P[Q++]=j,q=F,V=U,F=0,U=0,I=R[j][1]):(R[j][0]==e?F+=R[j][1].length:U+=R[j][1].length,I&&I.length<=Math.max(q,V)&&I.length<=Math.max(F,U)&&(R.splice(P[Q-1],0,[n,I]),R[P[Q-1]+1][0]=e,Q--,Q--,j=Q>0?P[Q-1]:-1,q=0,V=0,F=0,U=0,I=null,E=!0)),j++;for(E&&k(R),w(R),j=1;j<R.length;){if(R[j-1][0]==n&&R[j][0]==e){var oe=R[j-1][1],J=R[j][1],ee=a(oe,J),fe=a(J,oe);ee>=fe?(ee>=oe.length/2||ee>=J.length/2)&&(R.splice(j,0,[t,J.substring(0,ee)]),R[j-1][1]=oe.substring(0,oe.length-ee),R[j+1][1]=J.substring(ee),j++):(fe>=oe.length/2||fe>=J.length/2)&&(R.splice(j,0,[t,oe.substring(0,fe)]),R[j-1][0]=e,R[j-1][1]=J.substring(0,J.length-fe),R[j+1][0]=n,R[j+1][1]=oe.substring(fe),j++),j++}j++}}var p=/[^a-zA-Z0-9]/,g=/\s/,b=/[\r\n]/,x=/\n\r?\n$/,v=/^\r?\n\r?\n/;function w(R){function E(fe,ne){if(!fe||!ne)return 6;var he=fe.charAt(fe.length-1),de=ne.charAt(0),ge=he.match(p),ke=de.match(p),Ee=ge&&he.match(g),Oe=ke&&de.match(g),Se=Ee&&he.match(b),me=Oe&&de.match(b),be=Se&&fe.match(x),De=me&&ne.match(v);return be||De?5:Se||me?4:ge&&!Ee&&Oe?3:Ee||Oe?2:ge||ke?1:0}for(var P=1;P<R.length-1;){if(R[P-1][0]==t&&R[P+1][0]==t){var Q=R[P-1][1],I=R[P][1],j=R[P+1][1],q=u(Q,I);if(q){var V=I.substring(I.length-q);Q=Q.substring(0,Q.length-q),I=V+I.substring(0,I.length-q),j=V+j}for(var F=Q,U=I,oe=j,J=E(Q,I)+E(I,j);I.charAt(0)===j.charAt(0);){Q+=I.charAt(0),I=I.substring(1)+j.charAt(0),j=j.substring(1);var ee=E(Q,I)+E(I,j);ee>=J&&(J=ee,F=Q,U=I,oe=j)}R[P-1][1]!=F&&(F?R[P-1][1]=F:(R.splice(P-1,1),P--),R[P][1]=U,oe?R[P+1][1]=oe:(R.splice(P+1,1),P--))}P++}}function k(R,E){R.push([t,""]);for(var P=0,Q=0,I=0,j="",q="",V;P<R.length;){if(P<R.length-1&&!R[P][1]){R.splice(P,1);continue}switch(R[P][0]){case e:I++,q+=R[P][1],P++;break;case n:Q++,j+=R[P][1],P++;break;case t:var F=P-I-Q-1;if(E){if(F>=0&&z(R[F][1])){var U=R[F][1].slice(-1);if(R[F][1]=R[F][1].slice(0,-1),j=U+j,q=U+q,!R[F][1]){R.splice(F,1),P--;var oe=F-1;R[oe]&&R[oe][0]===e&&(I++,q=R[oe][1]+q,oe--),R[oe]&&R[oe][0]===n&&(Q++,j=R[oe][1]+j,oe--),F=oe}}if(N(R[P][1])){var U=R[P][1].charAt(0);R[P][1]=R[P][1].slice(1),j+=U,q+=U}}if(P<R.length-1&&!R[P][1]){R.splice(P,1);break}if(j.length>0||q.length>0){j.length>0&&q.length>0&&(V=l(q,j),V!==0&&(F>=0?R[F][1]+=q.substring(0,V):(R.splice(0,0,[t,q.substring(0,V)]),P++),q=q.substring(V),j=j.substring(V)),V=u(q,j),V!==0&&(R[P][1]=q.substring(q.length-V)+R[P][1],q=q.substring(0,q.length-V),j=j.substring(0,j.length-V)));var J=I+Q;j.length===0&&q.length===0?(R.splice(P-J,J),P=P-J):j.length===0?(R.splice(P-J,J,[e,q]),P=P-J+1):q.length===0?(R.splice(P-J,J,[n,j]),P=P-J+1):(R.splice(P-J,J,[n,j],[e,q]),P=P-J+2)}P!==0&&R[P-1][0]===t?(R[P-1][1]+=R[P][1],R.splice(P,1)):P++,I=0,Q=0,j="",q="";break}}R[R.length-1][1]===""&&R.pop();var ee=!1;for(P=1;P<R.length-1;)R[P-1][0]===t&&R[P+1][0]===t&&(R[P][1].substring(R[P][1].length-R[P-1][1].length)===R[P-1][1]?(R[P][1]=R[P-1][1]+R[P][1].substring(0,R[P][1].length-R[P-1][1].length),R[P+1][1]=R[P-1][1]+R[P+1][1],R.splice(P-1,1),ee=!0):R[P][1].substring(0,R[P+1][1].length)==R[P+1][1]&&(R[P-1][1]+=R[P+1][1],R[P][1]=R[P][1].substring(R[P+1][1].length)+R[P+1][1],R.splice(P+1,1),ee=!0)),P++;ee&&k(R,E)}function $(R){return R>=55296&&R<=56319}function B(R){return R>=56320&&R<=57343}function N(R){return B(R.charCodeAt(0))}function z(R){return $(R.charCodeAt(R.length-1))}function Z(R){for(var E=[],P=0;P<R.length;P++)R[P][1].length>0&&E.push(R[P]);return E}function H(R,E,P,Q){return z(R)||N(Q)?null:Z([[t,R],[n,E],[e,P],[t,Q]])}function te(R,E,P){var Q=typeof P=="number"?{index:P,length:0}:P.oldRange,I=typeof P=="number"?null:P.newRange,j=R.length,q=E.length;if(Q.length===0&&(I===null||I.length===0)){var V=Q.index,F=R.slice(0,V),U=R.slice(V),oe=I?I.index:null;e:{var J=V+q-j;if(oe!==null&&oe!==J||J<0||J>q)break e;var ee=E.slice(0,J),fe=E.slice(J);if(fe!==U)break e;var ne=Math.min(V,J),he=F.slice(0,ne),de=ee.slice(0,ne);if(he!==de)break e;var ge=F.slice(ne),ke=ee.slice(ne);return H(he,ge,ke,U)}e:{if(oe!==null&&oe!==V)break e;var Ee=V,ee=E.slice(0,Ee),fe=E.slice(Ee);if(ee!==F)break e;var Oe=Math.min(j-Ee,q-Ee),Se=U.slice(U.length-Oe),me=fe.slice(fe.length-Oe);if(Se!==me)break e;var ge=U.slice(0,U.length-Oe),ke=fe.slice(0,fe.length-Oe);return H(F,ge,ke,Se)}}if(Q.length>0&&I&&I.length===0)e:{var he=R.slice(0,Q.index),Se=R.slice(Q.index+Q.length),ne=he.length,Oe=Se.length;if(q<ne+Oe)break e;var de=E.slice(0,ne),me=E.slice(q-Oe);if(he!==de||Se!==me)break e;var ge=R.slice(ne,j-Oe),ke=E.slice(ne,q-Oe);return H(he,ge,ke,Se)}return null}function K(R,E,P,Q){return r(R,E,P,Q,!0)}return K.INSERT=e,K.DELETE=n,K.EQUAL=t,f0=K,f0}var Du={exports:{}};Du.exports;var _S;function NP(){return _S||(_S=1,function(n,e){var t=200,r="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",o="[object Array]",l="[object Boolean]",a="[object Date]",u="[object Error]",h="[object Function]",d="[object GeneratorFunction]",p="[object Map]",g="[object Number]",b="[object Object]",x="[object Promise]",v="[object RegExp]",w="[object Set]",k="[object String]",$="[object Symbol]",B="[object WeakMap]",N="[object ArrayBuffer]",z="[object DataView]",Z="[object Float32Array]",H="[object Float64Array]",te="[object Int8Array]",K="[object Int16Array]",R="[object Int32Array]",E="[object Uint8Array]",P="[object Uint8ClampedArray]",Q="[object Uint16Array]",I="[object Uint32Array]",j=/[\\^$.*+?()[\]{}|]/g,q=/\w*$/,V=/^\[object .+?Constructor\]$/,F=/^(?:0|[1-9]\d*)$/,U={};U[s]=U[o]=U[N]=U[z]=U[l]=U[a]=U[Z]=U[H]=U[te]=U[K]=U[R]=U[p]=U[g]=U[b]=U[v]=U[w]=U[k]=U[$]=U[E]=U[P]=U[Q]=U[I]=!0,U[u]=U[h]=U[B]=!1;var oe=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,J=typeof self=="object"&&self&&self.Object===Object&&self,ee=oe||J||Function("return this")(),fe=e&&!e.nodeType&&e,ne=fe&&!0&&n&&!n.nodeType&&n,he=ne&&ne.exports===fe;function de(S,L){return S.set(L[0],L[1]),S}function ge(S,L){return S.add(L),S}function ke(S,L){for(var X=-1,ie=S?S.length:0;++X<ie&&L(S[X],X,S)!==!1;);return S}function Ee(S,L){for(var X=-1,ie=L.length,Ze=S.length;++X<ie;)S[Ze+X]=L[X];return S}function Oe(S,L,X,ie){for(var Ze=-1,_e=S?S.length:0;++Ze<_e;)X=L(X,S[Ze],Ze,S);return X}function Se(S,L){for(var X=-1,ie=Array(S);++X<S;)ie[X]=L(X);return ie}function me(S,L){return S?.[L]}function be(S){var L=!1;if(S!=null&&typeof S.toString!="function")try{L=!!(S+"")}catch{}return L}function De(S){var L=-1,X=Array(S.size);return S.forEach(function(ie,Ze){X[++L]=[Ze,ie]}),X}function gt(S,L){return function(X){return S(L(X))}}function bt(S){var L=-1,X=Array(S.size);return S.forEach(function(ie){X[++L]=ie}),X}var ft=Array.prototype,dt=Function.prototype,nt=Object.prototype,ut=ee["__core-js_shared__"],vn=function(){var S=/[^.]+$/.exec(ut&&ut.keys&&ut.keys.IE_PROTO||"");return S?"Symbol(src)_1."+S:""}(),Hr=dt.toString,Sr=nt.hasOwnProperty,wr=nt.toString,Nc=RegExp("^"+Hr.call(Sr).replace(j,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rr=he?ee.Buffer:void 0,ir=ee.Symbol,Ki=ee.Uint8Array,yn=gt(Object.getPrototypeOf,Object),Bs=Object.create,Is=nt.propertyIsEnumerable,Bo=ft.splice,Ji=Object.getOwnPropertySymbols,bi=rr?rr.isBuffer:void 0,js=gt(Object.keys,Object),xi=Ln(ee,"DataView"),es=Ln(ee,"Map"),sr=Ln(ee,"Promise"),Ds=Ln(ee,"Set"),Zs=Ln(ee,"WeakMap"),vi=Ln(Object,"create"),Io=un(xi),ts=un(es),jo=un(sr),Do=un(Ds),zs=un(Zs),yi=ir?ir.prototype:void 0,Vl=yi?yi.valueOf:void 0;function Gr(S){var L=-1,X=S?S.length:0;for(this.clear();++L<X;){var ie=S[L];this.set(ie[0],ie[1])}}function Zo(){this.__data__=vi?vi(null):{}}function Bc(S){return this.has(S)&&delete this.__data__[S]}function zo(S){var L=this.__data__;if(vi){var X=L[S];return X===r?void 0:X}return Sr.call(L,S)?L[S]:void 0}function Wl(S){var L=this.__data__;return vi?L[S]!==void 0:Sr.call(L,S)}function qo(S,L){var X=this.__data__;return X[S]=vi&&L===void 0?r:L,this}Gr.prototype.clear=Zo,Gr.prototype.delete=Bc,Gr.prototype.get=zo,Gr.prototype.has=Wl,Gr.prototype.set=qo;function en(S){var L=-1,X=S?S.length:0;for(this.clear();++L<X;){var ie=S[L];this.set(ie[0],ie[1])}}function Ic(){this.__data__=[]}function jc(S){var L=this.__data__,X=ns(L,S);if(X<0)return!1;var ie=L.length-1;return X==ie?L.pop():Bo.call(L,X,1),!0}function Dc(S){var L=this.__data__,X=ns(L,S);return X<0?void 0:L[X][1]}function Zc(S){return ns(this.__data__,S)>-1}function zc(S,L){var X=this.__data__,ie=ns(X,S);return ie<0?X.push([S,L]):X[ie][1]=L,this}en.prototype.clear=Ic,en.prototype.delete=jc,en.prototype.get=Dc,en.prototype.has=Zc,en.prototype.set=zc;function tn(S){var L=-1,X=S?S.length:0;for(this.clear();++L<X;){var ie=S[L];this.set(ie[0],ie[1])}}function qc(){this.__data__={hash:new Gr,map:new(es||en),string:new Gr}}function Xc(S){return Ur(this,S).delete(S)}function Vc(S){return Ur(this,S).get(S)}function Wc(S){return Ur(this,S).has(S)}function Fc(S,L){return Ur(this,S).set(S,L),this}tn.prototype.clear=qc,tn.prototype.delete=Xc,tn.prototype.get=Vc,tn.prototype.has=Wc,tn.prototype.set=Fc;function Sn(S){this.__data__=new en(S)}function qs(){this.__data__=new en}function Yc(S){return this.__data__.delete(S)}function Xs(S){return this.__data__.get(S)}function Hc(S){return this.__data__.has(S)}function Gc(S,L){var X=this.__data__;if(X instanceof en){var ie=X.__data__;if(!es||ie.length<t-1)return ie.push([S,L]),this;X=this.__data__=new tn(ie)}return X.set(S,L),this}Sn.prototype.clear=qs,Sn.prototype.delete=Yc,Sn.prototype.get=Xs,Sn.prototype.has=Hc,Sn.prototype.set=Gc;function Vs(S,L){var X=Yo(S)||Ws(S)?Se(S.length,String):[],ie=X.length,Ze=!!ie;for(var _e in S)Sr.call(S,_e)&&!(Ze&&(_e=="length"||ta(_e,ie)))&&X.push(_e);return X}function Xo(S,L,X){var ie=S[L];(!(Sr.call(S,L)&&Fo(ie,X))||X===void 0&&!(L in S))&&(S[L]=X)}function ns(S,L){for(var X=S.length;X--;)if(Fo(S[X][0],L))return X;return-1}function or(S,L){return S&&ls(L,Go(L),S)}function Vo(S,L,X,ie,Ze,_e,it){var st;if(ie&&(st=_e?ie(S,Ze,_e,it):ie(S)),st!==void 0)return st;if(!Cr(S))return S;var Je=Yo(S);if(Je){if(st=Jl(S),!L)return Ul(S,st)}else{var lt=kr(S),_t=lt==h||lt==d;if(Ys(S))return rs(S,L);if(lt==b||lt==s||_t&&!_e){if(be(S))return _e?S:{};if(st=Tr(_t?{}:S),!L)return tu(S,or(st,S))}else{if(!U[lt])return _e?S:{};st=ea(S,lt,Vo,L)}}it||(it=new Sn);var hn=it.get(S);if(hn)return hn;if(it.set(S,st),!Je)var Bt=X?Kl(S):Go(S);return ke(Bt||S,function(vt,Ht){Bt&&(Ht=vt,vt=S[Ht]),Xo(st,Ht,Vo(vt,L,X,ie,Ht,S,it))}),st}function Uc(S){return Cr(S)?Bs(S):{}}function Kc(S,L,X){var ie=L(S);return Yo(S)?ie:Ee(ie,X(S))}function Jc(S){return wr.call(S)}function Fl(S){if(!Cr(S)||ra(S))return!1;var L=Ho(S)||be(S)?Nc:V;return L.test(un(S))}function Yl(S){if(!ia(S))return js(S);var L=[];for(var X in Object(S))Sr.call(S,X)&&X!="constructor"&&L.push(X);return L}function rs(S,L){if(L)return S.slice();var X=new S.constructor(S.length);return S.copy(X),X}function is(S){var L=new S.constructor(S.byteLength);return new Ki(L).set(new Ki(S)),L}function ss(S,L){var X=L?is(S.buffer):S.buffer;return new S.constructor(X,S.byteOffset,S.byteLength)}function Wo(S,L,X){var ie=L?X(De(S),!0):De(S);return Oe(ie,de,new S.constructor)}function os(S){var L=new S.constructor(S.source,q.exec(S));return L.lastIndex=S.lastIndex,L}function Hl(S,L,X){var ie=L?X(bt(S),!0):bt(S);return Oe(ie,ge,new S.constructor)}function eu(S){return Vl?Object(Vl.call(S)):{}}function Gl(S,L){var X=L?is(S.buffer):S.buffer;return new S.constructor(X,S.byteOffset,S.length)}function Ul(S,L){var X=-1,ie=S.length;for(L||(L=Array(ie));++X<ie;)L[X]=S[X];return L}function ls(S,L,X,ie){X||(X={});for(var Ze=-1,_e=L.length;++Ze<_e;){var it=L[Ze],st=void 0;Xo(X,it,st===void 0?S[it]:st)}return X}function tu(S,L){return ls(S,wn(S),L)}function Kl(S){return Kc(S,Go,wn)}function Ur(S,L){var X=S.__data__;return na(L)?X[typeof L=="string"?"string":"hash"]:X.map}function Ln(S,L){var X=me(S,L);return Fl(X)?X:void 0}var wn=Ji?gt(Ji,Object):xt,kr=Jc;(xi&&kr(new xi(new ArrayBuffer(1)))!=z||es&&kr(new es)!=p||sr&&kr(sr.resolve())!=x||Ds&&kr(new Ds)!=w||Zs&&kr(new Zs)!=B)&&(kr=function(S){var L=wr.call(S),X=L==b?S.constructor:void 0,ie=X?un(X):void 0;if(ie)switch(ie){case Io:return z;case ts:return p;case jo:return x;case Do:return w;case zs:return B}return L});function Jl(S){var L=S.length,X=S.constructor(L);return L&&typeof S[0]=="string"&&Sr.call(S,"index")&&(X.index=S.index,X.input=S.input),X}function Tr(S){return typeof S.constructor=="function"&&!ia(S)?Uc(yn(S)):{}}function ea(S,L,X,ie){var Ze=S.constructor;switch(L){case N:return is(S);case l:case a:return new Ze(+S);case z:return ss(S,ie);case Z:case H:case te:case K:case R:case E:case P:case Q:case I:return Gl(S,ie);case p:return Wo(S,ie,X);case g:case k:return new Ze(S);case v:return os(S);case w:return Hl(S,ie,X);case $:return eu(S)}}function ta(S,L){return L=L??i,!!L&&(typeof S=="number"||F.test(S))&&S>-1&&S%1==0&&S<L}function na(S){var L=typeof S;return L=="string"||L=="number"||L=="symbol"||L=="boolean"?S!=="__proto__":S===null}function ra(S){return!!vn&&vn in S}function ia(S){var L=S&&S.constructor,X=typeof L=="function"&&L.prototype||nt;return S===X}function un(S){if(S!=null){try{return Hr.call(S)}catch{}try{return S+""}catch{}}return""}function sa(S){return Vo(S,!0,!0)}function Fo(S,L){return S===L||S!==S&&L!==L}function Ws(S){return nu(S)&&Sr.call(S,"callee")&&(!Is.call(S,"callee")||wr.call(S)==s)}var Yo=Array.isArray;function Fs(S){return S!=null&&oa(S.length)&&!Ho(S)}function nu(S){return la(S)&&Fs(S)}var Ys=bi||mt;function Ho(S){var L=Cr(S)?wr.call(S):"";return L==h||L==d}function oa(S){return typeof S=="number"&&S>-1&&S%1==0&&S<=i}function Cr(S){var L=typeof S;return!!S&&(L=="object"||L=="function")}function la(S){return!!S&&typeof S=="object"}function Go(S){return Fs(S)?Vs(S):Yl(S)}function xt(){return[]}function mt(){return!1}n.exports=sa}(Du,Du.exports)),Du.exports}var ad={},MS;function mZ(){if(MS)return ad;MS=1,Object.defineProperty(ad,"__esModule",{value:!0});const n=NP(),e=Tb();var t;return function(r){function i(a={},u={},h=!1){typeof a!="object"&&(a={}),typeof u!="object"&&(u={});let d=n(u);h||(d=Object.keys(d).reduce((p,g)=>(d[g]!=null&&(p[g]=d[g]),p),{}));for(const p in a)a[p]!==void 0&&u[p]===void 0&&(d[p]=a[p]);return Object.keys(d).length>0?d:void 0}r.compose=i;function s(a={},u={}){typeof a!="object"&&(a={}),typeof u!="object"&&(u={});const h=Object.keys(a).concat(Object.keys(u)).reduce((d,p)=>(e(a[p],u[p])||(d[p]=u[p]===void 0?null:u[p]),d),{});return Object.keys(h).length>0?h:void 0}r.diff=s;function o(a={},u={}){a=a||{};const h=Object.keys(u).reduce((d,p)=>(u[p]!==a[p]&&a[p]!==void 0&&(d[p]=u[p]),d),{});return Object.keys(a).reduce((d,p)=>(a[p]!==u[p]&&u[p]===void 0&&(d[p]=null),d),h)}r.invert=o;function l(a,u,h=!1){if(typeof a!="object")return u;if(typeof u!="object")return;if(!h)return u;const d=Object.keys(u).reduce((p,g)=>(a[g]===void 0&&(p[g]=u[g]),p),{});return Object.keys(d).length>0?d:void 0}r.transform=l}(t||(t={})),ad.default=t,ad}var cd={},NS;function BP(){if(NS)return cd;NS=1,Object.defineProperty(cd,"__esModule",{value:!0});var n;return function(e){function t(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}e.length=t}(n||(n={})),cd.default=n,cd}var ud={},BS;function OZ(){if(BS)return ud;BS=1,Object.defineProperty(ud,"__esModule",{value:!0});const n=BP();class e{constructor(r){this.ops=r,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(r){r||(r=1/0);const i=this.ops[this.index];if(i){const s=this.offset,o=n.default.length(i);if(r>=o-s?(r=o-s,this.index+=1,this.offset=0):this.offset+=r,typeof i.delete=="number")return{delete:r};{const l={};return i.attributes&&(l.attributes=i.attributes),typeof i.retain=="number"?l.retain=r:typeof i.retain=="object"&&i.retain!==null?l.retain=i.retain:typeof i.insert=="string"?l.insert=i.insert.substr(s,r):l.insert=i.insert,l}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?n.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const r=this.ops[this.index];return r?typeof r.delete=="number"?"delete":typeof r.retain=="number"||typeof r.retain=="object"&&r.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const r=this.offset,i=this.index,s=this.next(),o=this.ops.slice(this.index);return this.offset=r,this.index=i,[s].concat(o)}}else return[]}}return ud.default=e,ud}var IS;function bZ(){return IS||(IS=1,function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const t=gZ(),r=NP(),i=Tb(),s=mZ();e.AttributeMap=s.default;const o=BP();e.Op=o.default;const l=OZ();e.OpIterator=l.default;const a="\0",u=(d,p)=>{if(typeof d!="object"||d===null)throw new Error(`cannot retain a ${typeof d}`);if(typeof p!="object"||p===null)throw new Error(`cannot retain a ${typeof p}`);const g=Object.keys(d)[0];if(!g||g!==Object.keys(p)[0])throw new Error(`embed types not matched: ${g} != ${Object.keys(p)[0]}`);return[g,d[g],p[g]]};class h{constructor(p){Array.isArray(p)?this.ops=p:p!=null&&Array.isArray(p.ops)?this.ops=p.ops:this.ops=[]}static registerEmbed(p,g){this.handlers[p]=g}static unregisterEmbed(p){delete this.handlers[p]}static getHandler(p){const g=this.handlers[p];if(!g)throw new Error(`no handlers for embed type "${p}"`);return g}insert(p,g){const b={};return typeof p=="string"&&p.length===0?this:(b.insert=p,g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(b.attributes=g),this.push(b))}delete(p){return p<=0?this:this.push({delete:p})}retain(p,g){if(typeof p=="number"&&p<=0)return this;const b={retain:p};return g!=null&&typeof g=="object"&&Object.keys(g).length>0&&(b.attributes=g),this.push(b)}push(p){let g=this.ops.length,b=this.ops[g-1];if(p=r(p),typeof b=="object"){if(typeof p.delete=="number"&&typeof b.delete=="number")return this.ops[g-1]={delete:b.delete+p.delete},this;if(typeof b.delete=="number"&&p.insert!=null&&(g-=1,b=this.ops[g-1],typeof b!="object"))return this.ops.unshift(p),this;if(i(p.attributes,b.attributes)){if(typeof p.insert=="string"&&typeof b.insert=="string")return this.ops[g-1]={insert:b.insert+p.insert},typeof p.attributes=="object"&&(this.ops[g-1].attributes=p.attributes),this;if(typeof p.retain=="number"&&typeof b.retain=="number")return this.ops[g-1]={retain:b.retain+p.retain},typeof p.attributes=="object"&&(this.ops[g-1].attributes=p.attributes),this}}return g===this.ops.length?this.ops.push(p):this.ops.splice(g,0,p),this}chop(){const p=this.ops[this.ops.length-1];return p&&typeof p.retain=="number"&&!p.attributes&&this.ops.pop(),this}filter(p){return this.ops.filter(p)}forEach(p){this.ops.forEach(p)}map(p){return this.ops.map(p)}partition(p){const g=[],b=[];return this.forEach(x=>{(p(x)?g:b).push(x)}),[g,b]}reduce(p,g){return this.ops.reduce(p,g)}changeLength(){return this.reduce((p,g)=>g.insert?p+o.default.length(g):g.delete?p-g.delete:p,0)}length(){return this.reduce((p,g)=>p+o.default.length(g),0)}slice(p=0,g=1/0){const b=[],x=new l.default(this.ops);let v=0;for(;v<g&&x.hasNext();){let w;v<p?w=x.next(p-v):(w=x.next(g-v),b.push(w)),v+=o.default.length(w)}return new h(b)}compose(p){const g=new l.default(this.ops),b=new l.default(p.ops),x=[],v=b.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){let k=v.retain;for(;g.peekType()==="insert"&&g.peekLength()<=k;)k-=g.peekLength(),x.push(g.next());v.retain-k>0&&b.next(v.retain-k)}const w=new h(x);for(;g.hasNext()||b.hasNext();)if(b.peekType()==="insert")w.push(b.next());else if(g.peekType()==="delete")w.push(g.next());else{const k=Math.min(g.peekLength(),b.peekLength()),$=g.next(k),B=b.next(k);if(B.retain){const N={};if(typeof $.retain=="number")N.retain=typeof B.retain=="number"?k:B.retain;else if(typeof B.retain=="number")$.retain==null?N.insert=$.insert:N.retain=$.retain;else{const Z=$.retain==null?"insert":"retain",[H,te,K]=u($[Z],B.retain),R=h.getHandler(H);N[Z]={[H]:R.compose(te,K,Z==="retain")}}const z=s.default.compose($.attributes,B.attributes,typeof $.retain=="number");if(z&&(N.attributes=z),w.push(N),!b.hasNext()&&i(w.ops[w.ops.length-1],N)){const Z=new h(g.rest());return w.concat(Z).chop()}}else typeof B.delete=="number"&&(typeof $.retain=="number"||typeof $.retain=="object"&&$.retain!==null)&&w.push(B)}return w.chop()}concat(p){const g=new h(this.ops.slice());return p.ops.length>0&&(g.push(p.ops[0]),g.ops=g.ops.concat(p.ops.slice(1))),g}diff(p,g){if(this.ops===p.ops)return new h;const b=[this,p].map($=>$.map(B=>{if(B.insert!=null)return typeof B.insert=="string"?B.insert:a;const N=$===p?"on":"with";throw new Error("diff() called "+N+" non-document")}).join("")),x=new h,v=t(b[0],b[1],g,!0),w=new l.default(this.ops),k=new l.default(p.ops);return v.forEach($=>{let B=$[1].length;for(;B>0;){let N=0;switch($[0]){case t.INSERT:N=Math.min(k.peekLength(),B),x.push(k.next(N));break;case t.DELETE:N=Math.min(B,w.peekLength()),w.next(N),x.delete(N);break;case t.EQUAL:N=Math.min(w.peekLength(),k.peekLength(),B);const z=w.next(N),Z=k.next(N);i(z.insert,Z.insert)?x.retain(N,s.default.diff(z.attributes,Z.attributes)):x.push(Z).delete(N);break}B-=N}}),x.chop()}eachLine(p,g=`
`){const b=new l.default(this.ops);let x=new h,v=0;for(;b.hasNext();){if(b.peekType()!=="insert")return;const w=b.peek(),k=o.default.length(w)-b.peekLength(),$=typeof w.insert=="string"?w.insert.indexOf(g,k)-k:-1;if($<0)x.push(b.next());else if($>0)x.push(b.next($));else{if(p(x,b.next(1).attributes||{},v)===!1)return;v+=1,x=new h}}x.length()>0&&p(x,{},v)}invert(p){const g=new h;return this.reduce((b,x)=>{if(x.insert)g.delete(o.default.length(x));else{if(typeof x.retain=="number"&&x.attributes==null)return g.retain(x.retain),b+x.retain;if(x.delete||typeof x.retain=="number"){const v=x.delete||x.retain;return p.slice(b,b+v).forEach(k=>{x.delete?g.push(k):x.retain&&x.attributes&&g.retain(o.default.length(k),s.default.invert(x.attributes,k.attributes))}),b+v}else if(typeof x.retain=="object"&&x.retain!==null){const v=p.slice(b,b+1),w=new l.default(v.ops).next(),[k,$,B]=u(x.retain,w.insert),N=h.getHandler(k);return g.retain({[k]:N.invert($,B)},s.default.invert(x.attributes,w.attributes)),b+1}}return b},0),g.chop()}transform(p,g=!1){if(g=!!g,typeof p=="number")return this.transformPosition(p,g);const b=p,x=new l.default(this.ops),v=new l.default(b.ops),w=new h;for(;x.hasNext()||v.hasNext();)if(x.peekType()==="insert"&&(g||v.peekType()!=="insert"))w.retain(o.default.length(x.next()));else if(v.peekType()==="insert")w.push(v.next());else{const k=Math.min(x.peekLength(),v.peekLength()),$=x.next(k),B=v.next(k);if($.delete)continue;if(B.delete)w.push(B);else{const N=$.retain,z=B.retain;let Z=typeof z=="object"&&z!==null?z:k;if(typeof N=="object"&&N!==null&&typeof z=="object"&&z!==null){const H=Object.keys(N)[0];if(H===Object.keys(z)[0]){const te=h.getHandler(H);te&&(Z={[H]:te.transform(N[H],z[H],g)})}}w.retain(Z,s.default.transform($.attributes,B.attributes,g))}}return w.chop()}transformPosition(p,g=!1){g=!!g;const b=new l.default(this.ops);let x=0;for(;b.hasNext()&&x<=p;){const v=b.peekLength(),w=b.peekType();if(b.next(),w==="delete"){p-=Math.min(v,p-x);continue}else w==="insert"&&(x<p||!g)&&(p+=v);x+=v}return p}}h.Op=o.default,h.OpIterator=l.default,h.AttributeMap=s.default,h.handlers={},e.default=h,n.exports=h,n.exports.default=h}(ld,ld.exports)),ld.exports}var Zr=bZ();const Qe=WT(Zr);let mi=class extends vr{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}};mi.blotName="break";mi.tagName="BR";let fi=class extends Tp{};const xZ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Qg(n){return n.replace(/[&<>"']/g,e=>xZ[e])}class In extends Bb{static allowedChildren=[In,mi,vr,fi];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(e,t){const r=In.order.indexOf(e),i=In.order.indexOf(t);return r>=0||i>=0?r-i:e===t?0:e<t?-1:1}formatAt(e,t,r,i){if(In.compare(this.statics.blotName,r)<0&&this.scroll.query(r,Re.BLOT)){const s=this.isolate(e,t);i&&s.wrap(r,i)}else super.formatAt(e,t,r,i)}optimize(e){if(super.optimize(e),this.parent instanceof In&&In.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}}const jS=1;let bn=class extends hh{cache={};delta(){return this.cache.delta==null&&(this.cache.delta=IP(this)),this.cache.delta}deleteAt(e,t){super.deleteAt(e,t),this.cache={}}formatAt(e,t,r,i){t<=0||(this.scroll.query(r,Re.BLOCK)?e+t===this.length()&&this.format(r,i):super.formatAt(e,Math.min(t,this.length()-e-1),r,i),this.cache={})}insertAt(e,t,r){if(r!=null){super.insertAt(e,t,r),this.cache={};return}if(t.length===0)return;const i=t.split(`
`),s=i.shift();s.length>0&&(e<this.length()-1||this.children.tail==null?super.insertAt(Math.min(e,this.length()-1),s):this.children.tail.insertAt(this.children.tail.length(),s),this.cache={});let o=this;i.reduce((l,a)=>(o=o.split(l,!0),o.insertAt(0,a),a.length),e+s.length)}insertBefore(e,t){const{head:r}=this.children;super.insertBefore(e,t),r instanceof mi&&r.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+jS),this.cache.length}moveChildren(e,t){super.moveChildren(e,t),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t&&(e===0||e>=this.length()-jS)){const i=this.clone();return e===0?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}const r=super.split(e,t);return this.cache={},r}};bn.blotName="block";bn.tagName="P";bn.defaultChild=mi;bn.allowedChildren=[mi,In,vr,fi];class Dr extends vr{attach(){super.attach(),this.attributes=new Cg(this.domNode)}delta(){return new Qe().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,t){const r=this.scroll.query(e,Re.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,t)}formatAt(e,t,r,i){this.format(r,i)}insertAt(e,t,r){if(r!=null){super.insertAt(e,t,r);return}const i=t.split(`
`),s=i.pop(),o=i.map(a=>{const u=this.scroll.create(bn.blotName);return u.insertAt(0,a),u}),l=this.split(e);o.forEach(a=>{this.parent.insertBefore(a,l)}),s&&this.parent.insertBefore(this.scroll.create("text",s),l)}}Dr.scope=Re.BLOCK_BLOT;function IP(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.descendants($n).reduce((t,r)=>r.length()===0?t:t.insert(r.value(),Br(r,{},e)),new Qe).insert(`
`,Br(n))}function Br(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return n==null||("formats"in n&&typeof n.formats=="function"&&(e={...e,...n.formats()},t&&delete e["code-token"]),n.parent==null||n.parent.statics.blotName==="scroll"||n.parent.statics.scope!==n.statics.scope)?e:Br(n.parent,e,t)}class oi extends vr{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\uFEFF";static value(){}constructor(e,t,r){super(e,t),this.selection=r,this.textNode=document.createTextNode(oi.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,t){if(this.savedLength!==0){super.format(e,t);return}let r=this,i=0;for(;r!=null&&r.statics.scope!==Re.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=oi.CONTENTS.length,r.optimize(),r.formatAt(i,oi.CONTENTS.length,e,t),this.savedLength=0)}index(e,t){return e===this.textNode?0:super.index(e,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof fi?this.prev:null,r=t?t.length():0,i=this.next instanceof fi?this.next:null,s=i?i.text:"",{textNode:o}=this,l=o.data.split(oi.CONTENTS).join("");o.data=oi.CONTENTS;let a;if(t)a=t,(l||i)&&(t.insertAt(t.length(),l+s),i&&i.remove());else if(i)a=i,i.insertAt(0,l);else{const u=document.createTextNode(l);a=this.scroll.create(u),this.parent.insertBefore(a,this)}if(this.remove(),e){const u=(p,g)=>t&&p===t.domNode?g:p===o?r+g-1:i&&p===i.domNode?r+l.length+g:null,h=u(e.start.node,e.start.offset),d=u(e.end.node,e.end.offset);if(h!==null&&d!==null)return{startNode:a.domNode,startOffset:h,endNode:a.domNode,endOffset:d}}return null}update(e,t){if(e.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(t.range=r)}}optimize(e){super.optimize(e);let{parent:t}=this;for(;t;){if(t.domNode.tagName==="A"){this.savedLength=oi.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}}var d0={exports:{}},DS;function vZ(){return DS||(DS=1,function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(a,u,h){this.fn=a,this.context=u,this.once=h||!1}function s(a,u,h,d,p){if(typeof h!="function")throw new TypeError("The listener must be a function");var g=new i(h,d||a,p),b=t?t+u:u;return a._events[b]?a._events[b].fn?a._events[b]=[a._events[b],g]:a._events[b].push(g):(a._events[b]=g,a._eventsCount++),a}function o(a,u){--a._eventsCount===0?a._events=new r:delete a._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],h,d;if(this._eventsCount===0)return u;for(d in h=this._events)e.call(h,d)&&u.push(t?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},l.prototype.listeners=function(u){var h=t?t+u:u,d=this._events[h];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,g=d.length,b=new Array(g);p<g;p++)b[p]=d[p].fn;return b},l.prototype.listenerCount=function(u){var h=t?t+u:u,d=this._events[h];return d?d.fn?1:d.length:0},l.prototype.emit=function(u,h,d,p,g,b){var x=t?t+u:u;if(!this._events[x])return!1;var v=this._events[x],w=arguments.length,k,$;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),w){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,h),!0;case 3:return v.fn.call(v.context,h,d),!0;case 4:return v.fn.call(v.context,h,d,p),!0;case 5:return v.fn.call(v.context,h,d,p,g),!0;case 6:return v.fn.call(v.context,h,d,p,g,b),!0}for($=1,k=new Array(w-1);$<w;$++)k[$-1]=arguments[$];v.fn.apply(v.context,k)}else{var B=v.length,N;for($=0;$<B;$++)switch(v[$].once&&this.removeListener(u,v[$].fn,void 0,!0),w){case 1:v[$].fn.call(v[$].context);break;case 2:v[$].fn.call(v[$].context,h);break;case 3:v[$].fn.call(v[$].context,h,d);break;case 4:v[$].fn.call(v[$].context,h,d,p);break;default:if(!k)for(N=1,k=new Array(w-1);N<w;N++)k[N-1]=arguments[N];v[$].fn.apply(v[$].context,k)}}return!0},l.prototype.on=function(u,h,d){return s(this,u,h,d,!1)},l.prototype.once=function(u,h,d){return s(this,u,h,d,!0)},l.prototype.removeListener=function(u,h,d,p){var g=t?t+u:u;if(!this._events[g])return this;if(!h)return o(this,g),this;var b=this._events[g];if(b.fn)b.fn===h&&(!p||b.once)&&(!d||b.context===d)&&o(this,g);else{for(var x=0,v=[],w=b.length;x<w;x++)(b[x].fn!==h||p&&!b[x].once||d&&b[x].context!==d)&&v.push(b[x]);v.length?this._events[g]=v.length===1?v[0]:v:o(this,g)}return this},l.prototype.removeAllListeners=function(u){var h;return u?(h=t?t+u:u,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=t,l.EventEmitter=l,n.exports=l}(d0)),d0.exports}var yZ=vZ();const SZ=WT(yZ),HO=new WeakMap,GO=["error","warn","log","info"];let UO="warn";function jP(n){if(UO&&GO.indexOf(n)<=GO.indexOf(UO)){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];console[n](...t)}}function Ms(n){return GO.reduce((e,t)=>(e[t]=jP.bind(console,t,n),e),{})}Ms.level=n=>{UO=n};jP.level=Ms.level;const p0=Ms("quill:events"),wZ=["selectionchange","mousedown","mouseup","click"];wZ.forEach(n=>{document.addEventListener(n,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const s=HO.get(i);s&&s.emitter&&s.emitter.handleDOM(...t)})})});class $e extends SZ{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",p0.error)}emit(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return p0.log.call(p0,...t),super.emit(...t)}handleDOM(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];(this.domListeners[e.type]||[]).forEach(s=>{let{node:o,handler:l}=s;(e.target===o||o.contains(e.target))&&l(e,...r)})}listenDOM(e,t,r){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:t,handler:r})}}const g0=Ms("quill:selection");let Ql=class{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=t}};class kZ{constructor(e,t){this.emitter=t,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new Ql(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,$e.sources.USER),1)}),this.emitter.on($e.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once($e.events.SCROLL_UPDATE,(i,s)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const o=s.some(l=>l.type==="characterData"||l.type==="childList"||l.type==="attributes"&&l.target===this.root);this.update(o?$e.sources.SILENT:i)}catch{}})}),this.emitter.on($e.events.SCROLL_OPTIMIZE,(r,i)=>{if(i.range){const{startNode:s,startOffset:o,endNode:l,endOffset:a}=i.range;this.setNativeRange(s,o,l,a),this.update($e.sources.SILENT)}}),this.update($e.sources.SILENT)}handleComposition(){this.emitter.on($e.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on($e.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update($e.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,t){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(e,Re.BLOCK))){if(r.start.node!==this.cursor.textNode){const i=this.scroll.find(r.start.node,!1);if(i==null)return;if(i instanceof $n){const s=i.split(r.start.offset);i.parent.insertBefore(this.cursor,s)}else i.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();e=Math.min(e,r-1),t=Math.min(e+t,r-1)-e;let i,[s,o]=this.scroll.leaf(e);if(s==null)return null;if(t>0&&o===s.length()){const[h]=this.scroll.leaf(e+1);if(h){const[d]=this.scroll.line(e),[p]=this.scroll.line(e+1);d===p&&(s=h,o=0)}}[i,o]=s.position(o,!0);const l=document.createRange();if(t>0)return l.setStart(i,o),[s,o]=this.scroll.leaf(e+t),s==null?null:([i,o]=s.position(o,!0),l.setEnd(i,o),l.getBoundingClientRect());let a="left",u;if(i instanceof Text){if(!i.data.length)return null;o<i.data.length?(l.setStart(i,o),l.setEnd(i,o+1)):(l.setStart(i,o-1),l.setEnd(i,o),a="right"),u=l.getBoundingClientRect()}else{if(!(s.domNode instanceof Element))return null;u=s.domNode.getBoundingClientRect(),o>0&&(a="right")}return{bottom:u.top+u.height,height:u.height,left:u[a],right:u[a],top:u.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const t=e.getRangeAt(0);if(t==null)return null;const r=this.normalizeNative(t);return g0.info("getNativeRange",r),r}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&m0(this.root,document.activeElement)}normalizedToRange(e){const t=[[e.start.node,e.start.offset]];e.native.collapsed||t.push([e.end.node,e.end.offset]);const r=t.map(o=>{const[l,a]=o,u=this.scroll.find(l,!0),h=u.offset(this.scroll);return a===0?h:u instanceof $n?h+u.index(l,a):h+u.length()}),i=Math.min(Math.max(...r),this.scroll.length()-1),s=Math.min(i,...r);return new Ql(s,i-s)}normalizeNative(e){if(!m0(this.root,e.startContainer)||!e.collapsed&&!m0(this.root,e.endContainer))return null;const t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(r=>{let{node:i,offset:s}=r;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>s)i=i.childNodes[s],s=0;else if(i.childNodes.length===s)i=i.lastChild,i instanceof Text?s=i.data.length:i.childNodes.length>0?s=i.childNodes.length:s=i.childNodes.length+1;else break;r.node=i,r.offset=s}),t}rangeToNative(e){const t=this.scroll.length(),r=(i,s)=>{i=Math.min(t-1,i);const[o,l]=this.scroll.leaf(i);return o?o.position(l,s):[null,-1]};return[...r(e.index,!1),...r(e.index+e.length,!0)]}setNativeRange(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(g0.info("setNativeRange",e,t,r,i),e!=null&&(this.root.parentNode==null||e.parentNode==null||r.parentNode==null))return;const o=document.getSelection();if(o!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:l}=this.getNativeRange()||{};if(l==null||s||e!==l.startContainer||t!==l.startOffset||r!==l.endContainer||i!==l.endOffset){e instanceof Element&&e.tagName==="BR"&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),r instanceof Element&&r.tagName==="BR"&&(i=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const a=document.createRange();a.setStart(e,t),a.setEnd(r,i),o.removeAllRanges(),o.addRange(a)}}else o.removeAllRanges(),this.root.blur()}setRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$e.sources.API;if(typeof t=="string"&&(r=t,t=!1),g0.info("setRange",e),e!=null){const i=this.rangeToNative(e);this.setNativeRange(...i,t)}else this.setNativeRange(null);this.update(r)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$e.sources.USER;const t=this.lastRange,[r,i]=this.getRange();if(this.lastRange=r,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!Nb(t,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const o=this.cursor.restore();o&&this.setNativeRange(o.startNode,o.startOffset,o.endNode,o.endOffset)}const s=[$e.events.SELECTION_CHANGE,Ka(this.lastRange),Ka(t),e];this.emitter.emit($e.events.EDITOR_CHANGE,...s),e!==$e.sources.SILENT&&this.emitter.emit(...s)}}}function m0(n,e){try{e.parentNode}catch{return!1}return n.contains(e)}const TZ=/^[ -~]*$/;class CZ{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const r=ZS(e),i=new Qe;return QZ(r.ops.slice()).reduce((o,l)=>{const a=Zr.Op.length(l);let u=l.attributes||{},h=!1,d=!1;if(l.insert!=null){if(i.retain(a),typeof l.insert=="string"){const b=l.insert;d=!b.endsWith(`
`)&&(t<=o||!!this.scroll.descendant(Dr,o)[0]),this.scroll.insertAt(o,b);const[x,v]=this.scroll.line(o);let w=yo({},Br(x));if(x instanceof bn){const[k]=x.descendant($n,v);k&&(w=yo(w,Br(k)))}u=Zr.AttributeMap.diff(w,u)||{}}else if(typeof l.insert=="object"){const b=Object.keys(l.insert)[0];if(b==null)return o;const x=this.scroll.query(b,Re.INLINE)!=null;if(x)(t<=o||this.scroll.descendant(Dr,o)[0])&&(d=!0);else if(o>0){const[v,w]=this.scroll.descendant($n,o-1);v instanceof fi?v.value()[w]!==`
`&&(h=!0):v instanceof vr&&v.statics.scope===Re.INLINE_BLOT&&(h=!0)}if(this.scroll.insertAt(o,b,l.insert[b]),x){const[v]=this.scroll.descendant($n,o);if(v){const w=yo({},Br(v));u=Zr.AttributeMap.diff(w,u)||{}}}}t+=a}else if(i.push(l),l.retain!==null&&typeof l.retain=="object"){const b=Object.keys(l.retain)[0];if(b==null)return o;this.scroll.updateEmbedAt(o,b,l.retain[b])}Object.keys(u).forEach(b=>{this.scroll.formatAt(o,a,b,u[b])});const p=h?1:0,g=d?1:0;return t+=p+g,i.retain(p),i.delete(g),o+a+p+g},0),i.reduce((o,l)=>typeof l.delete=="number"?(this.scroll.deleteAt(o,l.delete),o):o+Zr.Op.length(l),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(e,t){return this.scroll.deleteAt(e,t),this.update(new Qe().retain(e).delete(t))}formatLine(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(s=>{this.scroll.lines(e,Math.max(t,1)).forEach(o=>{o.format(s,r[s])})}),this.scroll.optimize();const i=new Qe().retain(e).retain(t,Ka(r));return this.update(i)}formatText(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(s=>{this.scroll.formatAt(e,t,s,r[s])});const i=new Qe().retain(e).retain(t,Ka(r));return this.update(i)}getContents(e,t){return this.delta.slice(e,e+t)}getDelta(){return this.scroll.lines().reduce((e,t)=>e.concat(t.delta()),new Qe)}getFormat(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],i=[];t===0?this.scroll.path(e).forEach(l=>{const[a]=l;a instanceof bn?r.push(a):a instanceof $n&&i.push(a)}):(r=this.scroll.lines(e,t),i=this.scroll.descendants($n,e,t));const[s,o]=[r,i].map(l=>{const a=l.shift();if(a==null)return{};let u=Br(a);for(;Object.keys(u).length>0;){const h=l.shift();if(h==null)return u;u=PZ(Br(h),u)}return u});return{...s,...o}}getHTML(e,t){const[r,i]=this.scroll.line(e);if(r){const s=r.length();return r.length()>=i+t&&!(i===0&&t===s)?fh(r,i,t,!0):fh(this.scroll,e,t,!0)}return""}getText(e,t){return this.getContents(e,t).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(e,t){const r=ZS(t),i=new Qe().retain(e).concat(r);return this.scroll.insertContents(e,r),this.update(i)}insertEmbed(e,t,r){return this.scroll.insertAt(e,t,r),this.update(new Qe().retain(e).insert({[t]:r}))}insertText(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,t),Object.keys(r).forEach(i=>{this.scroll.formatAt(e,t.length,i,r[i])}),this.update(new Qe().retain(e).insert(t,Ka(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if(e?.statics.blotName!==bn.blotName)return!1;const t=e;return t.children.length>1?!1:t.children.head instanceof mi}removeFormat(e,t){const r=this.getText(e,t),[i,s]=this.scroll.line(e+t);let o=0,l=new Qe;i!=null&&(o=i.length()-s,l=i.delta().slice(s,s+o-1).insert(`
`));const u=this.getContents(e,t+o).diff(new Qe().insert(r).concat(l)),h=new Qe().retain(e).concat(u);return this.applyDelta(h)}update(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(t.length===1&&t[0].type==="characterData"&&t[0].target.data.match(TZ)&&this.scroll.find(t[0].target)){const s=this.scroll.find(t[0].target),o=Br(s),l=s.offset(this.scroll),a=t[0].oldValue.replace(oi.CONTENTS,""),u=new Qe().insert(a),h=new Qe().insert(s.value()),d=r&&{oldRange:zS(r.oldRange,-l),newRange:zS(r.newRange,-l)};e=new Qe().retain(l).concat(u.diff(h,d)).reduce((g,b)=>b.insert?g.insert(b.insert,o):g.push(b),new Qe),this.delta=i.compose(e)}else this.delta=this.getDelta(),(!e||!Nb(i.compose(e),this.delta))&&(e=i.diff(this.delta,r));return e}}function ja(n,e,t){if(n.length===0){const[g]=O0(t.pop());return e<=0?`</li></${g}>`:`</li></${g}>${ja([],e-1,t)}`}const[{child:r,offset:i,length:s,indent:o,type:l},...a]=n,[u,h]=O0(l);if(o>e)return t.push(l),o===e+1?`<${u}><li${h}>${fh(r,i,s)}${ja(a,o,t)}`:`<${u}><li>${ja(n,e+1,t)}`;const d=t[t.length-1];if(o===e&&l===d)return`</li><li${h}>${fh(r,i,s)}${ja(a,o,t)}`;const[p]=O0(t.pop());return`</li></${p}>${ja(n,e-1,t)}`}function fh(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in n&&typeof n.html=="function")return n.html(e,t);if(n instanceof fi)return Qg(n.value().slice(e,e+t)).replaceAll(" ","&nbsp;");if(n instanceof hi){if(n.statics.blotName==="list-container"){const u=[];return n.children.forEachAt(e,t,(h,d,p)=>{const g="formats"in h&&typeof h.formats=="function"?h.formats():{};u.push({child:h,offset:d,length:p,indent:g.indent||0,type:g.list})}),ja(u,-1,[])}const i=[];if(n.children.forEachAt(e,t,(u,h,d)=>{i.push(fh(u,h,d))}),r||n.statics.blotName==="list")return i.join("");const{outerHTML:s,innerHTML:o}=n.domNode,[l,a]=s.split(`>${o}<`);return l==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${a}`:`${l}>${i.join("")}<${a}`}return n.domNode instanceof Element?n.domNode.outerHTML:""}function PZ(n,e){return Object.keys(e).reduce((t,r)=>{if(n[r]==null)return t;const i=e[r];return i===n[r]?t[r]=i:Array.isArray(i)?i.indexOf(n[r])<0?t[r]=i.concat([n[r]]):t[r]=i:t[r]=[i,n[r]],t},{})}function O0(n){const e=n==="ordered"?"ol":"ul";switch(n){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function ZS(n){return n.reduce((e,t)=>{if(typeof t.insert=="string"){const r=t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(r,t.attributes)}return e.push(t)},new Qe)}function zS(n,e){let{index:t,length:r}=n;return new Ql(t+e,r)}function QZ(n){const e=[];return n.forEach(t=>{typeof t.insert=="string"?t.insert.split(`
`).forEach((i,s)=>{s&&e.push({insert:`
`,attributes:t.attributes}),i&&e.push({insert:i,attributes:t.attributes})}):e.push(t)}),e}class Yi{static DEFAULTS={};constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=t}}const hd="\uFEFF";class jb extends vr{constructor(e,t){super(e,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(hd),this.rightGuard=document.createTextNode(hd),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,t)}restore(e){let t=null,r;const i=e.data.split(hd).join("");if(e===this.leftGuard)if(this.prev instanceof fi){const s=this.prev.length();this.prev.insertAt(s,i),t={startNode:this.prev.domNode,startOffset:s+i.length}}else r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this),t={startNode:r,startOffset:i.length};else e===this.rightGuard&&(this.next instanceof fi?(this.next.insertAt(0,i),t={startNode:this.next.domNode,startOffset:i.length}):(r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this.next),t={startNode:r,startOffset:i.length}));return e.data=hd,t}update(e,t){e.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const i=this.restore(r.target);i&&(t.range=i)}})}}class $Z{isComposing=!1;constructor(e,t){this.scroll=e,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const t=e.target instanceof Node?this.scroll.find(e.target,!0):null;t&&!(t instanceof jb)&&(this.emitter.emit($e.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit($e.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit($e.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit($e.events.COMPOSITION_END,e),this.isComposing=!1}}class Pc{static DEFAULTS={modules:{}};static themes={default:Pc};modules={};constructor(e,t){this.quill=e,this.options=t}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const t=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}const AZ=n=>n.parentElement||n.getRootNode().host||null,RZ=n=>{const e=n.getBoundingClientRect(),t="offsetWidth"in n&&Math.abs(e.width)/n.offsetWidth||1,r="offsetHeight"in n&&Math.abs(e.height)/n.offsetHeight||1;return{top:e.top,right:e.left+n.clientWidth*t,bottom:e.top+n.clientHeight*r,left:e.left}},fd=n=>{const e=parseInt(n,10);return Number.isNaN(e)?0:e},qS=(n,e,t,r,i,s)=>n<t&&e>r?0:n<t?-(t-n+i):e>r?e-n>r-t?n+i-t:e-r+s:0,EZ=(n,e)=>{const t=n.ownerDocument;let r=e,i=n;for(;i;){const s=i===t.body,o=s?{top:0,right:window.visualViewport?.width??t.documentElement.clientWidth,bottom:window.visualViewport?.height??t.documentElement.clientHeight,left:0}:RZ(i),l=getComputedStyle(i),a=qS(r.left,r.right,o.left,o.right,fd(l.scrollPaddingLeft),fd(l.scrollPaddingRight)),u=qS(r.top,r.bottom,o.top,o.bottom,fd(l.scrollPaddingTop),fd(l.scrollPaddingBottom));if(a||u)if(s)t.defaultView?.scrollBy(a,u);else{const{scrollLeft:h,scrollTop:d}=i;u&&(i.scrollTop+=u),a&&(i.scrollLeft+=a);const p=i.scrollLeft-h,g=i.scrollTop-d;r={left:r.left-p,top:r.top-g,right:r.right-p,bottom:r.bottom-g}}i=s||l.position==="fixed"?null:AZ(i)}},LZ=100,_Z=["block","break","cursor","inline","scroll","text"],MZ=(n,e,t)=>{const r=new fc;return _Z.forEach(i=>{const s=e.query(i);s&&r.register(s)}),n.forEach(i=>{let s=e.query(i);s||t.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let o=0;for(;s;)if(r.register(s),s="blotName"in s?s.requiredContainer??null:null,o+=1,o>LZ){t.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),r},ec=Ms("quill"),dd=new fc;hi.uiClass="ql-ui";class le{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:dd,theme:"default"};static events=$e.events;static sources=$e.sources;static version="2.0.3";static imports={delta:Qe,parchment:pZ,"core/module":Yi,"core/theme":Pc};static debug(e){e===!0&&(e="log"),Ms.level(e)}static find(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return HO.get(e)||dd.find(e,t)}static import(e){return this.imports[e]==null&&ec.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],t=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in e?e.attrName:e.blotName;typeof r=="string"?this.register(`formats/${r}`,e,t):Object.keys(e).forEach(i=>{this.register(i,e[i],t)})}else{const e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!r&&ec.warn(`Overwriting ${e} with`,t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&t&&typeof t!="boolean"&&t.blotName!=="abstract"&&dd.register(t),typeof t.register=="function"&&t.register(dd)}}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=NZ(e,t),this.container=this.options.container,this.container==null){ec.error("Invalid Quill container",e);return}this.options.debug&&le.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",HO.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new $e;const i=Ib.blotName,s=this.options.registry.query(i);if(!s||!("blotName"in s))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new s(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new CZ(this.scroll),this.selection=new kZ(this.scroll,this.emitter),this.composition=new $Z(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on($e.events.EDITOR_CHANGE,o=>{o===$e.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on($e.events.SCROLL_UPDATE,(o,l)=>{const a=this.selection.lastRange,[u]=this.selection.getRange(),h=a&&u?{oldRange:a,newRange:u}:void 0;ri.call(this,()=>this.editor.update(null,l,h),o)}),this.emitter.on($e.events.SCROLL_EMBED_UPDATE,(o,l)=>{const a=this.selection.lastRange,[u]=this.selection.getRange(),h=a&&u?{oldRange:a,newRange:u}:void 0;ri.call(this,()=>{const d=new Qe().retain(o.offset(this)).retain({[o.statics.blotName]:l});return this.editor.update(d,[],h)},le.sources.USER)}),r){const o=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(o)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const r=e;e=document.createElement("div"),e.classList.add(r)}return this.container.insertBefore(e,t),e}blur(){this.selection.setRange(null)}deleteText(e,t,r){return[e,t,,r]=bs(e,t,r),ri.call(this,()=>this.editor.deleteText(e,t),r,e,-1*t)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const t=e();return this.allowReadOnlyEdits=!1,t}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$e.sources.API;return ri.call(this,()=>{const i=this.getSelection(!0);let s=new Qe;if(i==null)return s;if(this.scroll.query(e,Re.BLOCK))s=this.editor.formatLine(i.index,i.length,{[e]:t});else{if(i.length===0)return this.selection.format(e,t),s;s=this.editor.formatText(i.index,i.length,{[e]:t})}return this.setSelection(i,$e.sources.SILENT),s},r)}formatLine(e,t,r,i,s){let o;return[e,t,o,s]=bs(e,t,r,i,s),ri.call(this,()=>this.editor.formatLine(e,t,o),s,e,0)}formatText(e,t,r,i,s){let o;return[e,t,o,s]=bs(e,t,r,i,s),ri.call(this,()=>this.editor.formatText(e,t,o),s,e,0)}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof e=="number"?r=this.selection.getBounds(e,t):r=this.selection.getBounds(e.index,e.length),!r)return null;const i=this.container.getBoundingClientRect();return{bottom:r.bottom-i.top,height:r.height,left:r.left-i.left,right:r.right-i.left,top:r.top-i.top,width:r.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,t]=bs(e,t),this.editor.getContents(e,t)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=bs(e,t),this.editor.getHTML(e,t)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=bs(e,t),this.editor.getText(e,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:le.sources.API;return ri.call(this,()=>this.editor.insertEmbed(e,t,r),i,e)}insertText(e,t,r,i,s){let o;return[e,,o,s]=bs(e,0,r,i,s),ri.call(this,()=>this.editor.insertText(e,t,o),s,e,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,t,r){return[e,t,,r]=bs(e,t,r),ri.call(this,()=>this.editor.removeFormat(e,t),r,e)}scrollRectIntoView(e){EZ(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,t=e&&this.selection.getBounds(e.index,e.length);t&&this.scrollRectIntoView(t)}setContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$e.sources.API;return ri.call(this,()=>{e=new Qe(e);const r=this.getLength(),i=this.editor.deleteText(0,r),s=this.editor.insertContents(0,e),o=this.editor.deleteText(this.getLength()-1,1);return i.compose(s).compose(o)},t)}setSelection(e,t,r){e==null?this.selection.setRange(null,t||le.sources.API):([e,t,,r]=bs(e,t,r),this.selection.setRange(new Ql(Math.max(0,e),t),r),r!==$e.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$e.sources.API;const r=new Qe().insert(e);return this.setContents(r,t)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$e.sources.USER;const t=this.scroll.update(e);return this.selection.update(e),t}updateContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$e.sources.API;return ri.call(this,()=>(e=new Qe(e),this.editor.applyDelta(e)),t,!0)}}function XS(n){return typeof n=="string"?document.querySelector(n):n}function b0(n){return Object.entries(n??{}).reduce((e,t)=>{let[r,i]=t;return{...e,[r]:i===!0?{}:i}},{})}function VS(n){return Object.fromEntries(Object.entries(n).filter(e=>e[1]!==void 0))}function NZ(n,e){const t=XS(n);if(!t)throw new Error("Invalid Quill container");const i=!e.theme||e.theme===le.DEFAULTS.theme?Pc:le.import(`themes/${e.theme}`);if(!i)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:s,...o}=le.DEFAULTS,{modules:l,...a}=i.DEFAULTS;let u=b0(e.modules);u!=null&&u.toolbar&&u.toolbar.constructor!==Object&&(u={...u,toolbar:{container:u.toolbar}});const h=yo({},b0(s),b0(l),u),d={...o,...VS(a),...VS(e)};let p=e.registry;return p?e.formats&&ec.warn('Ignoring "formats" option because "registry" is specified'):p=e.formats?MZ(e.formats,d.registry,ec):d.registry,{...d,registry:p,container:t,theme:i,modules:Object.entries(h).reduce((g,b)=>{let[x,v]=b;if(!v)return g;const w=le.import(`modules/${x}`);return w==null?(ec.error(`Cannot load ${x} module. Are you sure you registered it?`),g):{...g,[x]:yo({},w.DEFAULTS||{},v)}},{}),bounds:XS(d.bounds)}}function ri(n,e,t,r){if(!this.isEnabled()&&e===$e.sources.USER&&!this.allowReadOnlyEdits)return new Qe;let i=t==null?null:this.getSelection();const s=this.editor.delta,o=n();if(i!=null&&(t===!0&&(t=i.index),r==null?i=WS(i,o,e):r!==0&&(i=WS(i,t,r,e)),this.setSelection(i,$e.sources.SILENT)),o.length()>0){const l=[$e.events.TEXT_CHANGE,o,s,e];this.emitter.emit($e.events.EDITOR_CHANGE,...l),e!==$e.sources.SILENT&&this.emitter.emit(...l)}return o}function bs(n,e,t,r,i){let s={};return typeof n.index=="number"&&typeof n.length=="number"?typeof e!="number"?(i=r,r=t,t=e,e=n.length,n=n.index):(e=n.length,n=n.index):typeof e!="number"&&(i=r,r=t,t=e,e=0),typeof t=="object"?(s=t,i=r):typeof t=="string"&&(r!=null?s[t]=r:i=t),i=i||$e.sources.API,[n,e,s,i]}function WS(n,e,t,r){const i=typeof t=="number"?t:0;if(n==null)return null;let s,o;return e&&typeof e.transformPosition=="function"?[s,o]=[n.index,n.index+n.length].map(l=>e.transformPosition(l,r!==$e.sources.USER)):[s,o]=[n.index,n.index+n.length].map(l=>l<e||l===e&&r===$e.sources.USER?l:i>=0?l+i:Math.max(e,l+i)),new Ql(s,o-s)}class zl extends Pg{}function FS(n){return n instanceof bn||n instanceof Dr}function YS(n){return typeof n.updateContent=="function"}class BZ extends Ib{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=bn;static allowedChildren=[bn,Dr,zl];constructor(e,t,r){let{emitter:i}=r;super(e,t),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",s=>this.handleDragStart(s))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit($e.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit($e.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,t){this.emitter.emit($e.events.SCROLL_EMBED_UPDATE,e,t)}deleteAt(e,t){const[r,i]=this.line(e),[s]=this.line(e+t);if(super.deleteAt(e,t),s!=null&&r!==s&&i>0){if(r instanceof Dr||s instanceof Dr){this.optimize();return}const o=s.children.head instanceof mi?null:s.children.head;r.moveChildren(s,o),r.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,t,r,i){super.formatAt(e,t,r,i),this.optimize()}insertAt(e,t,r){if(e>=this.length())if(r==null||this.scroll.query(t,Re.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),r==null&&t.endsWith(`
`)?i.insertAt(0,t.slice(0,-1),r):i.insertAt(0,t,r)}else{const i=this.scroll.create(t,r);this.appendChild(i)}else super.insertAt(e,t,r);this.optimize()}insertBefore(e,t){if(e.statics.scope===Re.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(e),super.insertBefore(r,t)}else super.insertBefore(e,t)}insertContents(e,t){const r=this.deltaToRenderBlocks(t.concat(new Qe().insert(`
`))),i=r.pop();if(i==null)return;this.batchStart();const s=r.shift();if(s){const a=s.type==="block"&&(s.delta.length()===0||!this.descendant(Dr,e)[0]&&e<this.length()),u=s.type==="block"?s.delta:new Qe().insert({[s.key]:s.value});x0(this,e,u);const h=s.type==="block"?1:0,d=e+u.length()+h;a&&this.insertAt(d-1,`
`);const p=Br(this.line(e)[0]),g=Zr.AttributeMap.diff(p,s.attributes)||{};Object.keys(g).forEach(b=>{this.formatAt(d-1,1,b,g[b])}),e=d}let[o,l]=this.children.find(e);if(r.length&&(o&&(o=o.split(l),l=0),r.forEach(a=>{if(a.type==="block"){const u=this.createBlock(a.attributes,o||void 0);x0(u,0,a.delta)}else{const u=this.create(a.key,a.value);this.insertBefore(u,o||void 0),Object.keys(a.attributes).forEach(h=>{u.format(h,a.attributes[h])})}})),i.type==="block"&&i.delta.length()){const a=o?o.offset(o.scroll)+l:this.length();x0(this,a,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const t=this.path(e).pop();if(!t)return[null,-1];const[r,i]=t;return r instanceof $n?[r,i]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(FS,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(i,s,o)=>{let l=[],a=o;return i.children.forEachAt(s,o,(u,h,d)=>{FS(u)?l.push(u):u instanceof Pg&&(l=l.concat(r(u,h,a))),a-=d}),l};return r(this,e,t)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,t),e.length>0&&this.emitter.emit($e.events.SCROLL_OPTIMIZE,e,t))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let t=$e.sources.USER;typeof e=="string"&&(t=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(r=>{let{target:i}=r;const s=this.find(i,!0);return s&&!YS(s)}),e.length>0&&this.emitter.emit($e.events.SCROLL_BEFORE_UPDATE,t,e),super.update(e.concat([])),e.length>0&&this.emitter.emit($e.events.SCROLL_UPDATE,t,e)}updateEmbedAt(e,t,r){const[i]=this.descendant(s=>s instanceof Dr,e);i&&i.statics.blotName===t&&YS(i)&&i.updateContent(r)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const t=[];let r=new Qe;return e.forEach(i=>{const s=i?.insert;if(s)if(typeof s=="string"){const o=s.split(`
`);o.slice(0,-1).forEach(a=>{r.insert(a,i.attributes),t.push({type:"block",delta:r,attributes:i.attributes??{}}),r=new Qe});const l=o[o.length-1];l&&r.insert(l,i.attributes)}else{const o=Object.keys(s)[0];if(!o)return;this.query(o,Re.INLINE)?r.push(i):(r.length()&&t.push({type:"block",delta:r,attributes:{}}),r=new Qe,t.push({type:"blockEmbed",key:o,value:s[o],attributes:i.attributes??{}}))}}),r.length()&&t.push({type:"block",delta:r,attributes:{}}),t}createBlock(e,t){let r;const i={};Object.entries(e).forEach(l=>{let[a,u]=l;this.query(a,Re.BLOCK&Re.BLOT)!=null?r=a:i[a]=u});const s=this.create(r||this.statics.defaultChild.blotName,r?e[r]:void 0);this.insertBefore(s,t||void 0);const o=s.length();return Object.entries(i).forEach(l=>{let[a,u]=l;s.formatAt(0,o,a,u)}),s}}function x0(n,e,t){t.reduce((r,i)=>{const s=Zr.Op.length(i);let o=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const l=i.insert;n.insertAt(r,l);const[a]=n.descendant($n,r),u=Br(a);o=Zr.AttributeMap.diff(u,o)||{}}else if(typeof i.insert=="object"){const l=Object.keys(i.insert)[0];if(l==null)return r;if(n.insertAt(r,l,i.insert[l]),n.scroll.query(l,Re.INLINE)!=null){const[u]=n.descendant($n,r),h=Br(u);o=Zr.AttributeMap.diff(h,o)||{}}}}return Object.keys(o).forEach(l=>{n.formatAt(r,s,l,o[l])}),r+s},e)}const Db={scope:Re.BLOCK,whitelist:["right","center","justify"]},IZ=new Xi("align","align",Db),DP=new gi("align","ql-align",Db),ZP=new _o("align","text-align",Db);class zP extends _o{value(e){let t=super.value(e);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):t}}const jZ=new gi("color","ql-color",{scope:Re.INLINE}),Zb=new zP("color","color",{scope:Re.INLINE}),DZ=new gi("background","ql-bg",{scope:Re.INLINE}),zb=new zP("background","background-color",{scope:Re.INLINE});class ql extends zl{static create(e){const t=super.create(e);return t.setAttribute("spellcheck","false"),t}code(e,t){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(e,e+t)}html(e,t){return`<pre>
${Qg(this.code(e,t))}
</pre>`}}class jn extends bn{static TAB="  ";static register(){le.register(ql)}}class qb extends In{}qb.blotName="code";qb.tagName="CODE";jn.blotName="code-block";jn.className="ql-code-block";jn.tagName="DIV";ql.blotName="code-block-container";ql.className="ql-code-block-container";ql.tagName="DIV";ql.allowedChildren=[jn];jn.allowedChildren=[fi,mi,oi];jn.requiredContainer=ql;const Xb={scope:Re.BLOCK,whitelist:["rtl"]},qP=new Xi("direction","dir",Xb),XP=new gi("direction","ql-direction",Xb),VP=new _o("direction","direction",Xb),WP={scope:Re.INLINE,whitelist:["serif","monospace"]},FP=new gi("font","ql-font",WP);class ZZ extends _o{value(e){return super.value(e).replace(/["']/g,"")}}const YP=new ZZ("font","font-family",WP),HP=new gi("size","ql-size",{scope:Re.INLINE,whitelist:["small","large","huge"]}),GP=new _o("size","font-size",{scope:Re.INLINE,whitelist:["10px","18px","32px"]}),zZ=Ms("quill:keyboard"),qZ=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class $g extends Yi{static match(e,t){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!t[r]!==e[r]&&t[r]!==null)?!1:t.key===e.key||t.key===e.which}constructor(e,t){super(e,t),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=VZ(e);if(i==null){zZ.warn("Attempted to add invalid keyboard binding",i);return}typeof t=="function"&&(t={handler:t}),typeof r=="function"&&(r={handler:r}),(Array.isArray(i.key)?i.key:[i.key]).forEach(o=>{const l={...i,key:o,...t,...r};this.bindings[l.key]=this.bindings[l.key]||[],this.bindings[l.key].push(l)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const i=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(w=>$g.match(e,w));if(i.length===0)return;const s=le.find(e.target,!0);if(s&&s.scroll!==this.quill.scroll)return;const o=this.quill.getSelection();if(o==null||!this.quill.hasFocus())return;const[l,a]=this.quill.getLine(o.index),[u,h]=this.quill.getLeaf(o.index),[d,p]=o.length===0?[u,h]:this.quill.getLeaf(o.index+o.length),g=u instanceof Tp?u.value().slice(0,h):"",b=d instanceof Tp?d.value().slice(p):"",x={collapsed:o.length===0,empty:o.length===0&&l.length()<=1,format:this.quill.getFormat(o),line:l,offset:a,prefix:g,suffix:b,event:e};i.some(w=>{if(w.collapsed!=null&&w.collapsed!==x.collapsed||w.empty!=null&&w.empty!==x.empty||w.offset!=null&&w.offset!==x.offset)return!1;if(Array.isArray(w.format)){if(w.format.every(k=>x.format[k]==null))return!1}else if(typeof w.format=="object"&&!Object.keys(w.format).every(k=>w.format[k]===!0?x.format[k]!=null:w.format[k]===!1?x.format[k]==null:Nb(w.format[k],x.format[k])))return!1;return w.prefix!=null&&!w.prefix.test(x.prefix)||w.suffix!=null&&!w.suffix.test(x.suffix)?!1:w.handler.call(this,o,x,w)!==!0})&&e.preventDefault()})}handleBackspace(e,t){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let i={};const[s]=this.quill.getLine(e.index);let o=new Qe().retain(e.index-r).delete(r);if(t.offset===0){const[l]=this.quill.getLine(e.index-1);if(l&&!(l.statics.blotName==="block"&&l.length()<=1)){const u=s.formats(),h=this.quill.getFormat(e.index-1,1);if(i=Zr.AttributeMap.diff(u,h)||{},Object.keys(i).length>0){const d=new Qe().retain(e.index+s.length()-2).retain(1,i);o=o.compose(d)}}}this.quill.updateContents(o,le.sources.USER),this.quill.focus()}handleDelete(e,t){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(e.index>=this.quill.getLength()-r)return;let i={};const[s]=this.quill.getLine(e.index);let o=new Qe().retain(e.index).delete(r);if(t.offset>=s.length()-1){const[l]=this.quill.getLine(e.index+1);if(l){const a=s.formats(),u=this.quill.getFormat(e.index,1);i=Zr.AttributeMap.diff(a,u)||{},Object.keys(i).length>0&&(o=o.retain(l.length()-1).retain(1,i))}}this.quill.updateContents(o,le.sources.USER),this.quill.focus()}handleDeleteRange(e){Vb({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,t){const r=Object.keys(t.format).reduce((s,o)=>(this.quill.scroll.query(o,Re.BLOCK)&&!Array.isArray(t.format[o])&&(s[o]=t.format[o]),s),{}),i=new Qe().retain(e.index).delete(e.length).insert(`
`,r);this.quill.updateContents(i,le.sources.USER),this.quill.setSelection(e.index+1,le.sources.SILENT),this.quill.focus()}}const XZ={bindings:{bold:v0("bold"),italic:v0("italic"),underline:v0("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",le.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",le.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(n,e){e.format.indent!=null?this.quill.format("indent","-1",le.sources.USER):e.format.list!=null&&this.quill.format("list",!1,le.sources.USER)}},"indent code-block":HS(!0),"outdent code-block":HS(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(n){this.quill.deleteText(n.index-1,1,le.sources.USER)}},tab:{key:"Tab",handler(n,e){if(e.format.table)return!0;this.quill.history.cutoff();const t=new Qe().retain(n.index).delete(n.length).insert("	");return this.quill.updateContents(t,le.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index+1,le.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,le.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(n,e){const t={list:!1};e.format.indent&&(t.indent=!1),this.quill.formatLine(n.index,n.length,t,le.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(n){const[e,t]=this.quill.getLine(n.index),r={...e.formats(),list:"checked"},i=new Qe().retain(n.index).insert(`
`,r).retain(e.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,le.sources.USER),this.quill.setSelection(n.index+1,le.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(n,e){const[t,r]=this.quill.getLine(n.index),i=new Qe().retain(n.index).insert(`
`,e.format).retain(t.length()-r-1).retain(1,{header:null});this.quill.updateContents(i,le.sources.USER),this.quill.setSelection(n.index+1,le.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(n){const e=this.quill.getModule("table");if(e){const[t,r,i,s]=e.getTable(n),o=WZ(t,r,i,s);if(o==null)return;let l=t.offset();if(o<0){const a=new Qe().retain(l).insert(`
`);this.quill.updateContents(a,le.sources.USER),this.quill.setSelection(n.index+1,n.length,le.sources.SILENT)}else if(o>0){l+=t.length();const a=new Qe().retain(l).insert(`
`);this.quill.updateContents(a,le.sources.USER),this.quill.setSelection(l,le.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(n,e){const{event:t,line:r}=e,i=r.offset(this.quill.scroll);t.shiftKey?this.quill.setSelection(i-1,le.sources.USER):this.quill.setSelection(i+r.length(),le.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(n,e){if(this.quill.scroll.query("list")==null)return!0;const{length:t}=e.prefix,[r,i]=this.quill.getLine(n.index);if(i>t)return!0;let s;switch(e.prefix.trim()){case"[]":case"[ ]":s="unchecked";break;case"[x]":s="checked";break;case"-":case"*":s="bullet";break;default:s="ordered"}this.quill.insertText(n.index," ",le.sources.USER),this.quill.history.cutoff();const o=new Qe().retain(n.index-i).delete(t+1).retain(r.length()-2-i).retain(1,{list:s});return this.quill.updateContents(o,le.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index-t,le.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(n){const[e,t]=this.quill.getLine(n.index);let r=2,i=e;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,r-=1,r<=0){const s=new Qe().retain(n.index+e.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(s,le.sources.USER),this.quill.setSelection(n.index-1,le.sources.SILENT),!1}return!0}},"embed left":pd("ArrowLeft",!1),"embed left shift":pd("ArrowLeft",!0),"embed right":pd("ArrowRight",!1),"embed right shift":pd("ArrowRight",!0),"table down":GS(!1),"table up":GS(!0)}};$g.DEFAULTS=XZ;function HS(n){return{key:"Tab",shiftKey:!n,format:{"code-block":!0},handler(e,t){let{event:r}=t;const i=this.quill.scroll.query("code-block"),{TAB:s}=i;if(e.length===0&&!r.shiftKey){this.quill.insertText(e.index,s,le.sources.USER),this.quill.setSelection(e.index+s.length,le.sources.SILENT);return}const o=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:l,length:a}=e;o.forEach((u,h)=>{n?(u.insertAt(0,s),h===0?l+=s.length:a+=s.length):u.domNode.textContent.startsWith(s)&&(u.deleteAt(0,s.length),h===0?l-=s.length:a-=s.length)}),this.quill.update(le.sources.USER),this.quill.setSelection(l,a,le.sources.SILENT)}}}function pd(n,e){return{key:n,shiftKey:e,altKey:null,[n==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:i}=r;n==="ArrowRight"&&(i+=r.length+1);const[s]=this.quill.getLeaf(i);return s instanceof vr?(n==="ArrowLeft"?e?this.quill.setSelection(r.index-1,r.length+1,le.sources.USER):this.quill.setSelection(r.index-1,le.sources.USER):e?this.quill.setSelection(r.index,r.length+1,le.sources.USER):this.quill.setSelection(r.index+r.length+1,le.sources.USER),!1):!0}}}function v0(n){return{key:n[0],shortKey:!0,handler(e,t){this.quill.format(n,!t.format[n],le.sources.USER)}}}function GS(n){return{key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,t){const r=n?"prev":"next",i=t.line,s=i.parent[r];if(s!=null){if(s.statics.blotName==="table-row"){let o=s.children.head,l=i;for(;l.prev!=null;)l=l.prev,o=o.next;const a=o.offset(this.quill.scroll)+Math.min(t.offset,o.length()-1);this.quill.setSelection(a,0,le.sources.USER)}}else{const o=i.table()[r];o!=null&&(n?this.quill.setSelection(o.offset(this.quill.scroll)+o.length()-1,0,le.sources.USER):this.quill.setSelection(o.offset(this.quill.scroll),0,le.sources.USER))}return!1}}}function VZ(n){if(typeof n=="string"||typeof n=="number")n={key:n};else if(typeof n=="object")n=Ka(n);else return null;return n.shortKey&&(n[qZ]=n.shortKey,delete n.shortKey),n}function Vb(n){let{quill:e,range:t}=n;const r=e.getLines(t);let i={};if(r.length>1){const s=r[0].formats(),o=r[r.length-1].formats();i=Zr.AttributeMap.diff(o,s)||{}}e.deleteText(t,le.sources.USER),Object.keys(i).length>0&&e.formatLine(t.index,1,i,le.sources.USER),e.setSelection(t.index,le.sources.SILENT)}function WZ(n,e,t,r){return e.prev==null&&e.next==null?t.prev==null&&t.next==null?r===0?-1:1:t.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const FZ=/font-weight:\s*normal/,YZ=["P","OL","UL"],US=n=>n&&YZ.includes(n.tagName),HZ=n=>{Array.from(n.querySelectorAll("br")).filter(e=>US(e.previousElementSibling)&&US(e.nextElementSibling)).forEach(e=>{e.parentNode?.removeChild(e)})},GZ=n=>{Array.from(n.querySelectorAll('b[style*="font-weight"]')).filter(e=>e.getAttribute("style")?.match(FZ)).forEach(e=>{const t=n.createDocumentFragment();t.append(...e.childNodes),e.parentNode?.replaceChild(t,e)})};function UZ(n){n.querySelector('[id^="docs-internal-guid-"]')&&(GZ(n),HZ(n))}const KZ=/\bmso-list:[^;]*ignore/i,JZ=/\bmso-list:[^;]*\bl(\d+)/i,e9=/\bmso-list:[^;]*\blevel(\d+)/i,t9=(n,e)=>{const t=n.getAttribute("style"),r=t?.match(JZ);if(!r)return null;const i=Number(r[1]),s=t?.match(e9),o=s?Number(s[1]):1,l=new RegExp(`@list l${i}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),a=e.match(l),u=a&&a[1]==="bullet"?"bullet":"ordered";return{id:i,indent:o,type:u,element:n}},n9=n=>{const e=Array.from(n.querySelectorAll("[style*=mso-list]")),t=[],r=[];e.forEach(o=>{(o.getAttribute("style")||"").match(KZ)?t.push(o):r.push(o)}),t.forEach(o=>o.parentNode?.removeChild(o));const i=n.documentElement.innerHTML,s=r.map(o=>t9(o,i)).filter(o=>o);for(;s.length;){const o=[];let l=s.shift();for(;l;)o.push(l),l=s.length&&s[0]?.element===l.element.nextElementSibling&&s[0].id===l.id?s.shift():null;const a=document.createElement("ul");o.forEach(d=>{const p=document.createElement("li");p.setAttribute("data-list",d.type),d.indent>1&&p.setAttribute("class",`ql-indent-${d.indent-1}`),p.innerHTML=d.element.innerHTML,a.appendChild(p)});const u=o[0]?.element,{parentNode:h}=u??{};u&&h?.replaceChild(a,u),o.slice(1).forEach(d=>{let{element:p}=d;h?.removeChild(p)})}};function r9(n){n.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&n9(n)}const i9=[r9,UZ],s9=n=>{n.documentElement&&i9.forEach(e=>{e(n)})},o9=Ms("quill:clipboard"),l9=[[Node.TEXT_NODE,v9],[Node.TEXT_NODE,JS],["br",d9],[Node.ELEMENT_NODE,JS],[Node.ELEMENT_NODE,f9],[Node.ELEMENT_NODE,h9],[Node.ELEMENT_NODE,b9],["li",m9],["ol, ul",O9],["pre",p9],["tr",x9],["b",y0("bold")],["i",y0("italic")],["strike",y0("strike")],["style",g9]],a9=[IZ,qP].reduce((n,e)=>(n[e.keyName]=e,n),{}),KS=[ZP,zb,Zb,VP,YP,GP].reduce((n,e)=>(n[e.keyName]=e,n),{});class c9 extends Yi{static DEFAULTS={matchers:[]};constructor(e,t){super(e,t),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],l9.concat(this.options.matchers??[]).forEach(r=>{let[i,s]=r;this.addMatcher(i,s)})}addMatcher(e,t){this.matchers.push([e,t])}convert(e){let{html:t,text:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[jn.blotName])return new Qe().insert(r||"",{[jn.blotName]:i[jn.blotName]});if(!t)return new Qe().insert(r||"",i);const s=this.convertHTML(t);return Zh(s,`
`)&&(s.ops[s.ops.length-1].attributes==null||i.table)?s.compose(new Qe().retain(s.length()-1).delete(1)):s}normalizeHTML(e){s9(e)}convertHTML(e){const t=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(t);const r=t.body,i=new WeakMap,[s,o]=this.prepareMatching(r,i);return Wb(this.quill.scroll,r,s,o,i)}dangerouslyPasteHTML(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:le.sources.API;if(typeof e=="string"){const i=this.convert({html:e,text:""});this.quill.setContents(i,t),this.quill.setSelection(0,le.sources.SILENT)}else{const i=this.convert({html:t,text:""});this.quill.updateContents(new Qe().retain(e).concat(i),r),this.quill.setSelection(e+i.length(),le.sources.SILENT)}}onCaptureCopy(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:i,text:s}=this.onCopy(r,t);e.clipboardData?.setData("text/plain",s),e.clipboardData?.setData("text/html",i),t&&Vb({range:r,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(t=>t[0]!=="#").join(`
`)}onCapturePaste(e){if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const t=this.quill.getSelection(!0);if(t==null)return;const r=e.clipboardData?.getData("text/html");let i=e.clipboardData?.getData("text/plain");if(!r&&!i){const o=e.clipboardData?.getData("text/uri-list");o&&(i=this.normalizeURIList(o))}const s=Array.from(e.clipboardData?.files||[]);if(!r&&s.length>0){this.quill.uploader.upload(t,s);return}if(r&&s.length>0){const o=new DOMParser().parseFromString(r,"text/html");if(o.body.childElementCount===1&&o.body.firstElementChild?.tagName==="IMG"){this.quill.uploader.upload(t,s);return}}this.onPaste(t,{html:r,text:i})}onCopy(e){const t=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:t}}onPaste(e,t){let{text:r,html:i}=t;const s=this.quill.getFormat(e.index),o=this.convert({text:r,html:i},s);o9.log("onPaste",o,{text:r,html:i});const l=new Qe().retain(e.index).delete(e.length).concat(o);this.quill.updateContents(l,le.sources.USER),this.quill.setSelection(l.length()-e.length,le.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,t){const r=[],i=[];return this.matchers.forEach(s=>{const[o,l]=s;switch(o){case Node.TEXT_NODE:i.push(l);break;case Node.ELEMENT_NODE:r.push(l);break;default:Array.from(e.querySelectorAll(o)).forEach(a=>{t.has(a)?t.get(a)?.push(l):t.set(a,[l])});break}}),[r,i]}}function Xl(n,e,t,r){return r.query(e)?n.reduce((i,s)=>{if(!s.insert)return i;if(s.attributes&&s.attributes[e])return i.push(s);const o=t?{[e]:t}:{};return i.insert(s.insert,{...o,...s.attributes})},new Qe):n}function Zh(n,e){let t="";for(let r=n.ops.length-1;r>=0&&t.length<e.length;--r){const i=n.ops[r];if(typeof i.insert!="string")break;t=i.insert+t}return t.slice(-1*e.length)===e}function mo(n,e){if(!(n instanceof Element))return!1;const t=e.query(n);return t&&t.prototype instanceof vr?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(n.tagName.toLowerCase())}function u9(n,e){return n.previousElementSibling&&n.nextElementSibling&&!mo(n.previousElementSibling,e)&&!mo(n.nextElementSibling,e)}const gd=new WeakMap;function UP(n){return n==null?!1:(gd.has(n)||(n.tagName==="PRE"?gd.set(n,!0):gd.set(n,UP(n.parentNode))),gd.get(n))}function Wb(n,e,t,r,i){return e.nodeType===e.TEXT_NODE?r.reduce((s,o)=>o(e,s,n),new Qe):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((s,o)=>{let l=Wb(n,o,t,r,i);return o.nodeType===e.ELEMENT_NODE&&(l=t.reduce((a,u)=>u(o,a,n),l),l=(i.get(o)||[]).reduce((a,u)=>u(o,a,n),l)),s.concat(l)},new Qe):new Qe}function y0(n){return(e,t,r)=>Xl(t,n,!0,r)}function h9(n,e,t){const r=Xi.keys(n),i=gi.keys(n),s=_o.keys(n),o={};return r.concat(i).concat(s).forEach(l=>{let a=t.query(l,Re.ATTRIBUTE);a!=null&&(o[a.attrName]=a.value(n),o[a.attrName])||(a=a9[l],a!=null&&(a.attrName===l||a.keyName===l)&&(o[a.attrName]=a.value(n)||void 0),a=KS[l],a!=null&&(a.attrName===l||a.keyName===l)&&(a=KS[l],o[a.attrName]=a.value(n)||void 0))}),Object.entries(o).reduce((l,a)=>{let[u,h]=a;return Xl(l,u,h,t)},e)}function f9(n,e,t){const r=t.query(n);if(r==null)return e;if(r.prototype instanceof vr){const i={},s=r.value(n);if(s!=null)return i[r.blotName]=s,new Qe().insert(i,r.formats(n,t))}else if(r.prototype instanceof hh&&!Zh(e,`
`)&&e.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return Xl(e,r.blotName,r.formats(n,t),t);return e}function d9(n,e){return Zh(e,`
`)||e.insert(`
`),e}function p9(n,e,t){const r=t.query("code-block"),i=r&&"formats"in r&&typeof r.formats=="function"?r.formats(n,t):!0;return Xl(e,"code-block",i,t)}function g9(){return new Qe}function m9(n,e,t){const r=t.query(n);if(r==null||r.blotName!=="list"||!Zh(e,`
`))return e;let i=-1,s=n.parentNode;for(;s!=null;)["OL","UL"].includes(s.tagName)&&(i+=1),s=s.parentNode;return i<=0?e:e.reduce((o,l)=>l.insert?l.attributes&&typeof l.attributes.indent=="number"?o.push(l):o.insert(l.insert,{indent:i,...l.attributes||{}}):o,new Qe)}function O9(n,e,t){const r=n;let i=r.tagName==="OL"?"ordered":"bullet";const s=r.getAttribute("data-checked");return s&&(i=s==="true"?"checked":"unchecked"),Xl(e,"list",i,t)}function JS(n,e,t){if(!Zh(e,`
`)){if(mo(n,t)&&(n.childNodes.length>0||n instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&n.nextSibling){let r=n.nextSibling;for(;r!=null;){if(mo(r,t))return e.insert(`
`);const i=t.query(r);if(i&&i.prototype instanceof Dr)return e.insert(`
`);r=r.firstChild}}}return e}function b9(n,e,t){const r={},i=n.style||{};return i.fontStyle==="italic"&&(r.italic=!0),i.textDecoration==="underline"&&(r.underline=!0),i.textDecoration==="line-through"&&(r.strike=!0),(i.fontWeight?.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(r.bold=!0),e=Object.entries(r).reduce((s,o)=>{let[l,a]=o;return Xl(s,l,a,t)},e),parseFloat(i.textIndent||0)>0?new Qe().insert("	").concat(e):e}function x9(n,e,t){const r=n.parentElement?.tagName==="TABLE"?n.parentElement:n.parentElement?.parentElement;if(r!=null){const s=Array.from(r.querySelectorAll("tr")).indexOf(n)+1;return Xl(e,"table",s,t)}return e}function v9(n,e,t){let r=n.data;if(n.parentElement?.tagName==="O:P")return e.insert(r.trim());if(!UP(n)){if(r.trim().length===0&&r.includes(`
`)&&!u9(n,t))return e;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(n.previousSibling==null&&n.parentElement!=null&&mo(n.parentElement,t)||n.previousSibling instanceof Element&&mo(n.previousSibling,t))&&(r=r.replace(/^ /,"")),(n.nextSibling==null&&n.parentElement!=null&&mo(n.parentElement,t)||n.nextSibling instanceof Element&&mo(n.nextSibling,t))&&(r=r.replace(/ $/,"")),r=r.replaceAll(""," ")}return e.insert(r)}class y9 extends Yi{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(e,t){super(e,t),this.quill.on(le.events.EDITOR_CHANGE,(r,i,s,o)=>{r===le.events.SELECTION_CHANGE?i&&o!==le.sources.SILENT&&(this.currentRange=i):r===le.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||o===le.sources.USER?this.record(i,s):this.transform(i)),this.currentRange=KO(this.currentRange,i))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",r=>{r.inputType==="historyUndo"?(this.undo(),r.preventDefault()):r.inputType==="historyRedo"&&(this.redo(),r.preventDefault())})}change(e,t){if(this.stack[e].length===0)return;const r=this.stack[e].pop();if(!r)return;const i=this.quill.getContents(),s=r.delta.invert(i);this.stack[t].push({delta:s,range:KO(r.range,s)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r.delta,le.sources.USER),this.ignoreChange=!1,this.restoreSelection(r)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,t){if(e.ops.length===0)return;this.stack.redo=[];let r=e.invert(t),i=this.currentRange;const s=Date.now();if(this.lastRecorded+this.options.delay>s&&this.stack.undo.length>0){const o=this.stack.undo.pop();o&&(r=r.compose(o.delta),i=o.range)}else this.lastRecorded=s;r.length()!==0&&(this.stack.undo.push({delta:r,range:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){ew(this.stack.undo,e),ew(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,le.sources.USER);else{const t=w9(this.quill.scroll,e.delta);this.quill.setSelection(t,le.sources.USER)}}}function ew(n,e){let t=e;for(let r=n.length-1;r>=0;r-=1){const i=n[r];n[r]={delta:t.transform(i.delta,!0),range:i.range&&KO(i.range,t)},t=i.delta.transform(t),n[r].delta.length()===0&&n.splice(r,1)}}function S9(n,e){const t=e.ops[e.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(r=>n.query(r,Re.BLOCK)!=null):!1}function w9(n,e){const t=e.reduce((i,s)=>i+(s.delete||0),0);let r=e.length()-t;return S9(n,e)&&(r-=1),r}function KO(n,e){if(!n)return n;const t=e.transformPosition(n.index),r=e.transformPosition(n.index+n.length);return{index:t,length:r-t}}class KP extends Yi{constructor(e,t){super(e,t),e.root.addEventListener("drop",r=>{r.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const o=document.caretPositionFromPoint(r.clientX,r.clientY);i=document.createRange(),i.setStart(o.offsetNode,o.offset),i.setEnd(o.offsetNode,o.offset)}const s=i&&e.selection.normalizeNative(i);if(s){const o=e.selection.normalizedToRange(s);r.dataTransfer?.files&&this.upload(o,r.dataTransfer.files)}})}upload(e,t){const r=[];Array.from(t).forEach(i=>{i&&this.options.mimetypes?.includes(i.type)&&r.push(i)}),r.length>0&&this.options.handler.call(this,e,r)}}KP.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,e){if(!this.quill.scroll.query("image"))return;const t=e.map(r=>new Promise(i=>{const s=new FileReader;s.onload=()=>{i(s.result)},s.readAsDataURL(r)}));Promise.all(t).then(r=>{const i=r.reduce((s,o)=>s.insert({image:o}),new Qe().retain(n.index).delete(n.length));this.quill.updateContents(i,$e.sources.USER),this.quill.setSelection(n.index+r.length,$e.sources.SILENT)})}};const k9=["insertText","insertReplacementText"];class T9 extends Yi{constructor(e,t){super(e,t),e.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||e.on(le.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){Vb({range:e,quill:this.quill})}replaceText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(t){const r=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new Qe().retain(e.index).insert(t,r),le.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+t.length,0,le.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!k9.includes(e.inputType))return;const t=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const r=C9(e);if(r==null)return;const i=this.quill.selection.normalizeNative(t),s=i?this.quill.selection.normalizedToRange(i):null;s&&this.replaceText(s,r)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function C9(n){return typeof n.data=="string"?n.data:n.dataTransfer?.types.includes("text/plain")?n.dataTransfer.getData("text/plain"):null}const P9=/Mac/i.test(navigator.platform),Q9=100,$9=n=>!!(n.key==="ArrowLeft"||n.key==="ArrowRight"||n.key==="ArrowUp"||n.key==="ArrowDown"||n.key==="Home"||P9&&n.key==="a"&&n.ctrlKey===!0);class A9 extends Yi{isListening=!1;selectionChangeDeadline=0;constructor(e,t){super(e,t),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,t){let{line:r,event:i}=t;if(!(r instanceof hi)||!r.uiNode)return!0;const s=getComputedStyle(r.domNode).direction==="rtl";return s&&i.key!=="ArrowRight"||!s&&i.key!=="ArrowLeft"?!0:(this.quill.setSelection(e.index-1,e.length+(i.shiftKey?1:0),le.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",e=>{!e.defaultPrevented&&$9(e)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+Q9,this.isListening)return;this.isListening=!0;const e=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",e,{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const t=e.getRangeAt(0);if(t.collapsed!==!0||t.startOffset!==0)return;const r=this.quill.scroll.find(t.startContainer);if(!(r instanceof hi)||!r.uiNode)return;const i=document.createRange();i.setStartAfter(r.uiNode),i.setEndAfter(r.uiNode),e.removeAllRanges(),e.addRange(i)}}le.register({"blots/block":bn,"blots/block/embed":Dr,"blots/break":mi,"blots/container":zl,"blots/cursor":oi,"blots/embed":jb,"blots/inline":In,"blots/scroll":BZ,"blots/text":fi,"modules/clipboard":c9,"modules/history":y9,"modules/keyboard":$g,"modules/uploader":KP,"modules/input":T9,"modules/uiNode":A9});class R9 extends gi{add(e,t){let r=0;if(t==="+1"||t==="-1"){const i=this.value(e)||0;r=t==="+1"?i+1:i-1}else typeof t=="number"&&(r=t);return r===0?(this.remove(e),!0):super.add(e,r.toString())}canAdd(e,t){return super.canAdd(e,t)||super.canAdd(e,parseInt(t,10))}value(e){return parseInt(super.value(e),10)||void 0}}const E9=new R9("indent","ql-indent",{scope:Re.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class L9 extends bn{static blotName="blockquote";static tagName="blockquote"}class _9 extends bn{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(e){return this.tagName.indexOf(e.tagName)+1}}class zh extends zl{}zh.blotName="list-container";zh.tagName="OL";class qh extends bn{static create(e){const t=super.create();return t.setAttribute("data-list",e),t}static formats(e){return e.getAttribute("data-list")||void 0}static register(){le.register(zh)}constructor(e,t){super(e,t);const r=t.ownerDocument.createElement("span"),i=s=>{if(!e.isEnabled())return;const o=this.statics.formats(t,e);o==="checked"?(this.format("list","unchecked"),s.preventDefault()):o==="unchecked"&&(this.format("list","checked"),s.preventDefault())};r.addEventListener("mousedown",i),r.addEventListener("touchstart",i),this.attachUI(r)}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(e,t)}}qh.blotName="list";qh.tagName="LI";zh.allowedChildren=[qh];qh.requiredContainer=zh;class Fb extends In{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}class M9 extends Fb{static blotName="italic";static tagName=["EM","I"]}class Cp extends In{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(e){const t=super.create(e);return t.setAttribute("href",this.sanitize(e)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){return JP(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,t){e!==this.statics.blotName||!t?super.format(e,t):this.domNode.setAttribute("href",this.constructor.sanitize(t))}}function JP(n,e){const t=document.createElement("a");t.href=n;const r=t.href.slice(0,t.href.indexOf(":"));return e.indexOf(r)>-1}class N9 extends In{static blotName="script";static tagName=["SUB","SUP"];static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}class B9 extends Fb{static blotName="strike";static tagName=["S","STRIKE"]}class I9 extends In{static blotName="underline";static tagName="U"}class j9 extends jb{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const t=super.create(e);return typeof e=="string"&&(window.katex.render(e,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",e)),t}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}const tw=["alt","height","width"];class D9 extends vr{static blotName="image";static tagName="IMG";static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("src",this.sanitize(e)),t}static formats(e){return tw.reduce((t,r)=>(e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return JP(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,t){tw.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}}const nw=["height","width"];class Z9 extends Dr{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(e){const t=super.create(e);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(e)),t}static formats(e){return nw.reduce((t,r)=>(e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t),{})}static sanitize(e){return Cp.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,t){nw.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}const Zu=new gi("code-token","hljs",{scope:Re.INLINE});class As extends In{static formats(e,t){for(;e!=null&&e!==t.domNode;){if(e.classList&&e.classList.contains(jn.className))return super.formats(e,t);e=e.parentNode}}constructor(e,t,r){super(e,t,r),Zu.add(this.domNode,r)}format(e,t){e!==As.blotName?super.format(e,t):t?Zu.add(this.domNode,t):(Zu.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Zu.value(this.domNode)||this.unwrap()}}As.blotName="code-token";As.className="ql-token";class Ir extends jn{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("data-language",e),t}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(e,t)}replaceWith(e,t){return this.formatAt(0,this.length(),As.blotName,!1),super.replaceWith(e,t)}}class Gu extends ql{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,t){e===Ir.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(e,t)}))}formatAt(e,t,r,i){r===Ir.blotName&&(this.forceNext=!0),super.formatAt(e,t,r,i)}highlight(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(o=>o!==this.uiNode).map(o=>o.textContent).join(`
`)}
`,s=Ir.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const o=this.children.reduce((a,u)=>a.concat(IP(u,!1)),new Qe),l=e(i,s);o.diff(l).reduce((a,u)=>{let{retain:h,attributes:d}=u;return h?(d&&Object.keys(d).forEach(p=>{[Ir.blotName,As.blotName].includes(p)&&this.formatAt(a,h,p,d[p])}),a+h):a},0)}this.cachedText=i,this.forceNext=!1}}html(e,t){const[r]=this.children.find(e);return`<pre data-language="${r?Ir.formats(r.domNode):"plain"}">
${Qg(this.code(e,t))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=Ir.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}Gu.allowedChildren=[Ir];Ir.requiredContainer=Gu;Ir.allowedChildren=[As,oi,fi,mi];const z9=(n,e,t)=>{if(typeof n.versionString=="string"){const r=n.versionString.split(".")[0];if(parseInt(r,10)>=11)return n.highlight(t,{language:e}).value}return n.highlight(e,t).value};class eQ extends Yi{static register(){le.register(As,!0),le.register(Ir,!0),le.register(Gu,!0)}constructor(e,t){if(super(e,t),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,i)=>{let{key:s}=i;return r[s]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(le.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof Gu))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:i,label:s}=r;const o=t.ownerDocument.createElement("option");o.textContent=s,o.setAttribute("value",i),t.appendChild(o)}),t.addEventListener("change",()=>{e.format(Ir.blotName,t.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(t),e.children.head&&(t.value=Ir.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(le.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(le.sources.USER);const r=this.quill.getSelection();(e==null?this.quill.scroll.descendants(Gu):[e]).forEach(s=>{s.highlight(this.highlightBlot,t)}),this.quill.update(le.sources.SILENT),r!=null&&this.quill.setSelection(r,le.sources.SILENT)}highlightBlot(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(t=this.languages[t]?t:"plain",t==="plain")return Qg(e).split(`
`).reduce((i,s,o)=>(o!==0&&i.insert(`
`,{[jn.blotName]:t}),i.insert(s)),new Qe);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(jn.className),r.innerHTML=z9(this.options.hljs,t,e),Wb(this.quill.scroll,r,[(i,s)=>{const o=Zu.value(i);return o?s.compose(new Qe().retain(s.length(),{[As.blotName]:o})):s}],[(i,s)=>i.data.split(`
`).reduce((o,l,a)=>(a!==0&&o.insert(`
`,{[jn.blotName]:t}),o.insert(l)),s)],new WeakMap)}}eQ.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class li extends bn{static blotName="table";static tagName="TD";static create(e){const t=super.create();return e?t.setAttribute("data-row",e):t.setAttribute("data-row",Yb()),t}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,t){e===li.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(e,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}class $l extends zl{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),t=this.children.tail.formats(),r=this.next.children.head.formats(),i=this.next.children.tail.formats();return e.table===t.table&&e.table===r.table&&e.table===i.table}return!1}optimize(e){super.optimize(e),this.children.forEach(t=>{if(t.next==null)return;const r=t.formats(),i=t.next.formats();if(r.table!==i.table){const s=this.splitAfter(t);s&&s.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}class So extends zl{static blotName="table-body";static tagName="TBODY"}class Pp extends zl{static blotName="table-container";static tagName="TABLE";balanceCells(){const e=this.descendants($l),t=e.reduce((r,i)=>Math.max(i.children.length,r),0);e.forEach(r=>{new Array(t-r.children.length).fill(0).forEach(()=>{let i;r.children.head!=null&&(i=li.formats(r.children.head.domNode));const s=this.scroll.create(li.blotName,i);r.appendChild(s),s.optimize()})})}cells(e){return this.rows().map(t=>t.children.at(e))}deleteColumn(e){const[t]=this.descendant(So);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(e);i?.remove()})}insertColumn(e){const[t]=this.descendant(So);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(e),s=li.formats(r.children.head.domNode),o=this.scroll.create(li.blotName,s);r.insertBefore(o,i)})}insertRow(e){const[t]=this.descendant(So);if(t==null||t.children.head==null)return;const r=Yb(),i=this.scroll.create($l.blotName);t.children.head.children.forEach(()=>{const o=this.scroll.create(li.blotName,r);i.appendChild(o)});const s=t.children.at(e);t.insertBefore(i,s)}rows(){const e=this.children.head;return e==null?[]:e.children.map(t=>t)}}Pp.allowedChildren=[So];So.requiredContainer=Pp;So.allowedChildren=[$l];$l.requiredContainer=So;$l.allowedChildren=[li];li.requiredContainer=$l;function Yb(){return`row-${Math.random().toString(36).slice(2,6)}`}class q9 extends Yi{static register(){le.register(li),le.register($l),le.register(So),le.register(Pp)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Pp).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,t]=this.getTable();t!=null&&(e.deleteColumn(t.cellOffset()),this.quill.update(le.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(le.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const t=e.offset();e.remove(),this.quill.update(le.sources.USER),this.quill.setSelection(t,le.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[t,r]=this.quill.getLine(e.index);if(t==null||t.statics.blotName!==li.blotName)return[null,null,null,-1];const i=t.parent;return[i.parent.parent,i,t,r]}insertColumn(e){const t=this.quill.getSelection();if(!t)return;const[r,i,s]=this.getTable(t);if(s==null)return;const o=s.cellOffset();r.insertColumn(o+e),this.quill.update(le.sources.USER);let l=i.rowOffset();e===0&&(l+=1),this.quill.setSelection(t.index+l,t.length,le.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const t=this.quill.getSelection();if(!t)return;const[r,i,s]=this.getTable(t);if(s==null)return;const o=i.rowOffset();r.insertRow(o+e),this.quill.update(le.sources.USER),e>0?this.quill.setSelection(t,le.sources.SILENT):this.quill.setSelection(t.index+i.children.length,t.length,le.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,t){const r=this.quill.getSelection();if(r==null)return;const i=new Array(e).fill(0).reduce(s=>{const o=new Array(t).fill(`
`).join("");return s.insert(o,{table:Yb()})},new Qe().retain(r.index));this.quill.updateContents(i,le.sources.USER),this.quill.setSelection(r.index,le.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(le.events.SCROLL_OPTIMIZE,e=>{e.some(t=>["TD","TR","TBODY","TABLE"].includes(t.target.tagName)?(this.quill.once(le.events.TEXT_CHANGE,(r,i,s)=>{s===le.sources.USER&&this.balanceTables()}),!0):!1)})}}const rw=Ms("quill:toolbar");class Hb extends Yi{constructor(e,t){if(super(e,t),Array.isArray(this.options.container)){const r=document.createElement("div");r.setAttribute("role","toolbar"),X9(r,this.options.container),e.container?.parentNode?.insertBefore(r,e.container),this.container=r}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){rw.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(r=>{const i=this.options.handlers?.[r];i&&this.addHandler(r,i)}),Array.from(this.container.querySelectorAll("button, select")).forEach(r=>{this.attach(r)}),this.quill.on(le.events.EDITOR_CHANGE,()=>{const[r]=this.quill.selection.getRange();this.update(r)})}addHandler(e,t){this.handlers[e]=t}attach(e){let t=Array.from(e.classList).find(i=>i.indexOf("ql-")===0);if(!t)return;if(t=t.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[t]==null&&this.quill.scroll.query(t)==null){rw.warn("ignoring attaching to nonexistent format",t,e);return}const r=e.tagName==="SELECT"?"change":"click";e.addEventListener(r,i=>{let s;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const l=e.options[e.selectedIndex];l.hasAttribute("selected")?s=!1:s=l.value||!1}else e.classList.contains("ql-active")?s=!1:s=e.value||!e.hasAttribute("value"),i.preventDefault();this.quill.focus();const[o]=this.quill.selection.getRange();if(this.handlers[t]!=null)this.handlers[t].call(this,s);else if(this.quill.scroll.query(t).prototype instanceof vr){if(s=prompt(`Enter ${t}`),!s)return;this.quill.updateContents(new Qe().retain(o.index).delete(o.length).insert({[t]:s}),le.sources.USER)}else this.quill.format(t,s,le.sources.USER);this.update(o)}),this.controls.push([t,e])}update(e){const t=e==null?{}:this.quill.getFormat(e);this.controls.forEach(r=>{const[i,s]=r;if(s.tagName==="SELECT"){let o=null;if(e==null)o=null;else if(t[i]==null)o=s.querySelector("option[selected]");else if(!Array.isArray(t[i])){let l=t[i];typeof l=="string"&&(l=l.replace(/"/g,'\\"')),o=s.querySelector(`option[value="${l}"]`)}o==null?(s.value="",s.selectedIndex=-1):o.selected=!0}else if(e==null)s.classList.remove("ql-active"),s.setAttribute("aria-pressed","false");else if(s.hasAttribute("value")){const o=t[i],l=o===s.getAttribute("value")||o!=null&&o.toString()===s.getAttribute("value")||o==null&&!s.getAttribute("value");s.classList.toggle("ql-active",l),s.setAttribute("aria-pressed",l.toString())}else{const o=t[i]!=null;s.classList.toggle("ql-active",o),s.setAttribute("aria-pressed",o.toString())}})}}Hb.DEFAULTS={};function iw(n,e,t){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${e}`),r.setAttribute("aria-pressed","false"),t!=null?(r.value=t,r.setAttribute("aria-label",`${e}: ${t}`)):r.setAttribute("aria-label",e),n.appendChild(r)}function X9(n,e){Array.isArray(e[0])||(e=[e]),e.forEach(t=>{const r=document.createElement("span");r.classList.add("ql-formats"),t.forEach(i=>{if(typeof i=="string")iw(r,i);else{const s=Object.keys(i)[0],o=i[s];Array.isArray(o)?V9(r,s,o):iw(r,s,o)}}),n.appendChild(r)})}function V9(n,e,t){const r=document.createElement("select");r.classList.add(`ql-${e}`),t.forEach(i=>{const s=document.createElement("option");i!==!1?s.setAttribute("value",String(i)):s.setAttribute("selected","selected"),r.appendChild(s)}),n.appendChild(r)}Hb.DEFAULTS={container:null,handlers:{clean(){const n=this.quill.getSelection();if(n!=null)if(n.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(t=>{this.quill.scroll.query(t,Re.INLINE)!=null&&this.quill.format(t,!1,le.sources.USER)})}else this.quill.removeFormat(n.index,n.length,le.sources.USER)},direction(n){const{align:e}=this.quill.getFormat();n==="rtl"&&e==null?this.quill.format("align","right",le.sources.USER):!n&&e==="right"&&this.quill.format("align",!1,le.sources.USER),this.quill.format("direction",n,le.sources.USER)},indent(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e),r=parseInt(t.indent||0,10);if(n==="+1"||n==="-1"){let i=n==="+1"?1:-1;t.direction==="rtl"&&(i*=-1),this.quill.format("indent",r+i,le.sources.USER)}},link(n){n===!0&&(n=prompt("Enter link URL:")),this.quill.format("link",n,le.sources.USER)},list(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e);n==="check"?t.list==="checked"||t.list==="unchecked"?this.quill.format("list",!1,le.sources.USER):this.quill.format("list","unchecked",le.sources.USER):this.quill.format("list",n,le.sources.USER)}}};const W9='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',F9='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',Y9='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',H9='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',G9='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',U9='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',K9='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',J9='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',sw='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',ez='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',tz='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',nz='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',rz='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',iz='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',sz='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',oz='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',lz='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',az='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',cz='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',uz='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',hz='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',fz='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',dz='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',pz='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',gz='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',mz='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',Oz='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',bz='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',xz='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',vz='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',yz='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',Sz='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',wz='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',dh={align:{"":W9,center:F9,right:Y9,justify:H9},background:G9,blockquote:U9,bold:K9,clean:J9,code:sw,"code-block":sw,color:ez,direction:{"":tz,rtl:nz},formula:rz,header:{1:iz,2:sz,3:oz,4:lz,5:az,6:cz},italic:uz,image:hz,indent:{"+1":fz,"-1":dz},link:pz,list:{bullet:gz,check:mz,ordered:Oz},script:{sub:bz,super:xz},strike:vz,table:yz,underline:Sz,video:wz},kz='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let ow=0;function lw(n,e){n.setAttribute(e,`${n.getAttribute(e)!=="true"}`)}class Ag{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),lw(this.label,"aria-expanded"),lw(this.options,"aria-hidden")}buildItem(e){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const r=e.getAttribute("value");return r&&t.setAttribute("data-value",r),e.textContent&&t.setAttribute("data-label",e.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(t,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),t}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=kz,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${ow}`,ow+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(t=>{const r=this.buildItem(t);e.appendChild(r),t.selected===!0&&this.selectItem(r)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");e!==r&&(r?.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const t=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}let tQ=class extends Ag{constructor(e,t){super(e),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(e){const t=super.buildItem(e);return t.style.backgroundColor=e.getAttribute("value")||"",t}selectItem(e,t){super.selectItem(e,t);const r=this.label.querySelector(".ql-color-label"),i=e&&e.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=i:r.style.fill=i)}};class nQ extends Ag{constructor(e,t){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=t[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,t){super.selectItem(e,t);const r=e||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const Tz=n=>{const{overflowY:e}=getComputedStyle(n,null);return e!=="visible"&&e!=="clip"};class rQ{constructor(e,t){this.quill=e,this.boundsContainer=t||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,Tz(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const t=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),s=this.root.getBoundingClientRect();let o=0;if(s.right>i.right&&(o=i.right-s.right,this.root.style.left=`${t+o}px`),s.left<i.left&&(o=i.left-s.left,this.root.style.left=`${t+o}px`),s.bottom>i.bottom){const l=s.bottom-s.top,a=e.bottom-e.top+l;this.root.style.top=`${r-a}px`,this.root.classList.add("ql-flip")}return o}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const Cz=[!1,"center","right","justify"],Pz=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Qz=[!1,"serif","monospace"],$z=["1","2","3",!1],Az=["small",!1,"large","huge"];class Xh extends Pc{constructor(e,t){super(e,t);const r=i=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(s=>{s.container.contains(i.target)||s.close()})};e.emitter.listenDOM("click",document.body,r)}addModule(e){const t=super.addModule(e);return e==="toolbar"&&this.extendToolbar(t),t}buildButtons(e,t){Array.from(e).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(s=>{if(s.startsWith("ql-")&&(s=s.slice(3),t[s]!=null))if(s==="direction")r.innerHTML=t[s][""]+t[s].rtl;else if(typeof t[s]=="string")r.innerHTML=t[s];else{const o=r.value||"";o!=null&&t[s][o]&&(r.innerHTML=t[s][o])}})})}buildPickers(e,t){this.pickers=Array.from(e).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&Su(i,Cz),typeof t.align=="object"))return new nQ(i,t.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const s=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&Su(i,Pz,s==="background"?"#ffffff":"#000000"),new tQ(i,t[s])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?Su(i,Qz):i.classList.contains("ql-header")?Su(i,$z):i.classList.contains("ql-size")&&Su(i,Az)),new Ag(i)});const r=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on($e.events.EDITOR_CHANGE,r)}}Xh.DEFAULTS=yo({},Pc.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let n=this.container.querySelector("input.ql-image[type=file]");n==null&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),n.classList.add("ql-image"),n.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,n.files),n.value=""}),this.container.appendChild(n)),n.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class iQ extends rQ{constructor(e,t){super(e,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;t!=null?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,$e.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,$e.sources.USER)),this.quill.root.scrollTop=t;break}case"video":e=Rz(e);case"formula":{if(!e)break;const t=this.quill.getSelection(!0);if(t!=null){const r=t.index+t.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),e,$e.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",$e.sources.USER),this.quill.setSelection(r+2,$e.sources.USER)}break}}this.textbox.value="",this.hide()}}function Rz(n){let e=n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=n.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:n}function Su(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(r=>{const i=document.createElement("option");r===t?i.setAttribute("selected","selected"):i.setAttribute("value",String(r)),n.appendChild(i)})}const Ez=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class Lz extends iQ{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(e,t){super(e,t),this.quill.on($e.events.EDITOR_CHANGE,(r,i,s,o)=>{if(r===$e.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&o===$e.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const l=this.quill.getLines(i.index,i.length);if(l.length===1){const a=this.quill.getBounds(i);a!=null&&this.position(a)}else{const a=l[l.length-1],u=this.quill.getIndex(a),h=Math.min(a.length()-1,i.index+i.length-u),d=this.quill.getBounds(new Ql(u,h));d!=null&&this.position(d)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on($e.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const t=this.quill.getBounds(e);t!=null&&this.position(t)}},1)})}cancel(){this.show()}position(e){const t=super.position(e),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",t!==0&&(r.style.marginLeft=`${-1*t-r.offsetWidth/2}px`),t}}class sQ extends Xh{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=Ez),super(e,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new Lz(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),dh),this.buildPickers(e.container.querySelectorAll("select"),dh))}}sQ.DEFAULTS=yo({},Xh.DEFAULTS,{modules:{toolbar:{handlers:{link(n){n?this.quill.theme.tooltip.edit():this.quill.format("link",!1,le.sources.USER)}}}}});const _z=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class Mz extends iQ{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",e=>{if(this.linkRange!=null){const t=this.linkRange;this.restoreFocus(),this.quill.formatText(t,"link",!1,$e.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()}),this.quill.on($e.events.SELECTION_CHANGE,(e,t,r)=>{if(e!=null){if(e.length===0&&r===$e.sources.USER){const[i,s]=this.quill.scroll.descendant(Cp,e.index);if(i!=null){this.linkRange=new Ql(e.index-s,i.length());const o=Cp.formats(i.domNode);this.preview.textContent=o,this.preview.setAttribute("href",o),this.show();const l=this.quill.getBounds(this.linkRange);l!=null&&this.position(l);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}class oQ extends Xh{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=_z),super(e,t),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),dh),this.buildPickers(e.container.querySelectorAll("select"),dh),this.tooltip=new Mz(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,r)=>{e.handlers.link.call(e,!r.format.link)}))}}oQ.DEFAULTS=yo({},Xh.DEFAULTS,{modules:{toolbar:{handlers:{link(n){if(n){const e=this.quill.getSelection();if(e==null||e.length===0)return;let t=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(t)&&t.indexOf("mailto:")!==0&&(t=`mailto:${t}`);const{tooltip:r}=this.quill.theme;r.edit("link",t)}else this.quill.format("link",!1,le.sources.USER)}}}}});le.register({"attributors/attribute/direction":qP,"attributors/class/align":DP,"attributors/class/background":DZ,"attributors/class/color":jZ,"attributors/class/direction":XP,"attributors/class/font":FP,"attributors/class/size":HP,"attributors/style/align":ZP,"attributors/style/background":zb,"attributors/style/color":Zb,"attributors/style/direction":VP,"attributors/style/font":YP,"attributors/style/size":GP},!0);le.register({"formats/align":DP,"formats/direction":XP,"formats/indent":E9,"formats/background":zb,"formats/color":Zb,"formats/font":FP,"formats/size":HP,"formats/blockquote":L9,"formats/code-block":jn,"formats/header":_9,"formats/list":qh,"formats/bold":Fb,"formats/code":qb,"formats/italic":M9,"formats/link":Cp,"formats/script":N9,"formats/strike":B9,"formats/underline":I9,"formats/formula":j9,"formats/image":D9,"formats/video":Z9,"modules/syntax":eQ,"modules/table":q9,"modules/toolbar":Hb,"themes/bubble":sQ,"themes/snow":oQ,"ui/icons":dh,"ui/picker":Ag,"ui/icon-picker":nQ,"ui/color-picker":tQ,"ui/tooltip":rQ},!0);var zu={exports:{}};var Nz=zu.exports,aw;function Bz(){return aw||(aw=1,function(n,e){(function(){var t,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",a="__lodash_hash_undefined__",u=500,h="__lodash_placeholder__",d=1,p=2,g=4,b=1,x=2,v=1,w=2,k=4,$=8,B=16,N=32,z=64,Z=128,H=256,te=512,K=30,R="...",E=800,P=16,Q=1,I=2,j=3,q=1/0,V=9007199254740991,F=17976931348623157e292,U=NaN,oe=4294967295,J=oe-1,ee=oe>>>1,fe=[["ary",Z],["bind",v],["bindKey",w],["curry",$],["curryRight",B],["flip",te],["partial",N],["partialRight",z],["rearg",H]],ne="[object Arguments]",he="[object Array]",de="[object AsyncFunction]",ge="[object Boolean]",ke="[object Date]",Ee="[object DOMException]",Oe="[object Error]",Se="[object Function]",me="[object GeneratorFunction]",be="[object Map]",De="[object Number]",gt="[object Null]",bt="[object Object]",ft="[object Promise]",dt="[object Proxy]",nt="[object RegExp]",ut="[object Set]",vn="[object String]",Hr="[object Symbol]",Sr="[object Undefined]",wr="[object WeakMap]",Nc="[object WeakSet]",rr="[object ArrayBuffer]",ir="[object DataView]",Ki="[object Float32Array]",yn="[object Float64Array]",Bs="[object Int8Array]",Is="[object Int16Array]",Bo="[object Int32Array]",Ji="[object Uint8Array]",bi="[object Uint8ClampedArray]",js="[object Uint16Array]",xi="[object Uint32Array]",es=/\b__p \+= '';/g,sr=/\b(__p \+=) '' \+/g,Ds=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Zs=/&(?:amp|lt|gt|quot|#39);/g,vi=/[&<>"']/g,Io=RegExp(Zs.source),ts=RegExp(vi.source),jo=/<%-([\s\S]+?)%>/g,Do=/<%([\s\S]+?)%>/g,zs=/<%=([\s\S]+?)%>/g,yi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vl=/^\w*$/,Gr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zo=/[\\^$.*+?()[\]{}|]/g,Bc=RegExp(Zo.source),zo=/^\s+/,Wl=/\s/,qo=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,en=/\{\n\/\* \[wrapped with (.+)\] \*/,Ic=/,? & /,jc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Dc=/[()=,{}\[\]\/\s]/,Zc=/\\(\\)?/g,zc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,tn=/\w*$/,qc=/^[-+]0x[0-9a-f]+$/i,Xc=/^0b[01]+$/i,Vc=/^\[object .+?Constructor\]$/,Wc=/^0o[0-7]+$/i,Fc=/^(?:0|[1-9]\d*)$/,Sn=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,qs=/($^)/,Yc=/['\n\r\u2028\u2029\\]/g,Xs="\\ud800-\\udfff",Hc="\\u0300-\\u036f",Gc="\\ufe20-\\ufe2f",Vs="\\u20d0-\\u20ff",Xo=Hc+Gc+Vs,ns="\\u2700-\\u27bf",or="a-z\\xdf-\\xf6\\xf8-\\xff",Vo="\\xac\\xb1\\xd7\\xf7",Uc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Kc="\\u2000-\\u206f",Jc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Fl="A-Z\\xc0-\\xd6\\xd8-\\xde",Yl="\\ufe0e\\ufe0f",rs=Vo+Uc+Kc+Jc,is="[']",ss="["+Xs+"]",Wo="["+rs+"]",os="["+Xo+"]",Hl="\\d+",eu="["+ns+"]",Gl="["+or+"]",Ul="[^"+Xs+rs+Hl+ns+or+Fl+"]",ls="\\ud83c[\\udffb-\\udfff]",tu="(?:"+os+"|"+ls+")",Kl="[^"+Xs+"]",Ur="(?:\\ud83c[\\udde6-\\uddff]){2}",Ln="[\\ud800-\\udbff][\\udc00-\\udfff]",wn="["+Fl+"]",kr="\\u200d",Jl="(?:"+Gl+"|"+Ul+")",Tr="(?:"+wn+"|"+Ul+")",ea="(?:"+is+"(?:d|ll|m|re|s|t|ve))?",ta="(?:"+is+"(?:D|LL|M|RE|S|T|VE))?",na=tu+"?",ra="["+Yl+"]?",ia="(?:"+kr+"(?:"+[Kl,Ur,Ln].join("|")+")"+ra+na+")*",un="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",sa="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Fo=ra+na+ia,Ws="(?:"+[eu,Ur,Ln].join("|")+")"+Fo,Yo="(?:"+[Kl+os+"?",os,Ur,Ln,ss].join("|")+")",Fs=RegExp(is,"g"),nu=RegExp(os,"g"),Ys=RegExp(ls+"(?="+ls+")|"+Yo+Fo,"g"),Ho=RegExp([wn+"?"+Gl+"+"+ea+"(?="+[Wo,wn,"$"].join("|")+")",Tr+"+"+ta+"(?="+[Wo,wn+Jl,"$"].join("|")+")",wn+"?"+Jl+"+"+ea,wn+"+"+ta,sa,un,Hl,Ws].join("|"),"g"),oa=RegExp("["+kr+Xs+Xo+Yl+"]"),Cr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,la=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Go=-1,xt={};xt[Ki]=xt[yn]=xt[Bs]=xt[Is]=xt[Bo]=xt[Ji]=xt[bi]=xt[js]=xt[xi]=!0,xt[ne]=xt[he]=xt[rr]=xt[ge]=xt[ir]=xt[ke]=xt[Oe]=xt[Se]=xt[be]=xt[De]=xt[bt]=xt[nt]=xt[ut]=xt[vn]=xt[wr]=!1;var mt={};mt[ne]=mt[he]=mt[rr]=mt[ir]=mt[ge]=mt[ke]=mt[Ki]=mt[yn]=mt[Bs]=mt[Is]=mt[Bo]=mt[be]=mt[De]=mt[bt]=mt[nt]=mt[ut]=mt[vn]=mt[Hr]=mt[Ji]=mt[bi]=mt[js]=mt[xi]=!0,mt[Oe]=mt[Se]=mt[wr]=!1;var S={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},X={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ie={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ze=parseFloat,_e=parseInt,it=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,st=typeof self=="object"&&self&&self.Object===Object&&self,Je=it||st||Function("return this")(),lt=e&&!e.nodeType&&e,_t=lt&&!0&&n&&!n.nodeType&&n,hn=_t&&_t.exports===lt,Bt=hn&&it.process,vt=function(){try{var Y=_t&&_t.require&&_t.require("util").types;return Y||Bt&&Bt.binding&&Bt.binding("util")}catch{}}(),Ht=vt&&vt.isArrayBuffer,Kr=vt&&vt.isDate,Pr=vt&&vt.isMap,Si=vt&&vt.isRegExp,ru=vt&&vt.isSet,Uo=vt&&vt.isTypedArray;function sn(Y,se,re){switch(re.length){case 0:return Y.call(se);case 1:return Y.call(se,re[0]);case 2:return Y.call(se,re[0],re[1]);case 3:return Y.call(se,re[0],re[1],re[2])}return Y.apply(se,re)}function m5(Y,se,re,Pe){for(var ze=-1,pt=Y==null?0:Y.length;++ze<pt;){var nn=Y[ze];se(Pe,nn,re(nn),Y)}return Pe}function Qr(Y,se){for(var re=-1,Pe=Y==null?0:Y.length;++re<Pe&&se(Y[re],re,Y)!==!1;);return Y}function O5(Y,se){for(var re=Y==null?0:Y.length;re--&&se(Y[re],re,Y)!==!1;);return Y}function Fx(Y,se){for(var re=-1,Pe=Y==null?0:Y.length;++re<Pe;)if(!se(Y[re],re,Y))return!1;return!0}function Hs(Y,se){for(var re=-1,Pe=Y==null?0:Y.length,ze=0,pt=[];++re<Pe;){var nn=Y[re];se(nn,re,Y)&&(pt[ze++]=nn)}return pt}function lf(Y,se){var re=Y==null?0:Y.length;return!!re&&aa(Y,se,0)>-1}function Vg(Y,se,re){for(var Pe=-1,ze=Y==null?0:Y.length;++Pe<ze;)if(re(se,Y[Pe]))return!0;return!1}function Mt(Y,se){for(var re=-1,Pe=Y==null?0:Y.length,ze=Array(Pe);++re<Pe;)ze[re]=se(Y[re],re,Y);return ze}function Gs(Y,se){for(var re=-1,Pe=se.length,ze=Y.length;++re<Pe;)Y[ze+re]=se[re];return Y}function Wg(Y,se,re,Pe){var ze=-1,pt=Y==null?0:Y.length;for(Pe&&pt&&(re=Y[++ze]);++ze<pt;)re=se(re,Y[ze],ze,Y);return re}function b5(Y,se,re,Pe){var ze=Y==null?0:Y.length;for(Pe&&ze&&(re=Y[--ze]);ze--;)re=se(re,Y[ze],ze,Y);return re}function Fg(Y,se){for(var re=-1,Pe=Y==null?0:Y.length;++re<Pe;)if(se(Y[re],re,Y))return!0;return!1}var x5=Yg("length");function v5(Y){return Y.split("")}function y5(Y){return Y.match(jc)||[]}function Yx(Y,se,re){var Pe;return re(Y,function(ze,pt,nn){if(se(ze,pt,nn))return Pe=pt,!1}),Pe}function af(Y,se,re,Pe){for(var ze=Y.length,pt=re+(Pe?1:-1);Pe?pt--:++pt<ze;)if(se(Y[pt],pt,Y))return pt;return-1}function aa(Y,se,re){return se===se?L5(Y,se,re):af(Y,Hx,re)}function S5(Y,se,re,Pe){for(var ze=re-1,pt=Y.length;++ze<pt;)if(Pe(Y[ze],se))return ze;return-1}function Hx(Y){return Y!==Y}function Gx(Y,se){var re=Y==null?0:Y.length;return re?Gg(Y,se)/re:U}function Yg(Y){return function(se){return se==null?t:se[Y]}}function Hg(Y){return function(se){return Y==null?t:Y[se]}}function Ux(Y,se,re,Pe,ze){return ze(Y,function(pt,nn,wt){re=Pe?(Pe=!1,pt):se(re,pt,nn,wt)}),re}function w5(Y,se){var re=Y.length;for(Y.sort(se);re--;)Y[re]=Y[re].value;return Y}function Gg(Y,se){for(var re,Pe=-1,ze=Y.length;++Pe<ze;){var pt=se(Y[Pe]);pt!==t&&(re=re===t?pt:re+pt)}return re}function Ug(Y,se){for(var re=-1,Pe=Array(Y);++re<Y;)Pe[re]=se(re);return Pe}function k5(Y,se){return Mt(se,function(re){return[re,Y[re]]})}function Kx(Y){return Y&&Y.slice(0,nv(Y)+1).replace(zo,"")}function lr(Y){return function(se){return Y(se)}}function Kg(Y,se){return Mt(se,function(re){return Y[re]})}function iu(Y,se){return Y.has(se)}function Jx(Y,se){for(var re=-1,Pe=Y.length;++re<Pe&&aa(se,Y[re],0)>-1;);return re}function ev(Y,se){for(var re=Y.length;re--&&aa(se,Y[re],0)>-1;);return re}function T5(Y,se){for(var re=Y.length,Pe=0;re--;)Y[re]===se&&++Pe;return Pe}var C5=Hg(S),P5=Hg(L);function Q5(Y){return"\\"+ie[Y]}function $5(Y,se){return Y==null?t:Y[se]}function ca(Y){return oa.test(Y)}function A5(Y){return Cr.test(Y)}function R5(Y){for(var se,re=[];!(se=Y.next()).done;)re.push(se.value);return re}function Jg(Y){var se=-1,re=Array(Y.size);return Y.forEach(function(Pe,ze){re[++se]=[ze,Pe]}),re}function tv(Y,se){return function(re){return Y(se(re))}}function Us(Y,se){for(var re=-1,Pe=Y.length,ze=0,pt=[];++re<Pe;){var nn=Y[re];(nn===se||nn===h)&&(Y[re]=h,pt[ze++]=re)}return pt}function cf(Y){var se=-1,re=Array(Y.size);return Y.forEach(function(Pe){re[++se]=Pe}),re}function E5(Y){var se=-1,re=Array(Y.size);return Y.forEach(function(Pe){re[++se]=[Pe,Pe]}),re}function L5(Y,se,re){for(var Pe=re-1,ze=Y.length;++Pe<ze;)if(Y[Pe]===se)return Pe;return-1}function _5(Y,se,re){for(var Pe=re+1;Pe--;)if(Y[Pe]===se)return Pe;return Pe}function ua(Y){return ca(Y)?N5(Y):x5(Y)}function Jr(Y){return ca(Y)?B5(Y):v5(Y)}function nv(Y){for(var se=Y.length;se--&&Wl.test(Y.charAt(se)););return se}var M5=Hg(X);function N5(Y){for(var se=Ys.lastIndex=0;Ys.test(Y);)++se;return se}function B5(Y){return Y.match(Ys)||[]}function I5(Y){return Y.match(Ho)||[]}var j5=function Y(se){se=se==null?Je:ha.defaults(Je.Object(),se,ha.pick(Je,la));var re=se.Array,Pe=se.Date,ze=se.Error,pt=se.Function,nn=se.Math,wt=se.Object,em=se.RegExp,D5=se.String,$r=se.TypeError,uf=re.prototype,Z5=pt.prototype,fa=wt.prototype,hf=se["__core-js_shared__"],ff=Z5.toString,yt=fa.hasOwnProperty,z5=0,rv=function(){var c=/[^.]+$/.exec(hf&&hf.keys&&hf.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}(),df=fa.toString,q5=ff.call(wt),X5=Je._,V5=em("^"+ff.call(yt).replace(Zo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pf=hn?se.Buffer:t,Ks=se.Symbol,gf=se.Uint8Array,iv=pf?pf.allocUnsafe:t,mf=tv(wt.getPrototypeOf,wt),sv=wt.create,ov=fa.propertyIsEnumerable,Of=uf.splice,lv=Ks?Ks.isConcatSpreadable:t,su=Ks?Ks.iterator:t,Ko=Ks?Ks.toStringTag:t,bf=function(){try{var c=rl(wt,"defineProperty");return c({},"",{}),c}catch{}}(),W5=se.clearTimeout!==Je.clearTimeout&&se.clearTimeout,F5=Pe&&Pe.now!==Je.Date.now&&Pe.now,Y5=se.setTimeout!==Je.setTimeout&&se.setTimeout,xf=nn.ceil,vf=nn.floor,tm=wt.getOwnPropertySymbols,H5=pf?pf.isBuffer:t,av=se.isFinite,G5=uf.join,U5=tv(wt.keys,wt),rn=nn.max,kn=nn.min,K5=Pe.now,J5=se.parseInt,cv=nn.random,eE=uf.reverse,nm=rl(se,"DataView"),ou=rl(se,"Map"),rm=rl(se,"Promise"),da=rl(se,"Set"),lu=rl(se,"WeakMap"),au=rl(wt,"create"),yf=lu&&new lu,pa={},tE=il(nm),nE=il(ou),rE=il(rm),iE=il(da),sE=il(lu),Sf=Ks?Ks.prototype:t,cu=Sf?Sf.valueOf:t,uv=Sf?Sf.toString:t;function A(c){if(Zt(c)&&!Ve(c)&&!(c instanceof rt)){if(c instanceof Ar)return c;if(yt.call(c,"__wrapped__"))return hy(c)}return new Ar(c)}var ga=function(){function c(){}return function(f){if(!It(f))return{};if(sv)return sv(f);c.prototype=f;var m=new c;return c.prototype=t,m}}();function wf(){}function Ar(c,f){this.__wrapped__=c,this.__actions__=[],this.__chain__=!!f,this.__index__=0,this.__values__=t}A.templateSettings={escape:jo,evaluate:Do,interpolate:zs,variable:"",imports:{_:A}},A.prototype=wf.prototype,A.prototype.constructor=A,Ar.prototype=ga(wf.prototype),Ar.prototype.constructor=Ar;function rt(c){this.__wrapped__=c,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=oe,this.__views__=[]}function oE(){var c=new rt(this.__wrapped__);return c.__actions__=qn(this.__actions__),c.__dir__=this.__dir__,c.__filtered__=this.__filtered__,c.__iteratees__=qn(this.__iteratees__),c.__takeCount__=this.__takeCount__,c.__views__=qn(this.__views__),c}function lE(){if(this.__filtered__){var c=new rt(this);c.__dir__=-1,c.__filtered__=!0}else c=this.clone(),c.__dir__*=-1;return c}function aE(){var c=this.__wrapped__.value(),f=this.__dir__,m=Ve(c),y=f<0,T=m?c.length:0,M=vL(0,T,this.__views__),D=M.start,W=M.end,G=W-D,ce=y?W:D-1,ue=this.__iteratees__,pe=ue.length,we=0,Ae=kn(G,this.__takeCount__);if(!m||!y&&T==G&&Ae==G)return _v(c,this.__actions__);var Be=[];e:for(;G--&&we<Ae;){ce+=f;for(var He=-1,Ie=c[ce];++He<pe;){var et=ue[He],ot=et.iteratee,ur=et.type,Nn=ot(Ie);if(ur==I)Ie=Nn;else if(!Nn){if(ur==Q)continue e;break e}}Be[we++]=Ie}return Be}rt.prototype=ga(wf.prototype),rt.prototype.constructor=rt;function Jo(c){var f=-1,m=c==null?0:c.length;for(this.clear();++f<m;){var y=c[f];this.set(y[0],y[1])}}function cE(){this.__data__=au?au(null):{},this.size=0}function uE(c){var f=this.has(c)&&delete this.__data__[c];return this.size-=f?1:0,f}function hE(c){var f=this.__data__;if(au){var m=f[c];return m===a?t:m}return yt.call(f,c)?f[c]:t}function fE(c){var f=this.__data__;return au?f[c]!==t:yt.call(f,c)}function dE(c,f){var m=this.__data__;return this.size+=this.has(c)?0:1,m[c]=au&&f===t?a:f,this}Jo.prototype.clear=cE,Jo.prototype.delete=uE,Jo.prototype.get=hE,Jo.prototype.has=fE,Jo.prototype.set=dE;function as(c){var f=-1,m=c==null?0:c.length;for(this.clear();++f<m;){var y=c[f];this.set(y[0],y[1])}}function pE(){this.__data__=[],this.size=0}function gE(c){var f=this.__data__,m=kf(f,c);if(m<0)return!1;var y=f.length-1;return m==y?f.pop():Of.call(f,m,1),--this.size,!0}function mE(c){var f=this.__data__,m=kf(f,c);return m<0?t:f[m][1]}function OE(c){return kf(this.__data__,c)>-1}function bE(c,f){var m=this.__data__,y=kf(m,c);return y<0?(++this.size,m.push([c,f])):m[y][1]=f,this}as.prototype.clear=pE,as.prototype.delete=gE,as.prototype.get=mE,as.prototype.has=OE,as.prototype.set=bE;function cs(c){var f=-1,m=c==null?0:c.length;for(this.clear();++f<m;){var y=c[f];this.set(y[0],y[1])}}function xE(){this.size=0,this.__data__={hash:new Jo,map:new(ou||as),string:new Jo}}function vE(c){var f=Nf(this,c).delete(c);return this.size-=f?1:0,f}function yE(c){return Nf(this,c).get(c)}function SE(c){return Nf(this,c).has(c)}function wE(c,f){var m=Nf(this,c),y=m.size;return m.set(c,f),this.size+=m.size==y?0:1,this}cs.prototype.clear=xE,cs.prototype.delete=vE,cs.prototype.get=yE,cs.prototype.has=SE,cs.prototype.set=wE;function el(c){var f=-1,m=c==null?0:c.length;for(this.__data__=new cs;++f<m;)this.add(c[f])}function kE(c){return this.__data__.set(c,a),this}function TE(c){return this.__data__.has(c)}el.prototype.add=el.prototype.push=kE,el.prototype.has=TE;function ei(c){var f=this.__data__=new as(c);this.size=f.size}function CE(){this.__data__=new as,this.size=0}function PE(c){var f=this.__data__,m=f.delete(c);return this.size=f.size,m}function QE(c){return this.__data__.get(c)}function $E(c){return this.__data__.has(c)}function AE(c,f){var m=this.__data__;if(m instanceof as){var y=m.__data__;if(!ou||y.length<i-1)return y.push([c,f]),this.size=++m.size,this;m=this.__data__=new cs(y)}return m.set(c,f),this.size=m.size,this}ei.prototype.clear=CE,ei.prototype.delete=PE,ei.prototype.get=QE,ei.prototype.has=$E,ei.prototype.set=AE;function hv(c,f){var m=Ve(c),y=!m&&sl(c),T=!m&&!y&&ro(c),M=!m&&!y&&!T&&xa(c),D=m||y||T||M,W=D?Ug(c.length,D5):[],G=W.length;for(var ce in c)(f||yt.call(c,ce))&&!(D&&(ce=="length"||T&&(ce=="offset"||ce=="parent")||M&&(ce=="buffer"||ce=="byteLength"||ce=="byteOffset")||ds(ce,G)))&&W.push(ce);return W}function fv(c){var f=c.length;return f?c[pm(0,f-1)]:t}function RE(c,f){return Bf(qn(c),tl(f,0,c.length))}function EE(c){return Bf(qn(c))}function im(c,f,m){(m!==t&&!ti(c[f],m)||m===t&&!(f in c))&&us(c,f,m)}function uu(c,f,m){var y=c[f];(!(yt.call(c,f)&&ti(y,m))||m===t&&!(f in c))&&us(c,f,m)}function kf(c,f){for(var m=c.length;m--;)if(ti(c[m][0],f))return m;return-1}function LE(c,f,m,y){return Js(c,function(T,M,D){f(y,T,m(T),D)}),y}function dv(c,f){return c&&ki(f,on(f),c)}function _E(c,f){return c&&ki(f,Vn(f),c)}function us(c,f,m){f=="__proto__"&&bf?bf(c,f,{configurable:!0,enumerable:!0,value:m,writable:!0}):c[f]=m}function sm(c,f){for(var m=-1,y=f.length,T=re(y),M=c==null;++m<y;)T[m]=M?t:jm(c,f[m]);return T}function tl(c,f,m){return c===c&&(m!==t&&(c=c<=m?c:m),f!==t&&(c=c>=f?c:f)),c}function Rr(c,f,m,y,T,M){var D,W=f&d,G=f&p,ce=f&g;if(m&&(D=T?m(c,y,T,M):m(c)),D!==t)return D;if(!It(c))return c;var ue=Ve(c);if(ue){if(D=SL(c),!W)return qn(c,D)}else{var pe=Tn(c),we=pe==Se||pe==me;if(ro(c))return Bv(c,W);if(pe==bt||pe==ne||we&&!T){if(D=G||we?{}:ny(c),!W)return G?hL(c,_E(D,c)):uL(c,dv(D,c))}else{if(!mt[pe])return T?c:{};D=wL(c,pe,W)}}M||(M=new ei);var Ae=M.get(c);if(Ae)return Ae;M.set(c,D),Ry(c)?c.forEach(function(Ie){D.add(Rr(Ie,f,m,Ie,c,M))}):$y(c)&&c.forEach(function(Ie,et){D.set(et,Rr(Ie,f,m,et,c,M))});var Be=ce?G?Tm:km:G?Vn:on,He=ue?t:Be(c);return Qr(He||c,function(Ie,et){He&&(et=Ie,Ie=c[et]),uu(D,et,Rr(Ie,f,m,et,c,M))}),D}function ME(c){var f=on(c);return function(m){return pv(m,c,f)}}function pv(c,f,m){var y=m.length;if(c==null)return!y;for(c=wt(c);y--;){var T=m[y],M=f[T],D=c[T];if(D===t&&!(T in c)||!M(D))return!1}return!0}function gv(c,f,m){if(typeof c!="function")throw new $r(o);return Ou(function(){c.apply(t,m)},f)}function hu(c,f,m,y){var T=-1,M=lf,D=!0,W=c.length,G=[],ce=f.length;if(!W)return G;m&&(f=Mt(f,lr(m))),y?(M=Vg,D=!1):f.length>=i&&(M=iu,D=!1,f=new el(f));e:for(;++T<W;){var ue=c[T],pe=m==null?ue:m(ue);if(ue=y||ue!==0?ue:0,D&&pe===pe){for(var we=ce;we--;)if(f[we]===pe)continue e;G.push(ue)}else M(f,pe,y)||G.push(ue)}return G}var Js=zv(wi),mv=zv(lm,!0);function NE(c,f){var m=!0;return Js(c,function(y,T,M){return m=!!f(y,T,M),m}),m}function Tf(c,f,m){for(var y=-1,T=c.length;++y<T;){var M=c[y],D=f(M);if(D!=null&&(W===t?D===D&&!cr(D):m(D,W)))var W=D,G=M}return G}function BE(c,f,m,y){var T=c.length;for(m=Ye(m),m<0&&(m=-m>T?0:T+m),y=y===t||y>T?T:Ye(y),y<0&&(y+=T),y=m>y?0:Ly(y);m<y;)c[m++]=f;return c}function Ov(c,f){var m=[];return Js(c,function(y,T,M){f(y,T,M)&&m.push(y)}),m}function fn(c,f,m,y,T){var M=-1,D=c.length;for(m||(m=TL),T||(T=[]);++M<D;){var W=c[M];f>0&&m(W)?f>1?fn(W,f-1,m,y,T):Gs(T,W):y||(T[T.length]=W)}return T}var om=qv(),bv=qv(!0);function wi(c,f){return c&&om(c,f,on)}function lm(c,f){return c&&bv(c,f,on)}function Cf(c,f){return Hs(f,function(m){return ps(c[m])})}function nl(c,f){f=to(f,c);for(var m=0,y=f.length;c!=null&&m<y;)c=c[Ti(f[m++])];return m&&m==y?c:t}function xv(c,f,m){var y=f(c);return Ve(c)?y:Gs(y,m(c))}function _n(c){return c==null?c===t?Sr:gt:Ko&&Ko in wt(c)?xL(c):EL(c)}function am(c,f){return c>f}function IE(c,f){return c!=null&&yt.call(c,f)}function jE(c,f){return c!=null&&f in wt(c)}function DE(c,f,m){return c>=kn(f,m)&&c<rn(f,m)}function cm(c,f,m){for(var y=m?Vg:lf,T=c[0].length,M=c.length,D=M,W=re(M),G=1/0,ce=[];D--;){var ue=c[D];D&&f&&(ue=Mt(ue,lr(f))),G=kn(ue.length,G),W[D]=!m&&(f||T>=120&&ue.length>=120)?new el(D&&ue):t}ue=c[0];var pe=-1,we=W[0];e:for(;++pe<T&&ce.length<G;){var Ae=ue[pe],Be=f?f(Ae):Ae;if(Ae=m||Ae!==0?Ae:0,!(we?iu(we,Be):y(ce,Be,m))){for(D=M;--D;){var He=W[D];if(!(He?iu(He,Be):y(c[D],Be,m)))continue e}we&&we.push(Be),ce.push(Ae)}}return ce}function ZE(c,f,m,y){return wi(c,function(T,M,D){f(y,m(T),M,D)}),y}function fu(c,f,m){f=to(f,c),c=oy(c,f);var y=c==null?c:c[Ti(Lr(f))];return y==null?t:sn(y,c,m)}function vv(c){return Zt(c)&&_n(c)==ne}function zE(c){return Zt(c)&&_n(c)==rr}function qE(c){return Zt(c)&&_n(c)==ke}function du(c,f,m,y,T){return c===f?!0:c==null||f==null||!Zt(c)&&!Zt(f)?c!==c&&f!==f:XE(c,f,m,y,du,T)}function XE(c,f,m,y,T,M){var D=Ve(c),W=Ve(f),G=D?he:Tn(c),ce=W?he:Tn(f);G=G==ne?bt:G,ce=ce==ne?bt:ce;var ue=G==bt,pe=ce==bt,we=G==ce;if(we&&ro(c)){if(!ro(f))return!1;D=!0,ue=!1}if(we&&!ue)return M||(M=new ei),D||xa(c)?Jv(c,f,m,y,T,M):OL(c,f,G,m,y,T,M);if(!(m&b)){var Ae=ue&&yt.call(c,"__wrapped__"),Be=pe&&yt.call(f,"__wrapped__");if(Ae||Be){var He=Ae?c.value():c,Ie=Be?f.value():f;return M||(M=new ei),T(He,Ie,m,y,M)}}return we?(M||(M=new ei),bL(c,f,m,y,T,M)):!1}function VE(c){return Zt(c)&&Tn(c)==be}function um(c,f,m,y){var T=m.length,M=T,D=!y;if(c==null)return!M;for(c=wt(c);T--;){var W=m[T];if(D&&W[2]?W[1]!==c[W[0]]:!(W[0]in c))return!1}for(;++T<M;){W=m[T];var G=W[0],ce=c[G],ue=W[1];if(D&&W[2]){if(ce===t&&!(G in c))return!1}else{var pe=new ei;if(y)var we=y(ce,ue,G,c,f,pe);if(!(we===t?du(ue,ce,b|x,y,pe):we))return!1}}return!0}function yv(c){if(!It(c)||PL(c))return!1;var f=ps(c)?V5:Vc;return f.test(il(c))}function WE(c){return Zt(c)&&_n(c)==nt}function FE(c){return Zt(c)&&Tn(c)==ut}function YE(c){return Zt(c)&&qf(c.length)&&!!xt[_n(c)]}function Sv(c){return typeof c=="function"?c:c==null?Wn:typeof c=="object"?Ve(c)?Tv(c[0],c[1]):kv(c):Xy(c)}function hm(c){if(!mu(c))return U5(c);var f=[];for(var m in wt(c))yt.call(c,m)&&m!="constructor"&&f.push(m);return f}function HE(c){if(!It(c))return RL(c);var f=mu(c),m=[];for(var y in c)y=="constructor"&&(f||!yt.call(c,y))||m.push(y);return m}function fm(c,f){return c<f}function wv(c,f){var m=-1,y=Xn(c)?re(c.length):[];return Js(c,function(T,M,D){y[++m]=f(T,M,D)}),y}function kv(c){var f=Pm(c);return f.length==1&&f[0][2]?iy(f[0][0],f[0][1]):function(m){return m===c||um(m,c,f)}}function Tv(c,f){return $m(c)&&ry(f)?iy(Ti(c),f):function(m){var y=jm(m,c);return y===t&&y===f?Dm(m,c):du(f,y,b|x)}}function Pf(c,f,m,y,T){c!==f&&om(f,function(M,D){if(T||(T=new ei),It(M))GE(c,f,D,m,Pf,y,T);else{var W=y?y(Rm(c,D),M,D+"",c,f,T):t;W===t&&(W=M),im(c,D,W)}},Vn)}function GE(c,f,m,y,T,M,D){var W=Rm(c,m),G=Rm(f,m),ce=D.get(G);if(ce){im(c,m,ce);return}var ue=M?M(W,G,m+"",c,f,D):t,pe=ue===t;if(pe){var we=Ve(G),Ae=!we&&ro(G),Be=!we&&!Ae&&xa(G);ue=G,we||Ae||Be?Ve(W)?ue=W:Xt(W)?ue=qn(W):Ae?(pe=!1,ue=Bv(G,!0)):Be?(pe=!1,ue=Iv(G,!0)):ue=[]:bu(G)||sl(G)?(ue=W,sl(W)?ue=_y(W):(!It(W)||ps(W))&&(ue=ny(G))):pe=!1}pe&&(D.set(G,ue),T(ue,G,y,M,D),D.delete(G)),im(c,m,ue)}function Cv(c,f){var m=c.length;if(m)return f+=f<0?m:0,ds(f,m)?c[f]:t}function Pv(c,f,m){f.length?f=Mt(f,function(M){return Ve(M)?function(D){return nl(D,M.length===1?M[0]:M)}:M}):f=[Wn];var y=-1;f=Mt(f,lr(Ne()));var T=wv(c,function(M,D,W){var G=Mt(f,function(ce){return ce(M)});return{criteria:G,index:++y,value:M}});return w5(T,function(M,D){return cL(M,D,m)})}function UE(c,f){return Qv(c,f,function(m,y){return Dm(c,y)})}function Qv(c,f,m){for(var y=-1,T=f.length,M={};++y<T;){var D=f[y],W=nl(c,D);m(W,D)&&pu(M,to(D,c),W)}return M}function KE(c){return function(f){return nl(f,c)}}function dm(c,f,m,y){var T=y?S5:aa,M=-1,D=f.length,W=c;for(c===f&&(f=qn(f)),m&&(W=Mt(c,lr(m)));++M<D;)for(var G=0,ce=f[M],ue=m?m(ce):ce;(G=T(W,ue,G,y))>-1;)W!==c&&Of.call(W,G,1),Of.call(c,G,1);return c}function $v(c,f){for(var m=c?f.length:0,y=m-1;m--;){var T=f[m];if(m==y||T!==M){var M=T;ds(T)?Of.call(c,T,1):Om(c,T)}}return c}function pm(c,f){return c+vf(cv()*(f-c+1))}function JE(c,f,m,y){for(var T=-1,M=rn(xf((f-c)/(m||1)),0),D=re(M);M--;)D[y?M:++T]=c,c+=m;return D}function gm(c,f){var m="";if(!c||f<1||f>V)return m;do f%2&&(m+=c),f=vf(f/2),f&&(c+=c);while(f);return m}function Ke(c,f){return Em(sy(c,f,Wn),c+"")}function eL(c){return fv(va(c))}function tL(c,f){var m=va(c);return Bf(m,tl(f,0,m.length))}function pu(c,f,m,y){if(!It(c))return c;f=to(f,c);for(var T=-1,M=f.length,D=M-1,W=c;W!=null&&++T<M;){var G=Ti(f[T]),ce=m;if(G==="__proto__"||G==="constructor"||G==="prototype")return c;if(T!=D){var ue=W[G];ce=y?y(ue,G,W):t,ce===t&&(ce=It(ue)?ue:ds(f[T+1])?[]:{})}uu(W,G,ce),W=W[G]}return c}var Av=yf?function(c,f){return yf.set(c,f),c}:Wn,nL=bf?function(c,f){return bf(c,"toString",{configurable:!0,enumerable:!1,value:zm(f),writable:!0})}:Wn;function rL(c){return Bf(va(c))}function Er(c,f,m){var y=-1,T=c.length;f<0&&(f=-f>T?0:T+f),m=m>T?T:m,m<0&&(m+=T),T=f>m?0:m-f>>>0,f>>>=0;for(var M=re(T);++y<T;)M[y]=c[y+f];return M}function iL(c,f){var m;return Js(c,function(y,T,M){return m=f(y,T,M),!m}),!!m}function Qf(c,f,m){var y=0,T=c==null?y:c.length;if(typeof f=="number"&&f===f&&T<=ee){for(;y<T;){var M=y+T>>>1,D=c[M];D!==null&&!cr(D)&&(m?D<=f:D<f)?y=M+1:T=M}return T}return mm(c,f,Wn,m)}function mm(c,f,m,y){var T=0,M=c==null?0:c.length;if(M===0)return 0;f=m(f);for(var D=f!==f,W=f===null,G=cr(f),ce=f===t;T<M;){var ue=vf((T+M)/2),pe=m(c[ue]),we=pe!==t,Ae=pe===null,Be=pe===pe,He=cr(pe);if(D)var Ie=y||Be;else ce?Ie=Be&&(y||we):W?Ie=Be&&we&&(y||!Ae):G?Ie=Be&&we&&!Ae&&(y||!He):Ae||He?Ie=!1:Ie=y?pe<=f:pe<f;Ie?T=ue+1:M=ue}return kn(M,J)}function Rv(c,f){for(var m=-1,y=c.length,T=0,M=[];++m<y;){var D=c[m],W=f?f(D):D;if(!m||!ti(W,G)){var G=W;M[T++]=D===0?0:D}}return M}function Ev(c){return typeof c=="number"?c:cr(c)?U:+c}function ar(c){if(typeof c=="string")return c;if(Ve(c))return Mt(c,ar)+"";if(cr(c))return uv?uv.call(c):"";var f=c+"";return f=="0"&&1/c==-q?"-0":f}function eo(c,f,m){var y=-1,T=lf,M=c.length,D=!0,W=[],G=W;if(m)D=!1,T=Vg;else if(M>=i){var ce=f?null:gL(c);if(ce)return cf(ce);D=!1,T=iu,G=new el}else G=f?[]:W;e:for(;++y<M;){var ue=c[y],pe=f?f(ue):ue;if(ue=m||ue!==0?ue:0,D&&pe===pe){for(var we=G.length;we--;)if(G[we]===pe)continue e;f&&G.push(pe),W.push(ue)}else T(G,pe,m)||(G!==W&&G.push(pe),W.push(ue))}return W}function Om(c,f){return f=to(f,c),c=oy(c,f),c==null||delete c[Ti(Lr(f))]}function Lv(c,f,m,y){return pu(c,f,m(nl(c,f)),y)}function $f(c,f,m,y){for(var T=c.length,M=y?T:-1;(y?M--:++M<T)&&f(c[M],M,c););return m?Er(c,y?0:M,y?M+1:T):Er(c,y?M+1:0,y?T:M)}function _v(c,f){var m=c;return m instanceof rt&&(m=m.value()),Wg(f,function(y,T){return T.func.apply(T.thisArg,Gs([y],T.args))},m)}function bm(c,f,m){var y=c.length;if(y<2)return y?eo(c[0]):[];for(var T=-1,M=re(y);++T<y;)for(var D=c[T],W=-1;++W<y;)W!=T&&(M[T]=hu(M[T]||D,c[W],f,m));return eo(fn(M,1),f,m)}function Mv(c,f,m){for(var y=-1,T=c.length,M=f.length,D={};++y<T;){var W=y<M?f[y]:t;m(D,c[y],W)}return D}function xm(c){return Xt(c)?c:[]}function vm(c){return typeof c=="function"?c:Wn}function to(c,f){return Ve(c)?c:$m(c,f)?[c]:uy(Ot(c))}var sL=Ke;function no(c,f,m){var y=c.length;return m=m===t?y:m,!f&&m>=y?c:Er(c,f,m)}var Nv=W5||function(c){return Je.clearTimeout(c)};function Bv(c,f){if(f)return c.slice();var m=c.length,y=iv?iv(m):new c.constructor(m);return c.copy(y),y}function ym(c){var f=new c.constructor(c.byteLength);return new gf(f).set(new gf(c)),f}function oL(c,f){var m=f?ym(c.buffer):c.buffer;return new c.constructor(m,c.byteOffset,c.byteLength)}function lL(c){var f=new c.constructor(c.source,tn.exec(c));return f.lastIndex=c.lastIndex,f}function aL(c){return cu?wt(cu.call(c)):{}}function Iv(c,f){var m=f?ym(c.buffer):c.buffer;return new c.constructor(m,c.byteOffset,c.length)}function jv(c,f){if(c!==f){var m=c!==t,y=c===null,T=c===c,M=cr(c),D=f!==t,W=f===null,G=f===f,ce=cr(f);if(!W&&!ce&&!M&&c>f||M&&D&&G&&!W&&!ce||y&&D&&G||!m&&G||!T)return 1;if(!y&&!M&&!ce&&c<f||ce&&m&&T&&!y&&!M||W&&m&&T||!D&&T||!G)return-1}return 0}function cL(c,f,m){for(var y=-1,T=c.criteria,M=f.criteria,D=T.length,W=m.length;++y<D;){var G=jv(T[y],M[y]);if(G){if(y>=W)return G;var ce=m[y];return G*(ce=="desc"?-1:1)}}return c.index-f.index}function Dv(c,f,m,y){for(var T=-1,M=c.length,D=m.length,W=-1,G=f.length,ce=rn(M-D,0),ue=re(G+ce),pe=!y;++W<G;)ue[W]=f[W];for(;++T<D;)(pe||T<M)&&(ue[m[T]]=c[T]);for(;ce--;)ue[W++]=c[T++];return ue}function Zv(c,f,m,y){for(var T=-1,M=c.length,D=-1,W=m.length,G=-1,ce=f.length,ue=rn(M-W,0),pe=re(ue+ce),we=!y;++T<ue;)pe[T]=c[T];for(var Ae=T;++G<ce;)pe[Ae+G]=f[G];for(;++D<W;)(we||T<M)&&(pe[Ae+m[D]]=c[T++]);return pe}function qn(c,f){var m=-1,y=c.length;for(f||(f=re(y));++m<y;)f[m]=c[m];return f}function ki(c,f,m,y){var T=!m;m||(m={});for(var M=-1,D=f.length;++M<D;){var W=f[M],G=y?y(m[W],c[W],W,m,c):t;G===t&&(G=c[W]),T?us(m,W,G):uu(m,W,G)}return m}function uL(c,f){return ki(c,Qm(c),f)}function hL(c,f){return ki(c,ey(c),f)}function Af(c,f){return function(m,y){var T=Ve(m)?m5:LE,M=f?f():{};return T(m,c,Ne(y,2),M)}}function ma(c){return Ke(function(f,m){var y=-1,T=m.length,M=T>1?m[T-1]:t,D=T>2?m[2]:t;for(M=c.length>3&&typeof M=="function"?(T--,M):t,D&&Mn(m[0],m[1],D)&&(M=T<3?t:M,T=1),f=wt(f);++y<T;){var W=m[y];W&&c(f,W,y,M)}return f})}function zv(c,f){return function(m,y){if(m==null)return m;if(!Xn(m))return c(m,y);for(var T=m.length,M=f?T:-1,D=wt(m);(f?M--:++M<T)&&y(D[M],M,D)!==!1;);return m}}function qv(c){return function(f,m,y){for(var T=-1,M=wt(f),D=y(f),W=D.length;W--;){var G=D[c?W:++T];if(m(M[G],G,M)===!1)break}return f}}function fL(c,f,m){var y=f&v,T=gu(c);function M(){var D=this&&this!==Je&&this instanceof M?T:c;return D.apply(y?m:this,arguments)}return M}function Xv(c){return function(f){f=Ot(f);var m=ca(f)?Jr(f):t,y=m?m[0]:f.charAt(0),T=m?no(m,1).join(""):f.slice(1);return y[c]()+T}}function Oa(c){return function(f){return Wg(zy(Zy(f).replace(Fs,"")),c,"")}}function gu(c){return function(){var f=arguments;switch(f.length){case 0:return new c;case 1:return new c(f[0]);case 2:return new c(f[0],f[1]);case 3:return new c(f[0],f[1],f[2]);case 4:return new c(f[0],f[1],f[2],f[3]);case 5:return new c(f[0],f[1],f[2],f[3],f[4]);case 6:return new c(f[0],f[1],f[2],f[3],f[4],f[5]);case 7:return new c(f[0],f[1],f[2],f[3],f[4],f[5],f[6])}var m=ga(c.prototype),y=c.apply(m,f);return It(y)?y:m}}function dL(c,f,m){var y=gu(c);function T(){for(var M=arguments.length,D=re(M),W=M,G=ba(T);W--;)D[W]=arguments[W];var ce=M<3&&D[0]!==G&&D[M-1]!==G?[]:Us(D,G);if(M-=ce.length,M<m)return Hv(c,f,Rf,T.placeholder,t,D,ce,t,t,m-M);var ue=this&&this!==Je&&this instanceof T?y:c;return sn(ue,this,D)}return T}function Vv(c){return function(f,m,y){var T=wt(f);if(!Xn(f)){var M=Ne(m,3);f=on(f),m=function(W){return M(T[W],W,T)}}var D=c(f,m,y);return D>-1?T[M?f[D]:D]:t}}function Wv(c){return fs(function(f){var m=f.length,y=m,T=Ar.prototype.thru;for(c&&f.reverse();y--;){var M=f[y];if(typeof M!="function")throw new $r(o);if(T&&!D&&Mf(M)=="wrapper")var D=new Ar([],!0)}for(y=D?y:m;++y<m;){M=f[y];var W=Mf(M),G=W=="wrapper"?Cm(M):t;G&&Am(G[0])&&G[1]==(Z|$|N|H)&&!G[4].length&&G[9]==1?D=D[Mf(G[0])].apply(D,G[3]):D=M.length==1&&Am(M)?D[W]():D.thru(M)}return function(){var ce=arguments,ue=ce[0];if(D&&ce.length==1&&Ve(ue))return D.plant(ue).value();for(var pe=0,we=m?f[pe].apply(this,ce):ue;++pe<m;)we=f[pe].call(this,we);return we}})}function Rf(c,f,m,y,T,M,D,W,G,ce){var ue=f&Z,pe=f&v,we=f&w,Ae=f&($|B),Be=f&te,He=we?t:gu(c);function Ie(){for(var et=arguments.length,ot=re(et),ur=et;ur--;)ot[ur]=arguments[ur];if(Ae)var Nn=ba(Ie),hr=T5(ot,Nn);if(y&&(ot=Dv(ot,y,T,Ae)),M&&(ot=Zv(ot,M,D,Ae)),et-=hr,Ae&&et<ce){var Vt=Us(ot,Nn);return Hv(c,f,Rf,Ie.placeholder,m,ot,Vt,W,G,ce-et)}var ni=pe?m:this,ms=we?ni[c]:c;return et=ot.length,W?ot=LL(ot,W):Be&&et>1&&ot.reverse(),ue&&G<et&&(ot.length=G),this&&this!==Je&&this instanceof Ie&&(ms=He||gu(ms)),ms.apply(ni,ot)}return Ie}function Fv(c,f){return function(m,y){return ZE(m,c,f(y),{})}}function Ef(c,f){return function(m,y){var T;if(m===t&&y===t)return f;if(m!==t&&(T=m),y!==t){if(T===t)return y;typeof m=="string"||typeof y=="string"?(m=ar(m),y=ar(y)):(m=Ev(m),y=Ev(y)),T=c(m,y)}return T}}function Sm(c){return fs(function(f){return f=Mt(f,lr(Ne())),Ke(function(m){var y=this;return c(f,function(T){return sn(T,y,m)})})})}function Lf(c,f){f=f===t?" ":ar(f);var m=f.length;if(m<2)return m?gm(f,c):f;var y=gm(f,xf(c/ua(f)));return ca(f)?no(Jr(y),0,c).join(""):y.slice(0,c)}function pL(c,f,m,y){var T=f&v,M=gu(c);function D(){for(var W=-1,G=arguments.length,ce=-1,ue=y.length,pe=re(ue+G),we=this&&this!==Je&&this instanceof D?M:c;++ce<ue;)pe[ce]=y[ce];for(;G--;)pe[ce++]=arguments[++W];return sn(we,T?m:this,pe)}return D}function Yv(c){return function(f,m,y){return y&&typeof y!="number"&&Mn(f,m,y)&&(m=y=t),f=gs(f),m===t?(m=f,f=0):m=gs(m),y=y===t?f<m?1:-1:gs(y),JE(f,m,y,c)}}function _f(c){return function(f,m){return typeof f=="string"&&typeof m=="string"||(f=_r(f),m=_r(m)),c(f,m)}}function Hv(c,f,m,y,T,M,D,W,G,ce){var ue=f&$,pe=ue?D:t,we=ue?t:D,Ae=ue?M:t,Be=ue?t:M;f|=ue?N:z,f&=~(ue?z:N),f&k||(f&=-4);var He=[c,f,T,Ae,pe,Be,we,W,G,ce],Ie=m.apply(t,He);return Am(c)&&ly(Ie,He),Ie.placeholder=y,ay(Ie,c,f)}function wm(c){var f=nn[c];return function(m,y){if(m=_r(m),y=y==null?0:kn(Ye(y),292),y&&av(m)){var T=(Ot(m)+"e").split("e"),M=f(T[0]+"e"+(+T[1]+y));return T=(Ot(M)+"e").split("e"),+(T[0]+"e"+(+T[1]-y))}return f(m)}}var gL=da&&1/cf(new da([,-0]))[1]==q?function(c){return new da(c)}:Vm;function Gv(c){return function(f){var m=Tn(f);return m==be?Jg(f):m==ut?E5(f):k5(f,c(f))}}function hs(c,f,m,y,T,M,D,W){var G=f&w;if(!G&&typeof c!="function")throw new $r(o);var ce=y?y.length:0;if(ce||(f&=-97,y=T=t),D=D===t?D:rn(Ye(D),0),W=W===t?W:Ye(W),ce-=T?T.length:0,f&z){var ue=y,pe=T;y=T=t}var we=G?t:Cm(c),Ae=[c,f,m,y,T,ue,pe,M,D,W];if(we&&AL(Ae,we),c=Ae[0],f=Ae[1],m=Ae[2],y=Ae[3],T=Ae[4],W=Ae[9]=Ae[9]===t?G?0:c.length:rn(Ae[9]-ce,0),!W&&f&($|B)&&(f&=-25),!f||f==v)var Be=fL(c,f,m);else f==$||f==B?Be=dL(c,f,W):(f==N||f==(v|N))&&!T.length?Be=pL(c,f,m,y):Be=Rf.apply(t,Ae);var He=we?Av:ly;return ay(He(Be,Ae),c,f)}function Uv(c,f,m,y){return c===t||ti(c,fa[m])&&!yt.call(y,m)?f:c}function Kv(c,f,m,y,T,M){return It(c)&&It(f)&&(M.set(f,c),Pf(c,f,t,Kv,M),M.delete(f)),c}function mL(c){return bu(c)?t:c}function Jv(c,f,m,y,T,M){var D=m&b,W=c.length,G=f.length;if(W!=G&&!(D&&G>W))return!1;var ce=M.get(c),ue=M.get(f);if(ce&&ue)return ce==f&&ue==c;var pe=-1,we=!0,Ae=m&x?new el:t;for(M.set(c,f),M.set(f,c);++pe<W;){var Be=c[pe],He=f[pe];if(y)var Ie=D?y(He,Be,pe,f,c,M):y(Be,He,pe,c,f,M);if(Ie!==t){if(Ie)continue;we=!1;break}if(Ae){if(!Fg(f,function(et,ot){if(!iu(Ae,ot)&&(Be===et||T(Be,et,m,y,M)))return Ae.push(ot)})){we=!1;break}}else if(!(Be===He||T(Be,He,m,y,M))){we=!1;break}}return M.delete(c),M.delete(f),we}function OL(c,f,m,y,T,M,D){switch(m){case ir:if(c.byteLength!=f.byteLength||c.byteOffset!=f.byteOffset)return!1;c=c.buffer,f=f.buffer;case rr:return!(c.byteLength!=f.byteLength||!M(new gf(c),new gf(f)));case ge:case ke:case De:return ti(+c,+f);case Oe:return c.name==f.name&&c.message==f.message;case nt:case vn:return c==f+"";case be:var W=Jg;case ut:var G=y&b;if(W||(W=cf),c.size!=f.size&&!G)return!1;var ce=D.get(c);if(ce)return ce==f;y|=x,D.set(c,f);var ue=Jv(W(c),W(f),y,T,M,D);return D.delete(c),ue;case Hr:if(cu)return cu.call(c)==cu.call(f)}return!1}function bL(c,f,m,y,T,M){var D=m&b,W=km(c),G=W.length,ce=km(f),ue=ce.length;if(G!=ue&&!D)return!1;for(var pe=G;pe--;){var we=W[pe];if(!(D?we in f:yt.call(f,we)))return!1}var Ae=M.get(c),Be=M.get(f);if(Ae&&Be)return Ae==f&&Be==c;var He=!0;M.set(c,f),M.set(f,c);for(var Ie=D;++pe<G;){we=W[pe];var et=c[we],ot=f[we];if(y)var ur=D?y(ot,et,we,f,c,M):y(et,ot,we,c,f,M);if(!(ur===t?et===ot||T(et,ot,m,y,M):ur)){He=!1;break}Ie||(Ie=we=="constructor")}if(He&&!Ie){var Nn=c.constructor,hr=f.constructor;Nn!=hr&&"constructor"in c&&"constructor"in f&&!(typeof Nn=="function"&&Nn instanceof Nn&&typeof hr=="function"&&hr instanceof hr)&&(He=!1)}return M.delete(c),M.delete(f),He}function fs(c){return Em(sy(c,t,py),c+"")}function km(c){return xv(c,on,Qm)}function Tm(c){return xv(c,Vn,ey)}var Cm=yf?function(c){return yf.get(c)}:Vm;function Mf(c){for(var f=c.name+"",m=pa[f],y=yt.call(pa,f)?m.length:0;y--;){var T=m[y],M=T.func;if(M==null||M==c)return T.name}return f}function ba(c){var f=yt.call(A,"placeholder")?A:c;return f.placeholder}function Ne(){var c=A.iteratee||qm;return c=c===qm?Sv:c,arguments.length?c(arguments[0],arguments[1]):c}function Nf(c,f){var m=c.__data__;return CL(f)?m[typeof f=="string"?"string":"hash"]:m.map}function Pm(c){for(var f=on(c),m=f.length;m--;){var y=f[m],T=c[y];f[m]=[y,T,ry(T)]}return f}function rl(c,f){var m=$5(c,f);return yv(m)?m:t}function xL(c){var f=yt.call(c,Ko),m=c[Ko];try{c[Ko]=t;var y=!0}catch{}var T=df.call(c);return y&&(f?c[Ko]=m:delete c[Ko]),T}var Qm=tm?function(c){return c==null?[]:(c=wt(c),Hs(tm(c),function(f){return ov.call(c,f)}))}:Wm,ey=tm?function(c){for(var f=[];c;)Gs(f,Qm(c)),c=mf(c);return f}:Wm,Tn=_n;(nm&&Tn(new nm(new ArrayBuffer(1)))!=ir||ou&&Tn(new ou)!=be||rm&&Tn(rm.resolve())!=ft||da&&Tn(new da)!=ut||lu&&Tn(new lu)!=wr)&&(Tn=function(c){var f=_n(c),m=f==bt?c.constructor:t,y=m?il(m):"";if(y)switch(y){case tE:return ir;case nE:return be;case rE:return ft;case iE:return ut;case sE:return wr}return f});function vL(c,f,m){for(var y=-1,T=m.length;++y<T;){var M=m[y],D=M.size;switch(M.type){case"drop":c+=D;break;case"dropRight":f-=D;break;case"take":f=kn(f,c+D);break;case"takeRight":c=rn(c,f-D);break}}return{start:c,end:f}}function yL(c){var f=c.match(en);return f?f[1].split(Ic):[]}function ty(c,f,m){f=to(f,c);for(var y=-1,T=f.length,M=!1;++y<T;){var D=Ti(f[y]);if(!(M=c!=null&&m(c,D)))break;c=c[D]}return M||++y!=T?M:(T=c==null?0:c.length,!!T&&qf(T)&&ds(D,T)&&(Ve(c)||sl(c)))}function SL(c){var f=c.length,m=new c.constructor(f);return f&&typeof c[0]=="string"&&yt.call(c,"index")&&(m.index=c.index,m.input=c.input),m}function ny(c){return typeof c.constructor=="function"&&!mu(c)?ga(mf(c)):{}}function wL(c,f,m){var y=c.constructor;switch(f){case rr:return ym(c);case ge:case ke:return new y(+c);case ir:return oL(c,m);case Ki:case yn:case Bs:case Is:case Bo:case Ji:case bi:case js:case xi:return Iv(c,m);case be:return new y;case De:case vn:return new y(c);case nt:return lL(c);case ut:return new y;case Hr:return aL(c)}}function kL(c,f){var m=f.length;if(!m)return c;var y=m-1;return f[y]=(m>1?"& ":"")+f[y],f=f.join(m>2?", ":" "),c.replace(qo,`{
/* [wrapped with `+f+`] */
`)}function TL(c){return Ve(c)||sl(c)||!!(lv&&c&&c[lv])}function ds(c,f){var m=typeof c;return f=f??V,!!f&&(m=="number"||m!="symbol"&&Fc.test(c))&&c>-1&&c%1==0&&c<f}function Mn(c,f,m){if(!It(m))return!1;var y=typeof f;return(y=="number"?Xn(m)&&ds(f,m.length):y=="string"&&f in m)?ti(m[f],c):!1}function $m(c,f){if(Ve(c))return!1;var m=typeof c;return m=="number"||m=="symbol"||m=="boolean"||c==null||cr(c)?!0:Vl.test(c)||!yi.test(c)||f!=null&&c in wt(f)}function CL(c){var f=typeof c;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?c!=="__proto__":c===null}function Am(c){var f=Mf(c),m=A[f];if(typeof m!="function"||!(f in rt.prototype))return!1;if(c===m)return!0;var y=Cm(m);return!!y&&c===y[0]}function PL(c){return!!rv&&rv in c}var QL=hf?ps:Fm;function mu(c){var f=c&&c.constructor,m=typeof f=="function"&&f.prototype||fa;return c===m}function ry(c){return c===c&&!It(c)}function iy(c,f){return function(m){return m==null?!1:m[c]===f&&(f!==t||c in wt(m))}}function $L(c){var f=Zf(c,function(y){return m.size===u&&m.clear(),y}),m=f.cache;return f}function AL(c,f){var m=c[1],y=f[1],T=m|y,M=T<(v|w|Z),D=y==Z&&m==$||y==Z&&m==H&&c[7].length<=f[8]||y==(Z|H)&&f[7].length<=f[8]&&m==$;if(!(M||D))return c;y&v&&(c[2]=f[2],T|=m&v?0:k);var W=f[3];if(W){var G=c[3];c[3]=G?Dv(G,W,f[4]):W,c[4]=G?Us(c[3],h):f[4]}return W=f[5],W&&(G=c[5],c[5]=G?Zv(G,W,f[6]):W,c[6]=G?Us(c[5],h):f[6]),W=f[7],W&&(c[7]=W),y&Z&&(c[8]=c[8]==null?f[8]:kn(c[8],f[8])),c[9]==null&&(c[9]=f[9]),c[0]=f[0],c[1]=T,c}function RL(c){var f=[];if(c!=null)for(var m in wt(c))f.push(m);return f}function EL(c){return df.call(c)}function sy(c,f,m){return f=rn(f===t?c.length-1:f,0),function(){for(var y=arguments,T=-1,M=rn(y.length-f,0),D=re(M);++T<M;)D[T]=y[f+T];T=-1;for(var W=re(f+1);++T<f;)W[T]=y[T];return W[f]=m(D),sn(c,this,W)}}function oy(c,f){return f.length<2?c:nl(c,Er(f,0,-1))}function LL(c,f){for(var m=c.length,y=kn(f.length,m),T=qn(c);y--;){var M=f[y];c[y]=ds(M,m)?T[M]:t}return c}function Rm(c,f){if(!(f==="constructor"&&typeof c[f]=="function")&&f!="__proto__")return c[f]}var ly=cy(Av),Ou=Y5||function(c,f){return Je.setTimeout(c,f)},Em=cy(nL);function ay(c,f,m){var y=f+"";return Em(c,kL(y,_L(yL(y),m)))}function cy(c){var f=0,m=0;return function(){var y=K5(),T=P-(y-m);if(m=y,T>0){if(++f>=E)return arguments[0]}else f=0;return c.apply(t,arguments)}}function Bf(c,f){var m=-1,y=c.length,T=y-1;for(f=f===t?y:f;++m<f;){var M=pm(m,T),D=c[M];c[M]=c[m],c[m]=D}return c.length=f,c}var uy=$L(function(c){var f=[];return c.charCodeAt(0)===46&&f.push(""),c.replace(Gr,function(m,y,T,M){f.push(T?M.replace(Zc,"$1"):y||m)}),f});function Ti(c){if(typeof c=="string"||cr(c))return c;var f=c+"";return f=="0"&&1/c==-q?"-0":f}function il(c){if(c!=null){try{return ff.call(c)}catch{}try{return c+""}catch{}}return""}function _L(c,f){return Qr(fe,function(m){var y="_."+m[0];f&m[1]&&!lf(c,y)&&c.push(y)}),c.sort()}function hy(c){if(c instanceof rt)return c.clone();var f=new Ar(c.__wrapped__,c.__chain__);return f.__actions__=qn(c.__actions__),f.__index__=c.__index__,f.__values__=c.__values__,f}function ML(c,f,m){(m?Mn(c,f,m):f===t)?f=1:f=rn(Ye(f),0);var y=c==null?0:c.length;if(!y||f<1)return[];for(var T=0,M=0,D=re(xf(y/f));T<y;)D[M++]=Er(c,T,T+=f);return D}function NL(c){for(var f=-1,m=c==null?0:c.length,y=0,T=[];++f<m;){var M=c[f];M&&(T[y++]=M)}return T}function BL(){var c=arguments.length;if(!c)return[];for(var f=re(c-1),m=arguments[0],y=c;y--;)f[y-1]=arguments[y];return Gs(Ve(m)?qn(m):[m],fn(f,1))}var IL=Ke(function(c,f){return Xt(c)?hu(c,fn(f,1,Xt,!0)):[]}),jL=Ke(function(c,f){var m=Lr(f);return Xt(m)&&(m=t),Xt(c)?hu(c,fn(f,1,Xt,!0),Ne(m,2)):[]}),DL=Ke(function(c,f){var m=Lr(f);return Xt(m)&&(m=t),Xt(c)?hu(c,fn(f,1,Xt,!0),t,m):[]});function ZL(c,f,m){var y=c==null?0:c.length;return y?(f=m||f===t?1:Ye(f),Er(c,f<0?0:f,y)):[]}function zL(c,f,m){var y=c==null?0:c.length;return y?(f=m||f===t?1:Ye(f),f=y-f,Er(c,0,f<0?0:f)):[]}function qL(c,f){return c&&c.length?$f(c,Ne(f,3),!0,!0):[]}function XL(c,f){return c&&c.length?$f(c,Ne(f,3),!0):[]}function VL(c,f,m,y){var T=c==null?0:c.length;return T?(m&&typeof m!="number"&&Mn(c,f,m)&&(m=0,y=T),BE(c,f,m,y)):[]}function fy(c,f,m){var y=c==null?0:c.length;if(!y)return-1;var T=m==null?0:Ye(m);return T<0&&(T=rn(y+T,0)),af(c,Ne(f,3),T)}function dy(c,f,m){var y=c==null?0:c.length;if(!y)return-1;var T=y-1;return m!==t&&(T=Ye(m),T=m<0?rn(y+T,0):kn(T,y-1)),af(c,Ne(f,3),T,!0)}function py(c){var f=c==null?0:c.length;return f?fn(c,1):[]}function WL(c){var f=c==null?0:c.length;return f?fn(c,q):[]}function FL(c,f){var m=c==null?0:c.length;return m?(f=f===t?1:Ye(f),fn(c,f)):[]}function YL(c){for(var f=-1,m=c==null?0:c.length,y={};++f<m;){var T=c[f];y[T[0]]=T[1]}return y}function gy(c){return c&&c.length?c[0]:t}function HL(c,f,m){var y=c==null?0:c.length;if(!y)return-1;var T=m==null?0:Ye(m);return T<0&&(T=rn(y+T,0)),aa(c,f,T)}function GL(c){var f=c==null?0:c.length;return f?Er(c,0,-1):[]}var UL=Ke(function(c){var f=Mt(c,xm);return f.length&&f[0]===c[0]?cm(f):[]}),KL=Ke(function(c){var f=Lr(c),m=Mt(c,xm);return f===Lr(m)?f=t:m.pop(),m.length&&m[0]===c[0]?cm(m,Ne(f,2)):[]}),JL=Ke(function(c){var f=Lr(c),m=Mt(c,xm);return f=typeof f=="function"?f:t,f&&m.pop(),m.length&&m[0]===c[0]?cm(m,t,f):[]});function e_(c,f){return c==null?"":G5.call(c,f)}function Lr(c){var f=c==null?0:c.length;return f?c[f-1]:t}function t_(c,f,m){var y=c==null?0:c.length;if(!y)return-1;var T=y;return m!==t&&(T=Ye(m),T=T<0?rn(y+T,0):kn(T,y-1)),f===f?_5(c,f,T):af(c,Hx,T,!0)}function n_(c,f){return c&&c.length?Cv(c,Ye(f)):t}var r_=Ke(my);function my(c,f){return c&&c.length&&f&&f.length?dm(c,f):c}function i_(c,f,m){return c&&c.length&&f&&f.length?dm(c,f,Ne(m,2)):c}function s_(c,f,m){return c&&c.length&&f&&f.length?dm(c,f,t,m):c}var o_=fs(function(c,f){var m=c==null?0:c.length,y=sm(c,f);return $v(c,Mt(f,function(T){return ds(T,m)?+T:T}).sort(jv)),y});function l_(c,f){var m=[];if(!(c&&c.length))return m;var y=-1,T=[],M=c.length;for(f=Ne(f,3);++y<M;){var D=c[y];f(D,y,c)&&(m.push(D),T.push(y))}return $v(c,T),m}function Lm(c){return c==null?c:eE.call(c)}function a_(c,f,m){var y=c==null?0:c.length;return y?(m&&typeof m!="number"&&Mn(c,f,m)?(f=0,m=y):(f=f==null?0:Ye(f),m=m===t?y:Ye(m)),Er(c,f,m)):[]}function c_(c,f){return Qf(c,f)}function u_(c,f,m){return mm(c,f,Ne(m,2))}function h_(c,f){var m=c==null?0:c.length;if(m){var y=Qf(c,f);if(y<m&&ti(c[y],f))return y}return-1}function f_(c,f){return Qf(c,f,!0)}function d_(c,f,m){return mm(c,f,Ne(m,2),!0)}function p_(c,f){var m=c==null?0:c.length;if(m){var y=Qf(c,f,!0)-1;if(ti(c[y],f))return y}return-1}function g_(c){return c&&c.length?Rv(c):[]}function m_(c,f){return c&&c.length?Rv(c,Ne(f,2)):[]}function O_(c){var f=c==null?0:c.length;return f?Er(c,1,f):[]}function b_(c,f,m){return c&&c.length?(f=m||f===t?1:Ye(f),Er(c,0,f<0?0:f)):[]}function x_(c,f,m){var y=c==null?0:c.length;return y?(f=m||f===t?1:Ye(f),f=y-f,Er(c,f<0?0:f,y)):[]}function v_(c,f){return c&&c.length?$f(c,Ne(f,3),!1,!0):[]}function y_(c,f){return c&&c.length?$f(c,Ne(f,3)):[]}var S_=Ke(function(c){return eo(fn(c,1,Xt,!0))}),w_=Ke(function(c){var f=Lr(c);return Xt(f)&&(f=t),eo(fn(c,1,Xt,!0),Ne(f,2))}),k_=Ke(function(c){var f=Lr(c);return f=typeof f=="function"?f:t,eo(fn(c,1,Xt,!0),t,f)});function T_(c){return c&&c.length?eo(c):[]}function C_(c,f){return c&&c.length?eo(c,Ne(f,2)):[]}function P_(c,f){return f=typeof f=="function"?f:t,c&&c.length?eo(c,t,f):[]}function _m(c){if(!(c&&c.length))return[];var f=0;return c=Hs(c,function(m){if(Xt(m))return f=rn(m.length,f),!0}),Ug(f,function(m){return Mt(c,Yg(m))})}function Oy(c,f){if(!(c&&c.length))return[];var m=_m(c);return f==null?m:Mt(m,function(y){return sn(f,t,y)})}var Q_=Ke(function(c,f){return Xt(c)?hu(c,f):[]}),$_=Ke(function(c){return bm(Hs(c,Xt))}),A_=Ke(function(c){var f=Lr(c);return Xt(f)&&(f=t),bm(Hs(c,Xt),Ne(f,2))}),R_=Ke(function(c){var f=Lr(c);return f=typeof f=="function"?f:t,bm(Hs(c,Xt),t,f)}),E_=Ke(_m);function L_(c,f){return Mv(c||[],f||[],uu)}function __(c,f){return Mv(c||[],f||[],pu)}var M_=Ke(function(c){var f=c.length,m=f>1?c[f-1]:t;return m=typeof m=="function"?(c.pop(),m):t,Oy(c,m)});function by(c){var f=A(c);return f.__chain__=!0,f}function N_(c,f){return f(c),c}function If(c,f){return f(c)}var B_=fs(function(c){var f=c.length,m=f?c[0]:0,y=this.__wrapped__,T=function(M){return sm(M,c)};return f>1||this.__actions__.length||!(y instanceof rt)||!ds(m)?this.thru(T):(y=y.slice(m,+m+(f?1:0)),y.__actions__.push({func:If,args:[T],thisArg:t}),new Ar(y,this.__chain__).thru(function(M){return f&&!M.length&&M.push(t),M}))});function I_(){return by(this)}function j_(){return new Ar(this.value(),this.__chain__)}function D_(){this.__values__===t&&(this.__values__=Ey(this.value()));var c=this.__index__>=this.__values__.length,f=c?t:this.__values__[this.__index__++];return{done:c,value:f}}function Z_(){return this}function z_(c){for(var f,m=this;m instanceof wf;){var y=hy(m);y.__index__=0,y.__values__=t,f?T.__wrapped__=y:f=y;var T=y;m=m.__wrapped__}return T.__wrapped__=c,f}function q_(){var c=this.__wrapped__;if(c instanceof rt){var f=c;return this.__actions__.length&&(f=new rt(this)),f=f.reverse(),f.__actions__.push({func:If,args:[Lm],thisArg:t}),new Ar(f,this.__chain__)}return this.thru(Lm)}function X_(){return _v(this.__wrapped__,this.__actions__)}var V_=Af(function(c,f,m){yt.call(c,m)?++c[m]:us(c,m,1)});function W_(c,f,m){var y=Ve(c)?Fx:NE;return m&&Mn(c,f,m)&&(f=t),y(c,Ne(f,3))}function F_(c,f){var m=Ve(c)?Hs:Ov;return m(c,Ne(f,3))}var Y_=Vv(fy),H_=Vv(dy);function G_(c,f){return fn(jf(c,f),1)}function U_(c,f){return fn(jf(c,f),q)}function K_(c,f,m){return m=m===t?1:Ye(m),fn(jf(c,f),m)}function xy(c,f){var m=Ve(c)?Qr:Js;return m(c,Ne(f,3))}function vy(c,f){var m=Ve(c)?O5:mv;return m(c,Ne(f,3))}var J_=Af(function(c,f,m){yt.call(c,m)?c[m].push(f):us(c,m,[f])});function e4(c,f,m,y){c=Xn(c)?c:va(c),m=m&&!y?Ye(m):0;var T=c.length;return m<0&&(m=rn(T+m,0)),Xf(c)?m<=T&&c.indexOf(f,m)>-1:!!T&&aa(c,f,m)>-1}var t4=Ke(function(c,f,m){var y=-1,T=typeof f=="function",M=Xn(c)?re(c.length):[];return Js(c,function(D){M[++y]=T?sn(f,D,m):fu(D,f,m)}),M}),n4=Af(function(c,f,m){us(c,m,f)});function jf(c,f){var m=Ve(c)?Mt:wv;return m(c,Ne(f,3))}function r4(c,f,m,y){return c==null?[]:(Ve(f)||(f=f==null?[]:[f]),m=y?t:m,Ve(m)||(m=m==null?[]:[m]),Pv(c,f,m))}var i4=Af(function(c,f,m){c[m?0:1].push(f)},function(){return[[],[]]});function s4(c,f,m){var y=Ve(c)?Wg:Ux,T=arguments.length<3;return y(c,Ne(f,4),m,T,Js)}function o4(c,f,m){var y=Ve(c)?b5:Ux,T=arguments.length<3;return y(c,Ne(f,4),m,T,mv)}function l4(c,f){var m=Ve(c)?Hs:Ov;return m(c,zf(Ne(f,3)))}function a4(c){var f=Ve(c)?fv:eL;return f(c)}function c4(c,f,m){(m?Mn(c,f,m):f===t)?f=1:f=Ye(f);var y=Ve(c)?RE:tL;return y(c,f)}function u4(c){var f=Ve(c)?EE:rL;return f(c)}function h4(c){if(c==null)return 0;if(Xn(c))return Xf(c)?ua(c):c.length;var f=Tn(c);return f==be||f==ut?c.size:hm(c).length}function f4(c,f,m){var y=Ve(c)?Fg:iL;return m&&Mn(c,f,m)&&(f=t),y(c,Ne(f,3))}var d4=Ke(function(c,f){if(c==null)return[];var m=f.length;return m>1&&Mn(c,f[0],f[1])?f=[]:m>2&&Mn(f[0],f[1],f[2])&&(f=[f[0]]),Pv(c,fn(f,1),[])}),Df=F5||function(){return Je.Date.now()};function p4(c,f){if(typeof f!="function")throw new $r(o);return c=Ye(c),function(){if(--c<1)return f.apply(this,arguments)}}function yy(c,f,m){return f=m?t:f,f=c&&f==null?c.length:f,hs(c,Z,t,t,t,t,f)}function Sy(c,f){var m;if(typeof f!="function")throw new $r(o);return c=Ye(c),function(){return--c>0&&(m=f.apply(this,arguments)),c<=1&&(f=t),m}}var Mm=Ke(function(c,f,m){var y=v;if(m.length){var T=Us(m,ba(Mm));y|=N}return hs(c,y,f,m,T)}),wy=Ke(function(c,f,m){var y=v|w;if(m.length){var T=Us(m,ba(wy));y|=N}return hs(f,y,c,m,T)});function ky(c,f,m){f=m?t:f;var y=hs(c,$,t,t,t,t,t,f);return y.placeholder=ky.placeholder,y}function Ty(c,f,m){f=m?t:f;var y=hs(c,B,t,t,t,t,t,f);return y.placeholder=Ty.placeholder,y}function Cy(c,f,m){var y,T,M,D,W,G,ce=0,ue=!1,pe=!1,we=!0;if(typeof c!="function")throw new $r(o);f=_r(f)||0,It(m)&&(ue=!!m.leading,pe="maxWait"in m,M=pe?rn(_r(m.maxWait)||0,f):M,we="trailing"in m?!!m.trailing:we);function Ae(Vt){var ni=y,ms=T;return y=T=t,ce=Vt,D=c.apply(ms,ni),D}function Be(Vt){return ce=Vt,W=Ou(et,f),ue?Ae(Vt):D}function He(Vt){var ni=Vt-G,ms=Vt-ce,Vy=f-ni;return pe?kn(Vy,M-ms):Vy}function Ie(Vt){var ni=Vt-G,ms=Vt-ce;return G===t||ni>=f||ni<0||pe&&ms>=M}function et(){var Vt=Df();if(Ie(Vt))return ot(Vt);W=Ou(et,He(Vt))}function ot(Vt){return W=t,we&&y?Ae(Vt):(y=T=t,D)}function ur(){W!==t&&Nv(W),ce=0,y=G=T=W=t}function Nn(){return W===t?D:ot(Df())}function hr(){var Vt=Df(),ni=Ie(Vt);if(y=arguments,T=this,G=Vt,ni){if(W===t)return Be(G);if(pe)return Nv(W),W=Ou(et,f),Ae(G)}return W===t&&(W=Ou(et,f)),D}return hr.cancel=ur,hr.flush=Nn,hr}var g4=Ke(function(c,f){return gv(c,1,f)}),m4=Ke(function(c,f,m){return gv(c,_r(f)||0,m)});function O4(c){return hs(c,te)}function Zf(c,f){if(typeof c!="function"||f!=null&&typeof f!="function")throw new $r(o);var m=function(){var y=arguments,T=f?f.apply(this,y):y[0],M=m.cache;if(M.has(T))return M.get(T);var D=c.apply(this,y);return m.cache=M.set(T,D)||M,D};return m.cache=new(Zf.Cache||cs),m}Zf.Cache=cs;function zf(c){if(typeof c!="function")throw new $r(o);return function(){var f=arguments;switch(f.length){case 0:return!c.call(this);case 1:return!c.call(this,f[0]);case 2:return!c.call(this,f[0],f[1]);case 3:return!c.call(this,f[0],f[1],f[2])}return!c.apply(this,f)}}function b4(c){return Sy(2,c)}var x4=sL(function(c,f){f=f.length==1&&Ve(f[0])?Mt(f[0],lr(Ne())):Mt(fn(f,1),lr(Ne()));var m=f.length;return Ke(function(y){for(var T=-1,M=kn(y.length,m);++T<M;)y[T]=f[T].call(this,y[T]);return sn(c,this,y)})}),Nm=Ke(function(c,f){var m=Us(f,ba(Nm));return hs(c,N,t,f,m)}),Py=Ke(function(c,f){var m=Us(f,ba(Py));return hs(c,z,t,f,m)}),v4=fs(function(c,f){return hs(c,H,t,t,t,f)});function y4(c,f){if(typeof c!="function")throw new $r(o);return f=f===t?f:Ye(f),Ke(c,f)}function S4(c,f){if(typeof c!="function")throw new $r(o);return f=f==null?0:rn(Ye(f),0),Ke(function(m){var y=m[f],T=no(m,0,f);return y&&Gs(T,y),sn(c,this,T)})}function w4(c,f,m){var y=!0,T=!0;if(typeof c!="function")throw new $r(o);return It(m)&&(y="leading"in m?!!m.leading:y,T="trailing"in m?!!m.trailing:T),Cy(c,f,{leading:y,maxWait:f,trailing:T})}function k4(c){return yy(c,1)}function T4(c,f){return Nm(vm(f),c)}function C4(){if(!arguments.length)return[];var c=arguments[0];return Ve(c)?c:[c]}function P4(c){return Rr(c,g)}function Q4(c,f){return f=typeof f=="function"?f:t,Rr(c,g,f)}function $4(c){return Rr(c,d|g)}function A4(c,f){return f=typeof f=="function"?f:t,Rr(c,d|g,f)}function R4(c,f){return f==null||pv(c,f,on(f))}function ti(c,f){return c===f||c!==c&&f!==f}var E4=_f(am),L4=_f(function(c,f){return c>=f}),sl=vv(function(){return arguments}())?vv:function(c){return Zt(c)&&yt.call(c,"callee")&&!ov.call(c,"callee")},Ve=re.isArray,_4=Ht?lr(Ht):zE;function Xn(c){return c!=null&&qf(c.length)&&!ps(c)}function Xt(c){return Zt(c)&&Xn(c)}function M4(c){return c===!0||c===!1||Zt(c)&&_n(c)==ge}var ro=H5||Fm,N4=Kr?lr(Kr):qE;function B4(c){return Zt(c)&&c.nodeType===1&&!bu(c)}function I4(c){if(c==null)return!0;if(Xn(c)&&(Ve(c)||typeof c=="string"||typeof c.splice=="function"||ro(c)||xa(c)||sl(c)))return!c.length;var f=Tn(c);if(f==be||f==ut)return!c.size;if(mu(c))return!hm(c).length;for(var m in c)if(yt.call(c,m))return!1;return!0}function j4(c,f){return du(c,f)}function D4(c,f,m){m=typeof m=="function"?m:t;var y=m?m(c,f):t;return y===t?du(c,f,t,m):!!y}function Bm(c){if(!Zt(c))return!1;var f=_n(c);return f==Oe||f==Ee||typeof c.message=="string"&&typeof c.name=="string"&&!bu(c)}function Z4(c){return typeof c=="number"&&av(c)}function ps(c){if(!It(c))return!1;var f=_n(c);return f==Se||f==me||f==de||f==dt}function Qy(c){return typeof c=="number"&&c==Ye(c)}function qf(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=V}function It(c){var f=typeof c;return c!=null&&(f=="object"||f=="function")}function Zt(c){return c!=null&&typeof c=="object"}var $y=Pr?lr(Pr):VE;function z4(c,f){return c===f||um(c,f,Pm(f))}function q4(c,f,m){return m=typeof m=="function"?m:t,um(c,f,Pm(f),m)}function X4(c){return Ay(c)&&c!=+c}function V4(c){if(QL(c))throw new ze(s);return yv(c)}function W4(c){return c===null}function F4(c){return c==null}function Ay(c){return typeof c=="number"||Zt(c)&&_n(c)==De}function bu(c){if(!Zt(c)||_n(c)!=bt)return!1;var f=mf(c);if(f===null)return!0;var m=yt.call(f,"constructor")&&f.constructor;return typeof m=="function"&&m instanceof m&&ff.call(m)==q5}var Im=Si?lr(Si):WE;function Y4(c){return Qy(c)&&c>=-V&&c<=V}var Ry=ru?lr(ru):FE;function Xf(c){return typeof c=="string"||!Ve(c)&&Zt(c)&&_n(c)==vn}function cr(c){return typeof c=="symbol"||Zt(c)&&_n(c)==Hr}var xa=Uo?lr(Uo):YE;function H4(c){return c===t}function G4(c){return Zt(c)&&Tn(c)==wr}function U4(c){return Zt(c)&&_n(c)==Nc}var K4=_f(fm),J4=_f(function(c,f){return c<=f});function Ey(c){if(!c)return[];if(Xn(c))return Xf(c)?Jr(c):qn(c);if(su&&c[su])return R5(c[su]());var f=Tn(c),m=f==be?Jg:f==ut?cf:va;return m(c)}function gs(c){if(!c)return c===0?c:0;if(c=_r(c),c===q||c===-q){var f=c<0?-1:1;return f*F}return c===c?c:0}function Ye(c){var f=gs(c),m=f%1;return f===f?m?f-m:f:0}function Ly(c){return c?tl(Ye(c),0,oe):0}function _r(c){if(typeof c=="number")return c;if(cr(c))return U;if(It(c)){var f=typeof c.valueOf=="function"?c.valueOf():c;c=It(f)?f+"":f}if(typeof c!="string")return c===0?c:+c;c=Kx(c);var m=Xc.test(c);return m||Wc.test(c)?_e(c.slice(2),m?2:8):qc.test(c)?U:+c}function _y(c){return ki(c,Vn(c))}function eM(c){return c?tl(Ye(c),-V,V):c===0?c:0}function Ot(c){return c==null?"":ar(c)}var tM=ma(function(c,f){if(mu(f)||Xn(f)){ki(f,on(f),c);return}for(var m in f)yt.call(f,m)&&uu(c,m,f[m])}),My=ma(function(c,f){ki(f,Vn(f),c)}),Vf=ma(function(c,f,m,y){ki(f,Vn(f),c,y)}),nM=ma(function(c,f,m,y){ki(f,on(f),c,y)}),rM=fs(sm);function iM(c,f){var m=ga(c);return f==null?m:dv(m,f)}var sM=Ke(function(c,f){c=wt(c);var m=-1,y=f.length,T=y>2?f[2]:t;for(T&&Mn(f[0],f[1],T)&&(y=1);++m<y;)for(var M=f[m],D=Vn(M),W=-1,G=D.length;++W<G;){var ce=D[W],ue=c[ce];(ue===t||ti(ue,fa[ce])&&!yt.call(c,ce))&&(c[ce]=M[ce])}return c}),oM=Ke(function(c){return c.push(t,Kv),sn(Ny,t,c)});function lM(c,f){return Yx(c,Ne(f,3),wi)}function aM(c,f){return Yx(c,Ne(f,3),lm)}function cM(c,f){return c==null?c:om(c,Ne(f,3),Vn)}function uM(c,f){return c==null?c:bv(c,Ne(f,3),Vn)}function hM(c,f){return c&&wi(c,Ne(f,3))}function fM(c,f){return c&&lm(c,Ne(f,3))}function dM(c){return c==null?[]:Cf(c,on(c))}function pM(c){return c==null?[]:Cf(c,Vn(c))}function jm(c,f,m){var y=c==null?t:nl(c,f);return y===t?m:y}function gM(c,f){return c!=null&&ty(c,f,IE)}function Dm(c,f){return c!=null&&ty(c,f,jE)}var mM=Fv(function(c,f,m){f!=null&&typeof f.toString!="function"&&(f=df.call(f)),c[f]=m},zm(Wn)),OM=Fv(function(c,f,m){f!=null&&typeof f.toString!="function"&&(f=df.call(f)),yt.call(c,f)?c[f].push(m):c[f]=[m]},Ne),bM=Ke(fu);function on(c){return Xn(c)?hv(c):hm(c)}function Vn(c){return Xn(c)?hv(c,!0):HE(c)}function xM(c,f){var m={};return f=Ne(f,3),wi(c,function(y,T,M){us(m,f(y,T,M),y)}),m}function vM(c,f){var m={};return f=Ne(f,3),wi(c,function(y,T,M){us(m,T,f(y,T,M))}),m}var yM=ma(function(c,f,m){Pf(c,f,m)}),Ny=ma(function(c,f,m,y){Pf(c,f,m,y)}),SM=fs(function(c,f){var m={};if(c==null)return m;var y=!1;f=Mt(f,function(M){return M=to(M,c),y||(y=M.length>1),M}),ki(c,Tm(c),m),y&&(m=Rr(m,d|p|g,mL));for(var T=f.length;T--;)Om(m,f[T]);return m});function wM(c,f){return By(c,zf(Ne(f)))}var kM=fs(function(c,f){return c==null?{}:UE(c,f)});function By(c,f){if(c==null)return{};var m=Mt(Tm(c),function(y){return[y]});return f=Ne(f),Qv(c,m,function(y,T){return f(y,T[0])})}function TM(c,f,m){f=to(f,c);var y=-1,T=f.length;for(T||(T=1,c=t);++y<T;){var M=c==null?t:c[Ti(f[y])];M===t&&(y=T,M=m),c=ps(M)?M.call(c):M}return c}function CM(c,f,m){return c==null?c:pu(c,f,m)}function PM(c,f,m,y){return y=typeof y=="function"?y:t,c==null?c:pu(c,f,m,y)}var Iy=Gv(on),jy=Gv(Vn);function QM(c,f,m){var y=Ve(c),T=y||ro(c)||xa(c);if(f=Ne(f,4),m==null){var M=c&&c.constructor;T?m=y?new M:[]:It(c)?m=ps(M)?ga(mf(c)):{}:m={}}return(T?Qr:wi)(c,function(D,W,G){return f(m,D,W,G)}),m}function $M(c,f){return c==null?!0:Om(c,f)}function AM(c,f,m){return c==null?c:Lv(c,f,vm(m))}function RM(c,f,m,y){return y=typeof y=="function"?y:t,c==null?c:Lv(c,f,vm(m),y)}function va(c){return c==null?[]:Kg(c,on(c))}function EM(c){return c==null?[]:Kg(c,Vn(c))}function LM(c,f,m){return m===t&&(m=f,f=t),m!==t&&(m=_r(m),m=m===m?m:0),f!==t&&(f=_r(f),f=f===f?f:0),tl(_r(c),f,m)}function _M(c,f,m){return f=gs(f),m===t?(m=f,f=0):m=gs(m),c=_r(c),DE(c,f,m)}function MM(c,f,m){if(m&&typeof m!="boolean"&&Mn(c,f,m)&&(f=m=t),m===t&&(typeof f=="boolean"?(m=f,f=t):typeof c=="boolean"&&(m=c,c=t)),c===t&&f===t?(c=0,f=1):(c=gs(c),f===t?(f=c,c=0):f=gs(f)),c>f){var y=c;c=f,f=y}if(m||c%1||f%1){var T=cv();return kn(c+T*(f-c+Ze("1e-"+((T+"").length-1))),f)}return pm(c,f)}var NM=Oa(function(c,f,m){return f=f.toLowerCase(),c+(m?Dy(f):f)});function Dy(c){return Zm(Ot(c).toLowerCase())}function Zy(c){return c=Ot(c),c&&c.replace(Sn,C5).replace(nu,"")}function BM(c,f,m){c=Ot(c),f=ar(f);var y=c.length;m=m===t?y:tl(Ye(m),0,y);var T=m;return m-=f.length,m>=0&&c.slice(m,T)==f}function IM(c){return c=Ot(c),c&&ts.test(c)?c.replace(vi,P5):c}function jM(c){return c=Ot(c),c&&Bc.test(c)?c.replace(Zo,"\\$&"):c}var DM=Oa(function(c,f,m){return c+(m?"-":"")+f.toLowerCase()}),ZM=Oa(function(c,f,m){return c+(m?" ":"")+f.toLowerCase()}),zM=Xv("toLowerCase");function qM(c,f,m){c=Ot(c),f=Ye(f);var y=f?ua(c):0;if(!f||y>=f)return c;var T=(f-y)/2;return Lf(vf(T),m)+c+Lf(xf(T),m)}function XM(c,f,m){c=Ot(c),f=Ye(f);var y=f?ua(c):0;return f&&y<f?c+Lf(f-y,m):c}function VM(c,f,m){c=Ot(c),f=Ye(f);var y=f?ua(c):0;return f&&y<f?Lf(f-y,m)+c:c}function WM(c,f,m){return m||f==null?f=0:f&&(f=+f),J5(Ot(c).replace(zo,""),f||0)}function FM(c,f,m){return(m?Mn(c,f,m):f===t)?f=1:f=Ye(f),gm(Ot(c),f)}function YM(){var c=arguments,f=Ot(c[0]);return c.length<3?f:f.replace(c[1],c[2])}var HM=Oa(function(c,f,m){return c+(m?"_":"")+f.toLowerCase()});function GM(c,f,m){return m&&typeof m!="number"&&Mn(c,f,m)&&(f=m=t),m=m===t?oe:m>>>0,m?(c=Ot(c),c&&(typeof f=="string"||f!=null&&!Im(f))&&(f=ar(f),!f&&ca(c))?no(Jr(c),0,m):c.split(f,m)):[]}var UM=Oa(function(c,f,m){return c+(m?" ":"")+Zm(f)});function KM(c,f,m){return c=Ot(c),m=m==null?0:tl(Ye(m),0,c.length),f=ar(f),c.slice(m,m+f.length)==f}function JM(c,f,m){var y=A.templateSettings;m&&Mn(c,f,m)&&(f=t),c=Ot(c),f=Vf({},f,y,Uv);var T=Vf({},f.imports,y.imports,Uv),M=on(T),D=Kg(T,M),W,G,ce=0,ue=f.interpolate||qs,pe="__p += '",we=em((f.escape||qs).source+"|"+ue.source+"|"+(ue===zs?zc:qs).source+"|"+(f.evaluate||qs).source+"|$","g"),Ae="//# sourceURL="+(yt.call(f,"sourceURL")?(f.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Go+"]")+`
`;c.replace(we,function(Ie,et,ot,ur,Nn,hr){return ot||(ot=ur),pe+=c.slice(ce,hr).replace(Yc,Q5),et&&(W=!0,pe+=`' +
__e(`+et+`) +
'`),Nn&&(G=!0,pe+=`';
`+Nn+`;
__p += '`),ot&&(pe+=`' +
((__t = (`+ot+`)) == null ? '' : __t) +
'`),ce=hr+Ie.length,Ie}),pe+=`';
`;var Be=yt.call(f,"variable")&&f.variable;if(!Be)pe=`with (obj) {
`+pe+`
}
`;else if(Dc.test(Be))throw new ze(l);pe=(G?pe.replace(es,""):pe).replace(sr,"$1").replace(Ds,"$1;"),pe="function("+(Be||"obj")+`) {
`+(Be?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(W?", __e = _.escape":"")+(G?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+pe+`return __p
}`;var He=qy(function(){return pt(M,Ae+"return "+pe).apply(t,D)});if(He.source=pe,Bm(He))throw He;return He}function e3(c){return Ot(c).toLowerCase()}function t3(c){return Ot(c).toUpperCase()}function n3(c,f,m){if(c=Ot(c),c&&(m||f===t))return Kx(c);if(!c||!(f=ar(f)))return c;var y=Jr(c),T=Jr(f),M=Jx(y,T),D=ev(y,T)+1;return no(y,M,D).join("")}function r3(c,f,m){if(c=Ot(c),c&&(m||f===t))return c.slice(0,nv(c)+1);if(!c||!(f=ar(f)))return c;var y=Jr(c),T=ev(y,Jr(f))+1;return no(y,0,T).join("")}function i3(c,f,m){if(c=Ot(c),c&&(m||f===t))return c.replace(zo,"");if(!c||!(f=ar(f)))return c;var y=Jr(c),T=Jx(y,Jr(f));return no(y,T).join("")}function s3(c,f){var m=K,y=R;if(It(f)){var T="separator"in f?f.separator:T;m="length"in f?Ye(f.length):m,y="omission"in f?ar(f.omission):y}c=Ot(c);var M=c.length;if(ca(c)){var D=Jr(c);M=D.length}if(m>=M)return c;var W=m-ua(y);if(W<1)return y;var G=D?no(D,0,W).join(""):c.slice(0,W);if(T===t)return G+y;if(D&&(W+=G.length-W),Im(T)){if(c.slice(W).search(T)){var ce,ue=G;for(T.global||(T=em(T.source,Ot(tn.exec(T))+"g")),T.lastIndex=0;ce=T.exec(ue);)var pe=ce.index;G=G.slice(0,pe===t?W:pe)}}else if(c.indexOf(ar(T),W)!=W){var we=G.lastIndexOf(T);we>-1&&(G=G.slice(0,we))}return G+y}function o3(c){return c=Ot(c),c&&Io.test(c)?c.replace(Zs,M5):c}var l3=Oa(function(c,f,m){return c+(m?" ":"")+f.toUpperCase()}),Zm=Xv("toUpperCase");function zy(c,f,m){return c=Ot(c),f=m?t:f,f===t?A5(c)?I5(c):y5(c):c.match(f)||[]}var qy=Ke(function(c,f){try{return sn(c,t,f)}catch(m){return Bm(m)?m:new ze(m)}}),a3=fs(function(c,f){return Qr(f,function(m){m=Ti(m),us(c,m,Mm(c[m],c))}),c});function c3(c){var f=c==null?0:c.length,m=Ne();return c=f?Mt(c,function(y){if(typeof y[1]!="function")throw new $r(o);return[m(y[0]),y[1]]}):[],Ke(function(y){for(var T=-1;++T<f;){var M=c[T];if(sn(M[0],this,y))return sn(M[1],this,y)}})}function u3(c){return ME(Rr(c,d))}function zm(c){return function(){return c}}function h3(c,f){return c==null||c!==c?f:c}var f3=Wv(),d3=Wv(!0);function Wn(c){return c}function qm(c){return Sv(typeof c=="function"?c:Rr(c,d))}function p3(c){return kv(Rr(c,d))}function g3(c,f){return Tv(c,Rr(f,d))}var m3=Ke(function(c,f){return function(m){return fu(m,c,f)}}),O3=Ke(function(c,f){return function(m){return fu(c,m,f)}});function Xm(c,f,m){var y=on(f),T=Cf(f,y);m==null&&!(It(f)&&(T.length||!y.length))&&(m=f,f=c,c=this,T=Cf(f,on(f)));var M=!(It(m)&&"chain"in m)||!!m.chain,D=ps(c);return Qr(T,function(W){var G=f[W];c[W]=G,D&&(c.prototype[W]=function(){var ce=this.__chain__;if(M||ce){var ue=c(this.__wrapped__),pe=ue.__actions__=qn(this.__actions__);return pe.push({func:G,args:arguments,thisArg:c}),ue.__chain__=ce,ue}return G.apply(c,Gs([this.value()],arguments))})}),c}function b3(){return Je._===this&&(Je._=X5),this}function Vm(){}function x3(c){return c=Ye(c),Ke(function(f){return Cv(f,c)})}var v3=Sm(Mt),y3=Sm(Fx),S3=Sm(Fg);function Xy(c){return $m(c)?Yg(Ti(c)):KE(c)}function w3(c){return function(f){return c==null?t:nl(c,f)}}var k3=Yv(),T3=Yv(!0);function Wm(){return[]}function Fm(){return!1}function C3(){return{}}function P3(){return""}function Q3(){return!0}function $3(c,f){if(c=Ye(c),c<1||c>V)return[];var m=oe,y=kn(c,oe);f=Ne(f),c-=oe;for(var T=Ug(y,f);++m<c;)f(m);return T}function A3(c){return Ve(c)?Mt(c,Ti):cr(c)?[c]:qn(uy(Ot(c)))}function R3(c){var f=++z5;return Ot(c)+f}var E3=Ef(function(c,f){return c+f},0),L3=wm("ceil"),_3=Ef(function(c,f){return c/f},1),M3=wm("floor");function N3(c){return c&&c.length?Tf(c,Wn,am):t}function B3(c,f){return c&&c.length?Tf(c,Ne(f,2),am):t}function I3(c){return Gx(c,Wn)}function j3(c,f){return Gx(c,Ne(f,2))}function D3(c){return c&&c.length?Tf(c,Wn,fm):t}function Z3(c,f){return c&&c.length?Tf(c,Ne(f,2),fm):t}var z3=Ef(function(c,f){return c*f},1),q3=wm("round"),X3=Ef(function(c,f){return c-f},0);function V3(c){return c&&c.length?Gg(c,Wn):0}function W3(c,f){return c&&c.length?Gg(c,Ne(f,2)):0}return A.after=p4,A.ary=yy,A.assign=tM,A.assignIn=My,A.assignInWith=Vf,A.assignWith=nM,A.at=rM,A.before=Sy,A.bind=Mm,A.bindAll=a3,A.bindKey=wy,A.castArray=C4,A.chain=by,A.chunk=ML,A.compact=NL,A.concat=BL,A.cond=c3,A.conforms=u3,A.constant=zm,A.countBy=V_,A.create=iM,A.curry=ky,A.curryRight=Ty,A.debounce=Cy,A.defaults=sM,A.defaultsDeep=oM,A.defer=g4,A.delay=m4,A.difference=IL,A.differenceBy=jL,A.differenceWith=DL,A.drop=ZL,A.dropRight=zL,A.dropRightWhile=qL,A.dropWhile=XL,A.fill=VL,A.filter=F_,A.flatMap=G_,A.flatMapDeep=U_,A.flatMapDepth=K_,A.flatten=py,A.flattenDeep=WL,A.flattenDepth=FL,A.flip=O4,A.flow=f3,A.flowRight=d3,A.fromPairs=YL,A.functions=dM,A.functionsIn=pM,A.groupBy=J_,A.initial=GL,A.intersection=UL,A.intersectionBy=KL,A.intersectionWith=JL,A.invert=mM,A.invertBy=OM,A.invokeMap=t4,A.iteratee=qm,A.keyBy=n4,A.keys=on,A.keysIn=Vn,A.map=jf,A.mapKeys=xM,A.mapValues=vM,A.matches=p3,A.matchesProperty=g3,A.memoize=Zf,A.merge=yM,A.mergeWith=Ny,A.method=m3,A.methodOf=O3,A.mixin=Xm,A.negate=zf,A.nthArg=x3,A.omit=SM,A.omitBy=wM,A.once=b4,A.orderBy=r4,A.over=v3,A.overArgs=x4,A.overEvery=y3,A.overSome=S3,A.partial=Nm,A.partialRight=Py,A.partition=i4,A.pick=kM,A.pickBy=By,A.property=Xy,A.propertyOf=w3,A.pull=r_,A.pullAll=my,A.pullAllBy=i_,A.pullAllWith=s_,A.pullAt=o_,A.range=k3,A.rangeRight=T3,A.rearg=v4,A.reject=l4,A.remove=l_,A.rest=y4,A.reverse=Lm,A.sampleSize=c4,A.set=CM,A.setWith=PM,A.shuffle=u4,A.slice=a_,A.sortBy=d4,A.sortedUniq=g_,A.sortedUniqBy=m_,A.split=GM,A.spread=S4,A.tail=O_,A.take=b_,A.takeRight=x_,A.takeRightWhile=v_,A.takeWhile=y_,A.tap=N_,A.throttle=w4,A.thru=If,A.toArray=Ey,A.toPairs=Iy,A.toPairsIn=jy,A.toPath=A3,A.toPlainObject=_y,A.transform=QM,A.unary=k4,A.union=S_,A.unionBy=w_,A.unionWith=k_,A.uniq=T_,A.uniqBy=C_,A.uniqWith=P_,A.unset=$M,A.unzip=_m,A.unzipWith=Oy,A.update=AM,A.updateWith=RM,A.values=va,A.valuesIn=EM,A.without=Q_,A.words=zy,A.wrap=T4,A.xor=$_,A.xorBy=A_,A.xorWith=R_,A.zip=E_,A.zipObject=L_,A.zipObjectDeep=__,A.zipWith=M_,A.entries=Iy,A.entriesIn=jy,A.extend=My,A.extendWith=Vf,Xm(A,A),A.add=E3,A.attempt=qy,A.camelCase=NM,A.capitalize=Dy,A.ceil=L3,A.clamp=LM,A.clone=P4,A.cloneDeep=$4,A.cloneDeepWith=A4,A.cloneWith=Q4,A.conformsTo=R4,A.deburr=Zy,A.defaultTo=h3,A.divide=_3,A.endsWith=BM,A.eq=ti,A.escape=IM,A.escapeRegExp=jM,A.every=W_,A.find=Y_,A.findIndex=fy,A.findKey=lM,A.findLast=H_,A.findLastIndex=dy,A.findLastKey=aM,A.floor=M3,A.forEach=xy,A.forEachRight=vy,A.forIn=cM,A.forInRight=uM,A.forOwn=hM,A.forOwnRight=fM,A.get=jm,A.gt=E4,A.gte=L4,A.has=gM,A.hasIn=Dm,A.head=gy,A.identity=Wn,A.includes=e4,A.indexOf=HL,A.inRange=_M,A.invoke=bM,A.isArguments=sl,A.isArray=Ve,A.isArrayBuffer=_4,A.isArrayLike=Xn,A.isArrayLikeObject=Xt,A.isBoolean=M4,A.isBuffer=ro,A.isDate=N4,A.isElement=B4,A.isEmpty=I4,A.isEqual=j4,A.isEqualWith=D4,A.isError=Bm,A.isFinite=Z4,A.isFunction=ps,A.isInteger=Qy,A.isLength=qf,A.isMap=$y,A.isMatch=z4,A.isMatchWith=q4,A.isNaN=X4,A.isNative=V4,A.isNil=F4,A.isNull=W4,A.isNumber=Ay,A.isObject=It,A.isObjectLike=Zt,A.isPlainObject=bu,A.isRegExp=Im,A.isSafeInteger=Y4,A.isSet=Ry,A.isString=Xf,A.isSymbol=cr,A.isTypedArray=xa,A.isUndefined=H4,A.isWeakMap=G4,A.isWeakSet=U4,A.join=e_,A.kebabCase=DM,A.last=Lr,A.lastIndexOf=t_,A.lowerCase=ZM,A.lowerFirst=zM,A.lt=K4,A.lte=J4,A.max=N3,A.maxBy=B3,A.mean=I3,A.meanBy=j3,A.min=D3,A.minBy=Z3,A.stubArray=Wm,A.stubFalse=Fm,A.stubObject=C3,A.stubString=P3,A.stubTrue=Q3,A.multiply=z3,A.nth=n_,A.noConflict=b3,A.noop=Vm,A.now=Df,A.pad=qM,A.padEnd=XM,A.padStart=VM,A.parseInt=WM,A.random=MM,A.reduce=s4,A.reduceRight=o4,A.repeat=FM,A.replace=YM,A.result=TM,A.round=q3,A.runInContext=Y,A.sample=a4,A.size=h4,A.snakeCase=HM,A.some=f4,A.sortedIndex=c_,A.sortedIndexBy=u_,A.sortedIndexOf=h_,A.sortedLastIndex=f_,A.sortedLastIndexBy=d_,A.sortedLastIndexOf=p_,A.startCase=UM,A.startsWith=KM,A.subtract=X3,A.sum=V3,A.sumBy=W3,A.template=JM,A.times=$3,A.toFinite=gs,A.toInteger=Ye,A.toLength=Ly,A.toLower=e3,A.toNumber=_r,A.toSafeInteger=eM,A.toString=Ot,A.toUpper=t3,A.trim=n3,A.trimEnd=r3,A.trimStart=i3,A.truncate=s3,A.unescape=o3,A.uniqueId=R3,A.upperCase=l3,A.upperFirst=Zm,A.each=xy,A.eachRight=vy,A.first=gy,Xm(A,function(){var c={};return wi(A,function(f,m){yt.call(A.prototype,m)||(c[m]=f)}),c}(),{chain:!1}),A.VERSION=r,Qr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(c){A[c].placeholder=A}),Qr(["drop","take"],function(c,f){rt.prototype[c]=function(m){m=m===t?1:rn(Ye(m),0);var y=this.__filtered__&&!f?new rt(this):this.clone();return y.__filtered__?y.__takeCount__=kn(m,y.__takeCount__):y.__views__.push({size:kn(m,oe),type:c+(y.__dir__<0?"Right":"")}),y},rt.prototype[c+"Right"]=function(m){return this.reverse()[c](m).reverse()}}),Qr(["filter","map","takeWhile"],function(c,f){var m=f+1,y=m==Q||m==j;rt.prototype[c]=function(T){var M=this.clone();return M.__iteratees__.push({iteratee:Ne(T,3),type:m}),M.__filtered__=M.__filtered__||y,M}}),Qr(["head","last"],function(c,f){var m="take"+(f?"Right":"");rt.prototype[c]=function(){return this[m](1).value()[0]}}),Qr(["initial","tail"],function(c,f){var m="drop"+(f?"":"Right");rt.prototype[c]=function(){return this.__filtered__?new rt(this):this[m](1)}}),rt.prototype.compact=function(){return this.filter(Wn)},rt.prototype.find=function(c){return this.filter(c).head()},rt.prototype.findLast=function(c){return this.reverse().find(c)},rt.prototype.invokeMap=Ke(function(c,f){return typeof c=="function"?new rt(this):this.map(function(m){return fu(m,c,f)})}),rt.prototype.reject=function(c){return this.filter(zf(Ne(c)))},rt.prototype.slice=function(c,f){c=Ye(c);var m=this;return m.__filtered__&&(c>0||f<0)?new rt(m):(c<0?m=m.takeRight(-c):c&&(m=m.drop(c)),f!==t&&(f=Ye(f),m=f<0?m.dropRight(-f):m.take(f-c)),m)},rt.prototype.takeRightWhile=function(c){return this.reverse().takeWhile(c).reverse()},rt.prototype.toArray=function(){return this.take(oe)},wi(rt.prototype,function(c,f){var m=/^(?:filter|find|map|reject)|While$/.test(f),y=/^(?:head|last)$/.test(f),T=A[y?"take"+(f=="last"?"Right":""):f],M=y||/^find/.test(f);T&&(A.prototype[f]=function(){var D=this.__wrapped__,W=y?[1]:arguments,G=D instanceof rt,ce=W[0],ue=G||Ve(D),pe=function(et){var ot=T.apply(A,Gs([et],W));return y&&we?ot[0]:ot};ue&&m&&typeof ce=="function"&&ce.length!=1&&(G=ue=!1);var we=this.__chain__,Ae=!!this.__actions__.length,Be=M&&!we,He=G&&!Ae;if(!M&&ue){D=He?D:new rt(this);var Ie=c.apply(D,W);return Ie.__actions__.push({func:If,args:[pe],thisArg:t}),new Ar(Ie,we)}return Be&&He?c.apply(this,W):(Ie=this.thru(pe),Be?y?Ie.value()[0]:Ie.value():Ie)})}),Qr(["pop","push","shift","sort","splice","unshift"],function(c){var f=uf[c],m=/^(?:push|sort|unshift)$/.test(c)?"tap":"thru",y=/^(?:pop|shift)$/.test(c);A.prototype[c]=function(){var T=arguments;if(y&&!this.__chain__){var M=this.value();return f.apply(Ve(M)?M:[],T)}return this[m](function(D){return f.apply(Ve(D)?D:[],T)})}}),wi(rt.prototype,function(c,f){var m=A[f];if(m){var y=m.name+"";yt.call(pa,y)||(pa[y]=[]),pa[y].push({name:f,func:m})}}),pa[Rf(t,w).name]=[{name:"wrapper",func:t}],rt.prototype.clone=oE,rt.prototype.reverse=lE,rt.prototype.value=aE,A.prototype.at=B_,A.prototype.chain=I_,A.prototype.commit=j_,A.prototype.next=D_,A.prototype.plant=z_,A.prototype.reverse=q_,A.prototype.toJSON=A.prototype.valueOf=A.prototype.value=X_,A.prototype.first=A.prototype.head,su&&(A.prototype[su]=Z_),A},ha=j5();_t?((_t.exports=ha)._=ha,lt._=ha):Je._=ha}).call(Nz)}(zu,zu.exports)),zu.exports}var Co=Bz();const lQ=(n,e,t)=>{let r=!1,i="";const s=n.getLength()-1;t.isRequired&&!r&&(s||(r=!0,i="This field cannot be empty!")),t.minLength&&!r&&s<t.minLength&&(r=!0,i=`Minimum ${t.minLength} characters required`),t.maxLength&&!r&&s>t.maxLength&&(r=!0,i=`Maximum ${t.maxLength} characters allowed`),e({isError:r,errorMessage:i},n.getContents())},Iz=(n,e,t,r,i)=>{if(!n.current)return null;const s=n.current.getContents();t&&t(s,n),i&&r&&lQ(n.current,i,r),e.current||(e.current=!0)},jz=(n,e,t,r)=>{if(!e.current)return null;if(t(!0),r){const i=e.current.getContents();r(n,i)}},Dz=(n,e,t,r,i,s,o)=>{if(!e.current)return null;if(t(!1),o){const l=e.current.getContents();o(n,l)}s&&i&&r.current&&lQ(e.current,s,i)},Ei=(n,e,t,r)=>{if(t?.isChildOpen)return null;e(n),r&&n==="HIDDEN"&&r(!1)},Zz=(n,e,t,r)=>{n!=="HIDDEN"&&Ei("HIDDEN",e,t,r)},zz=(n,e,t,r)=>{const i=n.target;if(i.tagName==="path"||i.classList.contains("x-icon")||i.classList.contains("x-button"))return null;t(!0),r({y:n.clientY,height:e}),n.preventDefault(),document.body.style.userSelect="none"},qz=(n,e,t,r)=>{if(!e)return;const i=t.y-n.clientY,s=window.innerHeight,o=i/s*100,l=Math.max(0,Math.min(95,t.height+o));r(l)},Xz=(n,e,t,r,i,s,o,l)=>{if(!r)return;i(!1),document.body.style.userSelect="";const a=s.y-n.clientY,u=window.innerHeight,h=a/u*100,d=s.height+h;let p="HIDDEN",g=Math.abs(d-t.HIDDEN);Object.entries(t).forEach(([x,v])=>{const w=Math.abs(d-v);w<g&&(g=w,p=x)}),Math.abs(a)>100&&(a>0?d>30?p="FULL":p="HALF":d<50?p="HIDDEN":p="HALF"),o?.disabledDismiss==="all"&&p==="HIDDEN"&&(p="HALF"),Ei(p,e,o,l)},Vz=(n,e,t)=>{n.target.scrollTop>0&&e==="HALF"&&t("FULL")},cw=(n,e)=>{const t=n.touches[0],r=n.currentTarget;e({y:t.clientY,scrollTop:r.scrollTop})},uw=(n,e,t,r,i,s,o)=>{if(!e)return;const l=n.currentTarget,{scrollTop:a,scrollHeight:u,clientHeight:h}=l,d=u>h,p=a===0,g=n.touches[0],b=e.y-g.clientY;if(Math.abs(b)>30){if(b>0)r==="HALF"&&Ei("FULL",i,s,o);else if(b<0){if(d&&!p)return;r==="FULL"?Ei("HALF",i,s,o):r==="HALF"&&Ei("HIDDEN",i,s,o)}t(null)}};function tc(n,e){const t=C.useRef([]);return(!t.current||!Wz(e,t.current))&&(t.current=e),C.useMemo(n,t.current)}function Wz(n,e){return JSON.stringify(n)===JSON.stringify(e)}const Qc=({isOpen:n,setIsOpen:e,className:t,iconTitle:r,txtTitle:i,children:s,onOpen:o=void 0,onClose:l=void 0,elementHeader:a=void 0,elementFooter:u=void 0,style:h=void 0,shape:d=void 0,floatingConfig:p=void 0})=>{const{globalShape:g,screenSize:b}=C.useContext(Lt),x=C.useRef(!1),v=C.useRef(null),w=C.useRef(null),k=C.useRef(null),$=C.useRef(null),[B,N]=C.useState(45),z=tc(()=>p?.snapPointSize?p.snapPointSize:b==="mobile"?{HIDDEN:0,HALF:B,FULL:80}:{HIDDEN:0,HALF:B,FULL:95},[b,p?.snapPointSize,B]),[Z,H]=C.useState("HIDDEN"),[te,K]=C.useState(0),R=C.useRef(null),[E,P]=C.useState(!1),[Q,I]=C.useState({y:0,height:0}),[j,q]=C.useState(null),V=C.useMemo(()=>{const ne=[];return a&&ne.push("min-content"),s&&ne.push("1fr"),u&&ne.push("min-content"),ne.join(" ")},[]);C.useEffect(()=>{E||(Z==="HALF"||Z==="FULL"?setTimeout(()=>{K(z[Z])},100):K(z[Z]))},[Z,E]),C.useEffect(()=>{if(E){const ne=de=>{qz(de,E,Q,K)},he=de=>{Xz(de,H,z,E,P,Q,p,e)};return document.addEventListener("pointermove",ne),document.addEventListener("pointerup",he),()=>{document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",he)}}},[E,Q]);const{refs:F,context:U}=Bh({open:Z!=="HIDDEN",onOpenChange:ne=>{ne?Ei("HALF",H,p):Zz(Z,H,p,e)},strategy:"fixed",whileElementsMounted:Nh}),oe=vg(U,{enabled:p?.disabledDismiss!=="all",escapeKey:p?.disabledDismiss!=="esc",outsidePress:p?.disabledDismiss!=="outside",outsidePressEvent:"pointerdown",ancestorScroll:!1}),J=Sb(U),{isMounted:ee}=wb(U,{duration:{open:300,close:300}}),{getFloatingProps:fe}=yg([oe,J]);return C.useEffect(()=>{ee&&(x.current=!0,o&&o()),!ee&&l&&x.current&&l(),!ee&&e&&n&&e(!1)},[ee]),C.useEffect(()=>{if(v.current){const ne=window.visualViewport?.height||window.innerHeight,he=ke=>ke.current?.scrollHeight||0,de=he(v)+he($)+he(w)+he(k)+(b==="mobile"?80:130),ge=v.current.scrollHeight?Math.min(de<ne?de/ne*100:80,80):45;N(ge),setTimeout(()=>K(ge),100)}},[v.current!==null]),C.useEffect(()=>{n?p?.defaultSnapPoint==="FULL"?Ei("FULL",H,p):Ei("HALF",H,p):Ei("HIDDEN",H,p)},[n]),ee?O.jsx(xg,{children:O.jsx(yb,{lockScroll:!0,style:{overflow:"hidden",zIndex:"10"},children:O.jsx(vb,{context:U,order:["floating"],modal:!0,children:O.jsxs("div",{className:je("bottom-sheet",t),children:[O.jsx("div",{className:"bottom-sheet-overlay",style:{opacity:p?.isChildOpen?0:te*1/100}}),O.jsx("div",{ref:F.setFloating,className:je("bottom-sheet-box",b,{dragging:E}),style:{height:`${te}vh`},...fe(),children:O.jsxs("div",{className:je("bottom-sheet-container",d||g),style:h?.container,children:[O.jsxs("div",{ref:R,onPointerDown:ne=>{zz(ne,te,P,I)},className:je("drag-handle-area",{dragging:E}),children:[O.jsx("div",{className:"drag-handle"}),(r||i)&&O.jsxs("div",{ref:k,className:"bottom-sheet-title-box",children:[O.jsxs("div",{className:"title",children:[r&&O.jsx("div",{className:"title-icon",children:r}),i&&O.jsx("p",{className:"title-text",children:i})]}),p?.disabledDismiss!=="all"&&O.jsx(We,{className:"x-button",icon:O.jsx(Bl,{className:"global-icon x-icon"}),txtLabel:"Close Modal",appearance:"subtle",isShowtooltip:!1,onClick:()=>{Ei("HIDDEN",H,p)}})]})]}),O.jsxs("div",{className:"content-box",style:{gridTemplateRows:V},children:[a&&O.jsx("div",{ref:w,className:"element-header-box",onTouchStart:ne=>{cw(ne,q)},onTouchMove:ne=>{uw(ne,j,q,Z,H,p,e)},children:a}),O.jsx("div",{ref:v,className:"bottom-sheet-body-box",onScroll:ne=>{Vz(ne,Z,H)},children:s}),u&&O.jsx("div",{ref:$,className:"element-footer-box",onTouchStart:ne=>{cw(ne,q)},onTouchMove:ne=>{uw(ne,j,q,Z,H,p,e)},children:u})]})]})})]})})})}):null},Qp=n=>{if(!n)return"";const e=n.replace(/[^0-9-]/g,"").replace(/-+/g,(s,o)=>o===0?"-":""),t=e.startsWith("-"),r=e.replace("-","");if(!r)return t?"-":"";const i=r.replace(/\B(?=(\d{3})+(?!\d))/g,".");return t?`-${i}`:i},$c=n=>{if(!n)return"";let e=n.replace(/[^0-9-]/g,"");if(e.includes("-")&&(e.indexOf("-")===0?e="-"+e.substring(1).replace(/-/g,""):e=e.replace(/-/g,"")),e){const t=e.startsWith("-"),r=e.replace("-","");if(r){const i=r.replace(/^0+/,"")||"0";i==="0"?e="0":e=t?`-${i}`:i}}return e},Fz=n=>{switch(n){case"number":case"tel":case"number-text":return{type:"numeric",mode:"tel"};case"password":return{type:"password",mode:"text"};default:return{type:"text",mode:"text"}}},gl=(n,e)=>e==="number"&&n?Qp(n):n,Yz=(n,e)=>{e({isError:!1,errorMessage:""},n)},$p=(n,e,t,r)=>{let i=!1,s="";if(r.isRequired&&!i&&(e||(i=!0,s="This field cannot be empty!")),r.minLength&&!i&&n!=="number"&&e.length<r.minLength&&(i=!0,s=`Minimum ${r.minLength} characters required`),r.maxLength&&!i&&n!=="number"&&e.length>r.maxLength&&(i=!0,s=`Maximum ${r.maxLength} characters allowed`),(r.maxValue!==void 0||r.minValue!==void 0)&&!i&&n==="number"){const o=$c(e),l=parseInt(o??"0");r.maxValue!==void 0&&r.minValue!==void 0&&(l<r.minValue||l>r.maxValue)?(i=!0,s=`Value is out of range (${gl(`${r.minValue}`,"number")} ~ ${gl(`${r.maxValue}`,"number")})`):r.maxValue!==void 0&&l>r.maxValue?(i=!0,s=`Value cannot exceed ${gl(`${r.maxValue}`,"number")}`):r.minValue!==void 0&&l<r.minValue&&(i=!0,s=`Value must be at least ${gl(`${r.minValue}`,"number")}`)}if(r.validRegex&&!i&&n!=="number"){for(const[o,l]of r.validRegex)if(!o.test(e)){i=!0,s=l;break}}t({isError:i,errorMessage:s},e)},Hz=(n,e,t)=>{const r=g=>g.split("").filter(i).length,i=g=>/[a-zA-Z0-9]/.test(g),s=gl(t,"number"),o=gl(e,"number"),a=(n.selectionStart??0)-1;if(a>=o.length){const g=s.length;n.setSelectionRange(g,g);return}const u=o.slice(0,a),h=r(u);let d=0,p=0;for(;d<s.length&&(i(s[d])&&p++,!(p>=h+2));d++);requestAnimationFrame(()=>{n.setSelectionRange(d,d)})},Gz=(n,e,t,r,i,s,o,l,a,u)=>{const h=n.target.value;let d=h;switch(t){case"text-no-space":d=h.replace(/\s/g,"");break;case"number-text":d=h.replace(/[^0-9]/g,"");break;case"tel":h.length===0?d="":h.startsWith("+")?d="+"+d.slice(1).replace(/\D/g,""):d="+"+d.replace(/\D/g,"");break;case"number":d=$c(h);break;case"text":case"password":default:d=h;break}l?.maxLength&&(d=d.slice(0,l.maxLength)),r(d),o(d,n),u&&a?.isError&&Yz(d,u),t==="number"&&Hz(n.target,e,d),i||s(!0)},Uz=(n,e,t,r,i,s,o,l,a)=>{let h=n.target.value.trim();t==="number"&&(h=$c(h)),t==="tel"&&h==="+"&&(h=""),e!==h&&(r(h),s(h,n)),l&&i&&o&&$p(t,h,l,o),setTimeout(()=>{a&&a(n,h)},180)},Kz=(n,e,t)=>{t&&t(n,e)},Jz=(n,e,t,r,i,s,o)=>{t(""),r("",n),s&&i&&$p(e,"",s,i),o?.current&&o.current.focus()},eq=(n,e,t)=>{t&&t(n,e)},Fe=({ref:n=void 0,id:e=void 0,className:t=void 0,style:r=void 0,shape:i=void 0,afterElement:s=void 0,beforeElement:o=void 0,type:l="text",txtPlaceholder:a=void 0,value:u="",isDisabled:h=!1,onChange:d=void 0,onBlur:p=void 0,onFocus:g=void 0,onKeyDown:b=void 0,error:x=void 0,onValidate:v=void 0,triggerValidate:w=0,config:k=void 0})=>{const{globalShape:$}=C.useContext(Lt),[B,N]=C.useState(u),[z,Z]=C.useState(!1),[H,te]=C.useState(!1),K=C.useMemo(()=>Fz(l),[l]),R=C.useRef(null);C.useEffect(()=>{n&&R.current&&(typeof n=="function"?n(R.current):n.current!==void 0&&(n.current=R.current))},[n]);const E=C.useCallback(Co.debounce((P,Q)=>{d&&d(P,Q)},150),[d]);return C.useEffect(()=>{u!==B&&!H&&(N(u),v&&k&&z&&$p(l,u,v,k))},[u]),C.useEffect(()=>{w===1&&v&&k&&$p(l,u,v,k)},[w]),O.jsxs("div",{className:je("input-text-box",t),children:[O.jsxs("div",{className:je("input-text-container",i||$,{disabled:h,error:x?.isError}),onClick:()=>{R.current?.focus()},children:[k?.prefixElement&&O.jsx("div",{className:"prefix-box",children:k?.prefixElement}),O.jsx("input",{id:e,ref:R,className:je("input-text"),style:r?.input,placeholder:a,value:gl(B,l),onChange:P=>{h||Gz(P,u,l,N,z,Z,E,k,x,v)},onBlur:P=>{h||Uz(P,u,l,N,z,E,k,v,p),te(!1)},onFocus:P=>{h||Kz(P,u,g),te(!0)},onKeyDown:P=>{h||eq(P,B,b)},disabled:h,type:K.type,inputMode:K.mode}),k?.sufixElement&&O.jsx("div",{className:"sufix-box",children:k?.sufixElement}),k?.isWithCounter&&!h&&O.jsx("div",{children:O.jsx("p",{className:"text-sub text-sm",children:`${B.length}${k.maxLength?` / ${k.maxLength}`:""}`})}),B.length>0&&!h&&k?.isShowClear&&O.jsx(We,{className:"clear-button",icon:O.jsx(Bl,{}),txtLabel:"Clear",appearance:"subtle",isShowtooltip:!1,onClick:P=>{Jz(P,l,N,E,k,v,R)}}),h&&O.jsx("div",{className:"lock-box",children:O.jsx(hg,{className:"global-icon"})})]}),o&&O.jsx("div",{className:"before-element-box",children:o}),s&&O.jsx("div",{className:"after-element-box",children:s}),x&&x.isError&&x.errorMessage&&O.jsxs("div",{className:"error-box",children:[O.jsx(kc,{className:"global-icon"}),O.jsx("p",{children:x.errorMessage})]})]})},tq=({isOpen:n=void 0,setIsOpen:e=void 0,txtTitle:t,iconTitle:r,className:i=void 0,style:s=void 0,shape:o=void 0,size:l="small",onOpen:a=void 0,onClose:u=void 0,elementHeader:h=void 0,elementFooter:d=void 0,children:p=O.jsx(O.Fragment,{}),floatingConfig:g=void 0})=>{const{globalShape:b,screenSize:x}=C.useContext(Lt),v=C.useRef(!1),[w,k]=C.useState(!1),$=C.useMemo(()=>{const K=[];return(t||r)&&K.push("min-content"),h&&K.push("min-content"),p&&K.push("1fr"),d&&K.push("min-content"),K.join(" ")},[t]),{refs:B,context:N}=Bh({open:w,onOpenChange:K=>{k(K)},strategy:"fixed",whileElementsMounted:Nh}),z=vg(N,{enabled:g?.disabledDismiss!=="all",escapeKey:g?.disabledDismiss!=="esc",outsidePress:g?.disabledDismiss!=="outside",outsidePressEvent:"pointerdown",ancestorScroll:!1}),Z=Sb(N),{isMounted:H}=wb(N,{duration:{open:0,close:300}}),{getFloatingProps:te}=yg([z,Z]);return C.useEffect(()=>{H&&(v.current=!0,a&&a()),!H&&u&&v.current&&u(),!H&&e&&e(!1)},[H]),C.useEffect(()=>{n&&k(!0),n||k(!1)},[n]),H?O.jsx(xg,{children:O.jsx(yb,{lockScroll:!0,style:{overflow:"hidden",zIndex:"10"},children:O.jsx(vb,{context:N,order:["floating"],modal:!0,children:O.jsxs("div",{className:je("modal",i),children:[O.jsx("div",{className:"modal-overlay",style:{opacity:g?.isChildOpen?0:.8}}),O.jsxs("div",{className:je("modal-container",x,l==="full"?"full":x==="mobile"?"":l||"small",o||b,{closing:!w}),ref:B.setFloating,...te(),style:{...s?.container,gridTemplateRows:$},children:[(t||r)&&O.jsxs("div",{className:"modal-title-box",style:s?.titleBox,children:[O.jsxs("div",{className:"title",children:[r&&O.jsx("div",{className:"title-icon",children:r}),t&&O.jsx("p",{className:"title-text",children:t})]}),g?.disabledDismiss!=="all"&&O.jsx(We,{className:"x-button",icon:O.jsx(Bl,{className:"global-icon"}),txtLabel:"Close Modal",appearance:"subtle",isShowtooltip:!1,onClick:()=>{k(!1)}})]}),h&&O.jsx("div",{className:"modal-header-box",style:s?.header,children:h}),O.jsx("div",{className:"modal-body-box",style:s?.body,children:p}),d&&O.jsx("div",{className:"modal-footer-box",style:s?.footer,children:d})]})]})})})}):null},nq=({quill:n,onInsert:e,isDisabled:t=!1})=>{const{screenSize:r}=C.useContext(Lt),[i,s]=C.useState(!1),[o,l]=C.useState(""),[a,u]=C.useState(""),[h,d]=C.useState({index:0,length:0}),p=C.useRef(null);return C.useEffect(()=>{i&&s(!1)},[r]),O.jsx(O.Fragment,{children:r==="mobile"?O.jsxs(O.Fragment,{children:[O.jsx(We,{icon:O.jsx(o2,{className:"global-icon"}),txtLabel:"Insert Link",appearance:"subtle",onClick:()=>{s(!0)},isSelected:i,isDisabled:t}),O.jsxs(Qc,{isOpen:i,setIsOpen:s,onOpen:()=>{d(n?.getSelection()||{index:0,length:0})},onClose:()=>{u(""),l("")},children:[O.jsx(Fe,{type:"text-no-space",txtPlaceholder:"Enter link...",value:a,onChange:g=>{u(g)}}),O.jsx(Fe,{type:"text-no-space",txtPlaceholder:"Enter link text...",value:o,onChange:g=>{l(g)}}),O.jsx("div",{style:{display:"flex",justifyContent:"end"},children:O.jsx(qe,{iconAfter:O.jsx(hp,{className:"global-icon"}),txtLabel:"Insert",appearance:"primary",isDisabled:!o&&!a,onClick:()=>{s(!1),e(h,a,o)}})})]})]}):O.jsxs(O.Fragment,{children:[O.jsx(We,{icon:O.jsx(o2,{className:"global-icon"}),txtLabel:"Insert Link",appearance:"subtle",isSelected:i,onClick:()=>{s(!0)},isDisabled:t}),O.jsx(tq,{isOpen:i,setIsOpen:s,onOpen:()=>{d(n?.getSelection()||{index:0,length:0})},onClose:()=>{u(""),l("")},children:O.jsxs("div",{style:{display:"grid",gap:"var(--space-100)"},children:[O.jsx(Fe,{type:"text-no-space",txtPlaceholder:"Enter link...",value:a,onChange:g=>{u(g)}}),O.jsx(Fe,{type:"text",txtPlaceholder:"Enter link text...",value:o,onChange:g=>{l(g)}}),O.jsx("div",{style:{display:"flex",justifyContent:"end"},children:O.jsx(qe,{iconAfter:O.jsx(hp,{className:"global-icon"}),txtLabel:"Insert",appearance:"primary",isDisabled:!o&&!a,onClick:()=>{p.current&&p.current.click(),e(h,a,o),s(!1)}})})]})})]})})},rq=({quill:n,onInsert:e,isDisabled:t})=>{const{screenSize:r}=C.useContext(Lt),[i,s]=C.useState(!1),[o,l]=C.useState(""),[a,u]=C.useState(""),[h,d]=C.useState(""),[p,g]=C.useState({index:0,length:0}),b=C.useRef(null);return C.useEffect(()=>{i&&s(!1)},[r]),O.jsx(O.Fragment,{children:r==="mobile"?O.jsxs(O.Fragment,{children:[O.jsx(We,{icon:O.jsx(fp,{className:"global-icon"}),txtLabel:"Insert Link",appearance:"subtle",onClick:()=>{s(!0)},isSelected:i,isDisabled:t}),O.jsxs(Qc,{isOpen:i,setIsOpen:s,onOpen:()=>{g(n?.getSelection()||{index:0,length:0})},onClose:()=>{l(""),u(""),d("")},children:[O.jsx(Fe,{type:"text-no-space",txtPlaceholder:"Enter image source...",value:o,onChange:x=>{l(x)}}),O.jsx(Fe,{type:"number",txtPlaceholder:"Enter height...",value:a,onChange:x=>{u(x)},config:{sufixElement:"px"}}),O.jsx(Fe,{type:"number",txtPlaceholder:"Enter width...",value:h,onChange:x=>{d(x)},config:{sufixElement:"px"}}),O.jsx("div",{style:{display:"flex",justifyContent:"end"},children:O.jsx(qe,{iconAfter:O.jsx(hp,{className:"global-icon"}),txtLabel:"Insert",appearance:"primary",isDisabled:!o&&!a&&!h,onClick:()=>{s(!1),e(p,o,a,h)}})})]})]}):O.jsxs(Tc,{trigger:(x,v,w,k)=>(k.current&&(b.current=k.current),O.jsx(We,{ref:x,...v?.()??{},icon:O.jsx(fp,{className:"global-icon"}),txtLabel:"Insert Link",appearance:"subtle",isSelected:w,isDisabled:t})),onOpen:()=>{g(n?.getSelection()||{index:0,length:0})},onClose:()=>{l(""),u(""),d("")},children:[O.jsx(Fe,{type:"text-no-space",txtPlaceholder:"Enter image source...",value:o,onChange:x=>{l(x)}}),O.jsx(Fe,{type:"number",txtPlaceholder:"Enter height...",value:a,onChange:x=>{u(x)},config:{sufixElement:"px"}}),O.jsx(Fe,{type:"number",txtPlaceholder:"Enter width...",value:h,onChange:x=>{d(x)},config:{sufixElement:"px"}}),O.jsx("div",{style:{display:"flex",justifyContent:"end"},children:O.jsx(qe,{iconAfter:O.jsx(hp,{className:"global-icon"}),txtLabel:"Insert",appearance:"primary",isDisabled:!o&&!a&&!h,onClick:()=>{b.current&&b.current.click(),e(p,o,a,h)}})})]})})},iq=({selected:n,onApply:e,isDisabled:t=!1})=>{const{screenSize:r}=C.useContext(Lt),[i,s]=C.useState(!1),o=C.useMemo(()=>[{id:"black",color:"var(--clr-dark)",border:"var(--clr-grey-300)",value:"#000000"},{id:"white",color:"var(--clr-light)",border:"var(--clr-grey-300)",value:"#FFFFFF"},{id:"rose",border:"var(--clr-rose-700)",color:"#F46580",value:"#F46580"},{id:"red",border:"var(--clr-red-700)",color:"#D94D44",value:"#D94D44"},{id:"orange",border:"var(--clr-orange-700)",color:"#F46B0C",value:"#F46B0C"},{id:"yellow",border:"var(--clr-yellow-700)",color:"#C89D0E",value:"#C89D0E"},{id:"lime",border:"var(--clr-lime-700)",color:"#6B982C",value:"#6B982C"},{id:"green",border:"var(--clr-green-700)",color:"#13A04D",value:"#13A04D"},{id:"emerald",border:"var(--clr-emerald-700)",color:"#09976A",value:"#09976A"},{id:"teal",border:"var(--clr-teal-700)",color:"#2E96BA",value:"#2E96BA"},{id:"blue",border:"var(--clr-blue-700)",color:"#247BF4",value:"#247BF4"},{id:"purple",border:"var(--clr-purple-700)",color:"#8171D5",value:"#8171D5"},{id:"magenta",border:"var(--clr-magenta-700)",color:"#C6559C",value:"#C6559C"},{id:"grey",border:"var(--clr-grey-700)",color:"#758195",value:"#758195"}],[]),l=C.useRef(null),a=u=>{e(u),s(!1),l.current?.click()};return C.useEffect(()=>{i&&s(!1)},[r]),O.jsx(O.Fragment,{children:r==="mobile"?O.jsxs(O.Fragment,{children:[O.jsx(We,{icon:O.jsx("div",{style:{height:"13px",width:"13px",borderRadius:"16px",border:"1px solid var(--clr-grey-700)",background:n==="transparent"?"repeating-conic-gradient(var(--clr-border) 0 25%, #0000 0 50%) 50% / 10px 10px":n}}),txtLabel:"Text Color",appearance:"subtle",onClick:()=>{s(!0)},isSelected:i,isDisabled:t}),O.jsx(Qc,{isOpen:i,setIsOpen:s,children:O.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--space-50)"},children:[O.jsx("button",{className:"color-swatch",style:{background:"repeating-conic-gradient(var(--clr-border) 0 25%, #0000 0 50%) 50% / 10px 10px",border:`1px solid ${`${n}`.toLowerCase()==="transparent"?"var(--clr-surface-2)":"var(--clr-border)"}`},onClick:()=>{a("transparent")},children:`${n}`.toLowerCase()==="transparent"&&O.jsx(go,{style:{color:"var(--clr-grey-200)"}})}),o.map(u=>O.jsx("button",{className:"color-swatch",style:{background:u.color,border:`2px solid ${`${n}`.toLowerCase()===u.value.toLowerCase()?"var(--clr-surface-2)":u.border}`},onClick:()=>{a(u.value)},children:`${n}`.toLowerCase()===u.value.toLowerCase()&&O.jsx(go,{style:{color:"var(--clr-grey-200)"}})},u.id))]})})]}):O.jsx(Tc,{trigger:(u,h,d,p)=>(p.current&&(l.current=p.current),O.jsx(We,{ref:u,...h?.()??{},icon:O.jsx("div",{style:{height:"13px",width:"13px",borderRadius:"16px",border:"1px solid var(--clr-grey-700)",background:n==="transparent"?"repeating-conic-gradient(var(--clr-border) 0 25%, #0000 0 50%) 50% / 10px 10px":n}}),txtLabel:"Text Color",appearance:"subtle",isSelected:d,isDisabled:t})),children:O.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--space-50)"},children:[O.jsx("button",{className:"color-swatch",style:{background:"repeating-conic-gradient(var(--clr-border) 0 25%, #0000 0 50%) 50% / 10px 10px",border:`1px solid ${`${n}`.toLowerCase()==="transparent"?"var(--clr-surface-2)":"var(--clr-border)"}`},onClick:()=>{a("transparent")},children:`${n}`.toLowerCase()==="transparent"&&O.jsx(go,{style:{color:"var(--clr-grey-200)"}})}),o.map(u=>O.jsx("button",{className:"color-swatch",style:{background:u.color,border:`2px solid ${`${n}`.toLowerCase()===u.value.toLowerCase()?"var(--clr-surface-2)":u.border}`},onClick:()=>{a(u.value)},children:`${n}`.toLowerCase()===u.value.toLowerCase()&&O.jsx(go,{style:{color:"var(--clr-grey-200)"}})},u.id))]})})})},sq=({selected:n,onApply:e,isDisabled:t=!1})=>{const{screenSize:r}=C.useContext(Lt),[i,s]=C.useState(!1),o=C.useMemo(()=>[{id:"black",color:"var(--clr-dark)",border:"var(--clr-grey-300)",value:"#000000"},{id:"white",color:"var(--clr-light)",border:"var(--clr-grey-300)",value:"#FFFFFF"},{id:"rose",border:"var(--clr-rose-700)",color:"#E8909D",value:"#E8909D"},{id:"red",border:"var(--clr-red-700)",color:"#ED756E",value:"#ED756E"},{id:"orange",border:"var(--clr-orange-700)",color:"#F89A30",value:"#F89A30"},{id:"yellow",border:"var(--clr-yellow-700)",color:"#E1BB30",value:"#E1BB30"},{id:"lime",border:"var(--clr-lime-700)",color:"#94BD59",value:"#94BD59"},{id:"green",border:"var(--clr-green-700)",color:"#36C981",value:"#36C981"},{id:"emerald",border:"var(--clr-emerald-700)",color:"#2CC392",value:"#2CC392"},{id:"teal",border:"var(--clr-teal-700)",color:"#61BBDA",value:"#61BBDA"},{id:"blue",border:"var(--clr-blue-700)",color:"#599CFA",value:"#599CFA"},{id:"purple",border:"var(--clr-purple-700)",color:"#9E91E6",value:"#9E91E6"},{id:"magenta",border:"var(--clr-magenta-700)",color:"#DA7BB7",value:"#DA7BB7"},{id:"grey",border:"var(--clr-grey-700)",color:"#96A0AF",value:"#96A0AF"}],[]),l=C.useRef(null),a=u=>{e(u),s(!1),l.current?.click()};return C.useEffect(()=>{i&&s(!1)},[r]),O.jsx(O.Fragment,{children:r==="mobile"?O.jsxs(O.Fragment,{children:[O.jsx(We,{icon:O.jsx("div",{style:{height:"16px",borderRadius:"16px",background:n==="transparent"?"repeating-conic-gradient(var(--clr-border) 0 25%, #0000 0 50%) 50% / 10px 10px":n},children:O.jsx(s2,{className:"global-icon"})}),txtLabel:"Text Highlight",appearance:"subtle",onClick:()=>{s(!0)},isSelected:i,isDisabled:t}),O.jsx(Qc,{isOpen:i,setIsOpen:s,children:O.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--space-50)"},children:[O.jsx("button",{className:"color-swatch",style:{background:"repeating-conic-gradient(var(--clr-border) 0 25%, #0000 0 50%) 50% / 10px 10px",border:`1px solid ${`${n}`.toLowerCase()==="transparent"?"var(--clr-surface-2)":"var(--clr-border)"}`},onClick:()=>{a("transparent")},children:`${n}`.toLowerCase()==="transparent"&&O.jsx(go,{style:{color:"var(--clr-grey-200)"}})}),o.map(u=>O.jsx("button",{className:"color-swatch",style:{background:u.color,border:`2px solid ${`${n}`.toLowerCase()===u.value.toLowerCase()?"var(--clr-surface-2)":u.border}`},onClick:()=>{a(u.value)},children:`${n}`.toLowerCase()===u.value.toLowerCase()&&O.jsx(go,{style:{color:"var(--clr-grey-200)"}})},u.id))]})})]}):O.jsx(Tc,{trigger:(u,h,d,p)=>(p.current&&(l.current=p.current),O.jsx(We,{ref:u,...h?.()??{},icon:O.jsx("div",{style:{height:"16px",borderRadius:"16px",background:n==="transparent"?"repeating-conic-gradient(var(--clr-border) 0 25%, #0000 0 50%) 50% / 10px 10px":n},children:O.jsx(s2,{className:"global-icon"})}),txtLabel:"Text Highlight",appearance:"subtle",isSelected:d,isDisabled:t})),children:O.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--space-50)"},children:[O.jsx("button",{className:"color-swatch",style:{background:"repeating-conic-gradient(var(--clr-border) 0 25%, #0000 0 50%) 50% / 10px 10px",border:`1px solid ${`${n}`.toLowerCase()==="transparent"?"var(--clr-surface-2)":"var(--clr-border)"}`},onClick:()=>{a("transparent")},children:`${n}`.toLowerCase()==="transparent"&&O.jsx(go,{style:{color:"var(--clr-grey-200)"}})}),o.map(u=>O.jsx("button",{className:"color-swatch",style:{background:u.color,border:`2px solid ${`${n}`.toLowerCase()===u.value.toLowerCase()?"var(--clr-surface-2)":u.border}`},onClick:()=>{a(u.value)},children:`${n}`.toLowerCase()===u.value.toLowerCase()&&O.jsx(go,{style:{color:"var(--clr-grey-200)"}})},u.id))]})})})},S0=(n,e,t)=>{t&&t(n.id,n,e)},oq=(n,e,t)=>{t&&t(n,e)};function lq(n){return ye({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(n)}function aq(n){return ye({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(n)}const cq=({isSelected:n=!1,isIndeterminate:e=!1,shape:t=void 0})=>{const{globalShape:r}=C.useContext(Lt);return O.jsx("div",{className:je("checkbox-square-indicator",n||e?"square-on":"square-off",t||r,{"full-on":n}),children:e?O.jsx(aq,{className:"icon-check",size:8}):n?O.jsx(lq,{className:"icon-check",size:8}):O.jsx(O.Fragment,{})})},uq=({className:n=void 0,shape:e=void 0,style:t=void 0,appearance:r="subtle-selected",txtLabel:i=void 0,txtSublabel:s=void 0,icon:o=void 0,isSelected:l=!1,onClick:a=void 0,isDisabled:u=!1,isIndeterminate:h=!1})=>{const{globalShape:d}=C.useContext(Lt);return O.jsx(qe,{className:je("checkbox-button",r,e||d,n),isSelected:l||h,isDisabled:u,onClick:p=>{oq(!l,p,a)},txtLabel:O.jsx(O.Fragment,{children:(i||s)&&O.jsxs("div",{className:"text-label-box",children:[O.jsx("p",{className:"text-label",children:i}),s&&O.jsx("p",{className:"text-sublabel text-sub",children:s??""})]})}),iconBefore:O.jsxs("div",{style:{display:"flex",gap:"var(--space-200)"},children:[O.jsx(cq,{isIndeterminate:h,isSelected:l,shape:e}),o]}),appearance:"subtle",style:t})},hw=({style:n,shape:e,onClick:t,setIsChildOpen:r,options:i,optionSelected:s,optionSelectedAppearance:o,floatingConfig:l})=>{const{globalShape:a}=C.useContext(Lt);return O.jsx(O.Fragment,{children:i.map(u=>u.type!=="separator"?u.childOption===void 0?l?.isWithCheckmark&&u.type==="option"?O.jsx(uq,{className:je("dropdown-item"),style:n?.optionButton,shape:e,txtLabel:u.txtLabel,txtSublabel:u.txtSublabel,icon:u.icon,isSelected:s?.includes(u.id)||!1,onClick:(h,d)=>{S0(u,d,t)},isDisabled:u.isDisabled,appearance:o},u.id):O.jsx(qe,{id:u.id,className:je("dropdown-item"),style:n?.optionButton,shape:e,txtLabel:O.jsxs("div",{className:"text-label-box",children:[O.jsx("p",{className:"text-label",children:u.txtLabel}),u.txtSublabel&&O.jsx("p",{className:"text-sublabel text-sub",children:u.txtSublabel??""})]}),iconBefore:l?.isWithCheckmark?O.jsxs("div",{className:"check-icon-container",children:[O.jsx(r2,{className:"global-icon",style:{color:"transparent"}}),u.icon]}):u.icon,isSelected:s?.includes(u.id),appearance:"subtle",onClick:h=>{S0(u,h,t)},isDisabled:u.isDisabled},u.id):O.jsx(Gb,{options:u.childOption,optionSelected:s,style:{...n,triggerBox:{width:"unset"}},shape:e||a,onClick:(h,d,p)=>{S0(d,p,t)},floatingConfig:{placement:l?.placement??"right-start",fallbackPlacement:l?.fallbackPlacement,level:(l?.level??0)+1,isWithCheckmark:l?.isWithCheckmark,isCloseOnItemClicked:l?.isCloseOnItemClicked,isLockScroll:l?.isLockScroll},onOpen:()=>{r&&r(!0)},onClose:()=>{r&&r(!1)},trigger:(h,d,p)=>O.jsx("div",{style:{display:"flex"},...d?.()??{},children:O.jsx(qe,{ref:h,id:u.id,className:je("dropdown-item"),style:n?.optionButton,shape:e,txtLabel:u.txtLabel??"",iconBefore:l?.isWithCheckmark?O.jsxs("div",{className:"check-icon-container",children:[O.jsx(r2,{className:"global-icon",style:{color:"transparent"}}),u.icon]}):u.icon,iconAfter:O.jsx("div",{className:"check-icon-container",children:O.jsx(Z6,{className:"global-icon",style:{color:`var(--clr-surface${p?"-primary":""}-4)`}})}),isSelected:p,appearance:"subtle",isDisabled:u.isDisabled},u.id)})},u.id):O.jsx("div",{className:"separator",children:u.txtLabel&&O.jsx("span",{className:"section-title",children:u.txtLabel})},u.id))})},wu=({className:n=void 0,shape:e=void 0,width:t=void 0,height:r=void 0,style:i=void 0})=>{const{globalShape:s}=C.useContext(Lt);return O.jsx("div",{className:je("skeleton",e||s,n),style:{width:typeof t=="number"?`${t}px`:t,height:typeof r=="number"?`${r}px`:r,...i},children:O.jsx("p",{children:"..."})})},Gb=({className:n,trigger:e,style:t=void 0,shape:r=void 0,options:i=[],optionSelected:s=void 0,optionSelectedAppearance:o="subtle-selected",isDisabled:l=!1,isLoading:a=!1,onClick:u,onClose:h,onOpen:d,elementHeader:p=void 0,elementFooter:g=void 0,floatingConfig:b=void 0})=>{const[x,v]=C.useState(!1),{screenSize:w}=C.useContext(Lt),[k,$]=C.useState(!1),B=C.useRef(null),N=C.useMemo(()=>e?typeof e=="function"?O.jsx(O.Fragment,{children:tt.cloneElement(e(void 0,void 0,k,B),{ref:B,onClick:()=>{l||$(!k)},disabled:l})}):O.jsx("div",{className:je("bottom-sheet-trigger-box"),style:t?.triggerBox,children:tt.cloneElement(e,{ref:B,onClick:()=>{l||$(!k)},disabled:l})}):O.jsx(O.Fragment,{}),[e,l,k]),[z,Z]=C.useState(0);return C.useEffect(()=>{$(!1)},[w]),w!=="mobile"||b?.mode?.length===1&&b.mode.includes("dropdown")?O.jsxs(Tc,{className:je("dropdown-menu-dropdown",n),trigger:e,elementHeader:p,elementFooter:g,onClose:h,onOpen:d,isDisabled:l,triggerClose:z,floatingConfig:b,style:{container:t?.container,triggerBox:t?.triggerBox},children:[O.jsx(hw,{style:t,shape:r,options:i,optionSelected:s,optionSelectedAppearance:o,onClick:(H,te,K)=>{u&&u(H,te,K),b?.isCloseOnItemClicked&&(Z(1),setTimeout(()=>{Z(0)},200))},floatingConfig:b}),a&&O.jsxs("div",{style:{display:"grid",gap:"var(--space-100)",margin:"var(--space-50) var(--space-0)"},children:[O.jsx(wu,{style:{margin:"0px"}}),O.jsx(wu,{style:{margin:"0px"}}),O.jsx(wu,{style:{margin:"0px"}}),O.jsx(wu,{style:{margin:"0px"}}),O.jsx(wu,{style:{margin:"0px"}})]})]}):O.jsxs(O.Fragment,{children:[N,O.jsx(Qc,{isOpen:k,setIsOpen:$,className:je("dropdown-menu-bottom-sheet",n),elementHeader:p,elementFooter:g,onClose:h,onOpen:d,floatingConfig:{...b,isChildOpen:x},style:{container:t?.container,triggerBox:t?.triggerBox},children:O.jsx(hw,{style:t,shape:r,options:i,optionSelected:s,optionSelectedAppearance:o,onClick:(H,te,K)=>{setTimeout(()=>{u&&u(H,te,K),b?.isCloseOnItemClicked&&$(!1)},x?400:0)},setIsChildOpen:v,floatingConfig:b})})]})},hq=({selected:n,onClickOption:e,isDisabled:t=!1})=>O.jsx(nP,{className:"header-dropdown-box",content:"Text Type",children:O.jsx(Gb,{trigger:O.jsx(qe,{txtLabel:`${n?"Header ":""}${n||"Normal"}`,iconAfter:O.jsx(lb,{className:"global-icon"}),isDisabled:t,appearance:"subtle"}),options:[{id:"",txtLabel:"Normal"},{id:"1",txtLabel:"Header 1"},{id:"2",txtLabel:"Header 2"},{id:"3",txtLabel:"Header 3"},{id:"4",txtLabel:"Header 4"},{id:"5",txtLabel:"Header 5"},{id:"6",txtLabel:"Header 6"}],onClick:r=>{e(r)}})}),aQ=({quill:n,shape:e,moduleList:t=["bold","italic","underline","strike","code","subscript","superscript","text-type","order-list","unorder-list","indent","align","color","highlight","link","image","quote-block","code-block","clear"],isDisabled:r=!1,isFloating:i=!1})=>{const[s,o]=C.useState({}),l=C.useCallback((p,g)=>{if(!n)return;const b=n.getSelection();if(b){if(g===void 0){const v=!n.getFormat(b)[p];n.format(p,v)}else{const v=n.getFormat(b)[p]===g?!1:g;n.format(p,v)}n.focus()}},[n]),a=C.useCallback((p,g,b)=>{n&&(n.insertText(p.index,b,"link",g),n.focus())},[n]),u=C.useCallback((p,g,b,x)=>{n&&(n.insertEmbed(p.index,"image",g),(b||x)&&n.formatText(p.index,1,{width:b?`${b}px`:void 0,height:x?`${x}px`:void 0}),n.focus())},[n]),h=C.useCallback((p,g)=>{if(!n)return;const b=n.getSelection();if(b){if(p==="blockquote"){const v=!n.getFormat(b).blockquote;n.format("blockquote",v)}else if(p==="code-block"){const v=!n.getFormat(b)["code-block"];n.format("code-block",v)}else if(p==="list")n.getFormat(b).list===g?n.format("list",!1):n.format("list",g);else if(p==="indent"){const x=n.getFormat(b);if(x.list){const v=x.indent||0,w=g==="+1"?v+1:Math.max(0,v-1);n.format("indent",w>0?w:!1)}else{const v=x.indent||0,w=g==="+1"?v+1:Math.max(0,v-1);n.format("indent",w>0?w:!1)}}else n.format(p,g);n.focus()}},[n]),d=C.useCallback(()=>{if(!n)return;const p=n.getSelection();p&&(n.removeFormat(p.index,p.length),n.focus())},[n]);return C.useEffect(()=>{if(!n)return;const p=()=>{const b=n.getSelection();if(b){const x=n.getFormat(b);o(x)}},g=()=>{n.keyboard.addBinding({key:9,handler:b=>n.getFormat(b).list?(h("indent","+1"),!1):!0}),n.keyboard.addBinding({key:9,shiftKey:!0,handler:b=>n.getFormat(b).list?(h("indent","-1"),!1):!0})};return n.on("selection-change",p),n.on("text-change",p),g(),()=>{n.off("selection-change",p),n.off("text-change",p)}},[n,h]),O.jsxs("div",{className:je("toolbar-container",{"toolbar-floating":i},e),children:[t.includes("bold")&&O.jsx(We,{icon:O.jsx(r8,{className:"global-icon"}),appearance:"subtle",txtLabel:"Bold",onClick:()=>l("bold"),isSelected:s.bold,isDisabled:r}),t.includes("italic")&&O.jsx(We,{icon:O.jsx(o8,{className:"global-icon"}),appearance:"subtle",txtLabel:"Italic",onClick:()=>l("italic"),isSelected:s.italic,isDisabled:r}),t.includes("underline")&&O.jsx(We,{icon:O.jsx(f8,{className:"global-icon"}),appearance:"subtle",txtLabel:"Underline",onClick:()=>l("underline"),isSelected:s.underline,isDisabled:r}),t.includes("strike")&&O.jsx(We,{icon:O.jsx(a8,{className:"global-icon"}),appearance:"subtle",txtLabel:"Strikethrough",onClick:()=>l("strike"),isSelected:s.strike,isDisabled:r}),t.includes("code")&&O.jsx(We,{icon:O.jsx(xC,{className:"global-icon"}),appearance:"subtle",txtLabel:"Code",onClick:()=>l("code"),isSelected:s.code,isDisabled:r}),t.includes("subscript")&&O.jsx(We,{icon:O.jsx(c8,{className:"global-icon"}),appearance:"subtle",txtLabel:"Subscript",onClick:()=>l("script","sub"),isSelected:s.script==="sub",isDisabled:r}),t.includes("superscript")&&O.jsx(We,{icon:O.jsx(u8,{className:"global-icon"}),appearance:"subtle",txtLabel:"Superscript",onClick:()=>l("script","super"),isSelected:s.script==="super",isDisabled:r}),t.includes("text-type")&&O.jsx(hq,{selected:s.header,onClickOption:p=>{h("header",p||!1)},isDisabled:r}),t.includes("order-list")&&O.jsx(We,{icon:O.jsx(Y6,{className:"global-icon"}),appearance:"subtle",txtLabel:"Ordered List",onClick:()=>h("list","ordered"),isSelected:s.list==="ordered",isDisabled:r}),t.includes("unorder-list")&&O.jsx(We,{icon:O.jsx(SC,{className:"global-icon"}),appearance:"subtle",txtLabel:"Bullet List",onClick:()=>h("list","bullet"),isSelected:s.list==="bullet",isDisabled:r}),t.includes("indent")&&O.jsxs(O.Fragment,{children:[O.jsx(We,{icon:O.jsx(l8,{className:"global-icon"}),appearance:"subtle",txtLabel:"Decrease Indent",onClick:()=>h("indent","-1"),isDisabled:!s.indent&&s.indent!==0||r}),O.jsx(We,{icon:O.jsx(s8,{className:"global-icon"}),appearance:"subtle",txtLabel:"Increase Indent",onClick:()=>h("indent","+1"),isDisabled:s.indent===8||r})]}),t.includes("align")&&O.jsxs(O.Fragment,{children:[O.jsx(We,{icon:O.jsx(CC,{className:"global-icon"}),appearance:"subtle",txtLabel:"Align Left",onClick:()=>h("align",""),isSelected:!s.align,isDisabled:r}),O.jsx(We,{icon:O.jsx(kC,{className:"global-icon"}),appearance:"subtle",txtLabel:"Align Center",onClick:()=>h("align","center"),isSelected:s.align==="center",isDisabled:r}),O.jsx(We,{icon:O.jsx(PC,{className:"global-icon"}),appearance:"subtle",txtLabel:"Align Right",onClick:()=>h("align","right"),isSelected:s.align==="right",isDisabled:r}),O.jsx(We,{icon:O.jsx(TC,{className:"global-icon"}),appearance:"subtle",txtLabel:"Align Justify",onClick:()=>h("align","justify"),isSelected:s.align==="justify",isDisabled:r})]}),t.includes("color")&&O.jsx(iq,{selected:s.color||"",onApply:p=>l("color",p),isDisabled:r}),t.includes("highlight")&&O.jsx(sq,{selected:s.background||"transparent",onApply:p=>l("background",p),isDisabled:r}),t.includes("link")&&O.jsx(nq,{quill:n,onInsert:(p,g,b)=>{a(p,g,b)},isDisabled:r}),t.includes("image")&&O.jsx(rq,{quill:n,onInsert:(p,g,b,x)=>{u(p,g,x,b)},isDisabled:r}),t.includes("quote-block")&&O.jsx(We,{icon:O.jsx(J6,{className:"global-icon"}),appearance:"subtle",txtLabel:"Blockquote",onClick:()=>h("blockquote"),isSelected:s.blockquote,isDisabled:r}),t.includes("code-block")&&O.jsx(We,{icon:O.jsx(z6,{className:"global-icon"}),appearance:"subtle",txtLabel:"Code Block",onClick:()=>h("code-block"),isSelected:s["code-block"],isDisabled:r}),t.includes("clear")&&O.jsx(We,{icon:O.jsx(W6,{className:"global-icon"}),appearance:"subtle",txtLabel:"Clear Formatting",onClick:()=>d(),isDisabled:r})]})},fq=({quill:n,moduleList:e,shape:t,isDisabled:r})=>{const[i,s]=C.useState(!1),{x:o,y:l,strategy:a,refs:u,update:h}=Bh({placement:"bottom-start",middleware:[gb(-10),Ob({padding:10,fallbackPlacements:["bottom","bottom-start","bottom-end","top","top-start","top-end"]}),mb({padding:10})],strategy:"fixed",whileElementsMounted:Nh});return C.useEffect(()=>{if(!n)return;const d=p=>{if(p&&p.length>0){const g=n.getBounds(p.index,p.length);if(!g)return;const b=n.root.getBoundingClientRect();u.setReference({getBoundingClientRect:()=>({width:g.width,height:g.height,top:b.top+g.top,bottom:b.top+g.bottom,left:b.left+g.left,right:b.left+g.right,x:b.left+g.left,y:b.top+g.top})}),s(!0),h()}else s(!1)};return n.on("selection-change",d),()=>{n.off("selection-change",d)}},[n,u,h]),O.jsx("div",{ref:u.setFloating,style:{position:a,top:l,left:o??0,zIndex:10,display:i?"block":"none"},children:O.jsx(aQ,{quill:n,moduleList:e,shape:t,isDisabled:r,isFloating:!0})})},dq=({type:n="classic",className:e=void 0,style:t=void 0,shape:r=void 0,txtPlaceholder:i=void 0,value:s=void 0,isDisabled:o=!1,onChange:l=void 0,onBlur:a=void 0,onFocus:u=void 0,error:h=void 0,onValidate:d=void 0,config:p=void 0})=>{const{globalShape:g}=C.useContext(Lt),b=C.useRef(null),x=C.useRef(null),v=C.useMemo(()=>{const H=["bold","italic","underline","strike","code","subscript","superscript","text-type","order-list","unorder-list","indent","align","color","highlight","link","image","quote-block","code-block","clear"];return p?.moduleList?p.moduleList:H},[p?.moduleList]),w=C.useMemo(()=>p?.isAsPreview,[p?.isAsPreview]),k=C.useRef(!1),[$,B]=C.useState(!1),N=Co.debounce(()=>{x.current&&Iz(x,k,l,p,d)},150),z=H=>{x.current&&jz(H,x,B,u)},Z=H=>{x.current&&Dz(H,x,B,k,p,d,a)};return C.useEffect(()=>{if(b.current&&!x.current){let H=["header","bold","italic","underline","strike","list","indent","align","color","background","link","image","blockquote","code","code-block","script"];p?.disabledFormat&&(H=[...H].filter(E=>!p.disabledFormat?.includes(E))),x.current=new le(b.current,{theme:"snow",modules:{toolbar:!1,keyboard:{bindings:{enter:{key:"Enter",handler:function(){return!p?.isDisableNewLine}}}},clipboard:{matchers:[["*",function(E){return new Qe().insert(E.innerText)}]]}},formats:H,placeholder:i,readOnly:o});const te=new Qe().insert(`
`);x.current.setContents(s??te);const K=x.current;K.on("text-change",()=>{if(!p?.isListOnly){N();return}const E=K.getLength(),P=K.getSelection()||{index:E-1},Q=K.getFormat(P.index);if(E<=1&&Q.list!=="bullet"&&Q.list!=="ordered"){const j=new Qe().insert(`
`,{list:"bullet"});K.setContents(j),K.setSelection(0);return}const[I]=K.getLine(P.index);if(I&&!K.getFormat(P.index).list){const j=K.getIndex(I),q=I.length();K.deleteText(j,q,"silent");let V=0;const F=K.getLines();for(let U=F.length-1;U>=0;U--){const oe=K.getFormat(K.getIndex(F[U]));if(oe.list==="bullet"||oe.list==="ordered"){V=K.getIndex(F[U])+F[U].length()-1;break}}K.setSelection(V,0,"silent");return}N()});const R=x.current.root;R.addEventListener("focus",z),R.addEventListener("blur",Z)}return()=>{if(x.current){const H=x.current.root;H.removeEventListener("focus",z),H.removeEventListener("blur",Z),x.current.off("text-change",N),x.current=null}}},[JSON.stringify(p)]),C.useEffect(()=>{if(x&&x.current){const H=x.current.getContents();JSON.stringify(H)!==JSON.stringify(s)&&!$&&x.current.setContents(s??[])}},[s]),C.useEffect(()=>{x.current&&x.current.enable(!o)},[o]),O.jsxs("div",{className:je("wysiwyg-box",r||g,{"has-error":h?.isError,disabled:o},e),children:[n==="classic"&&(!w||w&&l)&&O.jsx(aQ,{quill:x.current,shape:r||g,moduleList:v,isDisabled:o}),n==="floating"&&!w&&O.jsx(fq,{quill:x.current,moduleList:v,shape:r||g,isDisabled:o}),O.jsx("div",{ref:b,className:"editor-box",style:t?.editorBox}),n==="classic"&&!w&&O.jsxs("div",{className:"footer-box",style:t?.footerBox,children:[h&&h.isError&&h.errorMessage&&O.jsxs("div",{className:"error-box",children:[O.jsx(kc,{className:"global-icon"}),O.jsx("p",{children:h.errorMessage})]}),!p?.isHideTextCount&&O.jsxs("p",{className:"count-box",children:["Count: ",x.current?x.current.getLength()-1:"0"]})]})]})},Rg=({blockId:n})=>{const{paperValue:e,setPaperValue:t}=xn(),r=e[n],i=r.props,s=r.type,[o,l]=C.useState(i.textDelta);C.useEffect(()=>{JSON.stringify(o)!==JSON.stringify(r.props.textDelta)&&(console.log("update from block"),t(p=>{const g={...p};return g[n].props.textDelta=o,g}))},[JSON.stringify(o)]);const a=C.useMemo(()=>e.root.props.fontFamily??"",[]),u=C.useMemo(()=>e.root.props.h1Size?`${e.root.props.h1Size}px`:void 0,[]),h=C.useMemo(()=>e.root.props.h2Size?`${e.root.props.h2Size}px`:void 0,[]),d=C.useMemo(()=>e.root.props.h3Size?`${e.root.props.h3Size}px`:void 0,[]);return O.jsx(dq,{className:`block-wysiwyg text-align-${i.textAlign}`,type:"floating",txtPlaceholder:"Enter text...",value:o,onChange:p=>{l(p)},config:{moduleList:["bold","italic","underline","strike","subscript","superscript","color","link","clear"],disabledFormat:s==="list"?["indent"]:["indent","list"],isDisableNewLine:!(s==="text"||s==="list"),isListOnly:s==="list"},style:{editorBox:{color:i.textColor,fontFamily:i.fontFamily?i.fontFamily==="global"?Ni[a]:Ni[i.fontFamily]:void 0,fontSize:i.textType==="h1"?u??"32px":i.textType==="h2"?h??"24px":i.textType==="h3"?d??"20":i.fontSize?`${i.fontSize}px`:"12px",fontWeight:i.textType?"bold":void 0}}})},pq=({blockId:n,isSelected:e})=>O.jsx(O.Fragment,{children:e?O.jsx("div",{style:{width:"100%"},children:O.jsx(Rg,{blockId:n})}):O.jsx(Sg,{blockId:n})}),gq=({blockId:n,isSelected:e})=>O.jsx(O.Fragment,{children:e?O.jsx("div",{style:{width:"100%"},children:O.jsx(Rg,{blockId:n})}):O.jsx(Sg,{blockId:n})}),mq=({blockId:n,isSelected:e})=>{const{triggerRefreshListType:t}=xn();return O.jsx(O.Fragment,{children:e&&t===0?O.jsx("div",{style:{width:"100%"},children:O.jsx(Rg,{blockId:n})}):O.jsx(Sg,{blockId:n})})},Oq=({blockId:n})=>{const{paperValue:e}=xn(),r=e[n].props;return O.jsx("div",{style:{textAlign:r.justify,height:r.height?`${r.height}px`:"auto"},children:O.jsx("a",{href:r.url??void 0,style:{textDecoration:"none"},onClick:i=>{i.preventDefault()},children:r.imageSrcUrl?O.jsx("img",{style:{verticalAlign:"middle",display:"inline-block",maxWidth:"100%",height:r.height?`${r.height}px`:"auto",width:r.width?`${r.width}px`:"auto",borderTopLeftRadius:`${r.borderRadiusTL??"0"}px`,borderTopRightRadius:`${r.borderRadiusTR??"0"}px`,borderBottomLeftRadius:`${r.borderRadiusBL??"0"}px`,borderBottomRightRadius:`${r.borderRadiusBR??"0"}px`},src:r.imageSrcUrl}):O.jsx("div",{style:{display:"flex",justifyContent:r.justify},children:O.jsx("div",{style:{height:"fit-content",width:"fit-content"},children:O.jsx("div",{style:{verticalAlign:"middle",maxWidth:"100%",height:r.height?`${r.height}px`:"100%",width:r.width?`${r.width}px`:"100%",borderTopLeftRadius:`${r.borderRadiusTL??"0"}px`,borderTopRightRadius:`${r.borderRadiusTR??"0"}px`,borderBottomLeftRadius:`${r.borderRadiusBL??"0"}px`,borderBottomRightRadius:`${r.borderRadiusBR??"0"}px`,backgroundColor:"var(--clr-surface-2)",display:"flex",justifyContent:"center",alignItems:"center"},children:O.jsx(fp,{size:20})})})})})})},bq=({blockId:n,isSelected:e})=>{const{paperValue:t}=xn(),i=t[n].props;return O.jsx(O.Fragment,{children:e?O.jsx("div",{style:{display:"flex",justifyContent:`${i.textAlign==="justify"?"left":i.textAlign}`,width:"100%"},children:O.jsx("div",{style:{backgroundColor:i.buttonColor??"transparent",paddingTop:`${i.contentPaddingTop}px`,paddingBottom:`${i.contentPaddingBottom}px`,paddingLeft:`${i.contentPaddingLeft}px`,paddingRight:`${i.contentPaddingRight}px`,borderTopLeftRadius:`${i.borderRadiusTL??"0"}px`,borderTopRightRadius:`${i.borderRadiusTR??"0"}px`,borderBottomLeftRadius:`${i.borderRadiusBL??"0"}px`,borderBottomRightRadius:`${i.borderRadiusBR??"0"}px`,borderTop:`${i.borderTop||"0"}px solid ${i.borderColor||"transparent"}`,borderBottom:`${i.borderBottom||"0"}px solid ${i.borderColor||"transparent"}`,borderLeft:`${i.borderLeft||"0"}px solid ${i.borderColor||"transparent"}`,borderRight:`${i.borderRight||"0"}px solid ${i.borderColor||"transparent"}`,color:i.textColor,width:i.buttonWidth==="full"?"100%":"fit-content"},children:O.jsx(Rg,{blockId:n})})}):O.jsx("div",{style:{textAlign:`${i.textAlign==="justify"?"left":i.textAlign}`,width:"100%"},children:O.jsx("a",{href:i.url??"##",style:{display:`${i.buttonWidth==="full"?"block":"inline-block"}`,backgroundColor:i.buttonColor??"transparent",paddingTop:`${i.contentPaddingTop}px`,paddingBottom:`${i.contentPaddingBottom}px`,paddingLeft:`${i.contentPaddingLeft}px`,paddingRight:`${i.contentPaddingRight}px`,borderTopLeftRadius:`${i.borderRadiusTL??"0"}px`,borderTopRightRadius:`${i.borderRadiusTR??"0"}px`,borderBottomLeftRadius:`${i.borderRadiusBL??"0"}px`,borderBottomRightRadius:`${i.borderRadiusBR??"0"}px`,borderTop:`${i.borderTop||"0"}px solid ${i.borderColor||"transparent"}`,borderBottom:`${i.borderBottom||"0"}px solid ${i.borderColor||"transparent"}`,borderLeft:`${i.borderLeft||"0"}px solid ${i.borderColor||"transparent"}`,borderRight:`${i.borderRight||"0"}px solid ${i.borderColor||"transparent"}`,color:i.textColor,textDecoration:"none"},onClick:s=>{s.preventDefault()},children:O.jsx(Sg,{blockId:n})})})})},xq=({blockId:n})=>{const{paperValue:e}=xn(),r=e[n].props;return O.jsx("div",{style:{display:"block",height:r.height?`${r.height}px`:"0px",flexGrow:"1"}})},vq=({blockId:n})=>{const{paperValue:e}=xn(),r=e[n].props;return O.jsx("div",{style:{display:"block",flexGrow:"1"},children:O.jsx("div",{style:{borderBottom:`${r.height||0}px solid ${r.deviderColor||"transparent"}`,width:"100%"}})})},cQ=({id:n="",parentId:e="root"})=>{const{paperValue:t,setPaperValue:r,selectedId:i,setSelectedId:s,addNewBlock:o,removeBlock:l,moveUpBlock:a,moveDownBlock:u,copyDownBlock:h,draggedContent:d,setDraggedContent:p,isDesktopView:g,isShowHidden:b}=xn(),x=C.useMemo(()=>i===n,[i]),v=C.useMemo(()=>t[n],[JSON.stringify(t[n])]),[w,k]=C.useState(!1),$=E=>{E==="remove"&&l(n),E==="move-down"&&u(n,e),E==="move-up"&&a(n,e),E==="copy"&&h(n,e)},[B,N]=C.useState(!1),z=E=>{p({id:n,parentId:e}),E.dataTransfer.effectAllowed="copy",E.dataTransfer.setData("text/plain",n)},Z=E=>{E.preventDefault(),p(null)},H=E=>{E.preventDefault(),N(!0),E.dataTransfer.dropEffect="copy"},te=()=>{N(!1)},K=E=>{const P=new Set,Q=I=>{const j=t[I];j&&j.childIds&&j.childIds.length>0&&j.childIds.forEach(q=>{P.add(q),Q(q)})};return Q(E),P},R=E=>{E.preventDefault(),d&&d.id!==n&&(console.log(`Item ${d.id} in ${d.parentId}, Dragged next after ${n} in ${e}`),K(d.id).has(n)||r(Q=>{const I={...Q},j=Q[d.parentId].childIds.filter(V=>V!==d.id);I[d.parentId].childIds=j;const q=[];return Q[e].childIds.forEach(V=>{q.push(V),V===n&&q.push(d.id)}),I[e].childIds=q,I})),B&&N(!1),p(null)};return O.jsxs("div",{style:{position:"relative"},children:[O.jsxs("div",{className:je("block-container",{"block-selected":x,"block-hovered":w}),style:{display:v.props.visibility==="hide-desktop"&&g&&!b||v.props.visibility==="hide-mobile"&&!g&&!b?"none":"block"},onClick:E=>{E.stopPropagation(),x||s(n)},onKeyDown:E=>{E.stopPropagation(),E.target&&E.target.classList.contains("block-container")&&(E.key===" "||E.key==="Enter")&&i!==n&&s(n)},onMouseEnter:()=>{k(!0)},onMouseLeave:()=>{k(!1)},tabIndex:0,children:[x&&O.jsxs(O.Fragment,{children:[O.jsx(wB,{onClickAction:E=>{$(E)},handleDragStart:E=>{z(E)},handleDragEnd:E=>{Z(E)}}),O.jsx(SB,{onClickAction:(E,P)=>{o(E,n,e,P)}})]}),O.jsxs("div",{className:"paper-block-content",style:{opacity:v.props.visibility==="hide-desktop"&&g||v.props.visibility==="hide-mobile"&&!g?"0.5":"1",paddingTop:`${v.props.paddingTop||"0"}px`,paddingRight:`${v.props.paddingRight||"0"}px`,paddingBottom:`${v.props.paddingBottom||"0"}px`,paddingLeft:`${v.props.paddingLeft||"0"}px`,backgroundColor:`${v.props.backgroundColor??"transparent"}`,fontFamily:Ni[t.root.props.fontFamily??"aria"],borderTopLeftRadius:["button","image"].includes(v.type)?"0px":`${v.props.borderRadiusTL??"0"}px`,borderTopRightRadius:["button","image"].includes(v.type)?"0px":`${v.props.borderRadiusTR??"0"}px`,borderBottomLeftRadius:["button","image"].includes(v.type)?"0px":`${v.props.borderRadiusBL??"0"}px`,borderBottomRightRadius:["button","image"].includes(v.type)?"0px":`${v.props.borderRadiusBR??"0"}px`,borderTop:["button","image"].includes(v.type)?void 0:`${v.props.borderTop||"0"}px solid ${v.props.borderColor||"transparent"}`,borderBottom:["button","image"].includes(v.type)?void 0:`${v.props.borderBottom||"0"}px solid ${v.props.borderColor||"transparent"}`,borderLeft:["button","image"].includes(v.type)?void 0:`${v.props.borderLeft||"0"}px solid ${v.props.borderColor||"transparent"}`,borderRight:["button","image"].includes(v.type)?void 0:`${v.props.borderRight||"0"}px solid ${v.props.borderColor||"transparent"}`},children:[v.type==="heading"&&O.jsx(pq,{blockId:n,isSelected:x}),v.type==="text"&&O.jsx(gq,{blockId:n,isSelected:x}),v.type==="list"&&O.jsx(mq,{blockId:n,isSelected:x}),v.type==="image"&&O.jsx(Oq,{blockId:n}),v.type==="button"&&O.jsx(bq,{blockId:n,isSelected:x}),v.type==="container"&&O.jsx(uQ,{blockId:n,props:v.props}),v.type==="column"&&O.jsx(yq,{blockId:n}),v.type==="spacer"&&O.jsx(xq,{blockId:n}),v.type==="devider"&&O.jsx(vq,{blockId:n}),!["heading","text","list","image","button","container","column","spacer","devider"].includes(v.type)&&O.jsxs("p",{children:[v.type," coming soon..."]})]})]}),O.jsx("div",{className:je("drop-area",{"drop-area-active":d,"hovered-drop-area":B}),onDragOver:H,onDragLeave:te,onDrop:E=>{R(E)}})]})},yq=({blockId:n})=>{const{paperValue:e}=xn(),t=e[n].props,r=t.columnCount;return O.jsx("table",{role:"presentation",border:0,cellPadding:"0",cellSpacing:"0",width:"100%",style:{tableLayout:"fixed",borderCollapse:"collapse"},children:O.jsx("tr",{children:e[n].childIds.map((i,s)=>r==="3"&&s>2||r==="2"&&s>1||r==="1"&&s>0?O.jsx(C.Fragment,{},i):O.jsx("td",{width:t[`column${s+1}Size`],style:{boxSizing:"content-box",verticalAlign:t.alignment==="start"?"top":t.alignment==="end"?"bottom":"middle",paddingLeft:"0px",paddingRight:"0px",width:t[`column${s+1}Size`]?`${t[`column${s+1}Size`]}px`:void 0},children:O.jsx(uQ,{blockId:i,props:e[i].props},i)}))})})},uQ=({blockId:n})=>{const{selectedId:e,paperValue:t,setPaperValue:r,addNewBlock:i,draggedContent:s,setDraggedContent:o}=xn(),l=C.useMemo(()=>t[n].props.paddingBottom==="0"&&t[n].props.paddingTop==="0"&&t[n].props.paddingLeft==="0"&&t[n].props.paddingRight==="0",[t[n].props.paddingBottom,t[n].props.paddingTop,t[n].props.paddingLeft,t[n].props.paddingRight]),[a,u]=C.useState(!1),h=b=>{b.preventDefault(),u(!0),b.dataTransfer.dropEffect="copy"},d=()=>{u(!1)},p=b=>{const x=new Set,v=w=>{const k=t[w];k&&k.childIds&&k.childIds.length>0&&k.childIds.forEach($=>{x.add($),v($)})};return v(b),x},g=b=>{b.preventDefault(),s&&(p(s.id).has(n)||r(v=>{const w={...v},k=v[s.parentId].childIds.filter(B=>B!==s.id);w[s.parentId].childIds=k;const $=[s.id];return w[n].childIds=$,w})),a&&u(!1),o(null)};return O.jsxs("div",{className:t[n].childIds.length<1?"global-disbaled-bg":"",style:{flexGrow:"1",margin:l&&t[n].childIds.includes(e)?"var(--space-50)":void 0,position:"relative"},children:[t[n].childIds.map(b=>O.jsx(cQ,{id:b,parentId:n},b)),t[n].childIds.length<1&&O.jsxs(O.Fragment,{children:[O.jsx("div",{style:{display:"flex",justifyContent:"center",border:"1px dashed var(--clr-border)",padding:"var(--space-100)"},children:O.jsx(yp,{type:"after",onClickBlockToAdd:b=>{i(b,"",n)}})}),O.jsx("div",{className:je("drop-area",{"drop-area-active":s,"hovered-drop-area":a}),onDragOver:h,onDragLeave:d,onDrop:b=>{g(b)}})]})]})},Sq=({canvasScrollPosition:n,setCanvasScrollPosition:e})=>{const{setSelectedId:t,paperValue:r,addNewBlock:i,isDesktopView:s}=xn(),o=C.useRef(null),l=a=>{const u=o.current;u&&u?.scrollTo({top:a})};return C.useEffect(()=>{l(Co.max([n,0])||0)},[]),C.useEffect(()=>{console.log("init",n);const a=o.current;if(!a)return;let u;const h=()=>{window.clearTimeout(u),u=window.setTimeout(()=>{e(a.scrollTop),console.log("canvas",a.scrollTop)},90)};return a.addEventListener("scroll",h,{passive:!0}),()=>a.removeEventListener("scroll",h)},[]),O.jsx("div",{ref:o,className:je("outside-block normal-scrollbar global-disbaled-bg"),style:{display:"flex",justifyContent:"center",padding:"0px 0px",maxHeight:"100%",overflow:"auto"},onClick:a=>{a.target&&a.target?.classList?.contains("outside-block")&&t("root")},children:O.jsx("div",{className:"outside-block",style:{backgroundColor:r.root.props.backdropColor,height:"fit-content",width:`${s?"100%":"370px"}`,maxWidth:`${s?"100%":"370px"}`},children:O.jsx("table",{role:"presentation",align:"center",width:"100%",cellPadding:0,cellSpacing:0,border:0,style:{margin:"0px auto",maxWidth:"600px",backgroundColor:r.root.props.backgroundColor},children:O.jsxs("tbody",{children:[O.jsx("tr",{children:O.jsx("td",{children:r.root.childIds.map(a=>O.jsx(cQ,{id:a,parentId:"root"},a))})}),O.jsx("tr",{className:"outside-block",children:O.jsx("td",{className:"outside-block global-disbaled-bg",align:"center",style:{border:"1px dashed var(--clr-border)",padding:"var(--space-100)"},children:O.jsx(yp,{type:"after",onClickBlockToAdd:a=>{i(a,"","root")}})})})]})})})})},hQ=(n,e,t)=>{let r=!1,i="";const s=n.length;t.isRequired&&!r&&(s||(r=!0,i="This field cannot be empty!")),e({isError:r,errorMessage:i},n)},wq=(n,e,t,r,i)=>{t&&t(n),i&&r&&hQ(n,i,r),e.current||(e.current=!0)},kq=(n,e,t)=>{t&&t(n,e)},Tq=(n,e,t,r,i,s)=>{s&&s(n,e),i&&r&&t.current&&hQ(e,i,r)};let JO=[],fQ=[];(()=>{let n="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,t=0;e<n.length;e++)(e%2?fQ:JO).push(t=t+n[e])})();function Cq(n){if(n<768)return!1;for(let e=0,t=JO.length;;){let r=e+t>>1;if(n<JO[r])t=r;else if(n>=fQ[r])e=r+1;else return!0;if(e==t)return!1}}function fw(n){return n>=127462&&n<=127487}const dw=8205;function Pq(n,e,t=!0,r=!0){return(t?dQ:Qq)(n,e,r)}function dQ(n,e,t){if(e==n.length)return e;e&&pQ(n.charCodeAt(e))&&gQ(n.charCodeAt(e-1))&&e--;let r=w0(n,e);for(e+=pw(r);e<n.length;){let i=w0(n,e);if(r==dw||i==dw||t&&Cq(i))e+=pw(i),r=i;else if(fw(i)){let s=0,o=e-2;for(;o>=0&&fw(w0(n,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function Qq(n,e,t){for(;e>0;){let r=dQ(n,e-2,t);if(r<e)return r;e--}return 0}function w0(n,e){let t=n.charCodeAt(e);if(!gQ(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return pQ(r)?(t-55296<<10)+(r-56320)+65536:t}function pQ(n){return n>=56320&&n<57344}function gQ(n){return n>=55296&&n<56320}function pw(n){return n<65536?1:2}let ht=class mQ{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,r){[e,t]=dc(this,e,t);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(t,this.length,i,1),Li.from(i,this.length-(t-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){[e,t]=dc(this,e,t);let r=[];return this.decompose(e,t,r,0),Li.from(r,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new Uu(this),s=new Uu(e);for(let o=t,l=t;;){if(i.next(o),s.next(o),o=0,i.lineBreak!=s.lineBreak||i.done!=s.done||i.value!=s.value)return!1;if(l+=i.value.length,i.done||l>=r)return!0}}iter(e=1){return new Uu(this,e)}iterRange(e,t=this.length){return new OQ(this,e,t)}iterLines(e,t){let r;if(e==null)r=this.iter();else{t==null&&(t=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new bQ(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?mQ.empty:e.length<=32?new Ft(e):Li.from(Ft.split(e,[]))}};class Ft extends ht{constructor(e,t=$q(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,r,i){for(let s=0;;s++){let o=this.text[s],l=i+o.length;if((t?r:l)>=e)return new Aq(i,l,r,o);i=l+1,r++}}decompose(e,t,r,i){let s=e<=0&&t>=this.length?this:new Ft(gw(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(i&1){let o=r.pop(),l=Wd(s.text,o.text.slice(),0,s.length);if(l.length<=32)r.push(new Ft(l,o.length+s.length));else{let a=l.length>>1;r.push(new Ft(l.slice(0,a)),new Ft(l.slice(a)))}}else r.push(s)}replace(e,t,r){if(!(r instanceof Ft))return super.replace(e,t,r);[e,t]=dc(this,e,t);let i=Wd(this.text,Wd(r.text,gw(this.text,0,e)),t),s=this.length+r.length-(t-e);return i.length<=32?new Ft(i,s):Li.from(Ft.split(i,[]),s)}sliceString(e,t=this.length,r=`
`){[e,t]=dc(this,e,t);let i="";for(let s=0,o=0;s<=t&&o<this.text.length;o++){let l=this.text[o],a=s+l.length;s>e&&o&&(i+=r),e<a&&t>s&&(i+=l.slice(Math.max(0,e-s),t-s)),s=a+1}return i}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let r=[],i=-1;for(let s of e)r.push(s),i+=s.length+1,r.length==32&&(t.push(new Ft(r,i)),r=[],i=-1);return i>-1&&t.push(new Ft(r,i)),t}}class Li extends ht{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,t,r,i){for(let s=0;;s++){let o=this.children[s],l=i+o.length,a=r+o.lines-1;if((t?a:l)>=e)return o.lineInner(e,t,r,i);i=l+1,r=a+1}}decompose(e,t,r,i){for(let s=0,o=0;o<=t&&s<this.children.length;s++){let l=this.children[s],a=o+l.length;if(e<=a&&t>=o){let u=i&((o<=e?1:0)|(a>=t?2:0));o>=e&&a<=t&&!u?r.push(l):l.decompose(e-o,t-o,r,u)}o=a+1}}replace(e,t,r){if([e,t]=dc(this,e,t),r.lines<this.lines)for(let i=0,s=0;i<this.children.length;i++){let o=this.children[i],l=s+o.length;if(e>=s&&t<=l){let a=o.replace(e-s,t-s,r),u=this.lines-o.lines+a.lines;if(a.lines<u>>4&&a.lines>u>>6){let h=this.children.slice();return h[i]=a,new Li(h,this.length-(t-e)+r.length)}return super.replace(s,l,a)}s=l+1}return super.replace(e,t,r)}sliceString(e,t=this.length,r=`
`){[e,t]=dc(this,e,t);let i="";for(let s=0,o=0;s<this.children.length&&o<=t;s++){let l=this.children[s],a=o+l.length;o>e&&s&&(i+=r),e<a&&t>o&&(i+=l.sliceString(e-o,t-o,r)),o=a+1}return i}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Li))return 0;let r=0,[i,s,o,l]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=t,s+=t){if(i==o||s==l)return r;let a=this.children[i],u=e.children[s];if(a!=u)return r+a.scanIdentical(u,t);r+=a.length+1}}static from(e,t=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let g of e)r+=g.lines;if(r<32){let g=[];for(let b of e)b.flatten(g);return new Ft(g,t)}let i=Math.max(32,r>>5),s=i<<1,o=i>>1,l=[],a=0,u=-1,h=[];function d(g){let b;if(g.lines>s&&g instanceof Li)for(let x of g.children)d(x);else g.lines>o&&(a>o||!a)?(p(),l.push(g)):g instanceof Ft&&a&&(b=h[h.length-1])instanceof Ft&&g.lines+b.lines<=32?(a+=g.lines,u+=g.length+1,h[h.length-1]=new Ft(b.text.concat(g.text),b.length+1+g.length)):(a+g.lines>i&&p(),a+=g.lines,u+=g.length+1,h.push(g))}function p(){a!=0&&(l.push(h.length==1?h[0]:Li.from(h,u)),u=-1,a=h.length=0)}for(let g of e)d(g);return p(),l.length==1?l[0]:new Li(l,t)}}ht.empty=new Ft([""],0);function $q(n){let e=-1;for(let t of n)e+=t.length+1;return e}function Wd(n,e,t=0,r=1e9){for(let i=0,s=0,o=!0;s<n.length&&i<=r;s++){let l=n[s],a=i+l.length;a>=t&&(a>r&&(l=l.slice(0,r-i)),i<t&&(l=l.slice(t-i)),o?(e[e.length-1]+=l,o=!1):e.push(l)),i=a+1}return e}function gw(n,e,t){return Wd(n,[""],e,t)}class Uu{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Ft?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],s=this.offsets[r],o=s>>1,l=i instanceof Ft?i.text.length:i.children.length;if(o==(t>0?l:0)){if(r==0)return this.done=!0,this.value="",this;t>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[r]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof Ft){let a=i.text[o+(t<0?-1:0)];if(this.offsets[r]+=t,a.length>Math.max(0,e))return this.value=e==0?a:t>0?a.slice(e):a.slice(0,a.length-e),this;e-=a.length}else{let a=i.children[o+(t<0?-1:0)];e>a.length?(e-=a.length,this.offsets[r]+=t):(t<0&&this.offsets[r]--,this.nodes.push(a),this.offsets.push(t>0?1:(a instanceof Ft?a.text.length:a.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class OQ{constructor(e,t,r){this.value="",this.done=!1,this.cursor=new Uu(e,t>r?-1:1),this.pos=t>r?e.length:0,this.from=Math.min(t,r),this.to=Math.max(t,r)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let r=t<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*t,this.value=i.length<=r?i:t<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class bQ{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:r,value:i}=this.inner.next(e);return t&&this.afterBreak?(this.value="",this.afterBreak=!1):t?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(ht.prototype[Symbol.iterator]=function(){return this.iter()},Uu.prototype[Symbol.iterator]=OQ.prototype[Symbol.iterator]=bQ.prototype[Symbol.iterator]=function(){return this});class Aq{constructor(e,t,r,i){this.from=e,this.to=t,this.number=r,this.text=i}get length(){return this.to-this.from}}function dc(n,e,t){return e=Math.max(0,Math.min(n.length,e)),[e,Math.max(e,Math.min(n.length,t))]}function On(n,e,t=!0,r=!0){return Pq(n,e,t,r)}function Rq(n){return n>=56320&&n<57344}function Eq(n){return n>=55296&&n<56320}function Gn(n,e){let t=n.charCodeAt(e);if(!Eq(t)||e+1==n.length)return t;let r=n.charCodeAt(e+1);return Rq(r)?(t-55296<<10)+(r-56320)+65536:t}function Ub(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function _i(n){return n<65536?1:2}const e1=/\r\n?|\n/;var gn=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(gn||(gn={}));class zi{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t+1];e+=r<0?this.sections[t]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,r=0,i=0;t<this.sections.length;){let s=this.sections[t++],o=this.sections[t++];o<0?(e(r,i,s),i+=s):i+=o,r+=s}}iterChangedRanges(e,t=!1){t1(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];i<0?e.push(r,i):e.push(i,r)}return new zi(e)}composeDesc(e){return this.empty?e:e.empty?this:xQ(this,e)}mapDesc(e,t=!1){return e.empty?this:n1(this,e,t)}mapPos(e,t=-1,r=gn.Simple){let i=0,s=0;for(let o=0;o<this.sections.length;){let l=this.sections[o++],a=this.sections[o++],u=i+l;if(a<0){if(u>e)return s+(e-i);s+=l}else{if(r!=gn.Simple&&u>=e&&(r==gn.TrackDel&&i<e&&u>e||r==gn.TrackBefore&&i<e||r==gn.TrackAfter&&u>e))return null;if(u>e||u==e&&t<0&&!l)return e==i||t<0?s:s+a;s+=a}i=u}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return s}touchesRange(e,t=e){for(let r=0,i=0;r<this.sections.length&&i<=t;){let s=this.sections[r++],o=this.sections[r++],l=i+s;if(o>=0&&i<=t&&l>=e)return i<e&&l>t?"cover":!0;i=l}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let r=this.sections[t++],i=this.sections[t++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new zi(e)}static create(e){return new zi(e)}}class Ut extends zi{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return t1(this,(t,r,i,s,o)=>e=e.replace(i,i+(r-t),o),!1),e}mapDesc(e,t=!1){return n1(this,e,t,!0)}invert(e){let t=this.sections.slice(),r=[];for(let i=0,s=0;i<t.length;i+=2){let o=t[i],l=t[i+1];if(l>=0){t[i]=l,t[i+1]=o;let a=i>>1;for(;r.length<a;)r.push(ht.empty);r.push(o?e.slice(s,s+o):ht.empty)}s+=o}return new Ut(t,r)}compose(e){return this.empty?e:e.empty?this:xQ(this,e,!0)}map(e,t=!1){return e.empty?this:n1(this,e,t,!0)}iterChanges(e,t=!1){t1(this,e,t)}get desc(){return zi.create(this.sections)}filter(e){let t=[],r=[],i=[],s=new ph(this);e:for(let o=0,l=0;;){let a=o==e.length?1e9:e[o++];for(;l<a||l==a&&s.len==0;){if(s.done)break e;let h=Math.min(s.len,a-l);Pn(i,h,-1);let d=s.ins==-1?-1:s.off==0?s.ins:0;Pn(t,h,d),d>0&&Oo(r,t,s.text),s.forward(h),l+=h}let u=e[o++];for(;l<u;){if(s.done)break e;let h=Math.min(s.len,u-l);Pn(t,h,-1),Pn(i,h,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(h),l+=h}}return{changes:new Ut(t,r),filtered:zi.create(i)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let r=this.sections[t],i=this.sections[t+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,r){let i=[],s=[],o=0,l=null;function a(h=!1){if(!h&&!i.length)return;o<t&&Pn(i,t-o,-1);let d=new Ut(i,s);l=l?l.compose(d.map(l)):d,i=[],s=[],o=0}function u(h){if(Array.isArray(h))for(let d of h)u(d);else if(h instanceof Ut){if(h.length!=t)throw new RangeError(`Mismatched change set length (got ${h.length}, expected ${t})`);a(),l=l?l.compose(h.map(l)):h}else{let{from:d,to:p=d,insert:g}=h;if(d>p||d<0||p>t)throw new RangeError(`Invalid change range ${d} to ${p} (in doc of length ${t})`);let b=g?typeof g=="string"?ht.of(g.split(r||e1)):g:ht.empty,x=b.length;if(d==p&&x==0)return;d<o&&a(),d>o&&Pn(i,d-o,-1),Pn(i,p-d,x),Oo(s,i,b),o=p}}return u(e),a(!l),l}static empty(e){return new Ut(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],r=[];for(let i=0;i<e.length;i++){let s=e[i];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,l)=>l&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;r.length<i;)r.push(ht.empty);r[i]=ht.of(s.slice(1)),t.push(s[0],r[i].length)}}}return new Ut(t,r)}static createSet(e,t){return new Ut(e,t)}}function Pn(n,e,t,r=!1){if(e==0&&t<=0)return;let i=n.length-2;i>=0&&t<=0&&t==n[i+1]?n[i]+=e:i>=0&&e==0&&n[i]==0?n[i+1]+=t:r?(n[i]+=e,n[i+1]+=t):n.push(e,t)}function Oo(n,e,t){if(t.length==0)return;let r=e.length-2>>1;if(r<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<r;)n.push(ht.empty);n.push(t)}}function t1(n,e,t){let r=n.inserted;for(let i=0,s=0,o=0;o<n.sections.length;){let l=n.sections[o++],a=n.sections[o++];if(a<0)i+=l,s+=l;else{let u=i,h=s,d=ht.empty;for(;u+=l,h+=a,a&&r&&(d=d.append(r[o-2>>1])),!(t||o==n.sections.length||n.sections[o+1]<0);)l=n.sections[o++],a=n.sections[o++];e(i,u,s,h,d),i=u,s=h}}}function n1(n,e,t,r=!1){let i=[],s=r?[]:null,o=new ph(n),l=new ph(e);for(let a=-1;;){if(o.done&&l.len||l.done&&o.len)throw new Error("Mismatched change set lengths");if(o.ins==-1&&l.ins==-1){let u=Math.min(o.len,l.len);Pn(i,u,-1),o.forward(u),l.forward(u)}else if(l.ins>=0&&(o.ins<0||a==o.i||o.off==0&&(l.len<o.len||l.len==o.len&&!t))){let u=l.len;for(Pn(i,l.ins,-1);u;){let h=Math.min(o.len,u);o.ins>=0&&a<o.i&&o.len<=h&&(Pn(i,0,o.ins),s&&Oo(s,i,o.text),a=o.i),o.forward(h),u-=h}l.next()}else if(o.ins>=0){let u=0,h=o.len;for(;h;)if(l.ins==-1){let d=Math.min(h,l.len);u+=d,h-=d,l.forward(d)}else if(l.ins==0&&l.len<h)h-=l.len,l.next();else break;Pn(i,u,a<o.i?o.ins:0),s&&a<o.i&&Oo(s,i,o.text),a=o.i,o.forward(o.len-h)}else{if(o.done&&l.done)return s?Ut.createSet(i,s):zi.create(i);throw new Error("Mismatched change set lengths")}}}function xQ(n,e,t=!1){let r=[],i=t?[]:null,s=new ph(n),o=new ph(e);for(let l=!1;;){if(s.done&&o.done)return i?Ut.createSet(r,i):zi.create(r);if(s.ins==0)Pn(r,s.len,0,l),s.next();else if(o.len==0&&!o.done)Pn(r,0,o.ins,l),i&&Oo(i,r,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let a=Math.min(s.len2,o.len),u=r.length;if(s.ins==-1){let h=o.ins==-1?-1:o.off?0:o.ins;Pn(r,a,h,l),i&&h&&Oo(i,r,o.text)}else o.ins==-1?(Pn(r,s.off?0:s.len,a,l),i&&Oo(i,r,s.textBit(a))):(Pn(r,s.off?0:s.len,o.off?0:o.ins,l),i&&!o.off&&Oo(i,r,o.text));l=(s.ins>a||o.ins>=0&&o.len>a)&&(l||r.length>u),s.forward2(a),o.forward(a)}}}}class ph{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?ht.empty:e[t]}textBit(e){let{inserted:t}=this.set,r=this.i-2>>1;return r>=t.length&&!e?ht.empty:t[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class ml{constructor(e,t,r){this.from=e,this.to=t,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,t=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,t):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new ml(r,i,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return ae.range(e,t);let r=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return ae.range(this.anchor,r)}eq(e,t=!1){return this.anchor==e.anchor&&this.head==e.head&&(!t||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return ae.range(e.anchor,e.head)}static create(e,t,r){return new ml(e,t,r)}}class ae{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:ae.create(this.ranges.map(r=>r.map(e,t)),this.mainIndex)}eq(e,t=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],t))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new ae([this.main],0)}addRange(e,t=!0){return ae.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let r=this.ranges.slice();return r[t]=e,ae.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new ae(e.ranges.map(t=>ml.fromJSON(t)),e.main)}static single(e,t=e){return new ae([ae.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let s=e[i];if(s.empty?s.from<=r:s.from<r)return ae.normalized(e.slice(),t);r=s.to}return new ae(e,t)}static cursor(e,t=0,r,i){return ml.create(e,e,(t==0?0:t<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,t,r,i){let s=(r??16777215)<<6|(i==null?7:Math.min(6,i));return t<e?ml.create(t,e,48|s):ml.create(e,t,(t>e?8:0)|s)}static normalized(e,t=0){let r=e[t];e.sort((i,s)=>i.from-s.from),t=e.indexOf(r);for(let i=1;i<e.length;i++){let s=e[i],o=e[i-1];if(s.empty?s.from<=o.to:s.from<o.to){let l=o.from,a=Math.max(s.to,o.to);i<=t&&t--,e.splice(--i,2,s.anchor>s.head?ae.range(a,l):ae.range(l,a))}}return new ae(e,t)}}function vQ(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let Kb=0;class Ce{constructor(e,t,r,i,s){this.combine=e,this.compareInput=t,this.compare=r,this.isStatic=i,this.id=Kb++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}get reader(){return this}static define(e={}){return new Ce(e.combine||(t=>t),e.compareInput||((t,r)=>t===r),e.compare||(e.combine?(t,r)=>t===r:Jb),!!e.static,e.enables)}of(e){return new Fd([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Fd(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new Fd(e,this,2,t)}from(e,t){return t||(t=r=>r),this.compute([e],r=>t(r.field(e)))}}function Jb(n,e){return n==e||n.length==e.length&&n.every((t,r)=>t===e[r])}class Fd{constructor(e,t,r,i){this.dependencies=e,this.facet=t,this.type=r,this.value=i,this.id=Kb++}dynamicSlot(e){var t;let r=this.value,i=this.facet.compareInput,s=this.id,o=e[s]>>1,l=this.type==2,a=!1,u=!1,h=[];for(let d of this.dependencies)d=="doc"?a=!0:d=="selection"?u=!0:(((t=e[d.id])!==null&&t!==void 0?t:1)&1)==0&&h.push(e[d.id]);return{create(d){return d.values[o]=r(d),1},update(d,p){if(a&&p.docChanged||u&&(p.docChanged||p.selection)||r1(d,h)){let g=r(d);if(l?!mw(g,d.values[o],i):!i(g,d.values[o]))return d.values[o]=g,1}return 0},reconfigure:(d,p)=>{let g,b=p.config.address[s];if(b!=null){let x=Rp(p,b);if(this.dependencies.every(v=>v instanceof Ce?p.facet(v)===d.facet(v):v instanceof cn?p.field(v,!1)==d.field(v,!1):!0)||(l?mw(g=r(d),x,i):i(g=r(d),x)))return d.values[o]=x,0}else g=r(d);return d.values[o]=g,1}}}}function mw(n,e,t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!t(n[r],e[r]))return!1;return!0}function r1(n,e){let t=!1;for(let r of e)Ku(n,r)&1&&(t=!0);return t}function Lq(n,e,t){let r=t.map(a=>n[a.id]),i=t.map(a=>a.type),s=r.filter(a=>!(a&1)),o=n[e.id]>>1;function l(a){let u=[];for(let h=0;h<r.length;h++){let d=Rp(a,r[h]);if(i[h]==2)for(let p of d)u.push(p);else u.push(d)}return e.combine(u)}return{create(a){for(let u of r)Ku(a,u);return a.values[o]=l(a),1},update(a,u){if(!r1(a,s))return 0;let h=l(a);return e.compare(h,a.values[o])?0:(a.values[o]=h,1)},reconfigure(a,u){let h=r1(a,r),d=u.config.facets[e.id],p=u.facet(e);if(d&&!h&&Jb(t,d))return a.values[o]=p,0;let g=l(a);return e.compare(g,p)?(a.values[o]=p,0):(a.values[o]=g,1)}}}const md=Ce.define({static:!0});class cn{constructor(e,t,r,i,s){this.id=e,this.createF=t,this.updateF=r,this.compareF=i,this.spec=s,this.provides=void 0}static define(e){let t=new cn(Kb++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(md).find(r=>r.field==this);return(t?.create||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:r=>(r.values[t]=this.create(r),1),update:(r,i)=>{let s=r.values[t],o=this.updateF(s,i);return this.compareF(s,o)?0:(r.values[t]=o,1)},reconfigure:(r,i)=>{let s=r.facet(md),o=i.facet(md),l;return(l=s.find(a=>a.field==this))&&l!=o.find(a=>a.field==this)?(r.values[t]=l.create(r),1):i.config.address[this.id]!=null?(r.values[t]=i.field(this),0):(r.values[t]=this.create(r),1)}}}init(e){return[this,md.of({field:this,create:e})]}get extension(){return this}}const dl={lowest:4,low:3,default:2,high:1,highest:0};function ku(n){return e=>new yQ(e,n)}const Mo={highest:ku(dl.highest),high:ku(dl.high),default:ku(dl.default),low:ku(dl.low),lowest:ku(dl.lowest)};class yQ{constructor(e,t){this.inner=e,this.prec=t}}class Eg{of(e){return new i1(this,e)}reconfigure(e){return Eg.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class i1{constructor(e,t){this.compartment=e,this.inner=t}}class Ap{constructor(e,t,r,i,s,o){for(this.base=e,this.compartments=t,this.dynamicSlots=r,this.address=i,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,r){let i=[],s=Object.create(null),o=new Map;for(let p of _q(e,t,o))p instanceof cn?i.push(p):(s[p.facet.id]||(s[p.facet.id]=[])).push(p);let l=Object.create(null),a=[],u=[];for(let p of i)l[p.id]=u.length<<1,u.push(g=>p.slot(g));let h=r?.config.facets;for(let p in s){let g=s[p],b=g[0].facet,x=h&&h[p]||[];if(g.every(v=>v.type==0))if(l[b.id]=a.length<<1|1,Jb(x,g))a.push(r.facet(b));else{let v=b.combine(g.map(w=>w.value));a.push(r&&b.compare(v,r.facet(b))?r.facet(b):v)}else{for(let v of g)v.type==0?(l[v.id]=a.length<<1|1,a.push(v.value)):(l[v.id]=u.length<<1,u.push(w=>v.dynamicSlot(w)));l[b.id]=u.length<<1,u.push(v=>Lq(v,b,g))}}let d=u.map(p=>p(l));return new Ap(e,o,d,l,a,s)}}function _q(n,e,t){let r=[[],[],[],[],[]],i=new Map;function s(o,l){let a=i.get(o);if(a!=null){if(a<=l)return;let u=r[a].indexOf(o);u>-1&&r[a].splice(u,1),o instanceof i1&&t.delete(o.compartment)}if(i.set(o,l),Array.isArray(o))for(let u of o)s(u,l);else if(o instanceof i1){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=e.get(o.compartment)||o.inner;t.set(o.compartment,u),s(u,l)}else if(o instanceof yQ)s(o.inner,o.prec);else if(o instanceof cn)r[l].push(o),o.provides&&s(o.provides,l);else if(o instanceof Fd)r[l].push(o),o.facet.extensions&&s(o.facet.extensions,dl.default);else{let u=o.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(u,l)}}return s(n,dl.default),r.reduce((o,l)=>o.concat(l))}function Ku(n,e){if(e&1)return 2;let t=e>>1,r=n.status[t];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;n.status[t]=4;let i=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|i}function Rp(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const SQ=Ce.define(),s1=Ce.define({combine:n=>n.some(e=>e),static:!0}),wQ=Ce.define({combine:n=>n.length?n[0]:void 0,static:!0}),kQ=Ce.define(),TQ=Ce.define(),CQ=Ce.define(),PQ=Ce.define({combine:n=>n.length?n[0]:!1});class Ns{constructor(e,t){this.type=e,this.value=t}static define(){return new Mq}}class Mq{of(e){return new Ns(this,e)}}class Nq{constructor(e){this.map=e}of(e){return new Xe(this,e)}}class Xe{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new Xe(this.type,t)}is(e){return this.type==e}static define(e={}){return new Nq(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let r=[];for(let i of e){let s=i.map(t);s&&r.push(s)}return r}}Xe.reconfigure=Xe.define();Xe.appendConfig=Xe.define();class Jt{constructor(e,t,r,i,s,o){this.startState=e,this.changes=t,this.selection=r,this.effects=i,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,r&&vQ(r,t.newLength),s.some(l=>l.type==Jt.time)||(this.annotations=s.concat(Jt.time.of(Date.now())))}static create(e,t,r,i,s,o){return new Jt(e,t,r,i,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Jt.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}Jt.time=Ns.define();Jt.userEvent=Ns.define();Jt.addToHistory=Ns.define();Jt.remote=Ns.define();function Bq(n,e){let t=[];for(let r=0,i=0;;){let s,o;if(r<n.length&&(i==e.length||e[i]>=n[r]))s=n[r++],o=n[r++];else if(i<e.length)s=e[i++],o=e[i++];else return t;!t.length||t[t.length-1]<s?t.push(s,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function QQ(n,e,t){var r;let i,s,o;return t?(i=e.changes,s=Ut.empty(e.changes.length),o=n.changes.compose(e.changes)):(i=e.changes.map(n.changes),s=n.changes.mapDesc(e.changes,!0),o=n.changes.compose(i)),{changes:o,selection:e.selection?e.selection.map(s):(r=n.selection)===null||r===void 0?void 0:r.map(i),effects:Xe.mapEffects(n.effects,i).concat(Xe.mapEffects(e.effects,s)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function o1(n,e,t){let r=e.selection,i=nc(e.annotations);return e.userEvent&&(i=i.concat(Jt.userEvent.of(e.userEvent))),{changes:e.changes instanceof Ut?e.changes:Ut.of(e.changes||[],t,n.facet(wQ)),selection:r&&(r instanceof ae?r:ae.single(r.anchor,r.head)),effects:nc(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function $Q(n,e,t){let r=o1(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let o=!!e[s].sequential;r=QQ(r,o1(n,e[s],o?r.changes.newLength:n.doc.length),o)}let i=Jt.create(n,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return jq(t?Iq(i):i)}function Iq(n){let e=n.startState,t=!0;for(let i of e.facet(kQ)){let s=i(n);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:Bq(t,s))}if(t!==!0){let i,s;if(t===!1)s=n.changes.invertedDesc,i=Ut.empty(e.doc.length);else{let o=n.changes.filter(t);i=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}n=Jt.create(e,i,n.selection&&n.selection.map(s),Xe.mapEffects(n.effects,s),n.annotations,n.scrollIntoView)}let r=e.facet(TQ);for(let i=r.length-1;i>=0;i--){let s=r[i](n);s instanceof Jt?n=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Jt?n=s[0]:n=$Q(e,nc(s),!1)}return n}function jq(n){let e=n.startState,t=e.facet(CQ),r=n;for(let i=t.length-1;i>=0;i--){let s=t[i](n);s&&Object.keys(s).length&&(r=QQ(r,o1(e,s,n.changes.newLength),!0))}return r==n?n:Jt.create(e,n.changes,n.selection,r.effects,r.annotations,r.scrollIntoView)}const Dq=[];function nc(n){return n==null?Dq:Array.isArray(n)?n:[n]}var Nt=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(Nt||(Nt={}));const Zq=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let l1;try{l1=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function zq(n){if(l1)return l1.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>""&&(t.toUpperCase()!=t.toLowerCase()||Zq.test(t)))return!0}return!1}function qq(n){return e=>{if(!/\S/.test(e))return Nt.Space;if(zq(e))return Nt.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return Nt.Word;return Nt.Other}}class at{constructor(e,t,r,i,s,o){this.config=e,this.doc=t,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let l=0;l<this.config.dynamicSlots.length;l++)Ku(this,l<<1);this.computeSlot=null}field(e,t=!0){let r=this.config.address[e.id];if(r==null){if(t)throw new RangeError("Field is not present in this state");return}return Ku(this,r),Rp(this,r)}update(...e){return $Q(this,e,!0)}applyTransaction(e){let t=this.config,{base:r,compartments:i}=t;for(let l of e.effects)l.is(Eg.reconfigure)?(t&&(i=new Map,t.compartments.forEach((a,u)=>i.set(u,a)),t=null),i.set(l.value.compartment,l.value.extension)):l.is(Xe.reconfigure)?(t=null,r=l.value):l.is(Xe.appendConfig)&&(t=null,r=nc(r).concat(l.value));let s;t?s=e.startState.values.slice():(t=Ap.resolve(r,i,this),s=new at(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(a,u)=>u.reconfigure(a,this),null).values);let o=e.startState.facet(s1)?e.newSelection:e.newSelection.asSingle();new at(t,e.newDoc,o,s,(l,a)=>a.update(l,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:ae.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,r=e(t.ranges[0]),i=this.changes(r.changes),s=[r.range],o=nc(r.effects);for(let l=1;l<t.ranges.length;l++){let a=e(t.ranges[l]),u=this.changes(a.changes),h=u.map(i);for(let p=0;p<l;p++)s[p]=s[p].map(h);let d=i.mapDesc(u,!0);s.push(a.range.map(d)),i=i.compose(h),o=Xe.mapEffects(o,h).concat(Xe.mapEffects(nc(a.effects),d))}return{changes:i,selection:ae.create(s,t.mainIndex),effects:o}}changes(e=[]){return e instanceof Ut?e:Ut.of(e,this.doc.length,this.facet(at.lineSeparator))}toText(e){return ht.of(e.split(this.facet(at.lineSeparator)||e1))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Ku(this,t),Rp(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof cn&&this.config.address[i.id]!=null&&(t[r]=i.spec.toJSON(this.field(e[r]),this))}return t}static fromJSON(e,t={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let s in r)if(Object.prototype.hasOwnProperty.call(e,s)){let o=r[s],l=e[s];i.push(o.init(a=>o.spec.fromJSON(l,a)))}}return at.create({doc:e.doc,selection:ae.fromJSON(e.selection),extensions:t.extensions?i.concat([t.extensions]):i})}static create(e={}){let t=Ap.resolve(e.extensions||[],new Map),r=e.doc instanceof ht?e.doc:ht.of((e.doc||"").split(t.staticFacet(at.lineSeparator)||e1)),i=e.selection?e.selection instanceof ae?e.selection:ae.single(e.selection.anchor,e.selection.head):ae.single(0);return vQ(i,r.length),t.staticFacet(s1)||(i=i.asSingle()),new at(t,r,i,t.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(at.tabSize)}get lineBreak(){return this.facet(at.lineSeparator)||`
`}get readOnly(){return this.facet(PQ)}phrase(e,...t){for(let r of this.facet(at.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let s=+(i||1);return!s||s>t.length?r:t[s-1]})),e}languageDataAt(e,t,r=-1){let i=[];for(let s of this.facet(SQ))for(let o of s(this,t,r))Object.prototype.hasOwnProperty.call(o,e)&&i.push(o[e]);return i}charCategorizer(e){return qq(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:r,length:i}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-r,l=e-r;for(;o>0;){let a=On(t,o,!1);if(s(t.slice(a,o))!=Nt.Word)break;o=a}for(;l<i;){let a=On(t,l);if(s(t.slice(l,a))!=Nt.Word)break;l=a}return o==l?null:ae.range(o+r,l+r)}}at.allowMultipleSelections=s1;at.tabSize=Ce.define({combine:n=>n.length?n[0]:4});at.lineSeparator=wQ;at.readOnly=PQ;at.phrases=Ce.define({compare(n,e){let t=Object.keys(n),r=Object.keys(e);return t.length==r.length&&t.every(i=>n[i]==e[i])}});at.languageData=SQ;at.changeFilter=kQ;at.transactionFilter=TQ;at.transactionExtender=CQ;Eg.reconfigure=Xe.define();function Hi(n,e,t={}){let r={};for(let i of n)for(let s of Object.keys(i)){let o=i[s],l=r[s];if(l===void 0)r[s]=o;else if(!(l===o||o===void 0))if(Object.hasOwnProperty.call(t,s))r[s]=t[s](l,o);else throw new Error("Config merge conflict for field "+s)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class Al{eq(e){return this==e}range(e,t=e){return a1.create(e,t,this)}}Al.prototype.startSide=Al.prototype.endSide=0;Al.prototype.point=!1;Al.prototype.mapMode=gn.TrackDel;let a1=class AQ{constructor(e,t,r){this.from=e,this.to=t,this.value=r}static create(e,t,r){return new AQ(e,t,r)}};function c1(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class ex{constructor(e,t,r,i){this.from=e,this.to=t,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,t,r,i=0){let s=r?this.to:this.from;for(let o=i,l=s.length;;){if(o==l)return o;let a=o+l>>1,u=s[a]-e||(r?this.value[a].endSide:this.value[a].startSide)-t;if(a==o)return u>=0?o:l;u>=0?l=a:o=a+1}}between(e,t,r,i){for(let s=this.findIndex(t,-1e9,!0),o=this.findIndex(r,1e9,!1,s);s<o;s++)if(i(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let r=[],i=[],s=[],o=-1,l=-1;for(let a=0;a<this.value.length;a++){let u=this.value[a],h=this.from[a]+e,d=this.to[a]+e,p,g;if(h==d){let b=t.mapPos(h,u.startSide,u.mapMode);if(b==null||(p=g=b,u.startSide!=u.endSide&&(g=t.mapPos(h,u.endSide),g<p)))continue}else if(p=t.mapPos(h,u.startSide),g=t.mapPos(d,u.endSide),p>g||p==g&&u.startSide>0&&u.endSide<=0)continue;(g-p||u.endSide-u.startSide)<0||(o<0&&(o=p),u.point&&(l=Math.max(l,g-p)),r.push(u),i.push(p-o),s.push(g-o))}return{mapped:r.length?new ex(i,s,r,l):null,pos:o}}}class ct{constructor(e,t,r,i){this.chunkPos=e,this.chunk=t,this.nextLayer=r,this.maxPoint=i}static create(e,t,r,i){return new ct(e,t,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:r=!1,filterFrom:i=0,filterTo:s=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(r&&(t=t.slice().sort(c1)),this.isEmpty)return t.length?ct.of(t):this;let l=new RQ(this,null,-1).goto(0),a=0,u=[],h=new Rs;for(;l.value||a<t.length;)if(a<t.length&&(l.from-t[a].from||l.startSide-t[a].value.startSide)>=0){let d=t[a++];h.addInner(d.from,d.to,d.value)||u.push(d)}else l.rangeIndex==1&&l.chunkIndex<this.chunk.length&&(a==t.length||this.chunkEnd(l.chunkIndex)<t[a].from)&&(!o||i>this.chunkEnd(l.chunkIndex)||s<this.chunkPos[l.chunkIndex])&&h.addChunk(this.chunkPos[l.chunkIndex],this.chunk[l.chunkIndex])?l.nextChunk():((!o||i>l.to||s<l.from||o(l.from,l.to,l.value))&&(h.addInner(l.from,l.to,l.value)||u.push(a1.create(l.from,l.to,l.value))),l.next());return h.finishInner(this.nextLayer.isEmpty&&!u.length?ct.empty:this.nextLayer.update({add:u,filter:o,filterFrom:i,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],r=[],i=-1;for(let o=0;o<this.chunk.length;o++){let l=this.chunkPos[o],a=this.chunk[o],u=e.touchesRange(l,l+a.length);if(u===!1)i=Math.max(i,a.maxPoint),t.push(a),r.push(e.mapPos(l));else if(u===!0){let{mapped:h,pos:d}=a.map(l,e);h&&(i=Math.max(i,h.maxPoint),t.push(h),r.push(d))}}let s=this.nextLayer.map(e);return t.length==0?s:new ct(r,t,s||ct.empty,i)}between(e,t,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let s=this.chunkPos[i],o=this.chunk[i];if(t>=s&&e<=s+o.length&&o.between(s,e-s,t-s,r)===!1)return}this.nextLayer.between(e,t,r)}}iter(e=0){return gh.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return gh.from(e).goto(t)}static compare(e,t,r,i,s=-1){let o=e.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=s),l=t.filter(d=>d.maxPoint>0||!d.isEmpty&&d.maxPoint>=s),a=Ow(o,l,r),u=new Tu(o,a,s),h=new Tu(l,a,s);r.iterGaps((d,p,g)=>bw(u,d,h,p,g,i)),r.empty&&r.length==0&&bw(u,0,h,0,0,i)}static eq(e,t,r=0,i){i==null&&(i=999999999);let s=e.filter(h=>!h.isEmpty&&t.indexOf(h)<0),o=t.filter(h=>!h.isEmpty&&e.indexOf(h)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let l=Ow(s,o),a=new Tu(s,l,0).goto(r),u=new Tu(o,l,0).goto(r);for(;;){if(a.to!=u.to||!u1(a.active,u.active)||a.point&&(!u.point||!a.point.eq(u.point)))return!1;if(a.to>i)return!0;a.next(),u.next()}}static spans(e,t,r,i,s=-1){let o=new Tu(e,null,s).goto(t),l=t,a=o.openStart;for(;;){let u=Math.min(o.to,r);if(o.point){let h=o.activeForPoint(o.to),d=o.pointFrom<t?h.length+1:o.point.startSide<0?h.length:Math.min(h.length,a);i.point(l,u,o.point,h,d,o.pointRank),a=Math.min(o.openEnd(u),h.length)}else u>l&&(i.span(l,u,o.active,a),a=o.openEnd(u));if(o.to>r)return a+(o.point&&o.to>r?1:0);l=o.to,o.next()}}static of(e,t=!1){let r=new Rs;for(let i of e instanceof a1?[e]:t?Xq(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return ct.empty;let t=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=ct.empty;i=i.nextLayer)t=new ct(i.chunkPos,i.chunk,t,Math.max(i.maxPoint,t.maxPoint));return t}}ct.empty=new ct([],[],null,-1);function Xq(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let r=n[t];if(c1(e,r)>0)return n.slice().sort(c1);e=r}return n}ct.empty.nextLayer=ct.empty;class Rs{finishChunk(e){this.chunks.push(new ex(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,t,r){this.addInner(e,t,r)||(this.nextLayer||(this.nextLayer=new Rs)).add(e,t,r)}addInner(e,t,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=t,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let r=t.value.length-1;return this.last=t.value[r],this.lastFrom=t.from[r]+e,this.lastTo=t.to[r]+e,!0}finish(){return this.finishInner(ct.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=ct.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function Ow(n,e,t){let r=new Map;for(let s of n)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&r.set(s.chunk[o],s.chunkPos[o]);let i=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let l=r.get(s.chunk[o]);l!=null&&(t?t.mapPos(l):l)==s.chunkPos[o]&&!t?.touchesRange(l,l+s.chunk[o].length)&&i.add(s.chunk[o])}return i}class RQ{constructor(e,t,r,i=0){this.layer=e,this.skip=t,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],r=e+t.from[this.rangeIndex];if(this.from=r,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class gh{constructor(e){this.heap=e}static from(e,t=null,r=-1){let i=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=r&&i.push(new RQ(o,t,r,s));return i.length==1?i[0]:new gh(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let r of this.heap)r.goto(e,t);for(let r=this.heap.length>>1;r>=0;r--)k0(this.heap,r);return this.next(),this}forward(e,t){for(let r of this.heap)r.forward(e,t);for(let r=this.heap.length>>1;r>=0;r--)k0(this.heap,r);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),k0(this.heap,0)}}}function k0(n,e){for(let t=n[e];;){let r=(e<<1)+1;if(r>=n.length)break;let i=n[r];if(r+1<n.length&&i.compare(n[r+1])>=0&&(i=n[r+1],r++),t.compare(i)<0)break;n[r]=t,n[e]=i,e=r}}class Tu{constructor(e,t,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=gh.from(e,t,r)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Od(this.active,e),Od(this.activeTo,e),Od(this.activeRank,e),this.minActive=xw(this.active,this.activeTo)}addActive(e){let t=0,{value:r,to:i,rank:s}=this.cursor;for(;t<this.activeRank.length&&(s-this.activeRank[t]||i-this.activeTo[t])>0;)t++;bd(this.active,t,r),bd(this.activeTo,t,i),bd(this.activeRank,t,s),e&&bd(e,t,this.cursor.from),this.minActive=xw(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&Od(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let s=this.cursor.value;if(!s.point)this.addActive(r),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=s,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=s.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&t.push(this.active[r]);return t.reverse()}openEnd(e){let t=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)t++;return t}}function bw(n,e,t,r,i,s){n.goto(e),t.goto(r);let o=r+i,l=r,a=r-e;for(;;){let u=n.to+a-t.to,h=u||n.endSide-t.endSide,d=h<0?n.to+a:t.to,p=Math.min(d,o);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&u1(n.activeForPoint(n.to),t.activeForPoint(t.to))||s.comparePoint(l,p,n.point,t.point):p>l&&!u1(n.active,t.active)&&s.compareRange(l,p,n.active,t.active),d>o)break;(u||n.openEnd!=t.openEnd)&&s.boundChange&&s.boundChange(d),l=d,h<=0&&n.next(),h>=0&&t.next()}}function u1(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function Od(n,e){for(let t=e,r=n.length-1;t<r;t++)n[t]=n[t+1];n.pop()}function bd(n,e,t){for(let r=n.length-1;r>=e;r--)n[r+1]=n[r];n[e]=t}function xw(n,e){let t=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||n[i].endSide-n[t].endSide)<0&&(t=i,r=e[i]);return t}function Ac(n,e,t=n.length){let r=0;for(let i=0;i<t&&i<n.length;)n.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=On(n,i));return r}function h1(n,e,t,r){for(let i=0,s=0;;){if(s>=e)return i;if(i==n.length)break;s+=n.charCodeAt(i)==9?t-s%t:1,i=On(n,i)}return r===!0?-1:n.length}const f1="",vw=typeof Symbol>"u"?"__"+f1:Symbol.for(f1),d1=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),yw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Po{constructor(e,t){this.rules=[];let{finish:r}=t||{};function i(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,l,a,u){let h=[],d=/^@(\w+)\b/.exec(o[0]),p=d&&d[1]=="keyframes";if(d&&l==null)return a.push(o[0]+";");for(let g in l){let b=l[g];if(/&/.test(g))s(g.split(/,\s*/).map(x=>o.map(v=>x.replace(/&/,v))).reduce((x,v)=>x.concat(v)),b,a);else if(b&&typeof b=="object"){if(!d)throw new RangeError("The value of a property ("+g+") should be a primitive value.");s(i(g),b,h,p)}else b!=null&&h.push(g.replace(/_.*/,"").replace(/[A-Z]/g,x=>"-"+x.toLowerCase())+": "+b+";")}(h.length||p)&&a.push((r&&!d&&!u?o.map(r):o).join(", ")+" {"+h.join(" ")+"}")}for(let o in e)s(i(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=yw[vw]||1;return yw[vw]=e+1,f1+e.toString(36)}static mount(e,t,r){let i=e[d1],s=r&&r.nonce;i?s&&i.setNonce(s):i=new Vq(e,s),i.mount(Array.isArray(t)?t:[t],e)}}let Sw=new Map;class Vq{constructor(e,t){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let s=Sw.get(r);if(s)return e[d1]=s;this.sheet=new i.CSSStyleSheet,Sw.set(r,this)}else this.styleTag=r.createElement("style"),t&&this.styleTag.setAttribute("nonce",t);this.modules=[],e[d1]=this}mount(e,t){let r=this.sheet,i=0,s=0;for(let o=0;o<e.length;o++){let l=e[o],a=this.modules.indexOf(l);if(a<s&&a>-1&&(this.modules.splice(a,1),s--,a=-1),a==-1){if(this.modules.splice(s++,0,l),r)for(let u=0;u<l.rules.length;u++)r.insertRule(l.rules[u],i++)}else{for(;s<a;)i+=this.modules[s++].rules.length;i+=l.rules.length,s++}}if(r)t.adoptedStyleSheets.indexOf(this.sheet)<0&&(t.adoptedStyleSheets=[this.sheet,...t.adoptedStyleSheets]);else{let o="";for(let a=0;a<this.modules.length;a++)o+=this.modules[a].getRules()+`
`;this.styleTag.textContent=o;let l=t.head||t;this.styleTag.parentNode!=l&&l.insertBefore(this.styleTag,l.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Qo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},mh={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Wq=typeof navigator<"u"&&/Mac/.test(navigator.platform),Fq=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var pn=0;pn<10;pn++)Qo[48+pn]=Qo[96+pn]=String(pn);for(var pn=1;pn<=24;pn++)Qo[pn+111]="F"+pn;for(var pn=65;pn<=90;pn++)Qo[pn]=String.fromCharCode(pn+32),mh[pn]=String.fromCharCode(pn);for(var T0 in Qo)mh.hasOwnProperty(T0)||(mh[T0]=Qo[T0]);function Yq(n){var e=Wq&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||Fq&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?mh:Qo)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function kt(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=t[r];typeof i=="string"?n.setAttribute(r,i):i!=null&&(n[r]=i)}e++}for(;e<arguments.length;e++)EQ(n,arguments[e]);return n}function EQ(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)EQ(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}function Oh(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function p1(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function Yd(n,e){if(!e.anchorNode)return!1;try{return p1(n,e.anchorNode)}catch{return!1}}function pc(n){return n.nodeType==3?El(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function Ju(n,e,t,r){return t?ww(n,e,t,r,-1)||ww(n,e,t,r,1):!1}function Rl(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function Ep(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}function ww(n,e,t,r,i){for(;;){if(n==t&&e==r)return!0;if(e==(i<0?0:Vi(n))){if(n.nodeName=="DIV")return!1;let s=n.parentNode;if(!s||s.nodeType!=1)return!1;e=Rl(n)+(i<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(i<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=i<0?Vi(n):0}else return!1}}function Vi(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Vh(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function Hq(n){let e=n.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function LQ(n,e){let t=e.width/n.offsetWidth,r=e.height/n.offsetHeight;return(t>.995&&t<1.005||!isFinite(t)||Math.abs(e.width-n.offsetWidth)<1)&&(t=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-n.offsetHeight)<1)&&(r=1),{scaleX:t,scaleY:r}}function Gq(n,e,t,r,i,s,o,l){let a=n.ownerDocument,u=a.defaultView||window;for(let h=n,d=!1;h&&!d;)if(h.nodeType==1){let p,g=h==a.body,b=1,x=1;if(g)p=Hq(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(h).position)&&(d=!0),h.scrollHeight<=h.clientHeight&&h.scrollWidth<=h.clientWidth){h=h.assignedSlot||h.parentNode;continue}let k=h.getBoundingClientRect();({scaleX:b,scaleY:x}=LQ(h,k)),p={left:k.left,right:k.left+h.clientWidth*b,top:k.top,bottom:k.top+h.clientHeight*x}}let v=0,w=0;if(i=="nearest")e.top<p.top?(w=e.top-(p.top+o),t>0&&e.bottom>p.bottom+w&&(w=e.bottom-p.bottom+o)):e.bottom>p.bottom&&(w=e.bottom-p.bottom+o,t<0&&e.top-w<p.top&&(w=e.top-(p.top+o)));else{let k=e.bottom-e.top,$=p.bottom-p.top;w=(i=="center"&&k<=$?e.top+k/2-$/2:i=="start"||i=="center"&&t<0?e.top-o:e.bottom-$+o)-p.top}if(r=="nearest"?e.left<p.left?(v=e.left-(p.left+s),t>0&&e.right>p.right+v&&(v=e.right-p.right+s)):e.right>p.right&&(v=e.right-p.right+s,t<0&&e.left<p.left+v&&(v=e.left-(p.left+s))):v=(r=="center"?e.left+(e.right-e.left)/2-(p.right-p.left)/2:r=="start"==l?e.left-s:e.right-(p.right-p.left)+s)-p.left,v||w)if(g)u.scrollBy(v,w);else{let k=0,$=0;if(w){let B=h.scrollTop;h.scrollTop+=w/x,$=(h.scrollTop-B)*x}if(v){let B=h.scrollLeft;h.scrollLeft+=v/b,k=(h.scrollLeft-B)*b}e={left:e.left-k,top:e.top-$,right:e.right-k,bottom:e.bottom-$},k&&Math.abs(k-v)<1&&(r="nearest"),$&&Math.abs($-w)<1&&(i="nearest")}if(g)break;(e.top<p.top||e.bottom>p.bottom||e.left<p.left||e.right>p.right)&&(e={left:Math.max(e.left,p.left),right:Math.min(e.right,p.right),top:Math.max(e.top,p.top),bottom:Math.min(e.bottom,p.bottom)}),h=h.assignedSlot||h.parentNode}else if(h.nodeType==11)h=h.host;else break}function Uq(n){let e=n.ownerDocument,t,r;for(let i=n.parentNode;i&&!(i==e.body||t&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!t&&i.scrollWidth>i.clientWidth&&(t=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:t,y:r}}class Kq{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:t,focusNode:r}=e;this.set(t,Math.min(e.anchorOffset,t?Vi(t):0),r,Math.min(e.focusOffset,r?Vi(r):0))}set(e,t,r,i){this.anchorNode=e,this.anchorOffset=t,this.focusNode=r,this.focusOffset=i}}let Qa=null;function _Q(n){if(n.setActive)return n.setActive();if(Qa)return n.focus(Qa);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(Qa==null?{get preventScroll(){return Qa={preventScroll:!0},!0}}:void 0),!Qa){Qa=!1;for(let t=0;t<e.length;){let r=e[t++],i=e[t++],s=e[t++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=s&&(r.scrollLeft=s)}}}let kw;function El(n,e,t=e){let r=kw||(kw=document.createRange());return r.setEnd(n,t),r.setStart(n,e),r}function rc(n,e,t,r){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let s=new KeyboardEvent("keydown",i);s.synthetic=!0,n.dispatchEvent(s);let o=new KeyboardEvent("keyup",i);return o.synthetic=!0,n.dispatchEvent(o),s.defaultPrevented||o.defaultPrevented}function Jq(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function MQ(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}function eX(n,e){let t=e.focusNode,r=e.focusOffset;if(!t||e.anchorNode!=t||e.anchorOffset!=r)return!1;for(r=Math.min(r,Vi(t));;)if(r){if(t.nodeType!=1)return!1;let i=t.childNodes[r-1];i.contentEditable=="false"?r--:(t=i,r=Vi(t))}else{if(t==n)return!0;r=Rl(t),t=t.parentNode}}function NQ(n){return n.scrollTop>Math.max(1,n.scrollHeight-n.clientHeight-4)}function BQ(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r>0)return{node:t,offset:r};if(t.nodeType==1&&r>0){if(t.contentEditable=="false")return null;t=t.childNodes[r-1],r=Vi(t)}else if(t.parentNode&&!Ep(t))r=Rl(t),t=t.parentNode;else return null}}function IQ(n,e){for(let t=n,r=e;;){if(t.nodeType==3&&r<t.nodeValue.length)return{node:t,offset:r};if(t.nodeType==1&&r<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[r],r=0}else if(t.parentNode&&!Ep(t))r=Rl(t)+1,t=t.parentNode;else return null}}class An{constructor(e,t,r=!0){this.node=e,this.offset=t,this.precise=r}static before(e,t){return new An(e.parentNode,Rl(e),t)}static after(e,t){return new An(e.parentNode,Rl(e)+1,t)}}const tx=[];class Ct{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let r of this.children){if(r==e)return t;t+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,t){if(this.flags&2){let r=this.dom,i=null,s;for(let o of this.children){if(o.flags&7){if(!o.dom&&(s=i?i.nextSibling:r.firstChild)){let l=Ct.get(s);(!l||!l.parent&&l.canReuseDOM(o))&&o.reuseDOM(s)}o.sync(e,t),o.flags&=-8}if(s=i?i.nextSibling:r.firstChild,t&&!t.written&&t.node==r&&s!=o.dom&&(t.written=!0),o.dom.parentNode==r)for(;s&&s!=o.dom;)s=Tw(s);else r.insertBefore(o.dom,s);i=o.dom}for(s=i?i.nextSibling:r.firstChild,s&&t&&t.node==r&&(t.written=!0);s;)s=Tw(s)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,t),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,t){let r;if(e==this.dom)r=this.dom.childNodes[t];else{let i=Vi(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;i==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?i=-1:i=1),e=s}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!Ct.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,s=0;;i++){let o=this.children[i];if(o.dom==r)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,t,r=0){let i=-1,s=-1,o=-1,l=-1;for(let a=0,u=r,h=r;a<this.children.length;a++){let d=this.children[a],p=u+d.length;if(u<e&&p>t)return d.domBoundsAround(e,t,u);if(p>=e&&i==-1&&(i=a,s=u),u>t&&d.dom.parentNode==this.dom){o=a,l=h;break}h=p,u=p+d.breakAfter}return{from:s,to:l<0?r+this.length:l,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.flags|=2),t.flags&1)return;t.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,r=tx){this.markDirty();for(let i=e;i<t;i++){let s=this.children[i];s.parent==this&&r.indexOf(s)<0&&s.destroy()}r.length<250?this.children.splice(e,t-e,...r):this.children=[].concat(this.children.slice(0,e),r,this.children.slice(t));for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new jQ(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,t,r,i,s,o){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}Ct.prototype.breakAfter=0;function Tw(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class jQ{constructor(e,t,r){this.children=e,this.pos=t,this.i=r,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function DQ(n,e,t,r,i,s,o,l,a){let{children:u}=n,h=u.length?u[e]:null,d=s.length?s[s.length-1]:null,p=d?d.breakAfter:o;if(!(e==r&&h&&!o&&!p&&s.length<2&&h.merge(t,i,s.length?d:null,t==0,l,a))){if(r<u.length){let g=u[r];g&&(i<g.length||g.breakAfter&&d?.breakAfter)?(e==r&&(g=g.split(i),i=0),!p&&d&&g.merge(0,i,d,!0,0,a)?s[s.length-1]=g:((i||g.children.length&&!g.children[0].length)&&g.merge(0,i,null,!1,0,a),s.push(g))):g?.breakAfter&&(d?d.breakAfter=1:o=1),r++}for(h&&(h.breakAfter=o,t>0&&(!o&&s.length&&h.merge(t,h.length,s[0],!1,l,0)?h.breakAfter=s.shift().breakAfter:(t<h.length||h.children.length&&h.children[h.children.length-1].length==0)&&h.merge(t,h.length,null,!1,l,0),e++));e<r&&s.length;)if(u[r-1].become(s[s.length-1]))r--,s.pop(),a=s.length?0:l;else if(u[e].become(s[0]))e++,s.shift(),l=s.length?0:a;else break;!s.length&&e&&r<u.length&&!u[e-1].breakAfter&&u[r].merge(0,0,u[e-1],!1,l,a)&&e--,(e<r||s.length)&&n.replaceChildren(e,r,s)}}function ZQ(n,e,t,r,i,s){let o=n.childCursor(),{i:l,off:a}=o.findPos(t,1),{i:u,off:h}=o.findPos(e,-1),d=e-t;for(let p of r)d+=p.length;n.length+=d,DQ(n,u,h,l,a,r,0,i,s)}let Un=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},g1=typeof document<"u"?document:{documentElement:{style:{}}};const m1=/Edge\/(\d+)/.exec(Un.userAgent),zQ=/MSIE \d/.test(Un.userAgent),O1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Un.userAgent),Lg=!!(zQ||O1||m1),Cw=!Lg&&/gecko\/(\d+)/i.test(Un.userAgent),C0=!Lg&&/Chrome\/(\d+)/.exec(Un.userAgent),tX="webkitFontSmoothing"in g1.documentElement.style,qQ=!Lg&&/Apple Computer/.test(Un.vendor),Pw=qQ&&(/Mobile\/\w+/.test(Un.userAgent)||Un.maxTouchPoints>2);var Te={mac:Pw||/Mac/.test(Un.platform),windows:/Win/.test(Un.platform),linux:/Linux|X11/.test(Un.platform),ie:Lg,ie_version:zQ?g1.documentMode||6:O1?+O1[1]:m1?+m1[1]:0,gecko:Cw,gecko_version:Cw?+(/Firefox\/(\d+)/.exec(Un.userAgent)||[0,0])[1]:0,chrome:!!C0,chrome_version:C0?+C0[1]:0,ios:Pw,android:/Android\b/.test(Un.userAgent),safari:qQ,webkit_version:tX?+(/\bAppleWebKit\/(\d+)/.exec(Un.userAgent)||[0,0])[1]:0,tabSize:g1.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const nX=256;class di extends Ct{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,t){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(t&&t.node==this.dom&&(t.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,r){return this.flags&8||r&&(!(r instanceof di)||this.length-(t-e)+r.length>nX||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new di(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t.flags|=this.flags&8,t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new An(this.dom,e)}domBoundsAround(e,t,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return rX(this.dom,e,t)}}class Es extends Ct{constructor(e,t=[],r=0){super(),this.mark=e,this.children=t,this.length=r;for(let i of t)i.setParent(this)}setAttrs(e){if(MQ(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,t){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,t)}merge(e,t,r,i,s,o){return r&&(!(r instanceof Es&&r.mark.eq(this.mark))||e&&s<=0||t<this.length&&o<=0)?!1:(ZQ(this,e,t,r?r.children.slice():[],s-1,o-1),this.markDirty(),!0)}split(e){let t=[],r=0,i=-1,s=0;for(let l of this.children){let a=r+l.length;a>e&&t.push(r<e?l.split(e-r):l),i<0&&r>=e&&(i=s),r=a,s++}let o=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new Es(this.mark,t,o)}domAtPos(e){return XQ(this,e)}coordsAt(e,t){return WQ(this,e,t)}}function rX(n,e,t){let r=n.nodeValue.length;e>r&&(e=r);let i=e,s=e,o=0;e==0&&t<0||e==r&&t>=0?Te.chrome||Te.gecko||(e?(i--,o=1):s<r&&(s++,o=-1)):t<0?i--:s<r&&s++;let l=El(n,i,s).getClientRects();if(!l.length)return null;let a=l[(o?o<0:t>=0)?0:l.length-1];return Te.safari&&!o&&a.width==0&&(a=Array.prototype.find.call(l,u=>u.width)||a),o?Vh(a,o<0):a||null}class bo extends Ct{static create(e,t,r){return new bo(e,t,r)}constructor(e,t,r){super(),this.widget=e,this.length=t,this.side=r,this.prevWidget=null}split(e){let t=bo.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,t,r,i,s,o){return r&&(!(r instanceof bo)||!this.widget.compare(r.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}become(e){return e instanceof bo&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return ht.empty;let e=this;for(;e.parent;)e=e.parent;let{view:t}=e,r=t&&t.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):ht.empty}domAtPos(e){return(this.length?e==0:this.side>0)?An.before(this.dom):An.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);if(r)return r;let i=this.dom.getClientRects(),s=null;if(!i.length)return null;let o=this.side?this.side<0:e>0;for(let l=o?i.length-1:0;s=i[l],!(e>0?l==0:l==i.length-1||s.top<s.bottom);l+=o?-1:1);return Vh(s,!o)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class gc extends Ct{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof gc&&e.side==this.side}split(){return new gc(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?An.before(this.dom):An.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return ht.empty}get isHidden(){return!0}}di.prototype.children=bo.prototype.children=gc.prototype.children=tx;function XQ(n,e){let t=n.dom,{children:r}=n,i=0;for(let s=0;i<r.length;i++){let o=r[i],l=s+o.length;if(!(l==s&&o.getSide()<=0)){if(e>s&&e<l&&o.dom.parentNode==t)return o.domAtPos(e-s);if(e<=s)break;s=l}}for(let s=i;s>0;s--){let o=r[s-1];if(o.dom.parentNode==t)return o.domAtPos(o.length)}for(let s=i;s<r.length;s++){let o=r[s];if(o.dom.parentNode==t)return o.domAtPos(0)}return new An(t,0)}function VQ(n,e,t){let r,{children:i}=n;t>0&&e instanceof Es&&i.length&&(r=i[i.length-1])instanceof Es&&r.mark.eq(e.mark)?VQ(r,e.children[0],t-1):(i.push(e),e.setParent(n)),n.length+=e.length}function WQ(n,e,t){let r=null,i=-1,s=null,o=-1;function l(u,h){for(let d=0,p=0;d<u.children.length&&p<=h;d++){let g=u.children[d],b=p+g.length;b>=h&&(g.children.length?l(g,h-p):(!s||s.isHidden&&(t>0||sX(s,g)))&&(b>h||p==b&&g.getSide()>0)?(s=g,o=h-p):(p<h||p==b&&g.getSide()<0&&!g.isHidden)&&(r=g,i=h-p)),p=b}}l(n,e);let a=(t<0?r:s)||r||s;return a?a.coordsAt(Math.max(0,a==r?i:o),t):iX(n)}function iX(n){let e=n.dom.lastChild;if(!e)return n.dom.getBoundingClientRect();let t=pc(e);return t[t.length-1]||null}function sX(n,e){let t=n.coordsAt(0,1),r=e.coordsAt(0,1);return t&&r&&r.top<t.bottom}function b1(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}const Qw=Object.create(null);function Lp(n,e,t){if(n==e)return!0;n||(n=Qw),e||(e=Qw);let r=Object.keys(n),i=Object.keys(e);if(r.length-(t&&r.indexOf(t)>-1?1:0)!=i.length-(t&&i.indexOf(t)>-1?1:0))return!1;for(let s of r)if(s!=t&&(i.indexOf(s)==-1||n[s]!==e[s]))return!1;return!0}function x1(n,e,t){let r=!1;if(e)for(let i in e)t&&i in t||(r=!0,i=="style"?n.style.cssText="":n.removeAttribute(i));if(t)for(let i in t)e&&e[i]==t[i]||(r=!0,i=="style"?n.style.cssText=t[i]:n.setAttribute(i,t[i]));return r}function oX(n){let e=Object.create(null);for(let t=0;t<n.attributes.length;t++){let r=n.attributes[t];e[r.name]=r.value}return e}class Gi{eq(e){return!1}updateDOM(e,t){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,t,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Dn=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(Dn||(Dn={}));class Me extends Al{constructor(e,t,r,i){super(),this.startSide=e,this.endSide=t,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new Wh(e)}static widget(e){let t=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return t+=r&&!e.inlineOrder?t>0?3e8:-4e8:t>0?1e8:-1e8,new $o(e,t,t,r,e.widget||null,!1)}static replace(e){let t=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:s,end:o}=FQ(e,t);r=(s?t?-3e8:-1:5e8)-1,i=(o?t?2e8:1:-6e8)+1}return new $o(e,r,i,t,e.widget||null,!0)}static line(e){return new Fh(e)}static set(e,t=!1){return ct.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Me.none=ct.empty;class Wh extends Me{constructor(e){let{start:t,end:r}=FQ(e);super(t?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var t,r;return this==e||e instanceof Wh&&this.tagName==e.tagName&&(this.class||((t=this.attrs)===null||t===void 0?void 0:t.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&Lp(this.attrs,e.attrs,"class")}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}Wh.prototype.point=!1;class Fh extends Me{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Fh&&this.spec.class==e.spec.class&&Lp(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Fh.prototype.mapMode=gn.TrackBefore;Fh.prototype.point=!0;class $o extends Me{constructor(e,t,r,i,s,o){super(t,r,s,e),this.block=i,this.isReplace=o,this.mapMode=i?t<=0?gn.TrackBefore:gn.TrackAfter:gn.TrackDel}get type(){return this.startSide!=this.endSide?Dn.WidgetRange:this.startSide<=0?Dn.WidgetBefore:Dn.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof $o&&lX(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}$o.prototype.point=!0;function FQ(n,e=!1){let{inclusiveStart:t,inclusiveEnd:r}=n;return t==null&&(t=n.inclusive),r==null&&(r=n.inclusive),{start:t??e,end:r??e}}function lX(n,e){return n==e||!!(n&&e&&n.compare(e))}function Hd(n,e,t,r=0){let i=t.length-1;i>=0&&t[i]+r>=n?t[i]=Math.max(t[i],e):t.push(n,e)}class Gt extends Ct{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,r,i,s,o){if(r){if(!(r instanceof Gt))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),ZQ(this,e,t,r?r.children.slice():[],s,o),!0}split(e){let t=new Gt;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i:r,off:i}=this.childPos(e);i&&(t.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let s=r;s<this.children.length;s++)t.append(this.children[s],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,t}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Lp(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){VQ(this,e,t)}addLineDeco(e){let t=e.spec.attributes,r=e.spec.class;t&&(this.attrs=b1(t,this.attrs||{})),r&&(this.attrs=b1({class:r},this.attrs||{}))}domAtPos(e){return XQ(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,t){var r;this.dom?this.flags&4&&(MQ(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(x1(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,t);let i=this.dom.lastChild;for(;i&&Ct.get(i)instanceof Es;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=Ct.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!Te.ios||!this.children.some(s=>s instanceof di))){let s=document.createElement("BR");s.cmIgnore=!0,this.dom.appendChild(s)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,t;for(let r of this.children){if(!(r instanceof di)||/[^ -~]/.test(r.text))return null;let i=pc(r.dom);if(i.length!=1)return null;e+=i[0].width,t=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:t}:null}coordsAt(e,t){let r=WQ(this,e,t);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,s=r.bottom-r.top;if(Math.abs(s-i.lineHeight)<2&&i.textHeight<s){let o=(s-i.textHeight)/2;return{top:r.top+o,bottom:r.bottom-o,left:r.left,right:r.left}}}return r}become(e){return e instanceof Gt&&this.children.length==0&&e.children.length==0&&Lp(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,t){for(let r=0,i=0;r<e.children.length;r++){let s=e.children[r],o=i+s.length;if(o>=t){if(s instanceof Gt)return s;if(o>t)break}i=o+s.breakAfter}return null}}class Cs extends Ct{constructor(e,t,r){super(),this.widget=e,this.length=t,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,t,r,i,s,o){return r&&(!(r instanceof Cs)||!this.widget.compare(r.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?An.before(this.dom):An.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let r=new Cs(this.widget,t,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return tx}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):ht.empty}domBoundsAround(){return null}become(e){return e instanceof Cs&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,t){let r=this.widget.coordsAt(this.dom,e,t);return r||(this.widget instanceof v1?null:Vh(this.dom.getBoundingClientRect(),this.length?e==0:t<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:t,endSide:r}=this.deco;return t==r?!1:e<0?t<0:r>0}}class v1 extends Gi{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class eh{constructor(e,t,r,i){this.doc=e,this.pos=t,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Cs&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Gt),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(xd(new gc(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Cs)&&this.getLine()}buildText(e,t,r){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:l,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(l){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e),s=Math.min(i,512);this.flushBuffer(t.slice(t.length-r)),this.getLine().append(xd(new di(this.text.slice(this.textOff,this.textOff+s)),t),r),this.atCursorPos=!0,this.textOff+=s,e-=s,r=i<=s?0:t.length}}span(e,t,r,i){this.buildText(t-e,r,i),this.pos=t,this.openStart<0&&(this.openStart=i)}point(e,t,r,i,s,o){if(this.disallowBlockEffectsFor[o]&&r instanceof $o){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let l=t-e;if(r instanceof $o)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Cs(r.widget||mc.block,l,r));else{let a=bo.create(r.widget||mc.inline,l,l?0:r.startSide),u=this.atCursorPos&&!a.isEditable&&s<=i.length&&(e<t||r.startSide>0),h=!a.isEditable&&(e<t||s>i.length||r.startSide<=0),d=this.getLine();this.pendingBuffer==2&&!u&&!a.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),u&&(d.append(xd(new gc(1),i),s),s=i.length+Math.max(0,s-i.length)),d.append(xd(a,i),s),this.atCursorPos=h,this.pendingBuffer=h?e<t||s>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);l&&(this.textOff+l<=this.text.length?this.textOff+=l:(this.skip+=l-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,r,i,s){let o=new eh(e,t,r,s);return o.openEnd=ct.spans(i,t,r,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function xd(n,e){for(let t of e)n=new Es(t,[n],n.length);return n}class mc extends Gi{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}mc.inline=new mc("span");mc.block=new mc("div");var Et=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(Et||(Et={}));const Ll=Et.LTR,nx=Et.RTL;function YQ(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const aX=YQ("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),cX=YQ("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),y1=Object.create(null),Pi=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);y1[e]=t,y1[t]=-e}function HQ(n){return n<=247?aX[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?cX[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8204?256:64336<=n&&n<=65023?4:1}const uX=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class xo{get dir(){return this.level%2?nx:Ll}constructor(e,t,r){this.from=e,this.to=t,this.level=r}side(e,t){return this.dir==t==e?this.to:this.from}forward(e,t){return e==(this.dir==t)}static find(e,t,r,i){let s=-1;for(let o=0;o<e.length;o++){let l=e[o];if(l.from<=t&&l.to>=t){if(l.level==r)return o;(s<0||(i!=0?i<0?l.from<t:l.to>t:e[s].level>l.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}function GQ(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++){let r=n[t],i=e[t];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!GQ(r.inner,i.inner))return!1}return!0}const Tt=[];function hX(n,e,t,r,i){for(let s=0;s<=r.length;s++){let o=s?r[s-1].to:e,l=s<r.length?r[s].from:t,a=s?256:i;for(let u=o,h=a,d=a;u<l;u++){let p=HQ(n.charCodeAt(u));p==512?p=h:p==8&&d==4&&(p=16),Tt[u]=p==4?2:p,p&7&&(d=p),h=p}for(let u=o,h=a,d=a;u<l;u++){let p=Tt[u];if(p==128)u<l-1&&h==Tt[u+1]&&h&24?p=Tt[u]=h:Tt[u]=256;else if(p==64){let g=u+1;for(;g<l&&Tt[g]==64;)g++;let b=u&&h==8||g<t&&Tt[g]==8?d==1?1:8:256;for(let x=u;x<g;x++)Tt[x]=b;u=g-1}else p==8&&d==1&&(Tt[u]=1);h=p,p&7&&(d=p)}}}function fX(n,e,t,r,i){let s=i==1?2:1;for(let o=0,l=0,a=0;o<=r.length;o++){let u=o?r[o-1].to:e,h=o<r.length?r[o].from:t;for(let d=u,p,g,b;d<h;d++)if(g=y1[p=n.charCodeAt(d)])if(g<0){for(let x=l-3;x>=0;x-=3)if(Pi[x+1]==-g){let v=Pi[x+2],w=v&2?i:v&4?v&1?s:i:0;w&&(Tt[d]=Tt[Pi[x]]=w),l=x;break}}else{if(Pi.length==189)break;Pi[l++]=d,Pi[l++]=p,Pi[l++]=a}else if((b=Tt[d])==2||b==1){let x=b==i;a=x?0:1;for(let v=l-3;v>=0;v-=3){let w=Pi[v+2];if(w&2)break;if(x)Pi[v+2]|=2;else{if(w&4)break;Pi[v+2]|=4}}}}}function dX(n,e,t,r){for(let i=0,s=r;i<=t.length;i++){let o=i?t[i-1].to:n,l=i<t.length?t[i].from:e;for(let a=o;a<l;){let u=Tt[a];if(u==256){let h=a+1;for(;;)if(h==l){if(i==t.length)break;h=t[i++].to,l=i<t.length?t[i].from:e}else if(Tt[h]==256)h++;else break;let d=s==1,p=(h<e?Tt[h]:r)==1,g=d==p?d?1:2:r;for(let b=h,x=i,v=x?t[x-1].to:n;b>a;)b==v&&(b=t[--x].from,v=x?t[x-1].to:n),Tt[--b]=g;a=h}else s=u,a++}}}function S1(n,e,t,r,i,s,o){let l=r%2?2:1;if(r%2==i%2)for(let a=e,u=0;a<t;){let h=!0,d=!1;if(u==s.length||a<s[u].from){let x=Tt[a];x!=l&&(h=!1,d=x==16)}let p=!h&&l==1?[]:null,g=h?r:r+1,b=a;e:for(;;)if(u<s.length&&b==s[u].from){if(d)break e;let x=s[u];if(!h)for(let v=x.to,w=u+1;;){if(v==t)break e;if(w<s.length&&s[w].from==v)v=s[w++].to;else{if(Tt[v]==l)break e;break}}if(u++,p)p.push(x);else{x.from>a&&o.push(new xo(a,x.from,g));let v=x.direction==Ll!=!(g%2);w1(n,v?r+1:r,i,x.inner,x.from,x.to,o),a=x.to}b=x.to}else{if(b==t||(h?Tt[b]!=l:Tt[b]==l))break;b++}p?S1(n,a,b,r+1,i,p,o):a<b&&o.push(new xo(a,b,g)),a=b}else for(let a=t,u=s.length;a>e;){let h=!0,d=!1;if(!u||a>s[u-1].to){let x=Tt[a-1];x!=l&&(h=!1,d=x==16)}let p=!h&&l==1?[]:null,g=h?r:r+1,b=a;e:for(;;)if(u&&b==s[u-1].to){if(d)break e;let x=s[--u];if(!h)for(let v=x.from,w=u;;){if(v==e)break e;if(w&&s[w-1].to==v)v=s[--w].from;else{if(Tt[v-1]==l)break e;break}}if(p)p.push(x);else{x.to<a&&o.push(new xo(x.to,a,g));let v=x.direction==Ll!=!(g%2);w1(n,v?r+1:r,i,x.inner,x.from,x.to,o),a=x.from}b=x.from}else{if(b==e||(h?Tt[b-1]!=l:Tt[b-1]==l))break;b--}p?S1(n,b,a,r+1,i,p,o):b<a&&o.push(new xo(b,a,g)),a=b}}function w1(n,e,t,r,i,s,o){let l=e%2?2:1;hX(n,i,s,r,l),fX(n,i,s,r,l),dX(i,s,r,l),S1(n,i,s,e,t,r,o)}function pX(n,e,t){if(!n)return[new xo(0,0,e==nx?1:0)];if(e==Ll&&!t.length&&!uX.test(n))return UQ(n.length);if(t.length)for(;n.length>Tt.length;)Tt[Tt.length]=256;let r=[],i=e==Ll?0:1;return w1(n,i,i,t,0,n.length,r),r}function UQ(n){return[new xo(0,n,0)]}let KQ="";function gX(n,e,t,r,i){var s;let o=r.head-n.from,l=xo.find(e,o,(s=r.bidiLevel)!==null&&s!==void 0?s:-1,r.assoc),a=e[l],u=a.side(i,t);if(o==u){let p=l+=i?1:-1;if(p<0||p>=e.length)return null;a=e[l=p],o=a.side(!i,t),u=a.side(i,t)}let h=On(n.text,o,a.forward(i,t));(h<a.from||h>a.to)&&(h=u),KQ=n.text.slice(Math.min(o,h),Math.max(o,h));let d=l==(i?e.length-1:0)?null:e[l+(i?1:-1)];return d&&h==u&&d.level+(i?0:1)<a.level?ae.cursor(d.side(!i,t)+n.from,d.forward(i,t)?1:-1,d.level):ae.cursor(h+n.from,a.forward(i,t)?-1:1,a.level)}function mX(n,e,t){for(let r=e;r<t;r++){let i=HQ(n.charCodeAt(r));if(i==1)return Ll;if(i==2||i==4)return nx}return Ll}const JQ=Ce.define(),e$=Ce.define(),t$=Ce.define(),n$=Ce.define(),k1=Ce.define(),r$=Ce.define(),i$=Ce.define(),rx=Ce.define(),ix=Ce.define(),s$=Ce.define({combine:n=>n.some(e=>e)}),o$=Ce.define({combine:n=>n.some(e=>e)}),l$=Ce.define();class ic{constructor(e,t="nearest",r="nearest",i=5,s=5,o=!1){this.range=e,this.y=t,this.x=r,this.yMargin=i,this.xMargin=s,this.isSnapshot=o}map(e){return e.empty?this:new ic(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new ic(ae.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const vd=Xe.define({map:(n,e)=>n.map(e)}),a$=Xe.define();function er(n,e,t){let r=n.facet(n$);r.length?r[0](e):window.onerror&&window.onerror(String(e),t,void 0,void 0,e)||(t?console.error(t+":",e):console.error(e))}const ws=Ce.define({combine:n=>n.length?n[0]:!0});let OX=0;const qa=Ce.define({combine(n){return n.filter((e,t)=>{for(let r=0;r<t;r++)if(n[r].plugin==e.plugin)return!1;return!0})}});class Yt{constructor(e,t,r,i,s){this.id=e,this.create=t,this.domEventHandlers=r,this.domEventObservers=i,this.baseExtensions=s(this),this.extension=this.baseExtensions.concat(qa.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(qa.of({plugin:this,arg:e}))}static define(e,t){const{eventHandlers:r,eventObservers:i,provide:s,decorations:o}=t||{};return new Yt(OX++,e,r,i,l=>{let a=[];return o&&a.push(bh.of(u=>{let h=u.plugin(l);return h?o(h):Me.none})),s&&a.push(s(l)),a})}static fromClass(e,t){return Yt.define((r,i)=>new e(r,i),t)}}class P0{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(r){if(er(t.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(t){er(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(r){er(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const c$=Ce.define(),sx=Ce.define(),bh=Ce.define(),u$=Ce.define(),Yh=Ce.define(),h$=Ce.define();function $w(n,e){let t=n.state.facet(h$);if(!t.length)return t;let r=t.map(s=>s instanceof Function?s(n):s),i=[];return ct.spans(r,e.from,e.to,{point(){},span(s,o,l,a){let u=s-e.from,h=o-e.from,d=i;for(let p=l.length-1;p>=0;p--,a--){let g=l[p].spec.bidiIsolate,b;if(g==null&&(g=mX(e.text,u,h)),a>0&&d.length&&(b=d[d.length-1]).to==u&&b.direction==g)b.to=h,d=b.inner;else{let x={from:u,to:h,direction:g,inner:[]};d.push(x),d=x.inner}}}}),i}const f$=Ce.define();function ox(n){let e=0,t=0,r=0,i=0;for(let s of n.state.facet(f$)){let o=s(n);o&&(o.left!=null&&(e=Math.max(e,o.left)),o.right!=null&&(t=Math.max(t,o.right)),o.top!=null&&(r=Math.max(r,o.top)),o.bottom!=null&&(i=Math.max(i,o.bottom)))}return{left:e,right:t,top:r,bottom:i}}const qu=Ce.define();class Vr{constructor(e,t,r,i){this.fromA=e,this.toA=t,this.fromB=r,this.toB=i}join(e){return new Vr(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,r=this;for(;t>0;t--){let i=e[t-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(t-1,1)}}return e.splice(t,0,r),e}static extendWithRanges(e,t){if(t.length==0)return e;let r=[];for(let i=0,s=0,o=0,l=0;;i++){let a=i==e.length?null:e[i],u=o-l,h=a?a.fromB:1e9;for(;s<t.length&&t[s]<h;){let d=t[s],p=t[s+1],g=Math.max(l,d),b=Math.min(h,p);if(g<=b&&new Vr(g+u,b+u,g,b).addToSet(r),p>h)break;s+=2}if(!a)return r;new Vr(a.fromA,a.toA,a.fromB,a.toB).addToSet(r),o=a.toA,l=a.toB}}}class _p{constructor(e,t,r){this.view=e,this.state=t,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Ut.empty(this.startState.doc.length);for(let s of r)this.changes=this.changes.compose(s.changes);let i=[];this.changes.iterChangedRanges((s,o,l,a)=>i.push(new Vr(s,o,l,a))),this.changedRanges=i}static create(e,t,r){return new _p(e,t,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class Aw extends Ct{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Me.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Gt],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Vr(0,0,0,e.state.doc.length)],0,null)}update(e){var t;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:u,toA:h})=>h<this.minWidthFrom||u>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((t=this.domChanged)===null||t===void 0)&&t.newSel?i=this.domChanged.newSel.head:!kX(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let s=i>-1?xX(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:u,to:h}=this.hasComposition;r=new Vr(u,h,e.changes.mapPos(u,-1),e.changes.mapPos(h,1)).addToSet(r.slice())}this.hasComposition=s?{from:s.range.fromB,to:s.range.toB}:null,(Te.ie||Te.chrome)&&!s&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let o=this.decorations,l=this.updateDeco(),a=SX(o,l,e.changes);return r=Vr.extendWithRanges(r,a),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,s),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let o=Te.chrome||Te.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,o),this.flags&=-8,o&&(o.written||i.selectionRange.focusNode!=o.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(o=>o.flags&=-9);let s=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let o of this.children)o instanceof Cs&&o.widget instanceof v1&&s.push(o.dom);i.updateGaps(s)}updateChildren(e,t,r){let i=r?r.range.addToSet(e.slice()):e,s=this.childCursor(t);for(let o=i.length-1;;o--){let l=o>=0?i[o]:null;if(!l)break;let{fromA:a,toA:u,fromB:h,toB:d}=l,p,g,b,x;if(r&&r.range.fromB<d&&r.range.toB>h){let B=eh.build(this.view.state.doc,h,r.range.fromB,this.decorations,this.dynamicDecorationMap),N=eh.build(this.view.state.doc,r.range.toB,d,this.decorations,this.dynamicDecorationMap);g=B.breakAtStart,b=B.openStart,x=N.openEnd;let z=this.compositionView(r);N.breakAtStart?z.breakAfter=1:N.content.length&&z.merge(z.length,z.length,N.content[0],!1,N.openStart,0)&&(z.breakAfter=N.content[0].breakAfter,N.content.shift()),B.content.length&&z.merge(0,0,B.content[B.content.length-1],!0,0,B.openEnd)&&B.content.pop(),p=B.content.concat(z).concat(N.content)}else({content:p,breakAtStart:g,openStart:b,openEnd:x}=eh.build(this.view.state.doc,h,d,this.decorations,this.dynamicDecorationMap));let{i:v,off:w}=s.findPos(u,1),{i:k,off:$}=s.findPos(a,-1);DQ(this,k,$,v,w,p,g,b,x)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let t of e.transactions)for(let r of t.effects)r.is(a$)&&(this.editContextFormatting=r.value)}compositionView(e){let t=new di(e.text.nodeValue);t.flags|=8;for(let{deco:i}of e.marks)t=new Es(i,[t],t.length);let r=new Gt;return r.append(t,0),r}fixCompositionDOM(e){let t=(s,o)=>{o.flags|=8|(o.children.some(a=>a.flags&7)?1:0),this.markedForComposition.add(o);let l=Ct.get(s);l&&l!=o&&(l.dom=null),o.setDOM(s)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];t(e.line,i);for(let s=e.marks.length-1;s>=-1;s--)r=i.childPos(r.off,1),i=i.children[r.i],t(s>=0?e.marks[s].node:e.text,i)}updateSelection(e=!1,t=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,s=!i&&!(this.view.state.facet(ws)||this.dom.tabIndex>-1)&&Yd(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||t||s))return;let o=this.forceSelection;this.forceSelection=!1;let l=this.view.state.selection.main,a=this.moveToLine(this.domAtPos(l.anchor)),u=l.empty?a:this.moveToLine(this.domAtPos(l.head));if(Te.gecko&&l.empty&&!this.hasComposition&&bX(a)){let d=document.createTextNode("");this.view.observer.ignore(()=>a.node.insertBefore(d,a.node.childNodes[a.offset]||null)),a=u=new An(d,0),o=!0}let h=this.view.observer.selectionRange;(o||!h.focusNode||(!Ju(a.node,a.offset,h.anchorNode,h.anchorOffset)||!Ju(u.node,u.offset,h.focusNode,h.focusOffset))&&!this.suppressWidgetCursorChange(h,l))&&(this.view.observer.ignore(()=>{Te.android&&Te.chrome&&this.dom.contains(h.focusNode)&&wX(h.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let d=Oh(this.view.root);if(d)if(l.empty){if(Te.gecko){let p=vX(a.node,a.offset);if(p&&p!=3){let g=(p==1?BQ:IQ)(a.node,a.offset);g&&(a=new An(g.node,g.offset))}}d.collapse(a.node,a.offset),l.bidiLevel!=null&&d.caretBidiLevel!==void 0&&(d.caretBidiLevel=l.bidiLevel)}else if(d.extend){d.collapse(a.node,a.offset);try{d.extend(u.node,u.offset)}catch{}}else{let p=document.createRange();l.anchor>l.head&&([a,u]=[u,a]),p.setEnd(u.node,u.offset),p.setStart(a.node,a.offset),d.removeAllRanges(),d.addRange(p)}s&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(a,u)),this.impreciseAnchor=a.precise?null:new An(h.anchorNode,h.anchorOffset),this.impreciseHead=u.precise?null:new An(h.focusNode,h.focusOffset)}suppressWidgetCursorChange(e,t){return this.hasComposition&&t.empty&&Ju(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==t.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,t=e.state.selection.main,r=Oh(e.root),{anchorNode:i,anchorOffset:s}=e.observer.selectionRange;if(!r||!t.empty||!t.assoc||!r.modify)return;let o=Gt.find(this,t.head);if(!o)return;let l=o.posAtStart;if(t.head==l||t.head==l+o.length)return;let a=this.coordsAt(t.head,-1),u=this.coordsAt(t.head,1);if(!a||!u||a.bottom>u.top)return;let h=this.domAtPos(t.head+t.assoc);r.collapse(h.node,h.offset),r.modify("move",t.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let d=e.observer.selectionRange;e.docView.posFromDOM(d.anchorNode,d.anchorOffset)!=t.from&&r.collapse(i,s)}moveToLine(e){let t=this.dom,r;if(e.node!=t)return e;for(let i=e.offset;!r&&i<t.childNodes.length;i++){let s=Ct.get(t.childNodes[i]);s instanceof Gt&&(r=s.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let s=Ct.get(t.childNodes[i]);s instanceof Gt&&(r=s.domAtPos(s.length))}return r?new An(r.node,r.offset,!0):e}nearest(e){for(let t=e;t;){let r=Ct.get(t);if(r&&r.rootView==this)return r;t=t.parentNode}return null}posFromDOM(e,t){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,t)+r.posAtStart}domAtPos(e){let{i:t,off:r}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let i=this.children[t];if(r<i.length||i instanceof Gt)break;t++,r=0}return this.children[t].domAtPos(r)}coordsAt(e,t){let r=null,i=0;for(let s=this.length,o=this.children.length-1;o>=0;o--){let l=this.children[o],a=s-l.breakAfter,u=a-l.length;if(a<e)break;if(u<=e&&(u<e||l.covers(-1))&&(a>e||l.covers(1))&&(!r||l instanceof Gt&&!(r instanceof Gt&&t>=0)))r=l,i=u;else if(r&&u==e&&a==e&&l instanceof Cs&&Math.abs(t)<2){if(l.deco.startSide<0)break;o&&(r=null)}s=u}return r?r.coordsAt(e-i,t):null}coordsForChar(e){let{i:t,off:r}=this.childPos(e,1),i=this.children[t];if(!(i instanceof Gt))return null;for(;i.children.length;){let{i:l,off:a}=i.childPos(r,1);for(;;l++){if(l==i.children.length)return null;if((i=i.children[l]).length)break}r=a}if(!(i instanceof di))return null;let s=On(i.text,r);if(s==r)return null;let o=El(i.dom,r,s).getClientRects();for(let l=0;l<o.length;l++){let a=o[l];if(l==o.length-1||a.top<a.bottom&&a.left<a.right)return a}return null}measureVisibleLineHeights(e){let t=[],{from:r,to:i}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,l=-1,a=this.view.textDirection==Et.LTR;for(let u=0,h=0;h<this.children.length;h++){let d=this.children[h],p=u+d.length;if(p>i)break;if(u>=r){let g=d.dom.getBoundingClientRect();if(t.push(g.height),o){let b=d.dom.lastChild,x=b?pc(b):[];if(x.length){let v=x[x.length-1],w=a?v.right-g.left:g.right-v.left;w>l&&(l=w,this.minWidth=s,this.minWidthFrom=u,this.minWidthTo=p)}}}u=p+d.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?Et.RTL:Et.LTR}measureTextSize(){for(let s of this.children)if(s instanceof Gt){let o=s.measureTextSize();if(o)return o}let e=document.createElement("div"),t,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let s=pc(e.firstChild)[0];t=e.getBoundingClientRect().height,r=s?s.width/27:7,i=s?s.height:t,e.remove()}),{lineHeight:t,charWidth:r,textHeight:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new jQ(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let r=0,i=0;;i++){let s=i==t.viewports.length?null:t.viewports[i],o=s?s.from-1:this.length;if(o>r){let l=(t.lineBlockAt(o).bottom-t.lineBlockAt(r).top)/this.view.scaleY;e.push(Me.replace({widget:new v1(l),block:!0,inclusive:!0,isBlockGap:!0}).range(r,o))}if(!s)break;r=s.to+1}return Me.set(e)}updateDeco(){let e=1,t=this.view.state.facet(bh).map(s=>(this.dynamicDecorationMap[e++]=typeof s=="function")?s(this.view):s),r=!1,i=this.view.state.facet(u$).map((s,o)=>{let l=typeof s=="function";return l&&(r=!0),l?s(this.view):s});for(i.length&&(this.dynamicDecorationMap[e++]=r,t.push(ct.join(i))),this.decorations=[this.editContextFormatting,...t,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let u=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=u.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let u of this.view.state.facet(l$))try{if(u(this.view,e.range,e))return!0}catch(h){er(this.view.state,h,"scroll handler")}let{range:t}=e,r=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),i;if(!r)return;!t.empty&&(i=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let s=ox(this.view),o={left:r.left-s.left,top:r.top-s.top,right:r.right+s.right,bottom:r.bottom+s.bottom},{offsetWidth:l,offsetHeight:a}=this.view.scrollDOM;Gq(this.view.scrollDOM,o,t.head<t.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,l),-l),Math.max(Math.min(e.yMargin,a),-a),this.view.textDirection==Et.LTR)}}function bX(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}function d$(n,e){let t=n.observer.selectionRange;if(!t.focusNode)return null;let r=BQ(t.focusNode,t.focusOffset),i=IQ(t.focusNode,t.focusOffset),s=r||i;if(i&&r&&i.node!=r.node){let l=Ct.get(i.node);if(!l||l instanceof di&&l.text!=i.node.nodeValue)s=i;else if(n.docView.lastCompositionAfterCursor){let a=Ct.get(r.node);!a||a instanceof di&&a.text!=r.node.nodeValue||(s=i)}}if(n.docView.lastCompositionAfterCursor=s!=r,!s)return null;let o=e-s.offset;return{from:o,to:o+s.node.nodeValue.length,node:s.node}}function xX(n,e,t){let r=d$(n,t);if(!r)return null;let{node:i,from:s,to:o}=r,l=i.nodeValue;if(/[\n\r]/.test(l)||n.state.doc.sliceString(r.from,r.to)!=l)return null;let a=e.invertedDesc,u=new Vr(a.mapPos(s),a.mapPos(o),s,o),h=[];for(let d=i.parentNode;;d=d.parentNode){let p=Ct.get(d);if(p instanceof Es)h.push({node:d,deco:p.mark});else{if(p instanceof Gt||d.nodeName=="DIV"&&d.parentNode==n.contentDOM)return{range:u,text:i,marks:h,line:d};if(d!=n.contentDOM)h.push({node:d,deco:new Wh({inclusive:!0,attributes:oX(d),tagName:d.tagName.toLowerCase()})});else return null}}}function vX(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}let yX=class{constructor(){this.changes=[]}compareRange(e,t){Hd(e,t,this.changes)}comparePoint(e,t){Hd(e,t,this.changes)}boundChange(e){Hd(e,e,this.changes)}};function SX(n,e,t){let r=new yX;return ct.compare(n,e,t,r),r.changes}function wX(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function kX(n,e){let t=!1;return e&&n.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(t=!0)}),t}function TX(n,e,t=1){let r=n.charCategorizer(e),i=n.doc.lineAt(e),s=e-i.from;if(i.length==0)return ae.cursor(e);s==0?t=1:s==i.length&&(t=-1);let o=s,l=s;t<0?o=On(i.text,s,!1):l=On(i.text,s);let a=r(i.text.slice(o,l));for(;o>0;){let u=On(i.text,o,!1);if(r(i.text.slice(u,o))!=a)break;o=u}for(;l<i.length;){let u=On(i.text,l);if(r(i.text.slice(l,u))!=a)break;l=u}return ae.range(o+i.from,l+i.from)}function CX(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function PX(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function Q0(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function Rw(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function Ew(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function T1(n,e,t){let r,i,s,o,l=!1,a,u,h,d;for(let b=n.firstChild;b;b=b.nextSibling){let x=pc(b);for(let v=0;v<x.length;v++){let w=x[v];i&&Q0(i,w)&&(w=Rw(Ew(w,i.bottom),i.top));let k=CX(e,w),$=PX(t,w);if(k==0&&$==0)return b.nodeType==3?Lw(b,e,t):T1(b,e,t);(!r||o>$||o==$&&s>k)&&(r=b,i=w,s=k,o=$,l=k?e<w.left?v>0:v<x.length-1:!0),k==0?t>w.bottom&&(!h||h.bottom<w.bottom)?(a=b,h=w):t<w.top&&(!d||d.top>w.top)&&(u=b,d=w):h&&Q0(h,w)?h=Ew(h,w.bottom):d&&Q0(d,w)&&(d=Rw(d,w.top))}}if(h&&h.bottom>=t?(r=a,i=h):d&&d.top<=t&&(r=u,i=d),!r)return{node:n,offset:0};let p=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return Lw(r,p,t);if(l&&r.contentEditable!="false")return T1(r,p,t);let g=Array.prototype.indexOf.call(n.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:n,offset:g}}function Lw(n,e,t){let r=n.nodeValue.length,i=-1,s=1e9,o=0;for(let l=0;l<r;l++){let a=El(n,l,l+1).getClientRects();for(let u=0;u<a.length;u++){let h=a[u];if(h.top==h.bottom)continue;o||(o=e-h.left);let d=(h.top>t?h.top-t:t-h.bottom)-1;if(h.left-1<=e&&h.right+1>=e&&d<s){let p=e>=(h.left+h.right)/2,g=p;if((Te.chrome||Te.gecko)&&El(n,l).getBoundingClientRect().left==h.right&&(g=!p),d<=0)return{node:n,offset:l+(g?1:0)};i=l+(g?1:0),s=d}}}return{node:n,offset:i>-1?i:o>0?n.nodeValue.length:0}}function p$(n,e,t,r=-1){var i,s;let o=n.contentDOM.getBoundingClientRect(),l=o.top+n.viewState.paddingTop,a,{docHeight:u}=n.viewState,{x:h,y:d}=e,p=d-l;if(p<0)return 0;if(p>u)return n.state.doc.length;for(let B=n.viewState.heightOracle.textHeight/2,N=!1;a=n.elementAtHeight(p),a.type!=Dn.Text;)for(;p=r>0?a.bottom+B:a.top-B,!(p>=0&&p<=u);){if(N)return t?null:0;N=!0,r=-r}d=l+p;let g=a.from;if(g<n.viewport.from)return n.viewport.from==0?0:t?null:_w(n,o,a,h,d);if(g>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:t?null:_w(n,o,a,h,d);let b=n.dom.ownerDocument,x=n.root.elementFromPoint?n.root:b,v=x.elementFromPoint(h,d);v&&!n.contentDOM.contains(v)&&(v=null),v||(h=Math.max(o.left+1,Math.min(o.right-1,h)),v=x.elementFromPoint(h,d),v&&!n.contentDOM.contains(v)&&(v=null));let w,k=-1;if(v&&((i=n.docView.nearest(v))===null||i===void 0?void 0:i.isEditable)!=!1){if(b.caretPositionFromPoint){let B=b.caretPositionFromPoint(h,d);B&&({offsetNode:w,offset:k}=B)}else if(b.caretRangeFromPoint){let B=b.caretRangeFromPoint(h,d);B&&({startContainer:w,startOffset:k}=B)}w&&(!n.contentDOM.contains(w)||Te.safari&&QX(w,k,h)||Te.chrome&&$X(w,k,h))&&(w=void 0),w&&(k=Math.min(Vi(w),k))}if(!w||!n.docView.dom.contains(w)){let B=Gt.find(n.docView,g);if(!B)return p>a.top+a.height/2?a.to:a.from;({node:w,offset:k}=T1(B.dom,h,d))}let $=n.docView.nearest(w);if(!$)return null;if($.isWidget&&((s=$.dom)===null||s===void 0?void 0:s.nodeType)==1){let B=$.dom.getBoundingClientRect();return e.y<B.top||e.y<=B.bottom&&e.x<=(B.left+B.right)/2?$.posAtStart:$.posAtEnd}else return $.localPosFromDOM(w,k)+$.posAtStart}function _w(n,e,t,r,i){let s=Math.round((r-e.left)*n.defaultCharacterWidth);if(n.lineWrapping&&t.height>n.defaultLineHeight*1.5){let l=n.viewState.heightOracle.textHeight,a=Math.floor((i-t.top-(n.defaultLineHeight-l)*.5)/l);s+=a*n.viewState.heightOracle.lineLength}let o=n.state.sliceDoc(t.from,t.to);return t.from+h1(o,s,n.state.tabSize)}function g$(n,e,t){let r,i=n;if(n.nodeType!=3||e!=(r=n.nodeValue.length))return!1;for(;;){let s=i.nextSibling;if(s){if(s.nodeName=="BR")break;return!1}else{let o=i.parentNode;if(!o||o.nodeName=="DIV")break;i=o}}return El(n,r-1,r).getBoundingClientRect().right>t}function QX(n,e,t){return g$(n,e,t)}function $X(n,e,t){if(e!=0)return g$(n,e,t);for(let i=n;;){let s=i.parentNode;if(!s||s.nodeType!=1||s.firstChild!=i)return!1;if(s.classList.contains("cm-line"))break;i=s}let r=n.nodeType==1?n.getBoundingClientRect():El(n,0,Math.max(n.nodeValue.length,1)).getBoundingClientRect();return t-r.left>5}function C1(n,e,t){let r=n.lineBlockAt(e);if(Array.isArray(r.type)){let i;for(let s of r.type){if(s.from>e)break;if(!(s.to<e)){if(s.from<e&&s.to>e)return s;(!i||s.type==Dn.Text&&(i.type!=s.type||(t<0?s.from<e:s.to>e)))&&(i=s)}}return i||r}return r}function AX(n,e,t,r){let i=C1(n,e.head,e.assoc||-1),s=!r||i.type!=Dn.Text||!(n.lineWrapping||i.widgetLineBreaks)?null:n.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(s){let o=n.dom.getBoundingClientRect(),l=n.textDirectionAt(i.from),a=n.posAtCoords({x:t==(l==Et.LTR)?o.right-1:o.left+1,y:(s.top+s.bottom)/2});if(a!=null)return ae.cursor(a,t?-1:1)}return ae.cursor(t?i.to:i.from,t?-1:1)}function Mw(n,e,t,r){let i=n.state.doc.lineAt(e.head),s=n.bidiSpans(i),o=n.textDirectionAt(i.from);for(let l=e,a=null;;){let u=gX(i,s,o,l,t),h=KQ;if(!u){if(i.number==(t?n.state.doc.lines:1))return l;h=`
`,i=n.state.doc.line(i.number+(t?1:-1)),s=n.bidiSpans(i),u=n.visualLineSide(i,!t)}if(a){if(!a(h))return l}else{if(!r)return u;a=r(h)}l=u}}function RX(n,e,t){let r=n.state.charCategorizer(e),i=r(t);return s=>{let o=r(s);return i==Nt.Space&&(i=o),i==o}}function EX(n,e,t,r){let i=e.head,s=t?1:-1;if(i==(t?n.state.doc.length:0))return ae.cursor(i,e.assoc);let o=e.goalColumn,l,a=n.contentDOM.getBoundingClientRect(),u=n.coordsAtPos(i,e.assoc||-1),h=n.documentTop;if(u)o==null&&(o=u.left-a.left),l=s<0?u.top:u.bottom;else{let g=n.viewState.lineBlockAt(i);o==null&&(o=Math.min(a.right-a.left,n.defaultCharacterWidth*(i-g.from))),l=(s<0?g.top:g.bottom)+h}let d=a.left+o,p=r??n.viewState.heightOracle.textHeight>>1;for(let g=0;;g+=10){let b=l+(p+g)*s,x=p$(n,{x:d,y:b},!1,s);if(b<a.top||b>a.bottom||(s<0?x<i:x>i)){let v=n.docView.coordsForChar(x),w=!v||b<v.top?-1:1;return ae.cursor(x,w,void 0,o)}}}function th(n,e,t){for(;;){let r=0;for(let i of n)i.between(e-1,e+1,(s,o,l)=>{if(e>s&&e<o){let a=r||t||(e-s<o-e?-1:1);e=a<0?s:o,r=a}});if(!r)return e}}function m$(n,e){let t=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],s=null;if(i.empty){let o=th(n,i.from,0);o!=i.from&&(s=ae.cursor(o,-1))}else{let o=th(n,i.from,-1),l=th(n,i.to,1);(o!=i.from||l!=i.to)&&(s=ae.range(i.from==i.anchor?o:l,i.from==i.head?o:l))}s&&(t||(t=e.ranges.slice()),t[r]=s)}return t?ae.create(t,e.mainIndex):e}function $0(n,e,t){let r=th(n.state.facet(Yh).map(i=>i(n)),t.from,e.head>t.from?-1:1);return r==t.from?t:ae.cursor(r,r<t.from?1:-1)}const Xu="";class LX{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(at.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Xu}readRange(e,t){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let s=this.text.length;this.readNode(i);let o=i.nextSibling;if(o==t)break;let l=Ct.get(i),a=Ct.get(o);(l&&a?l.breakAfter:(l?l.breakAfter:Ep(i))||Ep(o)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>s)&&this.lineBreak(),i=o}return this.findPointBefore(r,t),this}readTextNode(e){let t=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,t.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,l;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,r),o=this.lineSeparator.length):(l=i.exec(t))&&(s=l.index,o=l[0].length),this.append(t.slice(r,s<0?t.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let a of this.points)a.node==e&&a.pos>this.text.length&&(a.pos-=o-1);r=s+o}}readNode(e){if(e.cmIgnore)return;let t=Ct.get(e),r=t&&t.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==t&&(r.pos=this.text.length)}findPointInside(e,t){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(_X(e,r.node,r.offset)?t:0))}}function _X(n,e,t){for(;;){if(!e||t<Vi(e))return!1;if(e==n)return!0;t=Rl(e)+1,e=e.parentNode}}class Nw{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class MX{constructor(e,t,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=t>-1;let{impreciseHead:s,impreciseAnchor:o}=e.docView;if(e.state.readOnly&&t>-1)this.newSel=null;else if(t>-1&&(this.bounds=e.docView.domBoundsAround(t,r,0))){let l=s||o?[]:IX(e),a=new LX(l,e.state);a.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=a.text,this.newSel=jX(l,this.bounds.from)}else{let l=e.observer.selectionRange,a=s&&s.node==l.focusNode&&s.offset==l.focusOffset||!p1(e.contentDOM,l.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(l.focusNode,l.focusOffset),u=o&&o.node==l.anchorNode&&o.offset==l.anchorOffset||!p1(e.contentDOM,l.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(l.anchorNode,l.anchorOffset),h=e.viewport;if((Te.ios||Te.chrome)&&e.state.selection.main.empty&&a!=u&&(h.from>0||h.to<e.state.doc.length)){let d=Math.min(a,u),p=Math.max(a,u),g=h.from-d,b=h.to-p;(g==0||g==1||d==0)&&(b==0||b==-1||p==e.state.doc.length)&&(a=0,u=e.state.doc.length)}this.newSel=ae.single(u,a)}}}function O$(n,e){let t,{newSel:r}=e,i=n.state.selection.main,s=n.inputState.lastKeyTime>Date.now()-100?n.inputState.lastKeyCode:-1;if(e.bounds){let{from:o,to:l}=e.bounds,a=i.from,u=null;(s===8||Te.android&&e.text.length<l-o)&&(a=i.to,u="end");let h=BX(n.state.doc.sliceString(o,l,Xu),e.text,a-o,u);h&&(Te.chrome&&s==13&&h.toB==h.from+2&&e.text.slice(h.from,h.toB)==Xu+Xu&&h.toB--,t={from:o+h.from,to:o+h.toA,insert:ht.of(e.text.slice(h.from,h.toB).split(Xu))})}else r&&(!n.hasFocus&&n.state.facet(ws)||r.main.eq(i))&&(r=null);if(!t&&!r)return!1;if(!t&&e.typeOver&&!i.empty&&r&&r.main.empty?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,i.to)}:(Te.mac||Te.android)&&t&&t.from==t.to&&t.from==i.head-1&&/^\. ?$/.test(t.insert.toString())&&n.contentDOM.getAttribute("autocorrect")=="off"?(r&&t.insert.length==2&&(r=ae.single(r.main.anchor-1,r.main.head-1)),t={from:t.from,to:t.to,insert:ht.of([t.insert.toString().replace("."," ")])}):t&&t.from>=i.from&&t.to<=i.to&&(t.from!=i.from||t.to!=i.to)&&i.to-i.from-(t.to-t.from)<=4?t={from:i.from,to:i.to,insert:n.state.doc.slice(i.from,t.from).append(t.insert).append(n.state.doc.slice(t.to,i.to))}:Te.chrome&&t&&t.from==t.to&&t.from==i.head&&t.insert.toString()==`
 `&&n.lineWrapping&&(r&&(r=ae.single(r.main.anchor-1,r.main.head-1)),t={from:i.from,to:i.to,insert:ht.of([" "])}),t)return lx(n,t,r,s);if(r&&!r.main.eq(i)){let o=!1,l="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(o=!0),l=n.inputState.lastSelectionOrigin,l=="select.pointer"&&(r=m$(n.state.facet(Yh).map(a=>a(n)),r))),n.dispatch({selection:r,scrollIntoView:o,userEvent:l}),!0}else return!1}function lx(n,e,t,r=-1){if(Te.ios&&n.inputState.flushIOSKey(e))return!0;let i=n.state.selection.main;if(Te.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&n.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&rc(n.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&rc(n.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&rc(n.contentDOM,"Delete",46)))return!0;let s=e.insert.toString();n.inputState.composing>=0&&n.inputState.composing++;let o,l=()=>o||(o=NX(n,e,t));return n.state.facet(r$).some(a=>a(n,e.from,e.to,s,l))||n.dispatch(l()),!0}function NX(n,e,t){let r,i=n.state,s=i.selection.main,o=-1;if(e.from==e.to&&e.from<s.from||e.from>s.to){let a=e.from<s.from?-1:1,u=a<0?s.from:s.to,h=th(i.facet(Yh).map(d=>d(n)),u,a);e.from==h&&(o=h)}if(o>-1)r={changes:e,selection:ae.cursor(e.from+e.insert.length,-1)};else if(e.from>=s.from&&e.to<=s.to&&e.to-e.from>=(s.to-s.from)/3&&(!t||t.main.empty&&t.main.from==e.from+e.insert.length)&&n.inputState.composing<0){let a=s.from<e.from?i.sliceDoc(s.from,e.from):"",u=s.to>e.to?i.sliceDoc(e.to,s.to):"";r=i.replaceSelection(n.state.toText(a+e.insert.sliceString(0,void 0,n.state.lineBreak)+u))}else{let a=i.changes(e),u=t&&t.main.to<=a.newLength?t.main:void 0;if(i.selection.ranges.length>1&&n.inputState.composing>=0&&e.to<=s.to&&e.to>=s.to-10){let h=n.state.sliceDoc(e.from,e.to),d,p=t&&d$(n,t.main.head);if(p){let x=e.insert.length-(e.to-e.from);d={from:p.from,to:p.to-x}}else d=n.state.doc.lineAt(s.head);let g=s.to-e.to,b=s.to-s.from;r=i.changeByRange(x=>{if(x.from==s.from&&x.to==s.to)return{changes:a,range:u||x.map(a)};let v=x.to-g,w=v-h.length;if(x.to-x.from!=b||n.state.sliceDoc(w,v)!=h||x.to>=d.from&&x.from<=d.to)return{range:x};let k=i.changes({from:w,to:v,insert:e.insert}),$=x.to-s.to;return{changes:k,range:u?ae.range(Math.max(0,u.anchor+$),Math.max(0,u.head+$)):x.map(k)}})}else r={changes:a,selection:u&&i.selection.replaceRange(u)}}let l="input.type";return(n.composing||n.inputState.compositionPendingChange&&n.inputState.compositionEndedAt>Date.now()-50)&&(n.inputState.compositionPendingChange=!1,l+=".compose",n.inputState.compositionFirstChange&&(l+=".start",n.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:l,scrollIntoView:!0})}function BX(n,e,t,r){let i=Math.min(n.length,e.length),s=0;for(;s<i&&n.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==i&&n.length==e.length)return null;let o=n.length,l=e.length;for(;o>0&&l>0&&n.charCodeAt(o-1)==e.charCodeAt(l-1);)o--,l--;if(r=="end"){let a=Math.max(0,s-Math.min(o,l));t-=o+a-s}if(o<s&&n.length<e.length){let a=t<=s&&t>=o?s-t:0;s-=a,l=s+(l-o),o=s}else if(l<s){let a=t<=s&&t>=l?s-t:0;s-=a,o=s+(o-l),l=s}return{from:s,toA:o,toB:l}}function IX(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}=n.observer.selectionRange;return t&&(e.push(new Nw(t,r)),(i!=t||s!=r)&&e.push(new Nw(i,s))),e}function jX(n,e){if(n.length==0)return null;let t=n[0].pos,r=n.length==2?n[1].pos:t;return t>-1&&r>-1?ae.single(t+e,r+e):null}class DX{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Te.safari&&e.contentDOM.addEventListener("input",()=>null),Te.gecko&&nV(e.contentDOM.ownerDocument)}handleEvent(e){!YX(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,t){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,t);for(let i of r.handlers){if(t.defaultPrevented)break;if(i(this.view,t)){t.preventDefault();break}}}}ensureHandlers(e){let t=ZX(e),r=this.handlers,i=this.view.contentDOM;for(let s in t)if(s!="scroll"){let o=!t[s].handlers.length,l=r[s];l&&o!=!l.handlers.length&&(i.removeEventListener(s,this.handleEvent),l=null),l||i.addEventListener(s,this.handleEvent,{passive:o})}for(let s in r)s!="scroll"&&!t[s]&&i.removeEventListener(s,this.handleEvent);this.handlers=t}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&x$.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),Te.android&&Te.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let t;return Te.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((t=b$.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||zX.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=t||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let t=this.pendingIOSKey;return!t||t.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,rc(this.view.contentDOM,t.key,t.keyCode,t instanceof KeyboardEvent?t:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:Te.safari&&!Te.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function Bw(n,e){return(t,r)=>{try{return e.call(n,r,t)}catch(i){er(t.state,i)}}}function ZX(n){let e=Object.create(null);function t(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of n){let i=r.spec,s=i&&i.plugin.domEventHandlers,o=i&&i.plugin.domEventObservers;if(s)for(let l in s){let a=s[l];a&&t(l).handlers.push(Bw(r.value,a))}if(o)for(let l in o){let a=o[l];a&&t(l).observers.push(Bw(r.value,a))}}for(let r in pi)t(r).handlers.push(pi[r]);for(let r in Fr)t(r).observers.push(Fr[r]);return e}const b$=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],zX="dthko",x$=[16,17,18,20,91,92,224,225],yd=6;function Sd(n){return Math.max(0,n)*.7+8}function qX(n,e){return Math.max(Math.abs(n.clientX-e.clientX),Math.abs(n.clientY-e.clientY))}class XX{constructor(e,t,r,i){this.view=e,this.startEvent=t,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=t,this.scrollParents=Uq(e.contentDOM),this.atoms=e.state.facet(Yh).map(o=>o(e));let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(at.allowMultipleSelections)&&VX(e,t),this.dragging=FX(e,t)&&S$(t)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&qX(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let t=0,r=0,i=0,s=0,o=this.view.win.innerWidth,l=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:o}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:s,bottom:l}=this.scrollParents.y.getBoundingClientRect());let a=ox(this.view);e.clientX-a.left<=i+yd?t=-Sd(i-e.clientX):e.clientX+a.right>=o-yd&&(t=Sd(e.clientX-o)),e.clientY-a.top<=s+yd?r=-Sd(s-e.clientY):e.clientY+a.bottom>=l-yd&&(r=Sd(e.clientY-l)),this.setScrollSpeed(t,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,t){this.scrollSpeed={x:e,y:t},e||t?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:t}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),t&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=t,t=0),(e||t)&&this.view.win.scrollBy(e,t),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:t}=this,r=m$(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(t.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(t=>t.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function VX(n,e){let t=n.state.facet(JQ);return t.length?t[0](e):Te.mac?e.metaKey:e.ctrlKey}function WX(n,e){let t=n.state.facet(e$);return t.length?t[0](e):Te.mac?!e.altKey:!e.ctrlKey}function FX(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let r=Oh(n.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let s=0;s<i.length;s++){let o=i[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function YX(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,r;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(r=Ct.get(t))&&r.ignoreEvent(e))return!1;return!0}const pi=Object.create(null),Fr=Object.create(null),v$=Te.ie&&Te.ie_version<15||Te.ios&&Te.webkit_version<604;function HX(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),y$(n,t.value)},50)}function _g(n,e,t){for(let r of n.facet(e))t=r(t,n);return t}function y$(n,e){e=_g(n.state,rx,e);let{state:t}=n,r,i=1,s=t.toText(e),o=s.lines==t.selection.ranges.length;if(P1!=null&&t.selection.ranges.every(a=>a.empty)&&P1==s.toString()){let a=-1;r=t.changeByRange(u=>{let h=t.doc.lineAt(u.from);if(h.from==a)return{range:u};a=h.from;let d=t.toText((o?s.line(i++).text:e)+t.lineBreak);return{changes:{from:h.from,insert:d},range:ae.cursor(u.from+d.length)}})}else o?r=t.changeByRange(a=>{let u=s.line(i++);return{changes:{from:a.from,to:a.to,insert:u.text},range:ae.cursor(a.from+u.length)}}):r=t.replaceSelection(s);n.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Fr.scroll=n=>{n.inputState.lastScrollTop=n.scrollDOM.scrollTop,n.inputState.lastScrollLeft=n.scrollDOM.scrollLeft};pi.keydown=(n,e)=>(n.inputState.setSelectionOrigin("select"),e.keyCode==27&&n.inputState.tabFocusMode!=0&&(n.inputState.tabFocusMode=Date.now()+2e3),!1);Fr.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Fr.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};pi.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3)return!1;let t=null;for(let r of n.state.facet(t$))if(t=r(n,e),t)break;if(!t&&e.button==0&&(t=KX(n,e)),t){let r=!n.hasFocus;n.inputState.startMouseSelection(new XX(n,e,t,r)),r&&n.observer.ignore(()=>{_Q(n.contentDOM);let s=n.root.activeElement;s&&!s.contains(n.contentDOM)&&s.blur()});let i=n.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}else n.inputState.setSelectionOrigin("select.pointer");return!1};function Iw(n,e,t,r){if(r==1)return ae.cursor(e,t);if(r==2)return TX(n.state,e,t);{let i=Gt.find(n.docView,e),s=n.state.doc.lineAt(i?i.posAtEnd:e),o=i?i.posAtStart:s.from,l=i?i.posAtEnd:s.to;return l<n.state.doc.length&&l==s.to&&l++,ae.range(o,l)}}let jw=(n,e,t)=>e>=t.top&&e<=t.bottom&&n>=t.left&&n<=t.right;function GX(n,e,t,r){let i=Gt.find(n.docView,e);if(!i)return 1;let s=e-i.posAtStart;if(s==0)return 1;if(s==i.length)return-1;let o=i.coordsAt(s,-1);if(o&&jw(t,r,o))return-1;let l=i.coordsAt(s,1);return l&&jw(t,r,l)?1:o&&o.bottom>=r?-1:1}function Dw(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:GX(n,t,e.clientX,e.clientY)}}const UX=Te.ie&&Te.ie_version<=11;let Zw=null,zw=0,qw=0;function S$(n){if(!UX)return n.detail;let e=Zw,t=qw;return Zw=n,qw=Date.now(),zw=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(zw+1)%3:1}function KX(n,e){let t=Dw(n,e),r=S$(e),i=n.state.selection;return{update(s){s.docChanged&&(t.pos=s.changes.mapPos(t.pos),i=i.map(s.changes))},get(s,o,l){let a=Dw(n,s),u,h=Iw(n,a.pos,a.bias,r);if(t.pos!=a.pos&&!o){let d=Iw(n,t.pos,t.bias,r),p=Math.min(d.from,h.from),g=Math.max(d.to,h.to);h=p<h.from?ae.range(p,g):ae.range(g,p)}return o?i.replaceRange(i.main.extend(h.from,h.to)):l&&r==1&&i.ranges.length>1&&(u=JX(i,a.pos))?u:l?i.addRange(h):ae.create([h])}}}function JX(n,e){for(let t=0;t<n.ranges.length;t++){let{from:r,to:i}=n.ranges[t];if(r<=e&&i>=e)return ae.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}return null}pi.dragstart=(n,e)=>{let{selection:{main:t}}=n.state;if(e.target.draggable){let i=n.docView.nearest(e.target);if(i&&i.isWidget){let s=i.posAtStart,o=s+i.length;(s>=t.to||o<=t.from)&&(t=ae.range(s,o))}}let{inputState:r}=n;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=t,e.dataTransfer&&(e.dataTransfer.setData("Text",_g(n.state,ix,n.state.sliceDoc(t.from,t.to))),e.dataTransfer.effectAllowed="copyMove"),!1};pi.dragend=n=>(n.inputState.draggedContent=null,!1);function Xw(n,e,t,r){if(t=_g(n.state,rx,t),!t)return;let i=n.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:s}=n.inputState,o=r&&s&&WX(n,e)?{from:s.from,to:s.to}:null,l={from:i,insert:t},a=n.state.changes(o?[o,l]:l);n.focus(),n.dispatch({changes:a,selection:{anchor:a.mapPos(i,-1),head:a.mapPos(i,1)},userEvent:o?"move.drop":"input.drop"}),n.inputState.draggedContent=null}pi.drop=(n,e)=>{if(!e.dataTransfer)return!1;if(n.state.readOnly)return!0;let t=e.dataTransfer.files;if(t&&t.length){let r=Array(t.length),i=0,s=()=>{++i==t.length&&Xw(n,e,r.filter(o=>o!=null).join(n.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let l=new FileReader;l.onerror=s,l.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(l.result)||(r[o]=l.result),s()},l.readAsText(t[o])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return Xw(n,e,r,!0),!0}return!1};pi.paste=(n,e)=>{if(n.state.readOnly)return!0;n.observer.flush();let t=v$?null:e.clipboardData;return t?(y$(n,t.getData("text/plain")||t.getData("text/uri-list")),!0):(HX(n),!1)};function eV(n,e){let t=n.dom.parentNode;if(!t)return;let r=t.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),n.focus()},50)}function tV(n){let e=[],t=[],r=!1;for(let i of n.selection.ranges)i.empty||(e.push(n.sliceDoc(i.from,i.to)),t.push(i));if(!e.length){let i=-1;for(let{from:s}of n.selection.ranges){let o=n.doc.lineAt(s);o.number>i&&(e.push(o.text),t.push({from:o.from,to:Math.min(n.doc.length,o.to+1)})),i=o.number}r=!0}return{text:_g(n,ix,e.join(n.lineBreak)),ranges:t,linewise:r}}let P1=null;pi.copy=pi.cut=(n,e)=>{let{text:t,ranges:r,linewise:i}=tV(n.state);if(!t&&!i)return!1;P1=i?t:null,e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let s=v$?null:e.clipboardData;return s?(s.clearData(),s.setData("text/plain",t),!0):(eV(n,t),!1)};const w$=Ns.define();function k$(n,e){let t=[];for(let r of n.facet(i$)){let i=r(n,e);i&&t.push(i)}return t.length?n.update({effects:t,annotations:w$.of(!0)}):null}function T$(n){setTimeout(()=>{let e=n.hasFocus;if(e!=n.inputState.notifiedFocused){let t=k$(n.state,e);t?n.dispatch(t):n.update([])}},10)}Fr.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),T$(n)};Fr.blur=n=>{n.observer.clearSelectionRange(),T$(n)};Fr.compositionstart=Fr.compositionupdate=n=>{n.observer.editContext||(n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0))};Fr.compositionend=n=>{n.observer.editContext||(n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionPendingKey=!0,n.inputState.compositionPendingChange=n.observer.pendingRecords().length>0,n.inputState.compositionFirstChange=null,Te.chrome&&Te.android?n.observer.flushSoon():n.inputState.compositionPendingChange?Promise.resolve().then(()=>n.observer.flush()):setTimeout(()=>{n.inputState.composing<0&&n.docView.hasComposition&&n.update([])},50))};Fr.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};pi.beforeinput=(n,e)=>{var t,r;if(e.inputType=="insertReplacementText"&&n.observer.editContext){let s=(t=e.dataTransfer)===null||t===void 0?void 0:t.getData("text/plain"),o=e.getTargetRanges();if(s&&o.length){let l=o[0],a=n.posAtDOM(l.startContainer,l.startOffset),u=n.posAtDOM(l.endContainer,l.endOffset);return lx(n,{from:a,to:u,insert:n.state.toText(s)},null),!0}}let i;if(Te.chrome&&Te.android&&(i=b$.find(s=>s.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let s=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>s+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}return Te.ios&&e.inputType=="deleteContentForward"&&n.observer.flushSoon(),Te.safari&&e.inputType=="insertText"&&n.inputState.composing>=0&&setTimeout(()=>Fr.compositionend(n,e),20),!1};const Vw=new Set;function nV(n){Vw.has(n)||(Vw.add(n),n.addEventListener("copy",()=>{}),n.addEventListener("cut",()=>{}))}const Ww=["pre-wrap","normal","pre-line","break-spaces"];let Oc=!1;function Fw(){Oc=!1}class rV{constructor(e){this.lineWrapping=e,this.doc=ht.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,t){let r=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((t-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return Ww.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(t=!0,this.heightSamples[Math.floor(i*10)]=!0)}return t}refresh(e,t,r,i,s,o){let l=Ww.indexOf(e)>-1,a=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=l;if(this.lineWrapping=l,this.lineHeight=t,this.charWidth=r,this.textHeight=i,this.lineLength=s,a){this.heightSamples={};for(let u=0;u<o.length;u++){let h=o[u];h<0?u++:this.heightSamples[Math.floor(h*10)]=!0}}return a}}class iV{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class Mi{constructor(e,t,r,i,s){this.from=e,this.length=t,this.top=r,this.height=i,this._content=s}get type(){return typeof this._content=="number"?Dn.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof $o?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let t=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new Mi(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var Rt=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(Rt||(Rt={}));const Gd=.001;class Zn{constructor(e,t,r=2){this.length=e,this.height=t,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Gd&&(Oc=!0),this.height=e)}replace(e,t,r){return Zn.of(r)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,r,i){let s=this,o=r.doc;for(let l=i.length-1;l>=0;l--){let{fromA:a,toA:u,fromB:h,toB:d}=i[l],p=s.lineAt(a,Rt.ByPosNoHeight,r.setDoc(t),0,0),g=p.to>=u?p:s.lineAt(u,Rt.ByPosNoHeight,r,0,0);for(d+=g.to-u,u=g.to;l>0&&p.from<=i[l-1].toA;)a=i[l-1].fromA,h=i[l-1].fromB,l--,a<p.from&&(p=s.lineAt(a,Rt.ByPosNoHeight,r,0,0));h+=p.from-a,a=p.from;let b=ax.build(r.setDoc(o),e,h,d);s=Mp(s,s.replace(a,u,b))}return s.updateHeight(r,0)}static empty(){return new Or(0,0)}static of(e){if(e.length==1)return e[0];let t=0,r=e.length,i=0,s=0;for(;;)if(t==r)if(i>s*2){let l=e[t-1];l.break?e.splice(--t,1,l.left,null,l.right):e.splice(--t,1,l.left,l.right),r+=1+l.break,i-=l.size}else if(s>i*2){let l=e[r];l.break?e.splice(r,1,l.left,null,l.right):e.splice(r,1,l.left,l.right),r+=2+l.break,s-=l.size}else break;else if(i<s){let l=e[t++];l&&(i+=l.size)}else{let l=e[--r];l&&(s+=l.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,r++),new sV(Zn.of(e.slice(0,t)),o,Zn.of(e.slice(r)))}}function Mp(n,e){return n==e?n:(n.constructor!=e.constructor&&(Oc=!0),e)}Zn.prototype.size=1;class C$ extends Zn{constructor(e,t,r){super(e,t),this.deco=r}blockAt(e,t,r,i){return new Mi(i,this.length,r,this.height,this.deco||0)}lineAt(e,t,r,i,s){return this.blockAt(0,r,i,s)}forEachLine(e,t,r,i,s,o){e<=s+this.length&&t>=s&&o(this.blockAt(0,r,i,s))}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Or extends C${constructor(e,t){super(e,t,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,t,r,i){return new Mi(i,this.length,r,this.height,this.breaks)}replace(e,t,r){let i=r[0];return r.length==1&&(i instanceof Or||i instanceof dn&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof dn?i=new Or(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Zn.of(r)}updateHeight(e,t=0,r=!1,i){return i&&i.from<=t&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class dn extends Zn{constructor(e){super(e,0)}heightMetrics(e,t){let r=e.doc.lineAt(t).number,i=e.doc.lineAt(t+this.length).number,s=i-r+1,o,l=0;if(e.lineWrapping){let a=Math.min(this.height,e.lineHeight*s);o=a/s,this.length>s+1&&(l=(this.height-a)/(this.length-s-1))}else o=this.height/s;return{firstLine:r,lastLine:i,perLine:o,perChar:l}}blockAt(e,t,r,i){let{firstLine:s,lastLine:o,perLine:l,perChar:a}=this.heightMetrics(t,i);if(t.lineWrapping){let u=i+(e<t.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),h=t.doc.lineAt(u),d=l+h.length*a,p=Math.max(r,e-d/2);return new Mi(h.from,h.length,p,d,0)}else{let u=Math.max(0,Math.min(o-s,Math.floor((e-r)/l))),{from:h,length:d}=t.doc.line(s+u);return new Mi(h,d,r+l*u,l,0)}}lineAt(e,t,r,i,s){if(t==Rt.ByHeight)return this.blockAt(e,r,i,s);if(t==Rt.ByPosNoHeight){let{from:g,to:b}=r.doc.lineAt(e);return new Mi(g,b-g,0,0,0)}let{firstLine:o,perLine:l,perChar:a}=this.heightMetrics(r,s),u=r.doc.lineAt(e),h=l+u.length*a,d=u.number-o,p=i+l*d+a*(u.from-s-d);return new Mi(u.from,u.length,Math.max(i,Math.min(p,i+this.height-h)),h,0)}forEachLine(e,t,r,i,s,o){e=Math.max(e,s),t=Math.min(t,s+this.length);let{firstLine:l,perLine:a,perChar:u}=this.heightMetrics(r,s);for(let h=e,d=i;h<=t;){let p=r.doc.lineAt(h);if(h==e){let b=p.number-l;d+=a*b+u*(e-s-b)}let g=a+u*p.length;o(new Mi(p.from,p.length,d,g,0)),d+=g,h=p.to+1}}replace(e,t,r){let i=this.length-t;if(i>0){let s=r[r.length-1];s instanceof dn?r[r.length-1]=new dn(s.length+i):r.push(null,new dn(i-1))}if(e>0){let s=r[0];s instanceof dn?r[0]=new dn(e+s.length):r.unshift(new dn(e-1),null)}return Zn.of(r)}decomposeLeft(e,t){t.push(new dn(e-1),null)}decomposeRight(e,t){t.push(null,new dn(this.length-e-1))}updateHeight(e,t=0,r=!1,i){let s=t+this.length;if(i&&i.from<=t+this.length&&i.more){let o=[],l=Math.max(t,i.from),a=-1;for(i.from>t&&o.push(new dn(i.from-t-1).updateHeight(e,t));l<=s&&i.more;){let h=e.doc.lineAt(l).length;o.length&&o.push(null);let d=i.heights[i.index++];a==-1?a=d:Math.abs(d-a)>=Gd&&(a=-2);let p=new Or(h,d);p.outdated=!1,o.push(p),l+=h+1}l<=s&&o.push(null,new dn(s-l).updateHeight(e,l));let u=Zn.of(o);return(a<0||Math.abs(u.height-this.height)>=Gd||Math.abs(a-this.heightMetrics(e,t).perLine)>=Gd)&&(Oc=!0),Mp(this,u)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class sV extends Zn{constructor(e,t,r){super(e.length+t+r.length,e.height+r.height,t|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,t,r,i){let s=r+this.left.height;return e<s?this.left.blockAt(e,t,r,i):this.right.blockAt(e,t,s,i+this.left.length+this.break)}lineAt(e,t,r,i,s){let o=i+this.left.height,l=s+this.left.length+this.break,a=t==Rt.ByHeight?e<o:e<l,u=a?this.left.lineAt(e,t,r,i,s):this.right.lineAt(e,t,r,o,l);if(this.break||(a?u.to<l:u.from>l))return u;let h=t==Rt.ByPosNoHeight?Rt.ByPosNoHeight:Rt.ByPos;return a?u.join(this.right.lineAt(l,h,r,o,l)):this.left.lineAt(l,h,r,i,s).join(u)}forEachLine(e,t,r,i,s,o){let l=i+this.left.height,a=s+this.left.length+this.break;if(this.break)e<a&&this.left.forEachLine(e,t,r,i,s,o),t>=a&&this.right.forEachLine(e,t,r,l,a,o);else{let u=this.lineAt(a,Rt.ByPos,r,i,s);e<u.from&&this.left.forEachLine(e,u.from-1,r,i,s,o),u.to>=e&&u.from<=t&&o(u),t>u.to&&this.right.forEachLine(u.to+1,t,r,l,a,o)}}replace(e,t,r){let i=this.left.length+this.break;if(t<i)return this.balanced(this.left.replace(e,t,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,t-i,r));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let l of r)s.push(l);if(e>0&&Yw(s,o-1),t<this.length){let l=s.length;this.decomposeRight(t,s),Yw(s,l)}return Zn.of(s)}decomposeLeft(e,t){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(r++,e>=r&&t.push(null)),e>r&&this.right.decomposeLeft(e-r,t)}decomposeRight(e,t){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,t);e<r&&this.left.decomposeRight(e,t),this.break&&e<i&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?Zn.of(this.break?[e,null,t]:[e,t]):(this.left=Mp(this.left,e),this.right=Mp(this.right,t),this.setHeight(e.height+t.height),this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,r=!1,i){let{left:s,right:o}=this,l=t+s.length+this.break,a=null;return i&&i.from<=t+s.length&&i.more?a=s=s.updateHeight(e,t,r,i):s.updateHeight(e,t,r),i&&i.from<=l+o.length&&i.more?a=o=o.updateHeight(e,l,r,i):o.updateHeight(e,l,r),a?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Yw(n,e){let t,r;n[e]==null&&(t=n[e-1])instanceof dn&&(r=n[e+1])instanceof dn&&n.splice(e-1,3,new dn(t.length+1+r.length))}const oV=5;class ax{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let r=Math.min(t,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Or?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Or(r-this.pos,-1)),this.writtenTo=r,t>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,r){if(e<t||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,s=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let o=t-e;r.block?this.addBlock(new C$(o,i,r)):(o||s||i>=oV)&&this.addLineDeco(i,s,o)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Or(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let r=new dn(t-e);return this.oracle.doc.lineAt(e).to==t&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Or)return e;let t=new Or(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine();let t=e.deco;t&&t.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,t&&t.endSide>0&&(this.covering=e)}addLineDeco(e,t,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=t,this.writtenTo=this.pos=this.pos+r}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof Or)&&!this.isCovered?this.nodes.push(new Or(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof Or&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,t,r,i){let s=new ax(r,e);return ct.spans(t,r,i,s,0),s.finish(r)}}function lV(n,e,t){let r=new aV;return ct.compare(n,e,t,r,0),r.changes}class aV{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,r,i){(e<t||r&&r.heightRelevant||i&&i.heightRelevant)&&Hd(e,t,this.changes,5)}}function cV(n,e){let t=n.getBoundingClientRect(),r=n.ownerDocument,i=r.defaultView||window,s=Math.max(0,t.left),o=Math.min(i.innerWidth,t.right),l=Math.max(0,t.top),a=Math.min(i.innerHeight,t.bottom);for(let u=n.parentNode;u&&u!=r.body;)if(u.nodeType==1){let h=u,d=window.getComputedStyle(h);if((h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth)&&d.overflow!="visible"){let p=h.getBoundingClientRect();s=Math.max(s,p.left),o=Math.min(o,p.right),l=Math.max(l,p.top),a=Math.min(u==n.parentNode?i.innerHeight:a,p.bottom)}u=d.position=="absolute"||d.position=="fixed"?h.offsetParent:h.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:s-t.left,right:Math.max(s,o)-t.left,top:l-(t.top+e),bottom:Math.max(l,a)-(t.top+e)}}function uV(n){let e=n.getBoundingClientRect(),t=n.ownerDocument.defaultView||window;return e.left<t.innerWidth&&e.right>0&&e.top<t.innerHeight&&e.bottom>0}function hV(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class A0{constructor(e,t,r,i){this.from=e,this.to=t,this.size=r,this.displaySize=i}static same(e,t){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=t[r];if(i.from!=s.from||i.to!=s.to||i.size!=s.size)return!1}return!0}draw(e,t){return Me.replace({widget:new fV(this.displaySize*(t?e.scaleY:e.scaleX),t)}).range(this.from,this.to)}}class fV extends Gi{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class Hw{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Gw,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Et.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let t=e.facet(sx).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new rV(t),this.stateDeco=e.facet(bh).filter(r=>typeof r!="function"),this.heightMap=Zn.empty().applyChanges(this.stateDeco,ht.empty,this.heightOracle.setDoc(e.doc),[new Vr(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Me.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let r=0;r<=1;r++){let i=r?t.head:t.anchor;if(!e.some(({from:s,to:o})=>i>=s&&i<=o)){let{from:s,to:o}=this.lineBlockAt(i);e.push(new wd(s,o))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?Gw:new cx(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(Vu(e,this.scaler))})}update(e,t=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(bh).filter(h=>typeof h!="function");let i=e.changedRanges,s=Vr.extendWithRanges(i,lV(r,this.stateDeco,e?e.changes:Ut.empty(this.state.doc.length))),o=this.heightMap.height,l=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);Fw(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),(this.heightMap.height!=o||Oc)&&(e.flags|=2),l?(this.scrollAnchorPos=e.changes.mapPos(l.from,-1),this.scrollAnchorHeight=l.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=o);let a=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<a.from||t.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,t));let u=a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,e.flags|=this.updateForViewport(),(u||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(o$)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,r=window.getComputedStyle(t),i=this.heightOracle,s=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?Et.RTL:Et.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),l=t.getBoundingClientRect(),a=o||this.mustMeasureContent||this.contentDOMHeight!=l.height;this.contentDOMHeight=l.height,this.mustMeasureContent=!1;let u=0,h=0;if(l.width&&l.height){let{scaleX:B,scaleY:N}=LQ(t,l);(B>.005&&Math.abs(this.scaleX-B)>.005||N>.005&&Math.abs(this.scaleY-N)>.005)&&(this.scaleX=B,this.scaleY=N,u|=16,o=a=!0)}let d=(parseInt(r.paddingTop)||0)*this.scaleY,p=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=d||this.paddingBottom!=p)&&(this.paddingTop=d,this.paddingBottom=p,u|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(a=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=16);let g=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=g&&(this.scrollAnchorHeight=-1,this.scrollTop=g),this.scrolledToBottom=NQ(e.scrollDOM);let b=(this.printing?hV:cV)(t,this.paddingTop),x=b.top-this.pixelViewport.top,v=b.bottom-this.pixelViewport.bottom;this.pixelViewport=b;let w=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(w!=this.inView&&(this.inView=w,w&&(a=!0)),!this.inView&&!this.scrollTarget&&!uV(e.dom))return 0;let k=l.width;if((this.contentDOMWidth!=k||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=l.width,this.editorHeight=e.scrollDOM.clientHeight,u|=16),a){let B=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(B)&&(o=!0),o||i.lineWrapping&&Math.abs(k-this.contentDOMWidth)>i.charWidth){let{lineHeight:N,charWidth:z,textHeight:Z}=e.docView.measureTextSize();o=N>0&&i.refresh(s,N,z,Z,Math.max(5,k/z),B),o&&(e.docView.minWidth=0,u|=16)}x>0&&v>0?h=Math.max(x,v):x<0&&v<0&&(h=Math.min(x,v)),Fw();for(let N of this.viewports){let z=N.from==this.viewport.from?B:e.docView.measureVisibleLineHeights(N);this.heightMap=(o?Zn.empty().applyChanges(this.stateDeco,ht.empty,this.heightOracle,[new Vr(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,o,new iV(N.from,z))}Oc&&(u|=2)}let $=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return $&&(u&2&&(u|=this.updateScaler()),this.viewport=this.getViewport(h,this.scrollTarget),u|=this.updateForViewport()),(u&2||$)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,s=this.heightOracle,{visibleTop:o,visibleBottom:l}=this,a=new wd(i.lineAt(o-r*1e3,Rt.ByHeight,s,0,0).from,i.lineAt(l+(1-r)*1e3,Rt.ByHeight,s,0,0).to);if(t){let{head:u}=t.range;if(u<a.from||u>a.to){let h=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),d=i.lineAt(u,Rt.ByPos,s,0,0),p;t.y=="center"?p=(d.top+d.bottom)/2-h/2:t.y=="start"||t.y=="nearest"&&u<a.from?p=d.top:p=d.bottom-h,a=new wd(i.lineAt(p-1e3/2,Rt.ByHeight,s,0,0).from,i.lineAt(p+h+1e3/2,Rt.ByHeight,s,0,0).to)}}return a}mapViewport(e,t){let r=t.mapPos(e.from,-1),i=t.mapPos(e.to,1);return new wd(this.heightMap.lineAt(r,Rt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Rt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:t},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Rt.ByPos,this.heightOracle,0,0),{bottom:s}=this.heightMap.lineAt(t,Rt.ByPos,this.heightOracle,0,0),{visibleTop:o,visibleBottom:l}=this;return(e==0||i<=o-Math.max(10,Math.min(-r,250)))&&(t==this.state.doc.length||s>=l+Math.max(10,Math.min(r,250)))&&i>o-2*1e3&&s<l+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let r=[];for(let i of e)t.touchesRange(i.from,i.to)||r.push(new A0(t.mapPos(i.from),t.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,t){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,s=i>>1,o=i<<1;if(this.defaultTextDirection!=Et.LTR&&!r)return[];let l=[],a=(h,d,p,g)=>{if(d-h<s)return;let b=this.state.selection.main,x=[b.from];b.empty||x.push(b.to);for(let w of x)if(w>h&&w<d){a(h,w-10,p,g),a(w+10,d,p,g);return}let v=pV(e,w=>w.from>=p.from&&w.to<=p.to&&Math.abs(w.from-h)<s&&Math.abs(w.to-d)<s&&!x.some(k=>w.from<k&&w.to>k));if(!v){if(d<p.to&&t&&r&&t.visibleRanges.some($=>$.from<=d&&$.to>=d)){let $=t.moveToLineBoundary(ae.cursor(d),!1,!0).head;$>h&&(d=$)}let w=this.gapSize(p,h,d,g),k=r||w<2e6?w:2e6;v=new A0(h,d,w,k)}l.push(v)},u=h=>{if(h.length<o||h.type!=Dn.Text)return;let d=dV(h.from,h.to,this.stateDeco);if(d.total<o)return;let p=this.scrollTarget?this.scrollTarget.range.head:null,g,b;if(r){let x=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,v,w;if(p!=null){let k=Td(d,p),$=((this.visibleBottom-this.visibleTop)/2+x)/h.height;v=k-$,w=k+$}else v=(this.visibleTop-h.top-x)/h.height,w=(this.visibleBottom-h.top+x)/h.height;g=kd(d,v),b=kd(d,w)}else{let x=d.total*this.heightOracle.charWidth,v=i*this.heightOracle.charWidth,w=0;if(x>2e6)for(let z of e)z.from>=h.from&&z.from<h.to&&z.size!=z.displaySize&&z.from*this.heightOracle.charWidth+w<this.pixelViewport.left&&(w=z.size-z.displaySize);let k=this.pixelViewport.left+w,$=this.pixelViewport.right+w,B,N;if(p!=null){let z=Td(d,p),Z=(($-k)/2+v)/x;B=z-Z,N=z+Z}else B=(k-v)/x,N=($+v)/x;g=kd(d,B),b=kd(d,N)}g>h.from&&a(h.from,g,h,d),b<h.to&&a(b,h.to,h,d)};for(let h of this.viewportLines)Array.isArray(h.type)?h.type.forEach(u):u(h);return l}gapSize(e,t,r,i){let s=Td(i,r)-Td(i,t);return this.heightOracle.lineWrapping?e.height*s:i.total*this.heightOracle.charWidth*s}updateLineGaps(e){A0.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Me.set(e.map(t=>t.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let t=this.stateDeco;this.lineGaps.length&&(t=t.concat(this.lineGapDeco));let r=[];ct.spans(t,this.viewport.from,this.viewport.to,{span(s,o){r.push({from:s,to:o})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let s=0;s<r.length&&!(i&8);s++){let o=this.visibleRanges[s],l=r[s];(o.from!=l.from||o.to!=l.to)&&(i|=4,e&&e.mapPos(o.from,-1)==l.from&&e.mapPos(o.to,1)==l.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||Vu(this.heightMap.lineAt(e,Rt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(t=>t.top<=e&&t.bottom>=e)||Vu(this.heightMap.lineAt(this.scaler.fromDOM(e),Rt.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let t=this.lineBlockAtHeight(e+8);return t.from>=this.viewport.from||this.viewportLines[0].top-e>200?t:this.viewportLines[0]}elementAtHeight(e){return Vu(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class wd{constructor(e,t){this.from=e,this.to=t}}function dV(n,e,t){let r=[],i=n,s=0;return ct.spans(t,n,e,{span(){},point(o,l){o>i&&(r.push({from:i,to:o}),s+=o-i),i=l}},20),i<e&&(r.push({from:i,to:e}),s+=e-i),{total:s,ranges:r}}function kd({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let r=Math.floor(n*t);for(let i=0;;i++){let{from:s,to:o}=e[i],l=o-s;if(r<=l)return s+r;r-=l}}function Td(n,e){let t=0;for(let{from:r,to:i}of n.ranges){if(e<=i){t+=e-r;break}t+=i-r}return t/n.total}function pV(n,e){for(let t of n)if(e(t))return t}const Gw={toDOM(n){return n},fromDOM(n){return n},scale:1,eq(n){return n==this}};class cx{constructor(e,t,r){let i=0,s=0,o=0;this.viewports=r.map(({from:l,to:a})=>{let u=t.lineAt(l,Rt.ByPos,e,0,0).top,h=t.lineAt(a,Rt.ByPos,e,0,0).bottom;return i+=h-u,{from:l,to:a,top:u,bottom:h,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(t.height-i);for(let l of this.viewports)l.domTop=o+(l.top-s)*this.scale,o=l.domBottom=l.domTop+(l.bottom-l.top),s=l.bottom}toDOM(e){for(let t=0,r=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return i+(e-r)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);r=s.bottom,i=s.domBottom}}fromDOM(e){for(let t=0,r=0,i=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return r+(e-i)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);r=s.bottom,i=s.domBottom}}eq(e){return e instanceof cx?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((t,r)=>t.from==e.viewports[r].from&&t.to==e.viewports[r].to):!1}}function Vu(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),r=e.toDOM(n.bottom);return new Mi(n.from,n.length,t,r-t,Array.isArray(n._content)?n._content.map(i=>Vu(i,e)):n._content)}const Cd=Ce.define({combine:n=>n.join(" ")}),Q1=Ce.define({combine:n=>n.indexOf(!0)>-1}),$1=Po.newName(),P$=Po.newName(),Q$=Po.newName(),$$={"&light":"."+P$,"&dark":"."+Q$};function A1(n,e,t){return new Po(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return n;if(!t||!t[i])throw new RangeError(`Unsupported selector: ${i}`);return t[i]}):n+" "+r}})}const gV=A1("."+$1,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},$$),mV={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},R0=Te.ie&&Te.ie_version<=11;class OV{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new Kq,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(t=>{for(let r of t)this.queue.push(r);(Te.ie&&Te.ie_version<=11||Te.ios&&e.composing)&&t.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&Te.android&&e.constructor.EDIT_CONTEXT!==!1&&!(Te.chrome&&Te.chrome_version<126)&&(this.editContext=new xV(e),e.state.facet(ws)&&(e.contentDOM.editContext=this.editContext.editContext)),R0&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var t;((t=this.view.docView)===null||t===void 0?void 0:t.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(t=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),t.length>0&&t[t.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(t=>{t.length>0&&t[t.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,r)=>t!=e[r]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){let t=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(ws)?r.root.activeElement!=this.dom:!Yd(this.dom,i))return;let s=i.anchorNode&&r.docView.nearest(i.anchorNode);if(s&&s.ignoreEvent(e)){t||(this.selectionChanged=!1);return}(Te.ie&&Te.ie_version<=11||Te.android&&Te.chrome)&&!r.state.selection.main.empty&&i.focusNode&&Ju(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,t=Oh(e.root);if(!t)return!1;let r=Te.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&bV(this.view,t)||t;if(!r||this.selectionRange.eq(r))return!1;let i=Yd(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&eX(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let r=this.dom;r;)if(r.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=t)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,mV),R0&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),R0&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){var r;if(!this.delayedAndroidKey){let i=()=>{let s=this.delayedAndroidKey;s&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=s.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&s.force&&rc(this.dom,s.key,s.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let t=-1,r=-1,i=!1;for(let s of e){let o=this.readMutation(s);o&&(o.typeOver&&(i=!0),t==-1?{from:t,to:r}=o:(t=Math.min(o.from,t),r=Math.max(o.to,r)))}return{from:t,to:r,typeOver:i}}readChange(){let{from:e,to:t,typeOver:r}=this.processRecords(),i=this.selectionChanged&&Yd(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let s=new MX(this.view,e,t,r);return this.view.docView.domChanged={newSel:s.newSel?s.newSel.main:null},s}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let t=this.readChange();if(!t)return this.view.requestMeasure(),!1;let r=this.view.state,i=O$(this.view,t);return this.view.state==r&&(t.domChanged||t.newSel&&!t.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.flags|=4),e.type=="childList"){let r=Uw(t,e.previousSibling||e.target.previousSibling,-1),i=Uw(t,e.nextSibling||e.target.nextSibling,1);return{from:r?t.posAfter(r):t.posAtStart,to:i?t.posBefore(i):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(ws)!=e.state.facet(ws)&&(e.view.contentDOM.editContext=e.state.facet(ws)?this.editContext.editContext:null))}destroy(){var e,t,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function Uw(n,e,t){for(;e;){let r=Ct.get(e);if(r&&r.parent==n)return r;let i=e.parentNode;e=i!=n.dom?i:t>0?e.nextSibling:e.previousSibling}return null}function Kw(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=n.docView.domAtPos(n.state.selection.main.anchor);return Ju(o.node,o.offset,i,s)&&([t,r,i,s]=[i,s,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}}function bV(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return Kw(n,i)}let t=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.contentDOM.addEventListener("beforeinput",r,!0),n.dom.ownerDocument.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",r,!0),t?Kw(n,t):null}class xV{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let t=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:s,head:o}=i,l=this.toEditorPos(r.updateRangeStart),a=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:l,drifted:!1});let u={from:l,to:a,insert:ht.of(r.text.split(`
`))};if(u.from==this.from&&s<this.from?u.from=s:u.to==this.to&&s>this.to&&(u.to=s),u.from==u.to&&!u.insert.length){let h=ae.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));h.main.eq(i)||e.dispatch({selection:h,userEvent:"select"});return}if((Te.mac||Te.android)&&u.from==o-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(u={from:l,to:a,insert:ht.of([r.text.replace("."," ")])}),this.pendingContextChange=u,!e.state.readOnly){let h=this.to-this.from+(u.to-u.from+u.insert.length);lx(e,u,ae.single(this.toEditorPos(r.selectionStart,h),this.toEditorPos(r.selectionEnd,h)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),u.from<u.to&&!u.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(t.text.slice(Math.max(0,r.updateRangeStart-1),Math.min(t.text.length,r.updateRangeStart+1)))&&this.handlers.compositionend(r)},this.handlers.characterboundsupdate=r=>{let i=[],s=null;for(let o=this.toEditorPos(r.rangeStart),l=this.toEditorPos(r.rangeEnd);o<l;o++){let a=e.coordsForChar(o);s=a&&new DOMRect(a.left,a.top,a.right-a.left,a.bottom-a.top)||s||new DOMRect,i.push(s)}t.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let s of r.getTextFormats()){let o=s.underlineStyle,l=s.underlineThickness;if(!/none/i.test(o)&&!/none/i.test(l)){let a=this.toEditorPos(s.rangeStart),u=this.toEditorPos(s.rangeEnd);if(a<u){let h=`text-decoration: underline ${/^[a-z]/.test(o)?o+" ":o=="Dashed"?"dashed ":o=="Squiggle"?"wavy ":""}${/thin/i.test(l)?1:2}px`;i.push(Me.mark({attributes:{style:h}}).range(a,u))}}}e.dispatch({effects:a$.of(Me.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)t.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=Oh(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let t=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((s,o,l,a,u)=>{if(r)return;let h=u.length-(o-s);if(i&&o>=i.to)if(i.from==s&&i.to==o&&i.insert.eq(u)){i=this.pendingContextChange=null,t+=h,this.to+=h;return}else i=null,this.revertPending(e.state);if(s+=t,o+=t,o<=this.from)this.from+=h,this.to+=h;else if(s<this.to){if(s<this.from||o>this.to||this.to-this.from+u.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(s),this.toContextPos(o),u.toString()),this.to+=h}t+=h}),i&&!r&&this.revertPending(e.state),!r}update(e){let t=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||t)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:t}=e.selection.main;this.from=Math.max(0,t-1e4),this.to=Math.min(e.doc.length,t+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let t=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(t.from),this.toContextPos(t.from+t.insert.length),e.doc.sliceString(t.from,t.to))}setSelection(e){let{main:t}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,t.anchor))),i=this.toContextPos(t.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:t}=e.selection.main;return!(this.from>0&&t-this.from<500||this.to<e.doc.length&&this.to-t<500||this.to-this.from>1e4*3)}toEditorPos(e,t=this.to-this.from){e=Math.min(e,t);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let t=this.composing;return t&&t.drifted?t.contextBase+(e-t.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class ve{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var t;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(s=>r(s,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||Jq(e.parent)||document,this.viewState=new Hw(e.state||at.create(e)),e.scrollTo&&e.scrollTo.is(vd)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(qa).map(i=>new P0(i));for(let i of this.plugins)i.update(this);this.observer=new OV(this),this.inputState=new DX(this),this.inputState.ensureHandlers(this.plugins),this.docView=new Aw(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((t=document.fonts)===null||t===void 0)&&t.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let t=e.length==1&&e[0]instanceof Jt?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(t,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,r=!1,i,s=this.state;for(let p of e){if(p.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=p.state}if(this.destroyed){this.viewState.state=s;return}let o=this.hasFocus,l=0,a=null;e.some(p=>p.annotation(w$))?(this.inputState.notifiedFocused=o,l=1):o!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=o,a=k$(s,o),a||(l=1));let u=this.observer.delayedAndroidKey,h=null;if(u?(this.observer.clearDelayedAndroidKey(),h=this.observer.readChange(),(h&&!this.state.doc.eq(s.doc)||!this.state.selection.eq(s.selection))&&(h=null)):this.observer.clear(),s.facet(at.phrases)!=this.state.facet(at.phrases))return this.setState(s);i=_p.create(this,s,e),i.flags|=l;let d=this.viewState.scrollTarget;try{this.updateState=2;for(let p of e){if(d&&(d=d.map(p.changes)),p.scrollIntoView){let{main:g}=p.state.selection;d=new ic(g.empty?g:ae.cursor(g.head,g.head>g.anchor?-1:1))}for(let g of p.effects)g.is(vd)&&(d=g.value.clip(this.state))}this.viewState.update(i,d),this.bidiCache=Np.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),t=this.docView.update(i),this.state.facet(qu)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(p=>p.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Cd)!=i.state.facet(Cd)&&(this.viewState.mustMeasureContent=!0),(t||r||d||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),t&&this.docViewUpdate(),!i.empty)for(let p of this.state.facet(k1))try{p(i)}catch(g){er(this.state,g,"update listener")}(a||h)&&Promise.resolve().then(()=>{a&&this.state==a.startState&&this.dispatch(a),h&&!O$(this,h)&&u.force&&rc(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new Hw(e),this.plugins=e.facet(qa).map(r=>new P0(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new Aw(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(qa),r=e.state.facet(qa);if(t!=r){let i=[];for(let s of r){let o=t.indexOf(s);if(o<0)i.push(new P0(s));else{let l=this.plugins[o];l.mustUpdate=e,i.push(l)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);t!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let t=e.value;if(t&&t.docViewUpdate)try{t.docViewUpdate(this)}catch(r){er(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let t=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:s,scrollAnchorHeight:o}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(o=-1),this.viewState.scrollAnchorHeight=-1;try{for(let l=0;;l++){if(o<0)if(NQ(r))s=-1,o=this.viewState.heightMap.height;else{let g=this.viewState.scrollAnchorAt(i);s=g.from,o=g.top}this.updateState=1;let a=this.viewState.measure(this);if(!a&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(l>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let u=[];a&4||([this.measureRequests,u]=[u,this.measureRequests]);let h=u.map(g=>{try{return g.read(this)}catch(b){return er(this.state,b),Jw}}),d=_p.create(this,this.state,[]),p=!1;d.flags|=a,t?t.flags|=a:t=d,this.updateState=2,d.empty||(this.updatePlugins(d),this.inputState.update(d),this.updateAttrs(),p=this.docView.update(d),p&&this.docViewUpdate());for(let g=0;g<u.length;g++)if(h[g]!=Jw)try{let b=u[g];b.write&&b.write(h[g],this)}catch(b){er(this.state,b)}if(p&&this.docView.updateSelection(!0),!d.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,o=-1;continue}else{let b=(s<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(s).top)-o;if(b>1||b<-1){i=i+b,r.scrollTop=i/this.scaleY,o=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let l of this.state.facet(k1))l(t)}get themeClasses(){return $1+" "+(this.state.facet(Q1)?Q$:P$)+" "+this.state.facet(Cd)}updateAttrs(){let e=ek(this,c$,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(ws)?"true":"false",class:"cm-content",style:`${Te.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),ek(this,sx,t);let r=this.observer.ignore(()=>{let i=x1(this.contentDOM,this.contentAttrs,t),s=x1(this.dom,this.editorAttrs,e);return i||s});return this.editorAttrs=e,this.contentAttrs=t,r}showAnnouncements(e){let t=!0;for(let r of e)for(let i of r.effects)if(i.is(ve.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(qu);let e=this.state.facet(ve.cspNonce);Po.mount(this.root,this.styleModules.concat(gV).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.plugin!=e)&&this.pluginMap.set(e,t=this.plugins.find(r=>r.plugin==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,r){return $0(this,e,Mw(this,e,t,r))}moveByGroup(e,t){return $0(this,e,Mw(this,e,t,r=>RX(this,e.head,r)))}visualLineSide(e,t){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),s=r[t?r.length-1:0];return ae.cursor(s.side(t,i)+e.from,s.forward(!t,i)?1:-1)}moveToLineBoundary(e,t,r=!0){return AX(this,e,t,r)}moveVertically(e,t,r){return $0(this,e,EX(this,e,t,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),p$(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let r=this.docView.coordsAt(e,t);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),s=this.bidiSpans(i),o=s[xo.find(s,e-i.from,-1,t)];return Vh(r,o.dir==Et.LTR==t>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(s$)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>vV)return UQ(e.length);let t=this.textDirectionAt(e.from),r;for(let s of this.bidiCache)if(s.from==e.from&&s.dir==t&&(s.fresh||GQ(s.isolates,r=$w(this,e))))return s.order;r||(r=$w(this,e));let i=pX(e.text,t,r);return this.bidiCache.push(new Np(e.from,e.to,t,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Te.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{_Q(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return vd.of(new ic(typeof e=="number"?ae.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:t}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return vd.of(new ic(ae.cursor(r.from),"start","start",r.top-e,t,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Yt.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Yt.define(()=>({}),{eventObservers:e})}static theme(e,t){let r=Po.newName(),i=[Cd.of(r),qu.of(A1(`.${r}`,e))];return t&&t.dark&&i.push(Q1.of(!0)),i}static baseTheme(e){return Mo.lowest(qu.of(A1("."+$1,e,$$)))}static findFromDOM(e){var t;let r=e.querySelector(".cm-content"),i=r&&Ct.get(r)||Ct.get(e);return((t=i?.rootView)===null||t===void 0?void 0:t.view)||null}}ve.styleModule=qu;ve.inputHandler=r$;ve.clipboardInputFilter=rx;ve.clipboardOutputFilter=ix;ve.scrollHandler=l$;ve.focusChangeEffect=i$;ve.perLineTextDirection=s$;ve.exceptionSink=n$;ve.updateListener=k1;ve.editable=ws;ve.mouseSelectionStyle=t$;ve.dragMovesSelection=e$;ve.clickAddsSelectionRange=JQ;ve.decorations=bh;ve.outerDecorations=u$;ve.atomicRanges=Yh;ve.bidiIsolatedRanges=h$;ve.scrollMargins=f$;ve.darkTheme=Q1;ve.cspNonce=Ce.define({combine:n=>n.length?n[0]:""});ve.contentAttributes=sx;ve.editorAttributes=c$;ve.lineWrapping=ve.contentAttributes.of({class:"cm-lineWrapping"});ve.announce=Xe.define();const vV=4096,Jw={};class Np{constructor(e,t,r,i,s,o){this.from=e,this.to=t,this.dir=r,this.isolates=i,this.fresh=s,this.order=o}static update(e,t){if(t.empty&&!e.some(s=>s.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:Et.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==i&&!t.touchesRange(o.from,o.to)&&r.push(new Np(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.isolates,!1,o.order))}return r}}function ek(n,e,t){for(let r=n.state.facet(e),i=r.length-1;i>=0;i--){let s=r[i],o=typeof s=="function"?s(n):s;o&&b1(o,t)}return t}const yV=Te.mac?"mac":Te.windows?"win":Te.linux?"linux":"key";function SV(n,e){const t=n.split(/-(?!$)/);let r=t[t.length-1];r=="Space"&&(r=" ");let i,s,o,l;for(let a=0;a<t.length-1;++a){const u=t[a];if(/^(cmd|meta|m)$/i.test(u))l=!0;else if(/^a(lt)?$/i.test(u))i=!0;else if(/^(c|ctrl|control)$/i.test(u))s=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))e=="mac"?l=!0:s=!0;else throw new Error("Unrecognized modifier name: "+u)}return i&&(r="Alt-"+r),s&&(r="Ctrl-"+r),l&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function Pd(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const wV=Mo.default(ve.domEventHandlers({keydown(n,e){return R$(A$(e.state),n,e,"editor")}})),Hh=Ce.define({enables:wV}),tk=new WeakMap;function A$(n){let e=n.facet(Hh),t=tk.get(e);return t||tk.set(e,t=CV(e.reduce((r,i)=>r.concat(i),[]))),t}function kV(n,e,t){return R$(A$(n.state),e,n,t)}let po=null;const TV=4e3;function CV(n,e=yV){let t=Object.create(null),r=Object.create(null),i=(o,l)=>{let a=r[o];if(a==null)r[o]=l;else if(a!=l)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,l,a,u,h)=>{var d,p;let g=t[o]||(t[o]=Object.create(null)),b=l.split(/ (?!$)/).map(w=>SV(w,e));for(let w=1;w<b.length;w++){let k=b.slice(0,w).join(" ");i(k,!0),g[k]||(g[k]={preventDefault:!0,stopPropagation:!1,run:[$=>{let B=po={view:$,prefix:k,scope:o};return setTimeout(()=>{po==B&&(po=null)},TV),!0}]})}let x=b.join(" ");i(x,!1);let v=g[x]||(g[x]={preventDefault:!1,stopPropagation:!1,run:((p=(d=g._any)===null||d===void 0?void 0:d.run)===null||p===void 0?void 0:p.slice())||[]});a&&v.run.push(a),u&&(v.preventDefault=!0),h&&(v.stopPropagation=!0)};for(let o of n){let l=o.scope?o.scope.split(" "):["editor"];if(o.any)for(let u of l){let h=t[u]||(t[u]=Object.create(null));h._any||(h._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:d}=o;for(let p in h)h[p].run.push(g=>d(g,R1))}let a=o[e]||o.key;if(a)for(let u of l)s(u,a,o.run,o.preventDefault,o.stopPropagation),o.shift&&s(u,"Shift-"+a,o.shift,o.preventDefault,o.stopPropagation)}return t}let R1=null;function R$(n,e,t,r){R1=e;let i=Yq(e),s=Gn(i,0),o=_i(s)==i.length&&i!=" ",l="",a=!1,u=!1,h=!1;po&&po.view==t&&po.scope==r&&(l=po.prefix+" ",x$.indexOf(e.keyCode)<0&&(u=!0,po=null));let d=new Set,p=v=>{if(v){for(let w of v.run)if(!d.has(w)&&(d.add(w),w(t)))return v.stopPropagation&&(h=!0),!0;v.preventDefault&&(v.stopPropagation&&(h=!0),u=!0)}return!1},g=n[r],b,x;return g&&(p(g[l+Pd(i,e,!o)])?a=!0:o&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Te.windows&&e.ctrlKey&&e.altKey)&&!(Te.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(b=Qo[e.keyCode])&&b!=i?(p(g[l+Pd(b,e,!0)])||e.shiftKey&&(x=mh[e.keyCode])!=i&&x!=b&&p(g[l+Pd(x,e,!1)]))&&(a=!0):o&&e.shiftKey&&p(g[l+Pd(i,e,!0)])&&(a=!0),!a&&p(g._any)&&(a=!0)),u&&(a=!0),a&&h&&e.stopPropagation(),R1=null,a}class Gh{constructor(e,t,r,i,s){this.className=e,this.left=t,this.top=r,this.width=i,this.height=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,t){return t.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,t,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let s=E$(e);return[new Gh(t,i.left-s.left,i.top-s.top,null,i.bottom-i.top)]}else return PV(e,t,r)}}function E$(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==Et.LTR?e.left:e.right-n.scrollDOM.clientWidth*n.scaleX)-n.scrollDOM.scrollLeft*n.scaleX,top:e.top-n.scrollDOM.scrollTop*n.scaleY}}function nk(n,e,t,r){let i=n.coordsAtPos(e,t*2);if(!i)return r;let s=n.dom.getBoundingClientRect(),o=(i.top+i.bottom)/2,l=n.posAtCoords({x:s.left+1,y:o}),a=n.posAtCoords({x:s.right-1,y:o});return l==null||a==null?r:{from:Math.max(r.from,Math.min(l,a)),to:Math.min(r.to,Math.max(l,a))}}function PV(n,e,t){if(t.to<=n.viewport.from||t.from>=n.viewport.to)return[];let r=Math.max(t.from,n.viewport.from),i=Math.min(t.to,n.viewport.to),s=n.textDirection==Et.LTR,o=n.contentDOM,l=o.getBoundingClientRect(),a=E$(n),u=o.querySelector(".cm-line"),h=u&&window.getComputedStyle(u),d=l.left+(h?parseInt(h.paddingLeft)+Math.min(0,parseInt(h.textIndent)):0),p=l.right-(h?parseInt(h.paddingRight):0),g=C1(n,r,1),b=C1(n,i,-1),x=g.type==Dn.Text?g:null,v=b.type==Dn.Text?b:null;if(x&&(n.lineWrapping||g.widgetLineBreaks)&&(x=nk(n,r,1,x)),v&&(n.lineWrapping||b.widgetLineBreaks)&&(v=nk(n,i,-1,v)),x&&v&&x.from==v.from&&x.to==v.to)return k($(t.from,t.to,x));{let N=x?$(t.from,null,x):B(g,!1),z=v?$(null,t.to,v):B(b,!0),Z=[];return(x||g).to<(v||b).from-(x&&v?1:0)||g.widgetLineBreaks>1&&N.bottom+n.defaultLineHeight/2<z.top?Z.push(w(d,N.bottom,p,z.top)):N.bottom<z.top&&n.elementAtHeight((N.bottom+z.top)/2).type==Dn.Text&&(N.bottom=z.top=(N.bottom+z.top)/2),k(N).concat(Z).concat(k(z))}function w(N,z,Z,H){return new Gh(e,N-a.left,z-a.top,Z-N,H-z)}function k({top:N,bottom:z,horizontal:Z}){let H=[];for(let te=0;te<Z.length;te+=2)H.push(w(Z[te],N,Z[te+1],z));return H}function $(N,z,Z){let H=1e9,te=-1e9,K=[];function R(Q,I,j,q,V){let F=n.coordsAtPos(Q,Q==Z.to?-2:2),U=n.coordsAtPos(j,j==Z.from?2:-2);!F||!U||(H=Math.min(F.top,U.top,H),te=Math.max(F.bottom,U.bottom,te),V==Et.LTR?K.push(s&&I?d:F.left,s&&q?p:U.right):K.push(!s&&q?d:U.left,!s&&I?p:F.right))}let E=N??Z.from,P=z??Z.to;for(let Q of n.visibleRanges)if(Q.to>E&&Q.from<P)for(let I=Math.max(Q.from,E),j=Math.min(Q.to,P);;){let q=n.state.doc.lineAt(I);for(let V of n.bidiSpans(q)){let F=V.from+q.from,U=V.to+q.from;if(F>=j)break;U>I&&R(Math.max(F,I),N==null&&F<=E,Math.min(U,j),z==null&&U>=P,V.dir)}if(I=q.to+1,I>=j)break}return K.length==0&&R(E,N==null,P,z==null,n.textDirection),{top:H,bottom:te,horizontal:K}}function B(N,z){let Z=l.top+(z?N.top:N.bottom);return{top:Z,bottom:Z,horizontal:[]}}}function QV(n,e){return n.constructor==e.constructor&&n.eq(e)}class $V{constructor(e,t){this.view=e,this.layer=t,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),t.above&&this.dom.classList.add("cm-layer-above"),t.class&&this.dom.classList.add(t.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),t.mount&&t.mount(this.dom,e)}update(e){e.startState.facet(Ud)!=e.state.facet(Ud)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let t=0,r=e.facet(Ud);for(;t<r.length&&r[t]!=this.layer;)t++;this.dom.style.zIndex=String((this.layer.above?150:-1)-t)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:t}=this.view;(e!=this.scaleX||t!=this.scaleY)&&(this.scaleX=e,this.scaleY=t,this.dom.style.transform=`scale(${1/e}, ${1/t})`)}draw(e){if(e.length!=this.drawn.length||e.some((t,r)=>!QV(t,this.drawn[r]))){let t=this.dom.firstChild,r=0;for(let i of e)i.update&&t&&i.constructor&&this.drawn[r].constructor&&i.update(t,this.drawn[r])?(t=t.nextSibling,r++):this.dom.insertBefore(i.draw(),t);for(;t;){let i=t.nextSibling;t.remove(),t=i}this.drawn=e,Te.ios&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Ud=Ce.define();function L$(n){return[Yt.define(e=>new $V(e,n)),Ud.of(n)]}const xh=Ce.define({combine(n){return Hi(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function AV(n={}){return[xh.of(n),RV,EV,LV,o$.of(!0)]}function _$(n){return n.startState.facet(xh)!=n.state.facet(xh)}const RV=L$({above:!0,markers(n){let{state:e}=n,t=e.facet(xh),r=[];for(let i of e.selection.ranges){let s=i==e.selection.main;if(i.empty||t.drawRangeCursor){let o=s?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",l=i.empty?i:ae.cursor(i.head,i.head>i.anchor?-1:1);for(let a of Gh.forRange(n,o,l))r.push(a)}}return r},update(n,e){n.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let t=_$(n);return t&&rk(n.state,e),n.docChanged||n.selectionSet||t},mount(n,e){rk(e.state,n)},class:"cm-cursorLayer"});function rk(n,e){e.style.animationDuration=n.facet(xh).cursorBlinkRate+"ms"}const EV=L$({above:!1,markers(n){return n.state.selection.ranges.map(e=>e.empty?[]:Gh.forRange(n,"cm-selectionBackground",e)).reduce((e,t)=>e.concat(t))},update(n,e){return n.docChanged||n.selectionSet||n.viewportChanged||_$(n)},class:"cm-selectionLayer"}),LV=Mo.highest(ve.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),M$=Xe.define({map(n,e){return n==null?null:e.mapPos(n)}}),Wu=cn.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,r)=>r.is(M$)?r.value:t,n)}}),_V=Yt.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(Wu);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(Wu)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:n}=this,e=n.state.field(Wu),t=e!=null&&n.coordsAtPos(e);if(!t)return null;let r=n.scrollDOM.getBoundingClientRect();return{left:t.left-r.left+n.scrollDOM.scrollLeft*n.scaleX,top:t.top-r.top+n.scrollDOM.scrollTop*n.scaleY,height:t.bottom-t.top}}drawCursor(n){if(this.cursor){let{scaleX:e,scaleY:t}=this.view;n?(this.cursor.style.left=n.left/e+"px",this.cursor.style.top=n.top/t+"px",this.cursor.style.height=n.height/t+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(Wu)!=n&&this.view.dispatch({effects:M$.of(n)})}},{eventObservers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function MV(){return[Wu,_V]}function ik(n,e,t,r,i){e.lastIndex=0;for(let s=n.iterRange(t,r),o=t,l;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;l=e.exec(s.value);)i(o+l.index,l)}function NV(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let r=[];for(let{from:i,to:s}of t)i=Math.max(n.state.doc.lineAt(i).from,i-e),s=Math.min(n.state.doc.lineAt(s).to,s+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=s:r.push({from:i,to:s});return r}class BV{constructor(e){const{regexp:t,decoration:r,decorate:i,boundary:s,maxLength:o=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=t,i)this.addMatch=(l,a,u,h)=>i(h,u,u+l[0].length,l,a);else if(typeof r=="function")this.addMatch=(l,a,u,h)=>{let d=r(l,a,u);d&&h(u,u+l[0].length,d)};else if(r)this.addMatch=(l,a,u,h)=>h(u,u+l[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=s,this.maxLength=o}createDeco(e){let t=new Rs,r=t.add.bind(t);for(let{from:i,to:s}of NV(e,this.maxLength))ik(e.state.doc,this.regexp,i,s,(o,l)=>this.addMatch(l,e,o,r));return t.finish()}updateDeco(e,t){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((s,o,l,a)=>{a>=e.view.viewport.from&&l<=e.view.viewport.to&&(r=Math.min(l,r),i=Math.max(a,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,t.map(e.changes),r,i):t}updateRange(e,t,r,i){for(let s of e.visibleRanges){let o=Math.max(s.from,r),l=Math.min(s.to,i);if(l>=o){let a=e.state.doc.lineAt(o),u=a.to<l?e.state.doc.lineAt(l):a,h=Math.max(s.from,a.from),d=Math.min(s.to,u.to);if(this.boundary){for(;o>a.from;o--)if(this.boundary.test(a.text[o-1-a.from])){h=o;break}for(;l<u.to;l++)if(this.boundary.test(u.text[l-u.from])){d=l;break}}let p=[],g,b=(x,v,w)=>p.push(w.range(x,v));if(a==u)for(this.regexp.lastIndex=h-a.from;(g=this.regexp.exec(a.text))&&g.index<d-a.from;)this.addMatch(g,e,g.index+a.from,b);else ik(e.state.doc,this.regexp,h,d,(x,v)=>this.addMatch(v,e,x,b));t=t.update({filterFrom:h,filterTo:d,filter:(x,v)=>x<h||v>d,add:p})}}return t}}const E1=/x/.unicode!=null?"gu":"g",IV=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,E1),jV={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let E0=null;function DV(){var n;if(E0==null&&typeof document<"u"&&document.body){let e=document.body.style;E0=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return E0||!1}const Kd=Ce.define({combine(n){let e=Hi(n,{render:null,specialChars:IV,addSpecialChars:null});return(e.replaceTabs=!DV())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,E1)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,E1)),e}});function ZV(n={}){return[Kd.of(n),zV()]}let sk=null;function zV(){return sk||(sk=Yt.fromClass(class{constructor(n){this.view=n,this.decorations=Me.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(Kd)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new BV({regexp:n.specialChars,decoration:(e,t,r)=>{let{doc:i}=t.state,s=Gn(e[0],0);if(s==9){let o=i.lineAt(r),l=t.state.tabSize,a=Ac(o.text,l,r-o.from);return Me.replace({widget:new WV((l-a%l)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[s]||(this.decorationCache[s]=Me.replace({widget:new VV(n,s)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(Kd);n.startState.facet(Kd)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const qV="";function XV(n){return n>=32?qV:n==10?"":String.fromCharCode(9216+n)}class VV extends Gi{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=XV(this.code),r=e.state.phrase("Control character")+" "+(jV[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,t);if(i)return i;let s=document.createElement("span");return s.textContent=t,s.title=r,s.setAttribute("aria-label",r),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class WV extends Gi{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function FV(){return HV}const YV=Me.line({class:"cm-activeLine"}),HV=Yt.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let r of n.state.selection.ranges){let i=n.lineBlockAt(r.head);i.from>e&&(t.push(YV.range(i.from)),e=i.from)}return Me.set(t)}},{decorations:n=>n.decorations});class GV extends Gi{constructor(e){super(),this.content=e}toDOM(e){let t=document.createElement("span");return t.className="cm-placeholder",t.style.pointerEvents="none",t.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),t.setAttribute("aria-hidden","true"),t}coordsAt(e){let t=e.firstChild?pc(e.firstChild):[];if(!t.length)return null;let r=window.getComputedStyle(e.parentNode),i=Vh(t[0],r.direction!="rtl"),s=parseInt(r.lineHeight);return i.bottom-i.top>s*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+s}:i}ignoreEvent(){return!1}}function UV(n){let e=Yt.fromClass(class{constructor(t){this.view=t,this.placeholder=n?Me.set([Me.widget({widget:new GV(n),side:1}).range(0)]):Me.none}get decorations(){return this.view.state.doc.length?Me.none:this.placeholder}},{decorations:t=>t.decorations});return typeof n=="string"?[e,ve.contentAttributes.of({"aria-placeholder":n})]:e}const L1=2e3;function KV(n,e,t){let r=Math.min(e.line,t.line),i=Math.max(e.line,t.line),s=[];if(e.off>L1||t.off>L1||e.col<0||t.col<0){let o=Math.min(e.off,t.off),l=Math.max(e.off,t.off);for(let a=r;a<=i;a++){let u=n.doc.line(a);u.length<=l&&s.push(ae.range(u.from+o,u.to+l))}}else{let o=Math.min(e.col,t.col),l=Math.max(e.col,t.col);for(let a=r;a<=i;a++){let u=n.doc.line(a),h=h1(u.text,o,n.tabSize,!0);if(h<0)s.push(ae.cursor(u.to));else{let d=h1(u.text,l,n.tabSize);s.push(ae.range(u.from+h,u.from+d))}}}return s}function JV(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function ok(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),r=n.state.doc.lineAt(t),i=t-r.from,s=i>L1?-1:i==r.length?JV(n,e.clientX):Ac(r.text,n.state.tabSize,t-r.from);return{line:r.number,col:s,off:i}}function eW(n,e){let t=ok(n,e),r=n.state.selection;return t?{update(i){if(i.docChanged){let s=i.changes.mapPos(i.startState.doc.line(t.line).from),o=i.state.doc.lineAt(s);t={line:o.number,col:t.col,off:Math.min(t.off,o.length)},r=r.map(i.changes)}},get(i,s,o){let l=ok(n,i);if(!l)return r;let a=KV(n.state,t,l);return a.length?o?ae.create(a.concat(r.ranges)):ae.create(a):r}}:null}function tW(n){let e=t=>t.altKey&&t.button==0;return ve.mouseSelectionStyle.of((t,r)=>e(r)?eW(t,r):null)}const nW={Alt:[18,n=>!!n.altKey],Control:[17,n=>!!n.ctrlKey],Shift:[16,n=>!!n.shiftKey],Meta:[91,n=>!!n.metaKey]},rW={style:"cursor: crosshair"};function iW(n={}){let[e,t]=nW[n.key||"Alt"],r=Yt.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||t(i))},keyup(i){(i.keyCode==e||!t(i))&&this.set(!1)},mousemove(i){this.set(t(i))}}});return[r,ve.contentAttributes.of(i=>{var s;return!((s=i.plugin(r))===null||s===void 0)&&s.isDown?rW:null})]}const Cu="-10000px";class N${constructor(e,t,r,i){this.facet=t,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(o=>o);let s=null;this.tooltipViews=this.tooltips.map(o=>s=r(o,s))}update(e,t){var r;let i=e.state.facet(this.facet),s=i.filter(a=>a);if(i===this.input){for(let a of this.tooltipViews)a.update&&a.update(e);return!1}let o=[],l=t?[]:null;for(let a=0;a<s.length;a++){let u=s[a],h=-1;if(u){for(let d=0;d<this.tooltips.length;d++){let p=this.tooltips[d];p&&p.create==u.create&&(h=d)}if(h<0)o[a]=this.createTooltipView(u,a?o[a-1]:null),l&&(l[a]=!!u.above);else{let d=o[a]=this.tooltipViews[h];l&&(l[a]=t[h]),d.update&&d.update(e)}}}for(let a of this.tooltipViews)o.indexOf(a)<0&&(this.removeTooltipView(a),(r=a.destroy)===null||r===void 0||r.call(a));return t&&(l.forEach((a,u)=>t[u]=a),t.length=l.length),this.input=i,this.tooltips=s,this.tooltipViews=o,!0}}function sW(n){let e=n.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const L0=Ce.define({combine:n=>{var e,t,r;return{position:Te.ios?"absolute":((e=n.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(i=>i.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((r=n.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||sW}}}),lk=new WeakMap,ux=Yt.fromClass(class{constructor(n){this.view=n,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=n.state.facet(L0);this.position=e.position,this.parent=e.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new N$(n,hx,(t,r)=>this.createTooltip(t,r),t=>{this.resizeObserver&&this.resizeObserver.unobserve(t.dom),t.dom.remove()}),this.above=this.manager.tooltips.map(t=>!!t.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(t=>{Date.now()>this.lastTransaction-50&&t.length>0&&t[t.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),n.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n,this.above);e&&this.observeIntersection();let t=e||n.geometryChanged,r=n.state.facet(L0);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;t=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n,e){let t=n.create(this.view),r=e?e.dom:null;if(t.dom.classList.add("cm-tooltip"),n.arrow&&!t.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",t.dom.appendChild(i)}return t.dom.style.position=this.position,t.dom.style.top=Cu,t.dom.style.left="0px",this.container.insertBefore(t.dom,r),t.mount&&t.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(t.dom),t}destroy(){var n,e,t;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(n=r.destroy)===null||n===void 0||n.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(t=this.intersectionObserver)===null||t===void 0||t.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=1,e=1,t=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:s}=this.manager.tooltipViews[0];if(Te.gecko)t=s.offsetParent!=this.container.ownerDocument.body;else if(s.style.top==Cu&&s.style.left=="0px"){let o=s.getBoundingClientRect();t=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(t||this.position=="absolute")if(this.parent){let s=this.parent.getBoundingClientRect();s.width&&s.height&&(n=s.width/this.parent.offsetWidth,e=s.height/this.parent.offsetHeight)}else({scaleX:n,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=ox(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((s,o)=>{let l=this.manager.tooltipViews[o];return l.getCoords?l.getCoords(s.pos):this.view.coordsAtPos(s.pos)}),size:this.manager.tooltipViews.map(({dom:s})=>s.getBoundingClientRect()),space:this.view.state.facet(L0).tooltipSpace(this.view),scaleX:n,scaleY:e,makeAbsolute:t}}writeMeasure(n){var e;if(n.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let l of this.manager.tooltipViews)l.dom.style.position="absolute"}let{visible:t,space:r,scaleX:i,scaleY:s}=n,o=[];for(let l=0;l<this.manager.tooltips.length;l++){let a=this.manager.tooltips[l],u=this.manager.tooltipViews[l],{dom:h}=u,d=n.pos[l],p=n.size[l];if(!d||a.clip!==!1&&(d.bottom<=Math.max(t.top,r.top)||d.top>=Math.min(t.bottom,r.bottom)||d.right<Math.max(t.left,r.left)-.1||d.left>Math.min(t.right,r.right)+.1)){h.style.top=Cu;continue}let g=a.arrow?u.dom.querySelector(".cm-tooltip-arrow"):null,b=g?7:0,x=p.right-p.left,v=(e=lk.get(u))!==null&&e!==void 0?e:p.bottom-p.top,w=u.offset||lW,k=this.view.textDirection==Et.LTR,$=p.width>r.right-r.left?k?r.left:r.right-p.width:k?Math.max(r.left,Math.min(d.left-(g?14:0)+w.x,r.right-x)):Math.min(Math.max(r.left,d.left-x+(g?14:0)-w.x),r.right-x),B=this.above[l];!a.strictSide&&(B?d.top-v-b-w.y<r.top:d.bottom+v+b+w.y>r.bottom)&&B==r.bottom-d.bottom>d.top-r.top&&(B=this.above[l]=!B);let N=(B?d.top-r.top:r.bottom-d.bottom)-b;if(N<v&&u.resize!==!1){if(N<this.view.defaultLineHeight){h.style.top=Cu;continue}lk.set(u,v),h.style.height=(v=N)/s+"px"}else h.style.height&&(h.style.height="");let z=B?d.top-v-b-w.y:d.bottom+b+w.y,Z=$+x;if(u.overlap!==!0)for(let H of o)H.left<Z&&H.right>$&&H.top<z+v&&H.bottom>z&&(z=B?H.top-v-2-b:H.bottom+b+2);if(this.position=="absolute"?(h.style.top=(z-n.parent.top)/s+"px",ak(h,($-n.parent.left)/i)):(h.style.top=z/s+"px",ak(h,$/i)),g){let H=d.left+(k?w.x:-w.x)-($+14-7);g.style.left=H/i+"px"}u.overlap!==!0&&o.push({left:$,top:z,right:Z,bottom:z+v}),h.classList.toggle("cm-tooltip-above",B),h.classList.toggle("cm-tooltip-below",!B),u.positioned&&u.positioned(n.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=Cu}},{eventObservers:{scroll(){this.maybeMeasure()}}});function ak(n,e){let t=parseInt(n.style.left,10);(isNaN(t)||Math.abs(e-t)>1)&&(n.style.left=e+"px")}const oW=ve.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),lW={x:0,y:0},hx=Ce.define({enables:[ux,oW]}),Bp=Ce.define({combine:n=>n.reduce((e,t)=>e.concat(t),[])});class Mg{static create(e){return new Mg(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new N$(e,Bp,(t,r)=>this.createHostedView(t,r),t=>t.dom.remove())}createHostedView(e,t){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,t?t.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(e){for(let t of this.manager.tooltipViews)t.positioned&&t.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let t of this.manager.tooltipViews)(e=t.destroy)===null||e===void 0||e.call(t)}passProp(e){let t;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(t===void 0)t=i;else if(t!==i)return}}return t}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const aW=hx.compute([Bp],n=>{let e=n.facet(Bp);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.map(t=>{var r;return(r=t.end)!==null&&r!==void 0?r:t.pos})),create:Mg.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class cW{constructor(e,t,r,i,s){this.view=e,this.source=t,this.field=r,this.setHover=i,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:t}=this,r=e.docView.nearest(t.target);if(!r)return;let i,s=1;if(r instanceof bo)i=r.posAtStart;else{if(i=e.posAtCoords(t),i==null)return;let l=e.coordsAtPos(i);if(!l||t.y<l.top||t.y>l.bottom||t.x<l.left-e.defaultCharacterWidth||t.x>l.right+e.defaultCharacterWidth)return;let a=e.bidiSpans(e.state.doc.lineAt(i)).find(h=>h.from<=i&&h.to>=i),u=a&&a.dir==Et.RTL?-1:1;s=t.x<l.left?-u:u}let o=this.source(e,i,s);if(o?.then){let l=this.pending={pos:i};o.then(a=>{this.pending==l&&(this.pending=null,a&&!(Array.isArray(a)&&!a.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(a)?a:[a])}))},a=>er(e.state,a,"hover tooltip"))}else o&&!(Array.isArray(o)&&!o.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(o)?o:[o])})}get tooltip(){let e=this.view.plugin(ux),t=e?e.manager.tooltips.findIndex(r=>r.create==Mg.create):-1;return t>-1?e.manager.tooltipViews[t]:null}mousemove(e){var t,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:s}=this;if(i.length&&s&&!uW(s.dom,e)||this.pending){let{pos:o}=i[0]||this.pending,l=(r=(t=i[0])===null||t===void 0?void 0:t.end)!==null&&r!==void 0?r:o;(o==l?this.view.posAtCoords(this.lastMove)!=o:!hW(this.view,o,l,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:t}=this;if(t.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let t=r=>{e.removeEventListener("mouseleave",t),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",t)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Qd=4;function uW(n,e){let{left:t,right:r,top:i,bottom:s}=n.getBoundingClientRect(),o;if(o=n.querySelector(".cm-tooltip-arrow")){let l=o.getBoundingClientRect();i=Math.min(l.top,i),s=Math.max(l.bottom,s)}return e.clientX>=t-Qd&&e.clientX<=r+Qd&&e.clientY>=i-Qd&&e.clientY<=s+Qd}function hW(n,e,t,r,i,s){let o=n.scrollDOM.getBoundingClientRect(),l=n.documentTop+n.documentPadding.top+n.contentHeight;if(o.left>r||o.right<r||o.top>i||Math.min(o.bottom,l)<i)return!1;let a=n.posAtCoords({x:r,y:i},!1);return a>=e&&a<=t}function fW(n,e={}){let t=Xe.define(),r=cn.define({create(){return[]},update(i,s){if(i.length&&(e.hideOnChange&&(s.docChanged||s.selection)?i=[]:e.hideOn&&(i=i.filter(o=>!e.hideOn(s,o))),s.docChanged)){let o=[];for(let l of i){let a=s.changes.mapPos(l.pos,-1,gn.TrackDel);if(a!=null){let u=Object.assign(Object.create(null),l);u.pos=a,u.end!=null&&(u.end=s.changes.mapPos(u.end)),o.push(u)}}i=o}for(let o of s.effects)o.is(t)&&(i=o.value),o.is(dW)&&(i=[]);return i},provide:i=>Bp.from(i)});return{active:r,extension:[r,Yt.define(i=>new cW(i,n,r,t,e.hoverTime||300)),aW]}}function B$(n,e){let t=n.plugin(ux);if(!t)return null;let r=t.manager.tooltips.indexOf(e);return r<0?null:t.manager.tooltipViews[r]}const dW=Xe.define(),ck=Ce.define({combine(n){let e,t;for(let r of n)e=e||r.topContainer,t=t||r.bottomContainer;return{topContainer:e,bottomContainer:t}}});function vh(n,e){let t=n.plugin(I$),r=t?t.specs.indexOf(e):-1;return r>-1?t.panels[r]:null}const I$=Yt.fromClass(class{constructor(n){this.input=n.state.facet(yh),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(ck);this.top=new $d(n,!0,e.topContainer),this.bottom=new $d(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(ck);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new $d(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new $d(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(yh);if(t!=this.input){let r=t.filter(a=>a),i=[],s=[],o=[],l=[];for(let a of r){let u=this.specs.indexOf(a),h;u<0?(h=a(n.view),l.push(h)):(h=this.panels[u],h.update&&h.update(n)),i.push(h),(h.top?s:o).push(h)}this.specs=r,this.panels=i,this.top.sync(s),this.bottom.sync(o);for(let a of l)a.dom.classList.add("cm-panel"),a.mount&&a.mount()}else for(let r of this.panels)r.update&&r.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>ve.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class $d{constructor(e,t,r){this.view=e,this.top=t,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=uk(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=uk(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function uk(n){let e=n.nextSibling;return n.remove(),e}const yh=Ce.define({enables:I$});class Ls extends Al{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Ls.prototype.elementClass="";Ls.prototype.toDOM=void 0;Ls.prototype.mapMode=gn.TrackBefore;Ls.prototype.startSide=Ls.prototype.endSide=-1;Ls.prototype.point=!0;const Jd=Ce.define(),pW=Ce.define(),gW={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>ct.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},nh=Ce.define();function mW(n){return[j$(),nh.of({...gW,...n})]}const hk=Ce.define({combine:n=>n.some(e=>e)});function j$(n){return[OW]}const OW=Yt.fromClass(class{constructor(n){this.view=n,this.domAfter=null,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=n.state.facet(nh).map(e=>new dk(n,e)),this.fixed=!n.state.facet(hk);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,r=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(r<(t.to-t.from)*.8)}if(n.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(hk)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let t=ct.iter(this.view.state.facet(Jd),this.view.viewport.from),r=[],i=this.gutters.map(s=>new bW(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(s.type)){let o=!0;for(let l of s.type)if(l.type==Dn.Text&&o){_1(t,r,l.from);for(let a of i)a.line(this.view,l,r);o=!1}else if(l.widget)for(let a of i)a.widget(this.view,l)}else if(s.type==Dn.Text){_1(t,r,s.from);for(let o of i)o.line(this.view,s,r)}else if(s.widget)for(let o of i)o.widget(this.view,s);for(let s of i)s.finish();n&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(n){let e=n.startState.facet(nh),t=n.state.facet(nh),r=n.docChanged||n.heightChanged||n.viewportChanged||!ct.eq(n.startState.facet(Jd),n.state.facet(Jd),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let i of this.gutters)i.update(n)&&(r=!0);else{r=!0;let i=[];for(let s of t){let o=e.indexOf(s);o<0?i.push(new dk(this.view,s)):(this.gutters[o].update(n),i.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),i.indexOf(s)<0&&s.destroy();for(let s of i)s.config.side=="after"?this.getDOMAfter().appendChild(s.dom):this.dom.appendChild(s.dom);this.gutters=i}return r}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:n=>ve.scrollMargins.of(e=>{let t=e.plugin(n);if(!t||t.gutters.length==0||!t.fixed)return null;let r=t.dom.offsetWidth*e.scaleX,i=t.domAfter?t.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==Et.LTR?{left:r,right:i}:{right:r,left:i}})});function fk(n){return Array.isArray(n)?n:[n]}function _1(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class bW{constructor(e,t,r){this.gutter=e,this.height=r,this.i=0,this.cursor=ct.iter(e.markers,t.from)}addElement(e,t,r){let{gutter:i}=this,s=(t.top-this.height)/e.scaleY,o=t.height/e.scaleY;if(this.i==i.elements.length){let l=new D$(e,o,s,r);i.elements.push(l),i.dom.appendChild(l.dom)}else i.elements[this.i].update(e,o,s,r);this.height=t.bottom,this.i++}line(e,t,r){let i=[];_1(this.cursor,i,t.from),r.length&&(i=i.concat(r));let s=this.gutter.config.lineMarker(e,t,i);s&&i.unshift(s);let o=this.gutter;i.length==0&&!o.config.renderEmptyElements||this.addElement(e,t,i)}widget(e,t){let r=this.gutter.config.widgetMarker(e,t.widget,t),i=r?[r]:null;for(let s of e.state.facet(pW)){let o=s(e,t.widget,t);o&&(i||(i=[])).push(o)}i&&this.addElement(e,t,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class dk{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in t.domEventHandlers)this.dom.addEventListener(r,i=>{let s=i.target,o;if(s!=this.dom&&this.dom.contains(s)){for(;s.parentNode!=this.dom;)s=s.parentNode;let a=s.getBoundingClientRect();o=(a.top+a.bottom)/2}else o=i.clientY;let l=e.lineBlockAtHeight(o-e.documentTop);t.domEventHandlers[r](e,l,i)&&i.preventDefault()});this.markers=fk(t.markers(e)),t.initialSpacer&&(this.spacer=new D$(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=fk(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!ct.eq(this.markers,t,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class D${constructor(e,t,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,r,i)}update(e,t,r,i){this.height!=t&&(this.height=t,this.dom.style.height=t+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),xW(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,t){let r="cm-gutterElement",i=this.dom.firstChild;for(let s=0,o=0;;){let l=o,a=s<t.length?t[s++]:null,u=!1;if(a){let h=a.elementClass;h&&(r+=" "+h);for(let d=o;d<this.markers.length;d++)if(this.markers[d].compare(a)){l=d,u=!0;break}}else l=this.markers.length;for(;o<l;){let h=this.markers[o++];if(h.toDOM){h.destroy(i);let d=i.nextSibling;i.remove(),i=d}}if(!a)break;a.toDOM&&(u?i=i.nextSibling:this.dom.insertBefore(a.toDOM(e),i)),u&&o++}this.dom.className=r,this.markers=t}destroy(){this.setMarkers(null,[])}}function xW(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const vW=Ce.define(),yW=Ce.define(),Xa=Ce.define({combine(n){return Hi(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let r=Object.assign({},e);for(let i in t){let s=r[i],o=t[i];r[i]=s?(l,a,u)=>s(l,a,u)||o(l,a,u):o}return r}})}});class _0 extends Ls{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function M0(n,e){return n.state.facet(Xa).formatNumber(e,n.state)}const SW=nh.compute([Xa],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(vW)},lineMarker(e,t,r){return r.some(i=>i.toDOM)?null:new _0(M0(e,e.state.doc.lineAt(t.from).number))},widgetMarker:(e,t,r)=>{for(let i of e.state.facet(yW)){let s=i(e,t,r);if(s)return s}return null},lineMarkerChange:e=>e.startState.facet(Xa)!=e.state.facet(Xa),initialSpacer(e){return new _0(M0(e,pk(e.state.doc.lines)))},updateSpacer(e,t){let r=M0(t.view,pk(t.view.state.doc.lines));return r==e.number?e:new _0(r)},domEventHandlers:n.facet(Xa).domEventHandlers,side:"before"}));function Z$(n={}){return[Xa.of(n),j$(),SW]}function pk(n){let e=9;for(;e<n;)e=e*10+9;return e}const wW=new class extends Ls{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},kW=Jd.compute(["selection"],n=>{let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.head).from;i>t&&(t=i,e.push(wW.range(i)))}return ct.of(e)});function TW(){return kW}const z$=1024;let CW=0;class zr{constructor(e,t){this.from=e,this.to=t}}class Ue{constructor(e={}){this.id=CW++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=zn.match(e)),t=>{let r=e(t);return r===void 0?null:[this,r]}}}Ue.closedBy=new Ue({deserialize:n=>n.split(" ")});Ue.openedBy=new Ue({deserialize:n=>n.split(" ")});Ue.group=new Ue({deserialize:n=>n.split(" ")});Ue.isolate=new Ue({deserialize:n=>{if(n&&n!="rtl"&&n!="ltr"&&n!="auto")throw new RangeError("Invalid value for isolate: "+n);return n||"auto"}});Ue.contextHash=new Ue({perNode:!0});Ue.lookAhead=new Ue({perNode:!0});Ue.mounted=new Ue({perNode:!0});class Sh{constructor(e,t,r){this.tree=e,this.overlay=t,this.parser=r}static get(e){return e&&e.props&&e.props[Ue.mounted.id]}}const PW=Object.create(null);class zn{constructor(e,t,r,i=0){this.name=e,this.props=t,this.id=r,this.flags=i}static define(e){let t=e.props&&e.props.length?Object.create(null):PW,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new zn(e.name||"",t,e.id,r);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(i)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(Ue.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let r in e)for(let i of r.split(" "))t[i]=e[r];return r=>{for(let i=r.prop(Ue.group),s=-1;s<(i?i.length:0);s++){let o=t[s<0?r.name:i[s]];if(o)return o}}}}zn.none=new zn("",Object.create(null),0,8);class fx{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let r of this.types){let i=null;for(let s of e){let o=s(r);o&&(i||(i=Object.assign({},r.props)),i[o[0].id]=o[1])}t.push(i?new zn(r.name,i,r.id,r.flags):r)}return new fx(t)}}const Ad=new WeakMap,gk=new WeakMap;var $t;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})($t||($t={}));class jt{constructor(e,t,r,i,s){if(this.type=e,this.children=t,this.positions=r,this.length=i,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,l]of s)this.props[typeof o=="number"?o:o.id]=l}}toString(){let e=Sh.get(this);if(e&&!e.overlay)return e.tree.toString();let t="";for(let r of this.children){let i=r.toString();i&&(t&&(t+=","),t+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new Ip(this.topNode,e)}cursorAt(e,t=0,r=0){let i=Ad.get(this)||this.topNode,s=new Ip(i);return s.moveTo(e,t),Ad.set(this,s._tree),s}get topNode(){return new Rn(this,0,0,null)}resolve(e,t=0){let r=wh(Ad.get(this)||this.topNode,e,t,!1);return Ad.set(this,r),r}resolveInner(e,t=0){let r=wh(gk.get(this)||this.topNode,e,t,!0);return gk.set(this,r),r}resolveStack(e,t=0){return AW(this,e,t)}iterate(e){let{enter:t,leave:r,from:i=0,to:s=this.length}=e,o=e.mode||0,l=(o&$t.IncludeAnonymous)>0;for(let a=this.cursor(o|$t.IncludeAnonymous);;){let u=!1;if(a.from<=s&&a.to>=i&&(!l&&a.type.isAnonymous||t(a)!==!1)){if(a.firstChild())continue;u=!0}for(;u&&r&&(l||!a.type.isAnonymous)&&r(a),!a.nextSibling();){if(!a.parent())return;u=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:gx(zn.none,this.children,this.positions,0,this.children.length,0,this.length,(t,r,i)=>new jt(this.type,t,r,i,this.propValues),e.makeTree||((t,r,i)=>new jt(zn.none,t,r,i)))}static build(e){return RW(e)}}jt.empty=new jt(zn.none,[],[],0);class dx{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new dx(this.buffer,this.index)}}class Ao{constructor(e,t,r){this.buffer=e,this.length=t,this.set=r}get type(){return zn.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],r=this.buffer[e+3],i=this.set.types[t],s=i.name;if(/\W/.test(s)&&!i.isError&&(s=JSON.stringify(s)),e+=4,r==e)return s;let o=[];for(;e<r;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,r,i,s){let{buffer:o}=this,l=-1;for(let a=e;a!=t&&!(q$(s,i,o[a+1],o[a+2])&&(l=a,r>0));a=o[a+3]);return l}slice(e,t,r){let i=this.buffer,s=new Uint16Array(t-e),o=0;for(let l=e,a=0;l<t;){s[a++]=i[l++],s[a++]=i[l++]-r;let u=s[a++]=i[l++]-r;s[a++]=i[l++]-e,o=Math.max(o,u)}return new Ao(s,o,this.set)}}function q$(n,e,t,r){switch(n){case-2:return t<e;case-1:return r>=e&&t<e;case 0:return t<e&&r>e;case 1:return t<=e&&r>e;case 2:return r>e;case 4:return!0}}function wh(n,e,t,r){for(var i;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!r&&n instanceof Rn&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=r?0:$t.IgnoreOverlays;if(r)for(let o=n,l=o.parent;l;o=l,l=o.parent)o instanceof Rn&&o.index<0&&((i=l.enter(e,t,s))===null||i===void 0?void 0:i.from)!=o.from&&(n=l);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}class X${cursor(e=0){return new Ip(this,e)}getChild(e,t=null,r=null){let i=mk(this,e,t,r);return i.length?i[0]:null}getChildren(e,t=null,r=null){return mk(this,e,t,r)}resolve(e,t=0){return wh(this,e,t,!1)}resolveInner(e,t=0){return wh(this,e,t,!0)}matchContext(e){return M1(this.parent,e)}enterUnfinishedNodesBefore(e){let t=this.childBefore(e),r=this;for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(r=t,t=i.prevSibling):t=i}return r}get node(){return this}get next(){return this.parent}}class Rn extends X${constructor(e,t,r,i){super(),this._tree=e,this.from=t,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,r,i,s=0){for(let o=this;;){for(let{children:l,positions:a}=o._tree,u=t>0?l.length:-1;e!=u;e+=t){let h=l[e],d=a[e]+o.from;if(q$(i,r,d,d+h.length)){if(h instanceof Ao){if(s&$t.ExcludeBuffers)continue;let p=h.findChild(0,h.buffer.length,t,r-d,i);if(p>-1)return new Bi(new QW(o,h,e,d),null,p)}else if(s&$t.IncludeAnonymous||!h.type.isAnonymous||px(h)){let p;if(!(s&$t.IgnoreMounts)&&(p=Sh.get(h))&&!p.overlay)return new Rn(p.tree,d,e,o);let g=new Rn(h,d,e,o);return s&$t.IncludeAnonymous||!g.type.isAnonymous?g:g.nextChild(t<0?h.children.length-1:0,t,r,i)}}}if(s&$t.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,r=0){let i;if(!(r&$t.IgnoreOverlays)&&(i=Sh.get(this._tree))&&i.overlay){let s=e-this.from;for(let{from:o,to:l}of i.overlay)if((t>0?o<=s:o<s)&&(t<0?l>=s:l>s))return new Rn(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function mk(n,e,t,r){let i=n.cursor(),s=[];if(!i.firstChild())return s;if(t!=null){for(let o=!1;!o;)if(o=i.type.is(t),!i.nextSibling())return s}for(;;){if(r!=null&&i.type.is(r))return s;if(i.type.is(e)&&s.push(i.node),!i.nextSibling())return r==null?s:[]}}function M1(n,e,t=e.length-1){for(let r=n;t>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[t]&&e[t]!=r.name)return!1;t--}}return!0}class QW{constructor(e,t,r,i){this.parent=e,this.buffer=t,this.index=r,this.start=i}}class Bi extends X${get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,t,r){super(),this.context=e,this._parent=t,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,t,r){let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.context.start,r);return s<0?null:new Bi(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,r=0){if(r&$t.ExcludeBuffers)return null;let{buffer:i}=this.context,s=i.findChild(this.index+4,i.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new Bi(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Bi(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new Bi(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],t=[],{buffer:r}=this.context,i=this.index+4,s=r.buffer[this.index+3];if(s>i){let o=r.buffer[this.index+1];e.push(r.slice(i,s,o)),t.push(0)}return new jt(this.type,e,t,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function V$(n){if(!n.length)return null;let e=0,t=n[0];for(let s=1;s<n.length;s++){let o=n[s];(o.from>t.from||o.to<t.to)&&(t=o,e=s)}let r=t instanceof Rn&&t.index<0?null:t.parent,i=n.slice();return r?i[e]=r:i.splice(e,1),new $W(i,t)}class $W{constructor(e,t){this.heads=e,this.node=t}get next(){return V$(this.heads)}}function AW(n,e,t){let r=n.resolveInner(e,t),i=null;for(let s=r instanceof Rn?r:r.context.parent;s;s=s.parent)if(s.index<0){let o=s.parent;(i||(i=[r])).push(o.resolve(e,t)),s=o}else{let o=Sh.get(s.tree);if(o&&o.overlay&&o.overlay[0].from<=e&&o.overlay[o.overlay.length-1].to>=e){let l=new Rn(o.tree,o.overlay[0].from+s.from,-1,s);(i||(i=[r])).push(wh(l,e,t,!1))}}return i?V$(i):r}class Ip{get name(){return this.type.name}constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Rn)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=t||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Rn?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,r,this.mode));let{buffer:i}=this.buffer,s=i.findChild(this.index+4,i.buffer[this.index+3],e,t-this.buffer.start,r);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,r=this.mode){return this.buffer?r&$t.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&$t.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&$t.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(t.findChild(i,this.index,-1,0,4))}else{let i=t.buffer[this.index+3];if(i<(r<0?t.buffer.length:t.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(i.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:r}=i)}else({index:t,_parent:r}=this._tree);for(;r;{index:t,_parent:r}=r)if(t>-1)for(let s=t+e,o=e<0?-1:r._tree.children.length;s!=o;s+=e){let l=r._tree.children[s];if(this.mode&$t.IncludeAnonymous||l instanceof Ao||!l.type.isAnonymous||px(l))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==i){if(i==this.index)return o;t=o,r=s+1;break e}i=this.stack[--s]}for(let i=r;i<this.stack.length;i++)t=new Bi(this.buffer,t,this.stack[i]);return this.bufferNode=new Bi(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&t&&t(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return M1(this.node.parent,e);let{buffer:t}=this.buffer,{types:r}=t.set;for(let i=e.length-1,s=this.stack.length-1;i>=0;s--){if(s<0)return M1(this._tree,e,i);let o=r[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[i]&&e[i]!=o.name)return!1;i--}}return!0}}function px(n){return n.children.some(e=>e instanceof Ao||!e.type.isAnonymous||px(e))}function RW(n){var e;let{buffer:t,nodeSet:r,maxBufferLength:i=z$,reused:s=[],minRepeatType:o=r.types.length}=n,l=Array.isArray(t)?new dx(t,t.length):t,a=r.types,u=0,h=0;function d(N,z,Z,H,te,K){let{id:R,start:E,end:P,size:Q}=l,I=h,j=u;for(;Q<0;)if(l.next(),Q==-1){let oe=s[R];Z.push(oe),H.push(E-N);return}else if(Q==-3){u=R;return}else if(Q==-4){h=R;return}else throw new RangeError(`Unrecognized record size: ${Q}`);let q=a[R],V,F,U=E-N;if(P-E<=i&&(F=v(l.pos-z,te))){let oe=new Uint16Array(F.size-F.skip),J=l.pos-F.size,ee=oe.length;for(;l.pos>J;)ee=w(F.start,oe,ee);V=new Ao(oe,P-F.start,r),U=F.start-N}else{let oe=l.pos-Q;l.next();let J=[],ee=[],fe=R>=o?R:-1,ne=0,he=P;for(;l.pos>oe;)fe>=0&&l.id==fe&&l.size>=0?(l.end<=he-i&&(b(J,ee,E,ne,l.end,he,fe,I,j),ne=J.length,he=l.end),l.next()):K>2500?p(E,oe,J,ee):d(E,oe,J,ee,fe,K+1);if(fe>=0&&ne>0&&ne<J.length&&b(J,ee,E,ne,E,he,fe,I,j),J.reverse(),ee.reverse(),fe>-1&&ne>0){let de=g(q,j);V=gx(q,J,ee,0,J.length,0,P-E,de,de)}else V=x(q,J,ee,P-E,I-P,j)}Z.push(V),H.push(U)}function p(N,z,Z,H){let te=[],K=0,R=-1;for(;l.pos>z;){let{id:E,start:P,end:Q,size:I}=l;if(I>4)l.next();else{if(R>-1&&P<R)break;R<0&&(R=Q-i),te.push(E,P,Q),K++,l.next()}}if(K){let E=new Uint16Array(K*4),P=te[te.length-2];for(let Q=te.length-3,I=0;Q>=0;Q-=3)E[I++]=te[Q],E[I++]=te[Q+1]-P,E[I++]=te[Q+2]-P,E[I++]=I;Z.push(new Ao(E,te[2]-P,r)),H.push(P-N)}}function g(N,z){return(Z,H,te)=>{let K=0,R=Z.length-1,E,P;if(R>=0&&(E=Z[R])instanceof jt){if(!R&&E.type==N&&E.length==te)return E;(P=E.prop(Ue.lookAhead))&&(K=H[R]+E.length+P)}return x(N,Z,H,te,K,z)}}function b(N,z,Z,H,te,K,R,E,P){let Q=[],I=[];for(;N.length>H;)Q.push(N.pop()),I.push(z.pop()+Z-te);N.push(x(r.types[R],Q,I,K-te,E-K,P)),z.push(te-Z)}function x(N,z,Z,H,te,K,R){if(K){let E=[Ue.contextHash,K];R=R?[E].concat(R):[E]}if(te>25){let E=[Ue.lookAhead,te];R=R?[E].concat(R):[E]}return new jt(N,z,Z,H,R)}function v(N,z){let Z=l.fork(),H=0,te=0,K=0,R=Z.end-i,E={size:0,start:0,skip:0};e:for(let P=Z.pos-N;Z.pos>P;){let Q=Z.size;if(Z.id==z&&Q>=0){E.size=H,E.start=te,E.skip=K,K+=4,H+=4,Z.next();continue}let I=Z.pos-Q;if(Q<0||I<P||Z.start<R)break;let j=Z.id>=o?4:0,q=Z.start;for(Z.next();Z.pos>I;){if(Z.size<0)if(Z.size==-3)j+=4;else break e;else Z.id>=o&&(j+=4);Z.next()}te=q,H+=Q,K+=j}return(z<0||H==N)&&(E.size=H,E.start=te,E.skip=K),E.size>4?E:void 0}function w(N,z,Z){let{id:H,start:te,end:K,size:R}=l;if(l.next(),R>=0&&H<o){let E=Z;if(R>4){let P=l.pos-(R-4);for(;l.pos>P;)Z=w(N,z,Z)}z[--Z]=E,z[--Z]=K-N,z[--Z]=te-N,z[--Z]=H}else R==-3?u=H:R==-4&&(h=H);return Z}let k=[],$=[];for(;l.pos>0;)d(n.start||0,n.bufferStart||0,k,$,-1,0);let B=(e=n.length)!==null&&e!==void 0?e:k.length?$[0]+k[0].length:0;return new jt(a[n.topID],k.reverse(),$.reverse(),B)}const Ok=new WeakMap;function ep(n,e){if(!n.isAnonymous||e instanceof Ao||e.type!=n)return 1;let t=Ok.get(e);if(t==null){t=1;for(let r of e.children){if(r.type!=n||!(r instanceof jt)){t=1;break}t+=ep(n,r)}Ok.set(e,t)}return t}function gx(n,e,t,r,i,s,o,l,a){let u=0;for(let b=r;b<i;b++)u+=ep(n,e[b]);let h=Math.ceil(u*1.5/8),d=[],p=[];function g(b,x,v,w,k){for(let $=v;$<w;){let B=$,N=x[$],z=ep(n,b[$]);for($++;$<w;$++){let Z=ep(n,b[$]);if(z+Z>=h)break;z+=Z}if($==B+1){if(z>h){let Z=b[B];g(Z.children,Z.positions,0,Z.children.length,x[B]+k);continue}d.push(b[B])}else{let Z=x[$-1]+b[$-1].length-N;d.push(gx(n,b,x,B,$,N,Z,null,a))}p.push(N+k-s)}}return g(e,t,r,i,0),(l||a)(d,p,o)}class W${constructor(){this.map=new WeakMap}setBuffer(e,t,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(t,r)}getBuffer(e,t){let r=this.map.get(e);return r&&r.get(t)}set(e,t){e instanceof Bi?this.setBuffer(e.context.buffer,e.index,t):e instanceof Rn&&this.map.set(e.tree,t)}get(e){return e instanceof Bi?this.getBuffer(e.context.buffer,e.index):e instanceof Rn?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Ps{constructor(e,t,r,i,s=!1,o=!1){this.from=e,this.to=t,this.tree=r,this.offset=i,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],r=!1){let i=[new Ps(0,e.length,e,0,!1,r)];for(let s of t)s.to>e.length&&i.push(s);return i}static applyChanges(e,t,r=128){if(!t.length)return e;let i=[],s=1,o=e.length?e[0]:null;for(let l=0,a=0,u=0;;l++){let h=l<t.length?t[l]:null,d=h?h.fromA:1e9;if(d-a>=r)for(;o&&o.from<d;){let p=o;if(a>=p.from||d<=p.to||u){let g=Math.max(p.from,a)-u,b=Math.min(p.to,d)-u;p=g>=b?null:new Ps(g,b,p.tree,p.offset+u,l>0,!!h)}if(p&&i.push(p),o.to>d)break;o=s<e.length?e[s++]:null}if(!h)break;a=h.toA,u=h.toA-h.toB}return i}}class F${startParse(e,t,r){return typeof e=="string"&&(e=new EW(e)),r=r?r.length?r.map(i=>new zr(i.from,i.to)):[new zr(0,0)]:[new zr(0,e.length)],this.createParse(e,t||[],r)}parse(e,t,r){let i=this.startParse(e,t,r);for(;;){let s=i.advance();if(s)return s}}}class EW{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}function LW(n){return(e,t,r,i)=>new MW(e,n,t,r,i)}class bk{constructor(e,t,r,i,s){this.parser=e,this.parse=t,this.overlay=r,this.target=i,this.from=s}}function xk(n){if(!n.length||n.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(n))}class _W{constructor(e,t,r,i,s,o,l){this.parser=e,this.predicate=t,this.mounts=r,this.index=i,this.start=s,this.target=o,this.prev=l,this.depth=0,this.ranges=[]}}const N1=new Ue({perNode:!0});class MW{constructor(e,t,r,i,s){this.nest=t,this.input=r,this.fragments=i,this.ranges=s,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new jt(r.type,r.children,r.positions,r.length,r.propValues.concat([[N1,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],t=e.parse.advance();if(t){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[Ue.mounted.id]=new Sh(t,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].from<e&&(e=Math.min(e,this.inner[t].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let t=this.innerDone;t<this.inner.length;t++)this.inner[t].parse.stopAt(e)}startInner(){let e=new IW(this.fragments),t=null,r=null,i=new Ip(new Rn(this.baseTree,this.ranges[0].from,0,null),$t.IncludeAnonymous|$t.IgnoreMounts);e:for(let s,o;;){let l=!0,a;if(this.stoppedAt!=null&&i.from>=this.stoppedAt)l=!1;else if(e.hasNode(i)){if(t){let u=t.mounts.find(h=>h.frag.from<=i.from&&h.frag.to>=i.to&&h.mount.overlay);if(u)for(let h of u.mount.overlay){let d=h.from+u.pos,p=h.to+u.pos;d>=i.from&&p<=i.to&&!t.ranges.some(g=>g.from<p&&g.to>d)&&t.ranges.push({from:d,to:p})}}l=!1}else if(r&&(o=NW(r.ranges,i.from,i.to)))l=o!=2;else if(!i.type.isAnonymous&&(s=this.nest(i,this.input))&&(i.from<i.to||!s.overlay)){i.tree||BW(i);let u=e.findMounts(i.from,s.parser);if(typeof s.overlay=="function")t=new _W(s.parser,s.overlay,u,this.inner.length,i.from,i.tree,t);else{let h=Sk(this.ranges,s.overlay||(i.from<i.to?[new zr(i.from,i.to)]:[]));h.length&&xk(h),(h.length||!s.overlay)&&this.inner.push(new bk(s.parser,h.length?s.parser.startParse(this.input,wk(u,h),h):s.parser.startParse(""),s.overlay?s.overlay.map(d=>new zr(d.from-i.from,d.to-i.from)):null,i.tree,h.length?h[0].from:i.from)),s.overlay?h.length&&(r={ranges:h,depth:0,prev:r}):l=!1}}else if(t&&(a=t.predicate(i))&&(a===!0&&(a=new zr(i.from,i.to)),a.from<a.to)){let u=t.ranges.length-1;u>=0&&t.ranges[u].to==a.from?t.ranges[u]={from:t.ranges[u].from,to:a.to}:t.ranges.push(a)}if(l&&i.firstChild())t&&t.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(t&&!--t.depth){let u=Sk(this.ranges,t.ranges);u.length&&(xk(u),this.inner.splice(t.index,0,new bk(t.parser,t.parser.startParse(this.input,wk(t.mounts,u),u),t.ranges.map(h=>new zr(h.from-t.start,h.to-t.start)),t.target,u[0].from))),t=t.prev}r&&!--r.depth&&(r=r.prev)}}}}function NW(n,e,t){for(let r of n){if(r.from>=t)break;if(r.to>e)return r.from<=e&&r.to>=t?2:1}return 0}function vk(n,e,t,r,i,s){if(e<t){let o=n.buffer[e+1];r.push(n.slice(e,t,o)),i.push(o-s)}}function BW(n){let{node:e}=n,t=[],r=e.context.buffer;do t.push(n.index),n.parent();while(!n.tree);let i=n.tree,s=i.children.indexOf(r),o=i.children[s],l=o.buffer,a=[s];function u(h,d,p,g,b,x){let v=t[x],w=[],k=[];vk(o,h,v,w,k,g);let $=l[v+1],B=l[v+2];a.push(w.length);let N=x?u(v+4,l[v+3],o.set.types[l[v]],$,B-$,x-1):e.toTree();return w.push(N),k.push($-g),vk(o,l[v+3],d,w,k,g),new jt(p,w,k,b)}i.children[s]=u(0,l.length,zn.none,0,o.length,t.length-1);for(let h of a){let d=n.tree.children[h],p=n.tree.positions[h];n.yield(new Rn(d,p+n.from,h,n._tree))}}class yk{constructor(e,t){this.offset=t,this.done=!1,this.cursor=e.cursor($t.IncludeAnonymous|$t.IgnoreMounts)}moveTo(e){let{cursor:t}=this,r=e-this.offset;for(;!this.done&&t.from<r;)t.to>=e&&t.enter(r,1,$t.IgnoreOverlays|$t.ExcludeBuffers)||t.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let t=this.cursor.tree;;){if(t==e.tree)return!0;if(t.children.length&&t.positions[0]==0&&t.children[0]instanceof jt)t=t.children[0];else break}return!1}}let IW=class{constructor(e){var t;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(t=r.tree.prop(N1))!==null&&t!==void 0?t:r.to,this.inner=new yk(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let t=this.curFrag=this.fragments[this.fragI];this.curTo=(e=t.tree.prop(N1))!==null&&e!==void 0?e:t.to,this.inner=new yk(t.tree,-t.offset)}}findMounts(e,t){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let s=this.inner.cursor.node;s;s=s.parent){let o=(r=s.tree)===null||r===void 0?void 0:r.prop(Ue.mounted);if(o&&o.parser==t)for(let l=this.fragI;l<this.fragments.length;l++){let a=this.fragments[l];if(a.from>=s.to)break;a.tree==this.curFrag.tree&&i.push({frag:a,pos:s.from-a.offset,mount:o})}}}return i}};function Sk(n,e){let t=null,r=e;for(let i=1,s=0;i<n.length;i++){let o=n[i-1].to,l=n[i].from;for(;s<r.length;s++){let a=r[s];if(a.from>=l)break;a.to<=o||(t||(r=t=e.slice()),a.from<o?(t[s]=new zr(a.from,o),a.to>l&&t.splice(s+1,0,new zr(l,a.to))):a.to>l?t[s--]=new zr(l,a.to):t.splice(s--,1))}}return r}function jW(n,e,t,r){let i=0,s=0,o=!1,l=!1,a=-1e9,u=[];for(;;){let h=i==n.length?1e9:o?n[i].to:n[i].from,d=s==e.length?1e9:l?e[s].to:e[s].from;if(o!=l){let p=Math.max(a,t),g=Math.min(h,d,r);p<g&&u.push(new zr(p,g))}if(a=Math.min(h,d),a==1e9)break;h==a&&(o?(o=!1,i++):o=!0),d==a&&(l?(l=!1,s++):l=!0)}return u}function wk(n,e){let t=[];for(let{pos:r,mount:i,frag:s}of n){let o=r+(i.overlay?i.overlay[0].from:0),l=o+i.tree.length,a=Math.max(s.from,o),u=Math.min(s.to,l);if(i.overlay){let h=i.overlay.map(p=>new zr(p.from+r,p.to+r)),d=jW(e,h,a,u);for(let p=0,g=a;;p++){let b=p==d.length,x=b?u:d[p].from;if(x>g&&t.push(new Ps(g,x,i.tree,-o,s.from>=g||s.openStart,s.to<=x||s.openEnd)),b)break;g=d[p].to}}else t.push(new Ps(a,u,i.tree,-o,s.from>=o||s.openStart,s.to<=l||s.openEnd))}return t}let DW=0;class jr{constructor(e,t,r,i){this.name=e,this.set=t,this.base=r,this.modified=i,this.id=DW++}toString(){let{name:e}=this;for(let t of this.modified)t.name&&(e=`${t.name}(${e})`);return e}static define(e,t){let r=typeof e=="string"?e:"?";if(e instanceof jr&&(t=e),t?.base)throw new Error("Can not derive from a modified tag");let i=new jr(r,[],null,[]);if(i.set.push(i),t)for(let s of t.set)i.set.push(s);return i}static defineModifier(e){let t=new jp(e);return r=>r.modified.indexOf(t)>-1?r:jp.get(r.base||r,r.modified.concat(t).sort((i,s)=>i.id-s.id))}}let ZW=0;class jp{constructor(e){this.name=e,this.instances=[],this.id=ZW++}static get(e,t){if(!t.length)return e;let r=t[0].instances.find(l=>l.base==e&&zW(t,l.modified));if(r)return r;let i=[],s=new jr(e.name,i,e,t);for(let l of t)l.instances.push(s);let o=qW(t);for(let l of e.set)if(!l.modified.length)for(let a of o)i.push(jp.get(l,a));return s}}function zW(n,e){return n.length==e.length&&n.every((t,r)=>t==e[r])}function qW(n){let e=[[]];for(let t=0;t<n.length;t++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(n[t]));return e.sort((t,r)=>r.length-t.length)}function Uh(n){let e=Object.create(null);for(let t in n){let r=n[t];Array.isArray(r)||(r=[r]);for(let i of t.split(" "))if(i){let s=[],o=2,l=i;for(let d=0;;){if(l=="..."&&d>0&&d+3==i.length){o=1;break}let p=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(l);if(!p)throw new RangeError("Invalid path: "+i);if(s.push(p[0]=="*"?"":p[0][0]=='"'?JSON.parse(p[0]):p[0]),d+=p[0].length,d==i.length)break;let g=i[d++];if(d==i.length&&g=="!"){o=0;break}if(g!="/")throw new RangeError("Invalid path: "+i);l=i.slice(d)}let a=s.length-1,u=s[a];if(!u)throw new RangeError("Invalid path: "+i);let h=new Dp(r,o,a>0?s.slice(0,a):null);e[u]=h.sort(e[u])}}return Y$.add(e)}const Y$=new Ue;class Dp{constructor(e,t,r,i){this.tags=e,this.mode=t,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Dp.empty=new Dp([],2,null);function H$(n,e){let t=Object.create(null);for(let s of n)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let o of s.tag)t[o.id]=s.class;let{scope:r,all:i=null}=e||{};return{style:s=>{let o=i;for(let l of s)for(let a of l.set){let u=t[a.id];if(u){o=o?o+" "+u:u;break}}return o},scope:r}}function XW(n,e){let t=null;for(let r of n){let i=r.style(e);i&&(t=t?t+" "+i:i)}return t}function VW(n,e,t,r=0,i=n.length){let s=new WW(r,Array.isArray(e)?e:[e],t);s.highlightRange(n.cursor(),r,i,"",s.highlighters),s.flush(i)}class WW{constructor(e,t,r){this.at=e,this.highlighters=t,this.span=r,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,r,i,s){let{type:o,from:l,to:a}=e;if(l>=r||a<=t)return;o.isTop&&(s=this.highlighters.filter(g=>!g.scope||g.scope(o)));let u=i,h=FW(e)||Dp.empty,d=XW(s,h.tags);if(d&&(u&&(u+=" "),u+=d,h.mode==1&&(i+=(i?" ":"")+d)),this.startSpan(Math.max(t,l),u),h.opaque)return;let p=e.tree&&e.tree.prop(Ue.mounted);if(p&&p.overlay){let g=e.node.enter(p.overlay[0].from+l,1),b=this.highlighters.filter(v=>!v.scope||v.scope(p.tree.type)),x=e.firstChild();for(let v=0,w=l;;v++){let k=v<p.overlay.length?p.overlay[v]:null,$=k?k.from+l:a,B=Math.max(t,w),N=Math.min(r,$);if(B<N&&x)for(;e.from<N&&(this.highlightRange(e,B,N,i,s),this.startSpan(Math.min(N,e.to),u),!(e.to>=$||!e.nextSibling())););if(!k||$>r)break;w=k.to+l,w>t&&(this.highlightRange(g.cursor(),Math.max(t,k.from+l),Math.min(r,w),"",b),this.startSpan(Math.min(r,w),u))}x&&e.parent()}else if(e.firstChild()){p&&(i="");do if(!(e.to<=t)){if(e.from>=r)break;this.highlightRange(e,t,r,i,s),this.startSpan(Math.min(r,e.to),u)}while(e.nextSibling());e.parent()}}}function FW(n){let e=n.type.prop(Y$);for(;e&&e.context&&!n.matchContext(e.context);)e=e.next;return e||null}const xe=jr.define,Rd=xe(),ao=xe(),kk=xe(ao),Tk=xe(ao),co=xe(),Ed=xe(co),N0=xe(co),Ai=xe(),ll=xe(Ai),Qi=xe(),$i=xe(),B1=xe(),Pu=xe(B1),Ld=xe(),_={comment:Rd,lineComment:xe(Rd),blockComment:xe(Rd),docComment:xe(Rd),name:ao,variableName:xe(ao),typeName:kk,tagName:xe(kk),propertyName:Tk,attributeName:xe(Tk),className:xe(ao),labelName:xe(ao),namespace:xe(ao),macroName:xe(ao),literal:co,string:Ed,docString:xe(Ed),character:xe(Ed),attributeValue:xe(Ed),number:N0,integer:xe(N0),float:xe(N0),bool:xe(co),regexp:xe(co),escape:xe(co),color:xe(co),url:xe(co),keyword:Qi,self:xe(Qi),null:xe(Qi),atom:xe(Qi),unit:xe(Qi),modifier:xe(Qi),operatorKeyword:xe(Qi),controlKeyword:xe(Qi),definitionKeyword:xe(Qi),moduleKeyword:xe(Qi),operator:$i,derefOperator:xe($i),arithmeticOperator:xe($i),logicOperator:xe($i),bitwiseOperator:xe($i),compareOperator:xe($i),updateOperator:xe($i),definitionOperator:xe($i),typeOperator:xe($i),controlOperator:xe($i),punctuation:B1,separator:xe(B1),bracket:Pu,angleBracket:xe(Pu),squareBracket:xe(Pu),paren:xe(Pu),brace:xe(Pu),content:Ai,heading:ll,heading1:xe(ll),heading2:xe(ll),heading3:xe(ll),heading4:xe(ll),heading5:xe(ll),heading6:xe(ll),contentSeparator:xe(Ai),list:xe(Ai),quote:xe(Ai),emphasis:xe(Ai),strong:xe(Ai),link:xe(Ai),monospace:xe(Ai),strikethrough:xe(Ai),inserted:xe(),deleted:xe(),changed:xe(),invalid:xe(),meta:Ld,documentMeta:xe(Ld),annotation:xe(Ld),processingInstruction:xe(Ld),definition:jr.defineModifier("definition"),constant:jr.defineModifier("constant"),function:jr.defineModifier("function"),standard:jr.defineModifier("standard"),local:jr.defineModifier("local"),special:jr.defineModifier("special")};for(let n in _){let e=_[n];e instanceof jr&&(e.name=n)}H$([{tag:_.link,class:"tok-link"},{tag:_.heading,class:"tok-heading"},{tag:_.emphasis,class:"tok-emphasis"},{tag:_.strong,class:"tok-strong"},{tag:_.keyword,class:"tok-keyword"},{tag:_.atom,class:"tok-atom"},{tag:_.bool,class:"tok-bool"},{tag:_.url,class:"tok-url"},{tag:_.labelName,class:"tok-labelName"},{tag:_.inserted,class:"tok-inserted"},{tag:_.deleted,class:"tok-deleted"},{tag:_.literal,class:"tok-literal"},{tag:_.string,class:"tok-string"},{tag:_.number,class:"tok-number"},{tag:[_.regexp,_.escape,_.special(_.string)],class:"tok-string2"},{tag:_.variableName,class:"tok-variableName"},{tag:_.local(_.variableName),class:"tok-variableName tok-local"},{tag:_.definition(_.variableName),class:"tok-variableName tok-definition"},{tag:_.special(_.variableName),class:"tok-variableName2"},{tag:_.definition(_.propertyName),class:"tok-propertyName tok-definition"},{tag:_.typeName,class:"tok-typeName"},{tag:_.namespace,class:"tok-namespace"},{tag:_.className,class:"tok-className"},{tag:_.macroName,class:"tok-macroName"},{tag:_.propertyName,class:"tok-propertyName"},{tag:_.operator,class:"tok-operator"},{tag:_.comment,class:"tok-comment"},{tag:_.meta,class:"tok-meta"},{tag:_.invalid,class:"tok-invalid"},{tag:_.punctuation,class:"tok-punctuation"}]);var B0;const Va=new Ue;function G$(n){return Ce.define({combine:n?e=>e.concat(n):void 0})}const mx=new Ue;class ci{constructor(e,t,r=[],i=""){this.data=e,this.name=i,at.prototype.hasOwnProperty("tree")||Object.defineProperty(at.prototype,"tree",{get(){return qt(this)}}),this.parser=t,this.extension=[Ro.of(this),at.languageData.of((s,o,l)=>{let a=Ck(s,o,l),u=a.type.prop(Va);if(!u)return[];let h=s.facet(u),d=a.type.prop(mx);if(d){let p=a.resolve(o-a.from,l);for(let g of d)if(g.test(p,s)){let b=s.facet(g.facet);return g.type=="replace"?b:b.concat(h)}}return h})].concat(r)}isActiveAt(e,t,r=-1){return Ck(e,t,r).type.prop(Va)==this.data}findRegions(e){let t=e.facet(Ro);if(t?.data==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let r=[],i=(s,o)=>{if(s.prop(Va)==this.data){r.push({from:o,to:o+s.length});return}let l=s.prop(Ue.mounted);if(l){if(l.tree.prop(Va)==this.data){if(l.overlay)for(let a of l.overlay)r.push({from:a.from+o,to:a.to+o});else r.push({from:o,to:o+s.length});return}else if(l.overlay){let a=r.length;if(i(l.tree,l.overlay[0].from+o),r.length>a)return}}for(let a=0;a<s.children.length;a++){let u=s.children[a];u instanceof jt&&i(u,s.positions[a]+o)}};return i(qt(e),0),r}get allowsNesting(){return!0}}ci.setState=Xe.define();function Ck(n,e,t){let r=n.facet(Ro),i=qt(n).topNode;if(!r||r.allowsNesting)for(let s=i;s;s=s.enter(e,t,$t.ExcludeBuffers))s.type.isTop&&(i=s);return i}class _l extends ci{constructor(e,t,r){super(e,t,[],r),this.parser=t}static define(e){let t=G$(e.languageData);return new _l(t,e.parser.configure({props:[Va.add(r=>r.isTop?t:void 0)]}),e.name)}configure(e,t){return new _l(this.data,this.parser.configure(e),t||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function qt(n){let e=n.field(ci.state,!1);return e?e.tree:jt.empty}class YW{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let r=this.cursorPos-this.string.length;return e<r||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-r,t-r)}}let Qu=null;class Zp{constructor(e,t,r=[],i,s,o,l,a){this.parser=e,this.state=t,this.fragments=r,this.tree=i,this.treeLen=s,this.viewport=o,this.skipped=l,this.scheduleOn=a,this.parse=null,this.tempSkipped=[]}static create(e,t,r){return new Zp(e,t,[],jt.empty,0,r,[],null)}startParse(){return this.parser.startParse(new YW(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=jt.empty&&this.isDone(t??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Ps.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(t??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Ps.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Qu;Qu=this;try{return e()}finally{Qu=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=Pk(e,t.from,t.to);return e}changes(e,t){let{fragments:r,tree:i,treeLen:s,viewport:o,skipped:l}=this;if(this.takeTree(),!e.empty){let a=[];if(e.iterChangedRanges((u,h,d,p)=>a.push({fromA:u,toA:h,fromB:d,toB:p})),r=Ps.applyChanges(r,a),i=jt.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){l=[];for(let u of this.skipped){let h=e.mapPos(u.from,1),d=e.mapPos(u.to,-1);h<d&&l.push({from:h,to:d})}}}return new Zp(this.parser,t,r,i,s,o,l,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:s}=this.skipped[r];i<e.to&&s>e.from&&(this.fragments=Pk(this.fragments,i,s),this.skipped.splice(r--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends F${createParse(t,r,i){let s=i[0].from,o=i[i.length-1].to;return{parsedPos:s,advance(){let a=Qu;if(a){for(let u of i)a.tempSkipped.push(u);e&&(a.scheduleOn=a.scheduleOn?Promise.all([a.scheduleOn,e]):e)}return this.parsedPos=o,new jt(zn.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Qu}}function Pk(n,e,t){return Ps.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class bc{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,r)||t.takeTree(),new bc(t)}static init(e){let t=Math.min(3e3,e.doc.length),r=Zp.create(e.facet(Ro).parser,e,{from:0,to:t});return r.work(20,t)||r.takeTree(),new bc(r)}}ci.state=cn.define({create:bc.init,update(n,e){for(let t of e.effects)if(t.is(ci.setState))return t.value;return e.startState.facet(Ro)!=e.state.facet(Ro)?bc.init(e.state):n.apply(e)}});let U$=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(U$=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:400})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const I0=typeof navigator<"u"&&(!((B0=navigator.scheduling)===null||B0===void 0)&&B0.isInputPending)?()=>navigator.scheduling.isInputPending():null,HW=Yt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(ci.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(ci.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=U$(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,s=r.field(ci.state);if(s.tree==s.context.tree&&s.context.isDone(i+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!I0?Math.max(25,e.timeRemaining()-5):1e9),l=s.context.treeLen<i&&r.doc.length>i+1e3,a=s.context.work(()=>I0&&I0()||Date.now()>o,i+(l?0:1e5));this.chunkBudget-=Date.now()-t,(a||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:ci.setState.of(new bc(s.context))})),this.chunkBudget>0&&!(a&&!l)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>er(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Ro=Ce.define({combine(n){return n.length?n[0]:null},enables:n=>[ci.state,HW,ve.contentAttributes.compute([n],e=>{let t=e.facet(n);return t&&t.name?{"data-language":t.name}:{}})]});class Ng{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const GW=Ce.define(),Bg=Ce.define({combine:n=>{if(!n.length)return"  ";let e=n[0];if(!e||/\S/.test(e)||Array.from(e).some(t=>t!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return e}});function zp(n){let e=n.facet(Bg);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function kh(n,e){let t="",r=n.tabSize,i=n.facet(Bg)[0];if(i=="	"){for(;e>=r;)t+="	",e-=r;i=" "}for(let s=0;s<e;s++)t+=i;return t}function Ox(n,e){n instanceof at&&(n=new Ig(n));for(let r of n.state.facet(GW)){let i=r(n,e);if(i!==void 0)return i}let t=qt(n.state);return t.length>=e?UW(n,t,e):null}class Ig{constructor(e,t={}){this.state=e,this.options=t,this.unit=zp(e)}lineAt(e,t=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:s}=this.options;return i!=null&&i>=r.from&&i<=r.to?s&&i==e?{text:"",from:e}:(t<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,t);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,t=1){let{text:r,from:i}=this.lineAt(e,t),s=this.countColumn(r,e-i),o=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return o>-1&&(s+=o-this.countColumn(r,r.search(/\S|$/))),s}countColumn(e,t=e.length){return Ac(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:r,from:i}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let o=s(i);if(o>-1)return o}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Kh=new Ue;function UW(n,e,t){let r=e.resolveStack(t),i=e.resolveInner(t,-1).resolve(t,0).enterUnfinishedNodesBefore(t);if(i!=r.node){let s=[];for(let o=i;o&&!(o.from<r.node.from||o.to>r.node.to||o.from==r.node.from&&o.type==r.node.type);o=o.parent)s.push(o);for(let o=s.length-1;o>=0;o--)r={node:s[o],next:r}}return K$(r,n,t)}function K$(n,e,t){for(let r=n;r;r=r.next){let i=JW(r.node);if(i)return i(bx.create(e,t,r))}return 0}function KW(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function JW(n){let e=n.type.prop(Kh);if(e)return e;let t=n.firstChild,r;if(t&&(r=t.type.prop(Ue.closedBy))){let i=n.lastChild,s=i&&r.indexOf(i.name)>-1;return o=>J$(o,!0,1,void 0,s&&!KW(o)?i.from:void 0)}return n.parent==null?eF:null}function eF(){return 0}class bx extends Ig{constructor(e,t,r){super(e.state,e.options),this.base=e,this.pos=t,this.context=r}get node(){return this.context.node}static create(e,t,r){return new bx(e,t,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let t=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(t.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(tF(r,e))break;t=this.state.doc.lineAt(r.from)}return this.lineIndent(t.from)}continue(){return K$(this.context.next,this.base,this.pos)}}function tF(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function nF(n){let e=n.node,t=e.childAfter(e.from),r=e.lastChild;if(!t)return null;let i=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),o=i==null||i<=s.from?s.to:Math.min(s.to,i);for(let l=t.to;;){let a=e.childAfter(l);if(!a||a==r)return null;if(!a.type.isSkipped){if(a.from>=o)return null;let u=/^ */.exec(s.text.slice(t.to-s.from))[0].length;return{from:t.from,to:t.to+u}}l=a.to}}function rF({closing:n,align:e=!0,units:t=1}){return r=>J$(r,e,t,n)}function J$(n,e,t,r,i){let s=n.textAfter,o=s.match(/^\s*/)[0].length,l=r&&s.slice(o,o+r.length)==r||i==n.pos+o,a=e?nF(n):null;return a?l?n.column(a.from):n.column(a.to):n.baseIndent+(l?0:n.unit*t)}const iF=n=>n.baseIndent;function sc({except:n,units:e=1}={}){return t=>{let r=n&&n.test(t.textAfter);return t.baseIndent+(r?0:e*t.unit)}}const sF=200;function oF(){return at.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:r}=n.newSelection.main,i=t.lineAt(r);if(r>i.from+sF)return n;let s=t.sliceString(i.from,r);if(!e.some(u=>u.test(s)))return n;let{state:o}=n,l=-1,a=[];for(let{head:u}of o.selection.ranges){let h=o.doc.lineAt(u);if(h.from==l)continue;l=h.from;let d=Ox(o,h.from);if(d==null)continue;let p=/^\s*/.exec(h.text)[0],g=kh(o,d);p!=g&&a.push({from:h.from,to:h.from+p.length,insert:g})}return a.length?[n,{changes:a,sequential:!0}]:n})}const lF=Ce.define(),Jh=new Ue;function xx(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}function aF(n,e,t){let r=qt(n);if(r.length<t)return null;let i=r.resolveStack(t,1),s=null;for(let o=i;o;o=o.next){let l=o.node;if(l.to<=t||l.from>t)continue;if(s&&l.from<e)break;let a=l.type.prop(Jh);if(a&&(l.to<r.length-50||r.length==n.doc.length||!cF(l))){let u=a(l,n);u&&u.from<=t&&u.from>=e&&u.to>t&&(s=u)}}return s}function cF(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function qp(n,e,t){for(let r of n.facet(lF)){let i=r(n,e,t);if(i)return i}return aF(n,e,t)}function eA(n,e){let t=e.mapPos(n.from,1),r=e.mapPos(n.to,-1);return t>=r?void 0:{from:t,to:r}}const jg=Xe.define({map:eA}),ef=Xe.define({map:eA});function tA(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(r=>r.from<=t&&r.to>=t)||e.push(n.lineBlockAt(t));return e}const Ml=cn.define({create(){return Me.none},update(n,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((t,r)=>n=Qk(n,t,r)),n=n.map(e.changes);for(let t of e.effects)if(t.is(jg)&&!uF(n,t.value.from,t.value.to)){let{preparePlaceholder:r}=e.state.facet(iA),i=r?Me.replace({widget:new OF(r(e.state,t.value))}):$k;n=n.update({add:[i.range(t.value.from,t.value.to)]})}else t.is(ef)&&(n=n.update({filter:(r,i)=>t.value.from!=r||t.value.to!=i,filterFrom:t.value.from,filterTo:t.value.to}));return e.selection&&(n=Qk(n,e.selection.main.head)),n},provide:n=>ve.decorations.from(n),toJSON(n,e){let t=[];return n.between(0,e.doc.length,(r,i)=>{t.push(r,i)}),t},fromJSON(n){if(!Array.isArray(n)||n.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let t=0;t<n.length;){let r=n[t++],i=n[t++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push($k.range(r,i))}return Me.set(e,!0)}});function Qk(n,e,t=e){let r=!1;return n.between(e,t,(i,s)=>{i<t&&s>e&&(r=!0)}),r?n.update({filterFrom:e,filterTo:t,filter:(i,s)=>i>=t||s<=e}):n}function Xp(n,e,t){var r;let i=null;return(r=n.field(Ml,!1))===null||r===void 0||r.between(e,t,(s,o)=>{(!i||i.from>s)&&(i={from:s,to:o})}),i}function uF(n,e,t){let r=!1;return n.between(e,e,(i,s)=>{i==e&&s==t&&(r=!0)}),r}function nA(n,e){return n.field(Ml,!1)?e:e.concat(Xe.appendConfig.of(sA()))}const hF=n=>{for(let e of tA(n)){let t=qp(n.state,e.from,e.to);if(t)return n.dispatch({effects:nA(n.state,[jg.of(t),rA(n,t)])}),!0}return!1},fF=n=>{if(!n.state.field(Ml,!1))return!1;let e=[];for(let t of tA(n)){let r=Xp(n.state,t.from,t.to);r&&e.push(ef.of(r),rA(n,r,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function rA(n,e,t=!0){let r=n.state.doc.lineAt(e.from).number,i=n.state.doc.lineAt(e.to).number;return ve.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${r} ${n.state.phrase("to")} ${i}.`)}const dF=n=>{let{state:e}=n,t=[];for(let r=0;r<e.doc.length;){let i=n.lineBlockAt(r),s=qp(e,i.from,i.to);s&&t.push(jg.of(s)),r=(s?n.lineBlockAt(s.to):i).to+1}return t.length&&n.dispatch({effects:nA(n.state,t)}),!!t.length},pF=n=>{let e=n.state.field(Ml,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(r,i)=>{t.push(ef.of({from:r,to:i}))}),n.dispatch({effects:t}),!0},gF=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:hF},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:fF},{key:"Ctrl-Alt-[",run:dF},{key:"Ctrl-Alt-]",run:pF}],mF={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},iA=Ce.define({combine(n){return Hi(n,mF)}});function sA(n){return[Ml,vF]}function oA(n,e){let{state:t}=n,r=t.facet(iA),i=o=>{let l=n.lineBlockAt(n.posAtDOM(o.target)),a=Xp(n.state,l.from,l.to);a&&n.dispatch({effects:ef.of(a)}),o.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(n,i,e);let s=document.createElement("span");return s.textContent=r.placeholderText,s.setAttribute("aria-label",t.phrase("folded code")),s.title=t.phrase("unfold"),s.className="cm-foldPlaceholder",s.onclick=i,s}const $k=Me.replace({widget:new class extends Gi{toDOM(n){return oA(n,null)}}});class OF extends Gi{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return oA(e,this.value)}}const bF={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class j0 extends Ls{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function xF(n={}){let e={...bF,...n},t=new j0(e,!0),r=new j0(e,!1),i=Yt.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(Ro)!=o.state.facet(Ro)||o.startState.field(Ml,!1)!=o.state.field(Ml,!1)||qt(o.startState)!=qt(o.state)||e.foldingChanged(o))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let l=new Rs;for(let a of o.viewportLineBlocks){let u=Xp(o.state,a.from,a.to)?r:qp(o.state,a.from,a.to)?t:null;u&&l.add(a.from,a.from,u)}return l.finish()}}),{domEventHandlers:s}=e;return[i,mW({class:"cm-foldGutter",markers(o){var l;return((l=o.plugin(i))===null||l===void 0?void 0:l.markers)||ct.empty},initialSpacer(){return new j0(e,!1)},domEventHandlers:{...s,click:(o,l,a)=>{if(s.click&&s.click(o,l,a))return!0;let u=Xp(o.state,l.from,l.to);if(u)return o.dispatch({effects:ef.of(u)}),!0;let h=qp(o.state,l.from,l.to);return h?(o.dispatch({effects:jg.of(h)}),!0):!1}}}),sA()]}const vF=ve.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Rc{constructor(e,t){this.specs=e;let r;function i(l){let a=Po.newName();return(r||(r=Object.create(null)))["."+a]=l,a}const s=typeof t.all=="string"?t.all:t.all?i(t.all):void 0,o=t.scope;this.scope=o instanceof ci?l=>l.prop(Va)==o.data:o?l=>l==o:void 0,this.style=H$(e.map(l=>({tag:l.tag,class:l.class||i(Object.assign({},l,{tag:null}))})),{all:s}).style,this.module=r?new Po(r):null,this.themeType=t.themeType}static define(e,t){return new Rc(e,t||{})}}const I1=Ce.define(),lA=Ce.define({combine(n){return n.length?[n[0]]:null}});function D0(n){let e=n.facet(I1);return e.length?e:n.facet(lA)}function vx(n,e){let t=[SF],r;return n instanceof Rc&&(n.module&&t.push(ve.styleModule.of(n.module)),r=n.themeType),e?.fallback?t.push(lA.of(n)):r?t.push(I1.computeN([ve.darkTheme],i=>i.facet(ve.darkTheme)==(r=="dark")?[n]:[])):t.push(I1.of(n)),t}class yF{constructor(e){this.markCache=Object.create(null),this.tree=qt(e.state),this.decorations=this.buildDeco(e,D0(e.state)),this.decoratedTo=e.viewport.to}update(e){let t=qt(e.state),r=D0(e.state),i=r!=D0(e.startState),{viewport:s}=e.view,o=e.changes.mapPos(this.decoratedTo,1);t.length<s.to&&!i&&t.type==this.tree.type&&o>=s.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=o):(t!=this.tree||e.viewportChanged||i)&&(this.tree=t,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=s.to)}buildDeco(e,t){if(!t||!this.tree.length)return Me.none;let r=new Rs;for(let{from:i,to:s}of e.visibleRanges)VW(this.tree,t,(o,l,a)=>{r.add(o,l,this.markCache[a]||(this.markCache[a]=Me.mark({class:a})))},i,s);return r.finish()}}const SF=Mo.high(Yt.fromClass(yF,{decorations:n=>n.decorations})),wF=Rc.define([{tag:_.meta,color:"#404740"},{tag:_.link,textDecoration:"underline"},{tag:_.heading,textDecoration:"underline",fontWeight:"bold"},{tag:_.emphasis,fontStyle:"italic"},{tag:_.strong,fontWeight:"bold"},{tag:_.strikethrough,textDecoration:"line-through"},{tag:_.keyword,color:"#708"},{tag:[_.atom,_.bool,_.url,_.contentSeparator,_.labelName],color:"#219"},{tag:[_.literal,_.inserted],color:"#164"},{tag:[_.string,_.deleted],color:"#a11"},{tag:[_.regexp,_.escape,_.special(_.string)],color:"#e40"},{tag:_.definition(_.variableName),color:"#00f"},{tag:_.local(_.variableName),color:"#30a"},{tag:[_.typeName,_.namespace],color:"#085"},{tag:_.className,color:"#167"},{tag:[_.special(_.variableName),_.macroName],color:"#256"},{tag:_.definition(_.propertyName),color:"#00c"},{tag:_.comment,color:"#940"},{tag:_.invalid,color:"#f00"}]),kF=ve.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),aA=1e4,cA="()[]{}",uA=Ce.define({combine(n){return Hi(n,{afterCursor:!0,brackets:cA,maxScanDistance:aA,renderMatch:PF})}}),TF=Me.mark({class:"cm-matchingBracket"}),CF=Me.mark({class:"cm-nonmatchingBracket"});function PF(n){let e=[],t=n.matched?TF:CF;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const QF=cn.define({create(){return Me.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],r=e.state.facet(uA);for(let i of e.state.selection.ranges){if(!i.empty)continue;let s=Ii(e.state,i.head,-1,r)||i.head>0&&Ii(e.state,i.head-1,1,r)||r.afterCursor&&(Ii(e.state,i.head,1,r)||i.head<e.state.doc.length&&Ii(e.state,i.head+1,-1,r));s&&(t=t.concat(r.renderMatch(s,e.state)))}return Me.set(t,!0)},provide:n=>ve.decorations.from(n)}),$F=[QF,kF];function AF(n={}){return[uA.of(n),$F]}const hA=new Ue;function j1(n,e,t){let r=n.prop(e<0?Ue.openedBy:Ue.closedBy);if(r)return r;if(n.name.length==1){let i=t.indexOf(n.name);if(i>-1&&i%2==(e<0?1:0))return[t[i+e]]}return null}function D1(n){let e=n.type.prop(hA);return e?e(n.node):n}function Ii(n,e,t,r={}){let i=r.maxScanDistance||aA,s=r.brackets||cA,o=qt(n),l=o.resolveInner(e,t);for(let a=l;a;a=a.parent){let u=j1(a.type,t,s);if(u&&a.from<a.to){let h=D1(a);if(h&&(t>0?e>=h.from&&e<h.to:e>h.from&&e<=h.to))return RF(n,e,t,a,h,u,s)}}return EF(n,e,t,o,l.type,i,s)}function RF(n,e,t,r,i,s,o){let l=r.parent,a={from:i.from,to:i.to},u=0,h=l?.cursor();if(h&&(t<0?h.childBefore(r.from):h.childAfter(r.to)))do if(t<0?h.to<=r.from:h.from>=r.to){if(u==0&&s.indexOf(h.type.name)>-1&&h.from<h.to){let d=D1(h);return{start:a,end:d?{from:d.from,to:d.to}:void 0,matched:!0}}else if(j1(h.type,t,o))u++;else if(j1(h.type,-t,o)){if(u==0){let d=D1(h);return{start:a,end:d&&d.from<d.to?{from:d.from,to:d.to}:void 0,matched:!1}}u--}}while(t<0?h.prevSibling():h.nextSibling());return{start:a,matched:!1}}function EF(n,e,t,r,i,s,o){let l=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),a=o.indexOf(l);if(a<0||a%2==0!=t>0)return null;let u={from:t<0?e-1:e,to:t>0?e+1:e},h=n.doc.iterRange(e,t>0?n.doc.length:0),d=0;for(let p=0;!h.next().done&&p<=s;){let g=h.value;t<0&&(p+=g.length);let b=e+p*t;for(let x=t>0?0:g.length-1,v=t>0?g.length:-1;x!=v;x+=t){let w=o.indexOf(g[x]);if(!(w<0||r.resolveInner(b+x,1).type!=i))if(w%2==0==t>0)d++;else{if(d==1)return{start:u,end:{from:b+x,to:b+x+1},matched:w>>1==a>>1};d--}}t>0&&(p+=g.length)}return h.done?{start:u,matched:!1}:null}const LF=Object.create(null),Ak=[zn.none],Rk=[],Ek=Object.create(null),_F=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])_F[n]=MF(LF,e);function Z0(n,e){Rk.indexOf(n)>-1||(Rk.push(n),console.warn(e))}function MF(n,e){let t=[];for(let l of e.split(" ")){let a=[];for(let u of l.split(".")){let h=n[u]||_[u];h?typeof h=="function"?a.length?a=a.map(h):Z0(u,`Modifier ${u} used at start of tag`):a.length?Z0(u,`Tag ${u} used as modifier`):a=Array.isArray(h)?h:[h]:Z0(u,`Unknown highlighting tag ${u}`)}for(let u of a)t.push(u)}if(!t.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+t.map(l=>l.id),s=Ek[i];if(s)return s.id;let o=Ek[i]=zn.define({id:Ak.length,name:r,props:[Uh({[r]:t})]});return Ak.push(o),o.id}Et.RTL,Et.LTR;const NF=n=>{let{state:e}=n,t=e.doc.lineAt(e.selection.main.from),r=Sx(n.state,t.from);return r.line?BF(n):r.block?jF(n):!1};function yx(n,e){return({state:t,dispatch:r})=>{if(t.readOnly)return!1;let i=n(e,t);return i?(r(t.update(i)),!0):!1}}const BF=yx(zF,0),IF=yx(fA,0),jF=yx((n,e)=>fA(n,e,ZF(e)),0);function Sx(n,e){let t=n.languageDataAt("commentTokens",e,1);return t.length?t[0]:{}}const $u=50;function DF(n,{open:e,close:t},r,i){let s=n.sliceDoc(r-$u,r),o=n.sliceDoc(i,i+$u),l=/\s*$/.exec(s)[0].length,a=/^\s*/.exec(o)[0].length,u=s.length-l;if(s.slice(u-e.length,u)==e&&o.slice(a,a+t.length)==t)return{open:{pos:r-l,margin:l&&1},close:{pos:i+a,margin:a&&1}};let h,d;i-r<=2*$u?h=d=n.sliceDoc(r,i):(h=n.sliceDoc(r,r+$u),d=n.sliceDoc(i-$u,i));let p=/^\s*/.exec(h)[0].length,g=/\s*$/.exec(d)[0].length,b=d.length-g-t.length;return h.slice(p,p+e.length)==e&&d.slice(b,b+t.length)==t?{open:{pos:r+p+e.length,margin:/\s/.test(h.charAt(p+e.length))?1:0},close:{pos:i-g-t.length,margin:/\s/.test(d.charAt(b-1))?1:0}}:null}function ZF(n){let e=[];for(let t of n.selection.ranges){let r=n.doc.lineAt(t.from),i=t.to<=r.to?r:n.doc.lineAt(t.to);i.from>r.from&&i.from==t.to&&(i=t.to==r.to+1?r:n.doc.lineAt(t.to-1));let s=e.length-1;s>=0&&e[s].to>r.from?e[s].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function fA(n,e,t=e.selection.ranges){let r=t.map(s=>Sx(e,s.from).block);if(!r.every(s=>s))return null;let i=t.map((s,o)=>DF(e,r[o],s.from,s.to));if(n!=2&&!i.every(s=>s))return{changes:e.changes(t.map((s,o)=>i[o]?[]:[{from:s.from,insert:r[o].open+" "},{from:s.to,insert:" "+r[o].close}]))};if(n!=1&&i.some(s=>s)){let s=[];for(let o=0,l;o<i.length;o++)if(l=i[o]){let a=r[o],{open:u,close:h}=l;s.push({from:u.pos-a.open.length,to:u.pos+u.margin},{from:h.pos-h.margin,to:h.pos+a.close.length})}return{changes:s}}return null}function zF(n,e,t=e.selection.ranges){let r=[],i=-1;for(let{from:s,to:o}of t){let l=r.length,a=1e9,u=Sx(e,s).line;if(u){for(let h=s;h<=o;){let d=e.doc.lineAt(h);if(d.from>i&&(s==o||o>d.from)){i=d.from;let p=/^\s*/.exec(d.text)[0].length,g=p==d.length,b=d.text.slice(p,p+u.length)==u?p:-1;p<d.text.length&&p<a&&(a=p),r.push({line:d,comment:b,token:u,indent:p,empty:g,single:!1})}h=d.to+1}if(a<1e9)for(let h=l;h<r.length;h++)r[h].indent<r[h].line.text.length&&(r[h].indent=a);r.length==l+1&&(r[l].single=!0)}}if(n!=2&&r.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:l,token:a,indent:u,empty:h,single:d}of r)(d||!h)&&s.push({from:l.from+u,insert:a+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(n!=1&&r.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:l,token:a}of r)if(l>=0){let u=o.from+l,h=u+a.length;o.text[h-o.from]==" "&&h++,s.push({from:u,to:h})}return{changes:s}}return null}const Z1=Ns.define(),qF=Ns.define(),XF=Ce.define(),dA=Ce.define({combine(n){return Hi(n,{minDepth:100,newGroupDelay:500,joinToEvent:(e,t)=>t},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,t)=>(r,i)=>e(r,i)||t(r,i)})}}),pA=cn.define({create(){return ji.empty},update(n,e){let t=e.state.facet(dA),r=e.annotation(Z1);if(r){let a=tr.fromTransaction(e,r.selection),u=r.side,h=u==0?n.undone:n.done;return a?h=Vp(h,h.length,t.minDepth,a):h=OA(h,e.startState.selection),new ji(u==0?r.rest:h,u==0?h:r.rest)}let i=e.annotation(qF);if((i=="full"||i=="before")&&(n=n.isolate()),e.annotation(Jt.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let s=tr.fromTransaction(e),o=e.annotation(Jt.time),l=e.annotation(Jt.userEvent);return s?n=n.addChanges(s,o,l,t,e):e.selection&&(n=n.addSelection(e.startState.selection,o,l,t.newGroupDelay)),(i=="full"||i=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new ji(n.done.map(tr.fromJSON),n.undone.map(tr.fromJSON))}});function VF(n={}){return[pA,dA.of(n),ve.domEventHandlers({beforeinput(e,t){let r=e.inputType=="historyUndo"?gA:e.inputType=="historyRedo"?z1:null;return r?(e.preventDefault(),r(t)):!1}})]}function Dg(n,e){return function({state:t,dispatch:r}){if(!e&&t.readOnly)return!1;let i=t.field(pA,!1);if(!i)return!1;let s=i.pop(n,t,e);return s?(r(s),!0):!1}}const gA=Dg(0,!1),z1=Dg(1,!1),WF=Dg(0,!0),FF=Dg(1,!0);class tr{constructor(e,t,r,i,s){this.changes=e,this.effects=t,this.mapped=r,this.startSelection=i,this.selectionsAfter=s}setSelAfter(e){return new tr(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new tr(e.changes&&Ut.fromJSON(e.changes),[],e.mapped&&zi.fromJSON(e.mapped),e.startSelection&&ae.fromJSON(e.startSelection),e.selectionsAfter.map(ae.fromJSON))}static fromTransaction(e,t){let r=qr;for(let i of e.startState.facet(XF)){let s=i(e);s.length&&(r=r.concat(s))}return!r.length&&e.changes.empty?null:new tr(e.changes.invert(e.startState.doc),r,void 0,t||e.startState.selection,qr)}static selection(e){return new tr(void 0,qr,void 0,void 0,e)}}function Vp(n,e,t,r){let i=e+1>t+20?e-t-1:0,s=n.slice(i,e);return s.push(r),s}function YF(n,e){let t=[],r=!1;return n.iterChangedRanges((i,s)=>t.push(i,s)),e.iterChangedRanges((i,s,o,l)=>{for(let a=0;a<t.length;){let u=t[a++],h=t[a++];l>=u&&o<=h&&(r=!0)}}),r}function HF(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,r)=>t.empty!=e.ranges[r].empty).length===0}function mA(n,e){return n.length?e.length?n.concat(e):n:e}const qr=[],GF=200;function OA(n,e){if(n.length){let t=n[n.length-1],r=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-GF));return r.length&&r[r.length-1].eq(e)?n:(r.push(e),Vp(n,n.length-1,1e9,t.setSelAfter(r)))}else return[tr.selection([e])]}function UF(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function z0(n,e){if(!n.length)return n;let t=n.length,r=qr;for(;t;){let i=KF(n[t-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let s=n.slice(0,t);return s[t-1]=i,s}else e=i.mapped,t--,r=i.selectionsAfter}return r.length?[tr.selection(r)]:qr}function KF(n,e,t){let r=mA(n.selectionsAfter.length?n.selectionsAfter.map(l=>l.map(e)):qr,t);if(!n.changes)return tr.selection(r);let i=n.changes.map(e),s=e.mapDesc(n.changes,!0),o=n.mapped?n.mapped.composeDesc(s):s;return new tr(i,Xe.mapEffects(n.effects,e),o,n.startSelection.map(s),r)}const JF=/^(input\.type|delete)($|\.)/;class ji{constructor(e,t,r=0,i=void 0){this.done=e,this.undone=t,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new ji(this.done,this.undone):this}addChanges(e,t,r,i,s){let o=this.done,l=o[o.length-1];return l&&l.changes&&!l.changes.empty&&e.changes&&(!r||JF.test(r))&&(!l.selectionsAfter.length&&t-this.prevTime<i.newGroupDelay&&i.joinToEvent(s,YF(l.changes,e.changes))||r=="input.type.compose")?o=Vp(o,o.length-1,i.minDepth,new tr(e.changes.compose(l.changes),mA(Xe.mapEffects(e.effects,l.changes),l.effects),l.mapped,l.startSelection,qr)):o=Vp(o,o.length,i.minDepth,e),new ji(o,qr,t,r)}addSelection(e,t,r,i){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:qr;return s.length>0&&t-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&HF(s[s.length-1],e)?this:new ji(OA(this.done,e),this.undone,t,r)}addMapping(e){return new ji(z0(this.done,e),z0(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let s=i[i.length-1],o=s.selectionsAfter[0]||t.selection;if(r&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:Z1.of({side:e,rest:UF(i),selection:o}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let l=i.length==1?qr:i.slice(0,i.length-1);return s.mapped&&(l=z0(l,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:Z1.of({side:e,rest:l,selection:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}ji.empty=new ji(qr,qr);const eY=[{key:"Mod-z",run:gA,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:z1,preventDefault:!0},{linux:"Ctrl-Shift-z",run:z1,preventDefault:!0},{key:"Mod-u",run:WF,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:FF,preventDefault:!0}];function Ec(n,e){return ae.create(n.ranges.map(e),n.mainIndex)}function Ui(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Oi({state:n,dispatch:e},t){let r=Ec(n.selection,t);return r.eq(n.selection,!0)?!1:(e(Ui(n,r)),!0)}function Zg(n,e){return ae.cursor(e?n.to:n.from)}function bA(n,e){return Oi(n,t=>t.empty?n.moveByChar(t,e):Zg(t,e))}function En(n){return n.textDirectionAt(n.state.selection.main.head)==Et.LTR}const xA=n=>bA(n,!En(n)),vA=n=>bA(n,En(n));function yA(n,e){return Oi(n,t=>t.empty?n.moveByGroup(t,e):Zg(t,e))}const tY=n=>yA(n,!En(n)),nY=n=>yA(n,En(n));function rY(n,e,t){if(e.type.prop(t))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function zg(n,e,t){let r=qt(n).resolveInner(e.head),i=t?Ue.closedBy:Ue.openedBy;for(let a=e.head;;){let u=t?r.childAfter(a):r.childBefore(a);if(!u)break;rY(n,u,i)?r=u:a=t?u.to:u.from}let s=r.type.prop(i),o,l;return s&&(o=t?Ii(n,r.from,1):Ii(n,r.to,-1))&&o.matched?l=t?o.end.to:o.end.from:l=t?r.to:r.from,ae.cursor(l,t?-1:1)}const iY=n=>Oi(n,e=>zg(n.state,e,!En(n))),sY=n=>Oi(n,e=>zg(n.state,e,En(n)));function SA(n,e){return Oi(n,t=>{if(!t.empty)return Zg(t,e);let r=n.moveVertically(t,e);return r.head!=t.head?r:n.moveToLineBoundary(t,e)})}const wA=n=>SA(n,!1),kA=n=>SA(n,!0);function TA(n){let e=n.scrollDOM.clientHeight<n.scrollDOM.scrollHeight-2,t=0,r=0,i;if(e){for(let s of n.state.facet(ve.scrollMargins)){let o=s(n);o?.top&&(t=Math.max(o?.top,t)),o?.bottom&&(r=Math.max(o?.bottom,r))}i=n.scrollDOM.clientHeight-t-r}else i=(n.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:t,marginBottom:r,selfScroll:e,height:Math.max(n.defaultLineHeight,i-5)}}function CA(n,e){let t=TA(n),{state:r}=n,i=Ec(r.selection,o=>o.empty?n.moveVertically(o,e,t.height):Zg(o,e));if(i.eq(r.selection))return!1;let s;if(t.selfScroll){let o=n.coordsAtPos(r.selection.main.head),l=n.scrollDOM.getBoundingClientRect(),a=l.top+t.marginTop,u=l.bottom-t.marginBottom;o&&o.top>a&&o.bottom<u&&(s=ve.scrollIntoView(i.main.head,{y:"start",yMargin:o.top-a}))}return n.dispatch(Ui(r,i),{effects:s}),!0}const Lk=n=>CA(n,!1),q1=n=>CA(n,!0);function No(n,e,t){let r=n.lineBlockAt(e.head),i=n.moveToLineBoundary(e,t);if(i.head==e.head&&i.head!=(t?r.to:r.from)&&(i=n.moveToLineBoundary(e,t,!1)),!t&&i.head==r.from&&r.length){let s=/^\s*/.exec(n.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;s&&e.head!=r.from+s&&(i=ae.cursor(r.from+s))}return i}const oY=n=>Oi(n,e=>No(n,e,!0)),lY=n=>Oi(n,e=>No(n,e,!1)),aY=n=>Oi(n,e=>No(n,e,!En(n))),cY=n=>Oi(n,e=>No(n,e,En(n))),uY=n=>Oi(n,e=>ae.cursor(n.lineBlockAt(e.head).from,1)),hY=n=>Oi(n,e=>ae.cursor(n.lineBlockAt(e.head).to,-1));function fY(n,e,t){let r=!1,i=Ec(n.selection,s=>{let o=Ii(n,s.head,-1)||Ii(n,s.head,1)||s.head>0&&Ii(n,s.head-1,1)||s.head<n.doc.length&&Ii(n,s.head+1,-1);if(!o||!o.end)return s;r=!0;let l=o.start.from==s.head?o.end.to:o.end.from;return ae.cursor(l)});return r?(e(Ui(n,i)),!0):!1}const dY=({state:n,dispatch:e})=>fY(n,e);function Yr(n,e){let t=Ec(n.state.selection,r=>{let i=e(r);return ae.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return t.eq(n.state.selection)?!1:(n.dispatch(Ui(n.state,t)),!0)}function PA(n,e){return Yr(n,t=>n.moveByChar(t,e))}const QA=n=>PA(n,!En(n)),$A=n=>PA(n,En(n));function AA(n,e){return Yr(n,t=>n.moveByGroup(t,e))}const pY=n=>AA(n,!En(n)),gY=n=>AA(n,En(n)),mY=n=>Yr(n,e=>zg(n.state,e,!En(n))),OY=n=>Yr(n,e=>zg(n.state,e,En(n)));function RA(n,e){return Yr(n,t=>n.moveVertically(t,e))}const EA=n=>RA(n,!1),LA=n=>RA(n,!0);function _A(n,e){return Yr(n,t=>n.moveVertically(t,e,TA(n).height))}const _k=n=>_A(n,!1),Mk=n=>_A(n,!0),bY=n=>Yr(n,e=>No(n,e,!0)),xY=n=>Yr(n,e=>No(n,e,!1)),vY=n=>Yr(n,e=>No(n,e,!En(n))),yY=n=>Yr(n,e=>No(n,e,En(n))),SY=n=>Yr(n,e=>ae.cursor(n.lineBlockAt(e.head).from)),wY=n=>Yr(n,e=>ae.cursor(n.lineBlockAt(e.head).to)),Nk=({state:n,dispatch:e})=>(e(Ui(n,{anchor:0})),!0),Bk=({state:n,dispatch:e})=>(e(Ui(n,{anchor:n.doc.length})),!0),Ik=({state:n,dispatch:e})=>(e(Ui(n,{anchor:n.selection.main.anchor,head:0})),!0),jk=({state:n,dispatch:e})=>(e(Ui(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),kY=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),TY=({state:n,dispatch:e})=>{let t=qg(n).map(({from:r,to:i})=>ae.range(r,Math.min(i+1,n.doc.length)));return e(n.update({selection:ae.create(t),userEvent:"select"})),!0},CY=({state:n,dispatch:e})=>{let t=Ec(n.selection,r=>{let i=qt(n),s=i.resolveStack(r.from,1);if(r.empty){let o=i.resolveStack(r.from,-1);o.node.from>=s.node.from&&o.node.to<=s.node.to&&(s=o)}for(let o=s;o;o=o.next){let{node:l}=o;if((l.from<r.from&&l.to>=r.to||l.to>r.to&&l.from<=r.from)&&o.next)return ae.range(l.to,l.from)}return r});return t.eq(n.selection)?!1:(e(Ui(n,t)),!0)},PY=({state:n,dispatch:e})=>{let t=n.selection,r=null;return t.ranges.length>1?r=ae.create([t.main]):t.main.empty||(r=ae.create([ae.cursor(t.main.head)])),r?(e(Ui(n,r)),!0):!1};function tf(n,e){if(n.state.readOnly)return!1;let t="delete.selection",{state:r}=n,i=r.changeByRange(s=>{let{from:o,to:l}=s;if(o==l){let a=e(s);a<o?(t="delete.backward",a=_d(n,a,!1)):a>o&&(t="delete.forward",a=_d(n,a,!0)),o=Math.min(o,a),l=Math.max(l,a)}else o=_d(n,o,!1),l=_d(n,l,!0);return o==l?{range:s}:{changes:{from:o,to:l},range:ae.cursor(o,o<s.head?-1:1)}});return i.changes.empty?!1:(n.dispatch(r.update(i,{scrollIntoView:!0,userEvent:t,effects:t=="delete.selection"?ve.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function _d(n,e,t){if(n instanceof ve)for(let r of n.state.facet(ve.atomicRanges).map(i=>i(n)))r.between(e,e,(i,s)=>{i<e&&s>e&&(e=t?s:i)});return e}const MA=(n,e,t)=>tf(n,r=>{let i=r.from,{state:s}=n,o=s.doc.lineAt(i),l,a;if(t&&!e&&i>o.from&&i<o.from+200&&!/[^ \t]/.test(l=o.text.slice(0,i-o.from))){if(l[l.length-1]=="	")return i-1;let u=Ac(l,s.tabSize),h=u%zp(s)||zp(s);for(let d=0;d<h&&l[l.length-1-d]==" ";d++)i--;a=i}else a=On(o.text,i-o.from,e,e)+o.from,a==i&&o.number!=(e?s.doc.lines:1)?a+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(a-o.from,i-o.from))&&(a=On(o.text,a-o.from,!1,!1)+o.from);return a}),X1=n=>MA(n,!1,!0),NA=n=>MA(n,!0,!1),BA=(n,e)=>tf(n,t=>{let r=t.head,{state:i}=n,s=i.doc.lineAt(r),o=i.charCategorizer(r);for(let l=null;;){if(r==(e?s.to:s.from)){r==t.head&&s.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let a=On(s.text,r-s.from,e)+s.from,u=s.text.slice(Math.min(r,a)-s.from,Math.max(r,a)-s.from),h=o(u);if(l!=null&&h!=l)break;(u!=" "||r!=t.head)&&(l=h),r=a}return r}),IA=n=>BA(n,!1),QY=n=>BA(n,!0),$Y=n=>tf(n,e=>{let t=n.lineBlockAt(e.head).to;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),AY=n=>tf(n,e=>{let t=n.moveToLineBoundary(e,!1).head;return e.head>t?t:Math.max(0,e.head-1)}),RY=n=>tf(n,e=>{let t=n.moveToLineBoundary(e,!0).head;return e.head<t?t:Math.min(n.state.doc.length,e.head+1)}),EY=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:ht.of(["",""])},range:ae.cursor(r.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},LY=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(r=>{if(!r.empty||r.from==0||r.from==n.doc.length)return{range:r};let i=r.from,s=n.doc.lineAt(i),o=i==s.from?i-1:On(s.text,i-s.from,!1)+s.from,l=i==s.to?i+1:On(s.text,i-s.from,!0)+s.from;return{changes:{from:o,to:l,insert:n.doc.slice(i,l).append(n.doc.slice(o,i))},range:ae.cursor(l)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function qg(n){let e=[],t=-1;for(let r of n.selection.ranges){let i=n.doc.lineAt(r.from),s=n.doc.lineAt(r.to);if(!r.empty&&r.to==s.from&&(s=n.doc.lineAt(r.to-1)),t>=i.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(r)}else e.push({from:i.from,to:s.to,ranges:[r]});t=s.number+1}return e}function jA(n,e,t){if(n.readOnly)return!1;let r=[],i=[];for(let s of qg(n)){if(t?s.to==n.doc.length:s.from==0)continue;let o=n.doc.lineAt(t?s.to+1:s.from-1),l=o.length+1;if(t){r.push({from:s.to,to:o.to},{from:s.from,insert:o.text+n.lineBreak});for(let a of s.ranges)i.push(ae.range(Math.min(n.doc.length,a.anchor+l),Math.min(n.doc.length,a.head+l)))}else{r.push({from:o.from,to:s.from},{from:s.to,insert:n.lineBreak+o.text});for(let a of s.ranges)i.push(ae.range(a.anchor-l,a.head-l))}}return r.length?(e(n.update({changes:r,scrollIntoView:!0,selection:ae.create(i,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const _Y=({state:n,dispatch:e})=>jA(n,e,!1),MY=({state:n,dispatch:e})=>jA(n,e,!0);function DA(n,e,t){if(n.readOnly)return!1;let r=[];for(let i of qg(n))t?r.push({from:i.from,insert:n.doc.slice(i.from,i.to)+n.lineBreak}):r.push({from:i.to,insert:n.lineBreak+n.doc.slice(i.from,i.to)});return e(n.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const NY=({state:n,dispatch:e})=>DA(n,e,!1),BY=({state:n,dispatch:e})=>DA(n,e,!0),IY=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(qg(e).map(({from:i,to:s})=>(i>0?i--:s<e.doc.length&&s++,{from:i,to:s}))),r=Ec(e.selection,i=>{let s;if(n.lineWrapping){let o=n.lineBlockAt(i.head),l=n.coordsAtPos(i.head,i.assoc||1);l&&(s=o.bottom+n.documentTop-l.bottom+n.defaultLineHeight/2)}return n.moveVertically(i,!0,s)}).map(t);return n.dispatch({changes:t,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function jY(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=qt(n).resolveInner(e),r=t.childBefore(e),i=t.childAfter(e),s;return r&&i&&r.to<=e&&i.from>=e&&(s=r.type.prop(Ue.closedBy))&&s.indexOf(i.name)>-1&&n.doc.lineAt(r.to).from==n.doc.lineAt(i.from).from&&!/\S/.test(n.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const Dk=ZA(!1),DY=ZA(!0);function ZA(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:s,to:o}=i,l=e.doc.lineAt(s),a=!n&&s==o&&jY(e,s);n&&(s=o=(o<=l.to?l:e.doc.lineAt(o)).to);let u=new Ig(e,{simulateBreak:s,simulateDoubleBreak:!!a}),h=Ox(u,s);for(h==null&&(h=Ac(/^\s*/.exec(e.doc.lineAt(s).text)[0],e.tabSize));o<l.to&&/\s/.test(l.text[o-l.from]);)o++;a?{from:s,to:o}=a:s>l.from&&s<l.from+100&&!/\S/.test(l.text.slice(0,s))&&(s=l.from);let d=["",kh(e,h)];return a&&d.push(kh(e,u.lineIndent(l.from,-1))),{changes:{from:s,to:o,insert:ht.of(d)},range:ae.cursor(s+1+d[1].length)}});return t(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function wx(n,e){let t=-1;return n.changeByRange(r=>{let i=[];for(let o=r.from;o<=r.to;){let l=n.doc.lineAt(o);l.number>t&&(r.empty||r.to>l.from)&&(e(l,i,r),t=l.number),o=l.to+1}let s=n.changes(i);return{changes:i,range:ae.range(s.mapPos(r.anchor,1),s.mapPos(r.head,1))}})}const ZY=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),r=new Ig(n,{overrideIndentation:s=>{let o=t[s];return o??-1}}),i=wx(n,(s,o,l)=>{let a=Ox(r,s.from);if(a==null)return;/\S/.test(s.text)||(a=0);let u=/^\s*/.exec(s.text)[0],h=kh(n,a);(u!=h||l.from<s.from+u.length)&&(t[s.from]=a,o.push({from:s.from,to:s.from+u.length,insert:h}))});return i.changes.empty||e(n.update(i,{userEvent:"indent"})),!0},zA=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(wx(n,(t,r)=>{r.push({from:t.from,insert:n.facet(Bg)})}),{userEvent:"input.indent"})),!0),qA=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(wx(n,(t,r)=>{let i=/^\s*/.exec(t.text)[0];if(!i)return;let s=Ac(i,n.tabSize),o=0,l=kh(n,Math.max(0,s-zp(n)));for(;o<i.length&&o<l.length&&i.charCodeAt(o)==l.charCodeAt(o);)o++;r.push({from:t.from+o,to:t.from+i.length,insert:l.slice(o)})}),{userEvent:"delete.dedent"})),!0),zY=n=>(n.setTabFocusMode(),!0),qY=[{key:"Ctrl-b",run:xA,shift:QA,preventDefault:!0},{key:"Ctrl-f",run:vA,shift:$A},{key:"Ctrl-p",run:wA,shift:EA},{key:"Ctrl-n",run:kA,shift:LA},{key:"Ctrl-a",run:uY,shift:SY},{key:"Ctrl-e",run:hY,shift:wY},{key:"Ctrl-d",run:NA},{key:"Ctrl-h",run:X1},{key:"Ctrl-k",run:$Y},{key:"Ctrl-Alt-h",run:IA},{key:"Ctrl-o",run:EY},{key:"Ctrl-t",run:LY},{key:"Ctrl-v",run:q1}],XY=[{key:"ArrowLeft",run:xA,shift:QA,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:tY,shift:pY,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:aY,shift:vY,preventDefault:!0},{key:"ArrowRight",run:vA,shift:$A,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:nY,shift:gY,preventDefault:!0},{mac:"Cmd-ArrowRight",run:cY,shift:yY,preventDefault:!0},{key:"ArrowUp",run:wA,shift:EA,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Nk,shift:Ik},{mac:"Ctrl-ArrowUp",run:Lk,shift:_k},{key:"ArrowDown",run:kA,shift:LA,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Bk,shift:jk},{mac:"Ctrl-ArrowDown",run:q1,shift:Mk},{key:"PageUp",run:Lk,shift:_k},{key:"PageDown",run:q1,shift:Mk},{key:"Home",run:lY,shift:xY,preventDefault:!0},{key:"Mod-Home",run:Nk,shift:Ik},{key:"End",run:oY,shift:bY,preventDefault:!0},{key:"Mod-End",run:Bk,shift:jk},{key:"Enter",run:Dk,shift:Dk},{key:"Mod-a",run:kY},{key:"Backspace",run:X1,shift:X1},{key:"Delete",run:NA},{key:"Mod-Backspace",mac:"Alt-Backspace",run:IA},{key:"Mod-Delete",mac:"Alt-Delete",run:QY},{mac:"Mod-Backspace",run:AY},{mac:"Mod-Delete",run:RY}].concat(qY.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),VY=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:iY,shift:mY},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:sY,shift:OY},{key:"Alt-ArrowUp",run:_Y},{key:"Shift-Alt-ArrowUp",run:NY},{key:"Alt-ArrowDown",run:MY},{key:"Shift-Alt-ArrowDown",run:BY},{key:"Escape",run:PY},{key:"Mod-Enter",run:DY},{key:"Alt-l",mac:"Ctrl-l",run:TY},{key:"Mod-i",run:CY,preventDefault:!0},{key:"Mod-[",run:qA},{key:"Mod-]",run:zA},{key:"Mod-Alt-\\",run:ZY},{key:"Shift-Mod-k",run:IY},{key:"Shift-Mod-\\",run:dY},{key:"Mod-/",run:NF},{key:"Alt-A",run:IF},{key:"Ctrl-m",mac:"Shift-Alt-m",run:zY}].concat(XY),WY={key:"Tab",run:zA,shift:qA},Zk=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class xc{constructor(e,t,r=0,i=e.length,s,o){this.test=o,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=s?l=>s(Zk(l)):Zk,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Gn(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=Ub(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=_i(e);let i=this.normalize(t);if(i.length)for(let s=0,o=r;;s++){let l=i.charCodeAt(s),a=this.match(l,o,this.bufferPos+this.bufferStart);if(s==i.length-1){if(a)return this.value=a,this;break}o==r&&s<t.length&&t.charCodeAt(s)==l&&o++}}}match(e,t,r){let i=null;for(let s=0;s<this.matches.length;s+=2){let o=this.matches[s],l=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?i={from:this.matches[s+1],to:r}:(this.matches[s]++,l=!0)),l||(this.matches.splice(s,2),s-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:r}:this.matches.push(1,t)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(xc.prototype[Symbol.iterator]=function(){return this});const XA={from:-1,to:-1,match:/.*/.exec("")},kx="gm"+(/x/.unicode==null?"":"u");class VA{constructor(e,t,r,i=0,s=e.length){if(this.text=e,this.to=s,this.curLine="",this.done=!1,this.value=XA,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new WA(e,t,r,i,s);this.re=new RegExp(t,kx+(r?.ignoreCase?"i":"")),this.test=r?.test,this.iter=e.iter();let o=e.lineAt(i);this.curLineStart=o.from,this.matchPos=Wp(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let r=this.curLineStart+t.index,i=r+t[0].length;if(this.matchPos=Wp(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const q0=new WeakMap;class oc{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,r){let i=q0.get(e);if(!i||i.from>=r||i.to<=t){let l=new oc(t,e.sliceString(t,r));return q0.set(e,l),l}if(i.from==t&&i.to==r)return i;let{text:s,from:o}=i;return o>t&&(s=e.sliceString(t,o)+s,o=t),i.to<r&&(s+=e.sliceString(i.to,r)),q0.set(e,new oc(o,s)),new oc(t,s.slice(t-o,r-o))}}class WA{constructor(e,t,r,i,s){this.text=e,this.to=s,this.done=!1,this.value=XA,this.matchPos=Wp(e,i),this.re=new RegExp(t,kx+(r?.ignoreCase?"i":"")),this.test=r?.test,this.flat=oc.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t){let r=this.flat.from+t.index,i=r+t[0].length;if((this.flat.to>=this.to||t.index+t[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,t)))return this.value={from:r,to:i,match:t},this.matchPos=Wp(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=oc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(VA.prototype[Symbol.iterator]=WA.prototype[Symbol.iterator]=function(){return this});function FY(n){try{return new RegExp(n,kx),!0}catch{return!1}}function Wp(n,e){if(e>=n.length)return e;let t=n.lineAt(e),r;for(;e<t.to&&(r=t.text.charCodeAt(e-t.from))>=56320&&r<57344;)e++;return e}function V1(n){let e=String(n.state.doc.lineAt(n.state.selection.main.head).number),t=kt("input",{class:"cm-textfield",name:"line",value:e}),r=kt("form",{class:"cm-gotoLine",onkeydown:s=>{s.keyCode==27?(s.preventDefault(),n.dispatch({effects:rh.of(!1)}),n.focus()):s.keyCode==13&&(s.preventDefault(),i())},onsubmit:s=>{s.preventDefault(),i()}},kt("label",n.state.phrase("Go to line"),": ",t)," ",kt("button",{class:"cm-button",type:"submit"},n.state.phrase("go")),kt("button",{name:"close",onclick:()=>{n.dispatch({effects:rh.of(!1)}),n.focus()},"aria-label":n.state.phrase("close"),type:"button"},[""]));function i(){let s=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(t.value);if(!s)return;let{state:o}=n,l=o.doc.lineAt(o.selection.main.head),[,a,u,h,d]=s,p=h?+h.slice(1):0,g=u?+u:l.number;if(u&&d){let v=g/100;a&&(v=v*(a=="-"?-1:1)+l.number/o.doc.lines),g=Math.round(o.doc.lines*v)}else u&&a&&(g=g*(a=="-"?-1:1)+l.number);let b=o.doc.line(Math.max(1,Math.min(o.doc.lines,g))),x=ae.cursor(b.from+Math.max(0,Math.min(p,b.length)));n.dispatch({effects:[rh.of(!1),ve.scrollIntoView(x.from,{y:"center"})],selection:x}),n.focus()}return{dom:r}}const rh=Xe.define(),zk=cn.define({create(){return!0},update(n,e){for(let t of e.effects)t.is(rh)&&(n=t.value);return n},provide:n=>yh.from(n,e=>e?V1:null)}),YY=n=>{let e=vh(n,V1);if(!e){let t=[rh.of(!0)];n.state.field(zk,!1)==null&&t.push(Xe.appendConfig.of([zk,HY])),n.dispatch({effects:t}),e=vh(n,V1)}return e&&e.dom.querySelector("input").select(),!0},HY=ve.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),GY={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},UY=Ce.define({combine(n){return Hi(n,GY,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function KY(n){return[rH,nH]}const JY=Me.mark({class:"cm-selectionMatch"}),eH=Me.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function qk(n,e,t,r){return(t==0||n(e.sliceDoc(t-1,t))!=Nt.Word)&&(r==e.doc.length||n(e.sliceDoc(r,r+1))!=Nt.Word)}function tH(n,e,t,r){return n(e.sliceDoc(t,t+1))==Nt.Word&&n(e.sliceDoc(r-1,r))==Nt.Word}const nH=Yt.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(UY),{state:t}=n,r=t.selection;if(r.ranges.length>1)return Me.none;let i=r.main,s,o=null;if(i.empty){if(!e.highlightWordAroundCursor)return Me.none;let a=t.wordAt(i.head);if(!a)return Me.none;o=t.charCategorizer(i.head),s=t.sliceDoc(a.from,a.to)}else{let a=i.to-i.from;if(a<e.minSelectionLength||a>200)return Me.none;if(e.wholeWords){if(s=t.sliceDoc(i.from,i.to),o=t.charCategorizer(i.head),!(qk(o,t,i.from,i.to)&&tH(o,t,i.from,i.to)))return Me.none}else if(s=t.sliceDoc(i.from,i.to),!s)return Me.none}let l=[];for(let a of n.visibleRanges){let u=new xc(t.doc,s,a.from,a.to);for(;!u.next().done;){let{from:h,to:d}=u.value;if((!o||qk(o,t,h,d))&&(i.empty&&h<=i.from&&d>=i.to?l.push(eH.range(h,d)):(h>=i.to||d<=i.from)&&l.push(JY.range(h,d)),l.length>e.maxMatches))return Me.none}}return Me.set(l)}},{decorations:n=>n.decorations}),rH=ve.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),iH=({state:n,dispatch:e})=>{let{selection:t}=n,r=ae.create(t.ranges.map(i=>n.wordAt(i.head)||ae.cursor(i.head)),t.mainIndex);return r.eq(t)?!1:(e(n.update({selection:r})),!0)};function sH(n,e){let{main:t,ranges:r}=n.selection,i=n.wordAt(t.head),s=i&&i.from==t.from&&i.to==t.to;for(let o=!1,l=new xc(n.doc,e,r[r.length-1].to);;)if(l.next(),l.done){if(o)return null;l=new xc(n.doc,e,0,Math.max(0,r[r.length-1].from-1)),o=!0}else{if(o&&r.some(a=>a.from==l.value.from))continue;if(s){let a=n.wordAt(l.value.from);if(!a||a.from!=l.value.from||a.to!=l.value.to)continue}return l.value}}const oH=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(s=>s.from===s.to))return iH({state:n,dispatch:e});let r=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(s=>n.sliceDoc(s.from,s.to)!=r))return!1;let i=sH(n,r);return i?(e(n.update({selection:n.selection.addRange(ae.range(i.from,i.to),!1),effects:ve.scrollIntoView(i.to)})),!0):!1},Lc=Ce.define({combine(n){return Hi(n,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new bH(e),scrollToMatch:e=>ve.scrollIntoView(e)})}});class FA{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||FY(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(t,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new uH(this):new aH(this)}getCursor(e,t=0,r){let i=e.doc?e:at.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?Za(this,i,t,r):Da(this,i,t,r)}}class YA{constructor(e){this.spec=e}}function Da(n,e,t,r){return new xc(e.doc,n.unquoted,t,r,n.caseSensitive?void 0:i=>i.toLowerCase(),n.wholeWord?lH(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function lH(n,e){return(t,r,i,s)=>((s>t||s+i.length<r)&&(s=Math.max(0,t-2),i=n.sliceString(s,Math.min(n.length,r+2))),(e(Fp(i,t-s))!=Nt.Word||e(Yp(i,t-s))!=Nt.Word)&&(e(Yp(i,r-s))!=Nt.Word||e(Fp(i,r-s))!=Nt.Word))}class aH extends YA{constructor(e){super(e)}nextMatch(e,t,r){let i=Da(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let s=Math.min(e.doc.length,t+this.spec.unquoted.length);i=Da(this.spec,e,0,s).nextOverlapping()}return i.done||i.value.from==t&&i.value.to==r?null:i.value}prevMatchInRange(e,t,r){for(let i=r;;){let s=Math.max(t,i-1e4-this.spec.unquoted.length),o=Da(this.spec,e,s,i),l=null;for(;!o.nextOverlapping().done;)l=o.value;if(l)return l;if(s==t)return null;i-=1e4}}prevMatch(e,t,r){let i=this.prevMatchInRange(e,0,t);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=t||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,t){let r=Da(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let s=Da(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}function Za(n,e,t,r){return new VA(e.doc,n.search,{ignoreCase:!n.caseSensitive,test:n.wholeWord?cH(e.charCategorizer(e.selection.main.head)):void 0},t,r)}function Fp(n,e){return n.slice(On(n,e,!1),e)}function Yp(n,e){return n.slice(e,On(n,e))}function cH(n){return(e,t,r)=>!r[0].length||(n(Fp(r.input,r.index))!=Nt.Word||n(Yp(r.input,r.index))!=Nt.Word)&&(n(Yp(r.input,r.index+r[0].length))!=Nt.Word||n(Fp(r.input,r.index+r[0].length))!=Nt.Word)}class uH extends YA{nextMatch(e,t,r){let i=Za(this.spec,e,r,e.doc.length).next();return i.done&&(i=Za(this.spec,e,0,t).next()),i.done?null:i.value}prevMatchInRange(e,t,r){for(let i=1;;i++){let s=Math.max(t,r-i*1e4),o=Za(this.spec,e,s,r),l=null;for(;!o.next().done;)l=o.value;if(l&&(s==t||l.from>s+10))return l;if(s==t)return null}}prevMatch(e,t,r){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(t,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let s=+r.slice(0,i);if(s>0&&s<e.match.length)return e.match[s]+r.slice(i)}return t})}matchAll(e,t){let r=Za(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=t)return null;i.push(r.value)}return i}highlight(e,t,r,i){let s=Za(this.spec,e,Math.max(0,t-250),Math.min(r+250,e.doc.length));for(;!s.next().done;)i(s.value.from,s.value.to)}}const Th=Xe.define(),Tx=Xe.define(),wo=cn.define({create(n){return new X0(W1(n).create(),null)},update(n,e){for(let t of e.effects)t.is(Th)?n=new X0(t.value.create(),n.panel):t.is(Tx)&&(n=new X0(n.query,t.value?Cx:null));return n},provide:n=>yh.from(n,e=>e.panel)});class X0{constructor(e,t){this.query=e,this.panel=t}}const hH=Me.mark({class:"cm-searchMatch"}),fH=Me.mark({class:"cm-searchMatch cm-searchMatch-selected"}),dH=Yt.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(wo))}update(n){let e=n.state.field(wo);(e!=n.startState.field(wo)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return Me.none;let{view:t}=this,r=new Rs;for(let i=0,s=t.visibleRanges,o=s.length;i<o;i++){let{from:l,to:a}=s[i];for(;i<o-1&&a>s[i+1].from-2*250;)a=s[++i].to;n.highlight(t.state,l,a,(u,h)=>{let d=t.state.selection.ranges.some(p=>p.from==u&&p.to==h);r.add(u,h,d?fH:hH)})}return r.finish()}},{decorations:n=>n.decorations});function nf(n){return e=>{let t=e.state.field(wo,!1);return t&&t.query.spec.valid?n(e,t):UA(e)}}const Hp=nf((n,{query:e})=>{let{to:t}=n.state.selection.main,r=e.nextMatch(n.state,t,t);if(!r)return!1;let i=ae.single(r.from,r.to),s=n.state.facet(Lc);return n.dispatch({selection:i,effects:[Px(n,r),s.scrollToMatch(i.main,n)],userEvent:"select.search"}),GA(n),!0}),Gp=nf((n,{query:e})=>{let{state:t}=n,{from:r}=t.selection.main,i=e.prevMatch(t,r,r);if(!i)return!1;let s=ae.single(i.from,i.to),o=n.state.facet(Lc);return n.dispatch({selection:s,effects:[Px(n,i),o.scrollToMatch(s.main,n)],userEvent:"select.search"}),GA(n),!0}),pH=nf((n,{query:e})=>{let t=e.matchAll(n.state,1e3);return!t||!t.length?!1:(n.dispatch({selection:ae.create(t.map(r=>ae.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),gH=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:r,to:i}=t.main,s=[],o=0;for(let l=new xc(n.doc,n.sliceDoc(r,i));!l.next().done;){if(s.length>1e3)return!1;l.value.from==r&&(o=s.length),s.push(ae.range(l.value.from,l.value.to))}return e(n.update({selection:ae.create(s,o),userEvent:"select.search.matches"})),!0},Xk=nf((n,{query:e})=>{let{state:t}=n,{from:r,to:i}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t,r,r);if(!s)return!1;let o=s,l=[],a,u,h=[];o.from==r&&o.to==i&&(u=t.toText(e.getReplacement(o)),l.push({from:o.from,to:o.to,insert:u}),o=e.nextMatch(t,o.from,o.to),h.push(ve.announce.of(t.phrase("replaced match on line $",t.doc.lineAt(r).number)+".")));let d=n.state.changes(l);return o&&(a=ae.single(o.from,o.to).map(d),h.push(Px(n,o)),h.push(t.facet(Lc).scrollToMatch(a.main,n))),n.dispatch({changes:d,selection:a,effects:h,userEvent:"input.replace"}),!0}),mH=nf((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state,1e9).map(i=>{let{from:s,to:o}=i;return{from:s,to:o,insert:e.getReplacement(i)}});if(!t.length)return!1;let r=n.state.phrase("replaced $ matches",t.length)+".";return n.dispatch({changes:t,effects:ve.announce.of(r),userEvent:"input.replace.all"}),!0});function Cx(n){return n.state.facet(Lc).createPanel(n)}function W1(n,e){var t,r,i,s,o;let l=n.selection.main,a=l.empty||l.to>l.from+100?"":n.sliceDoc(l.from,l.to);if(e&&!a)return e;let u=n.facet(Lc);return new FA({search:((t=e?.literal)!==null&&t!==void 0?t:u.literal)?a:a.replace(/\n/g,"\\n"),caseSensitive:(r=e?.caseSensitive)!==null&&r!==void 0?r:u.caseSensitive,literal:(i=e?.literal)!==null&&i!==void 0?i:u.literal,regexp:(s=e?.regexp)!==null&&s!==void 0?s:u.regexp,wholeWord:(o=e?.wholeWord)!==null&&o!==void 0?o:u.wholeWord})}function HA(n){let e=vh(n,Cx);return e&&e.dom.querySelector("[main-field]")}function GA(n){let e=HA(n);e&&e==n.root.activeElement&&e.select()}const UA=n=>{let e=n.state.field(wo,!1);if(e&&e.panel){let t=HA(n);if(t&&t!=n.root.activeElement){let r=W1(n.state,e.query.spec);r.valid&&n.dispatch({effects:Th.of(r)}),t.focus(),t.select()}}else n.dispatch({effects:[Tx.of(!0),e?Th.of(W1(n.state,e.query.spec)):Xe.appendConfig.of(vH)]});return!0},KA=n=>{let e=n.state.field(wo,!1);if(!e||!e.panel)return!1;let t=vh(n,Cx);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:Tx.of(!1)}),!0},OH=[{key:"Mod-f",run:UA,scope:"editor search-panel"},{key:"F3",run:Hp,shift:Gp,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Hp,shift:Gp,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:KA,scope:"editor search-panel"},{key:"Mod-Shift-l",run:gH},{key:"Mod-Alt-g",run:YY},{key:"Mod-d",run:oH,preventDefault:!0}];class bH{constructor(e){this.view=e;let t=this.query=e.state.field(wo).query.spec;this.commit=this.commit.bind(this),this.searchField=kt("input",{value:t.search,placeholder:fr(e,"Find"),"aria-label":fr(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=kt("input",{value:t.replace,placeholder:fr(e,"Replace"),"aria-label":fr(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=kt("input",{type:"checkbox",name:"case",form:"",checked:t.caseSensitive,onchange:this.commit}),this.reField=kt("input",{type:"checkbox",name:"re",form:"",checked:t.regexp,onchange:this.commit}),this.wordField=kt("input",{type:"checkbox",name:"word",form:"",checked:t.wholeWord,onchange:this.commit});function r(i,s,o){return kt("button",{class:"cm-button",name:i,onclick:s,type:"button"},o)}this.dom=kt("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>Hp(e),[fr(e,"next")]),r("prev",()=>Gp(e),[fr(e,"previous")]),r("select",()=>pH(e),[fr(e,"all")]),kt("label",null,[this.caseField,fr(e,"match case")]),kt("label",null,[this.reField,fr(e,"regexp")]),kt("label",null,[this.wordField,fr(e,"by word")]),...e.state.readOnly?[]:[kt("br"),this.replaceField,r("replace",()=>Xk(e),[fr(e,"replace")]),r("replaceAll",()=>mH(e),[fr(e,"replace all")])],kt("button",{name:"close",onclick:()=>KA(e),"aria-label":fr(e,"close"),type:"button"},[""])])}commit(){let e=new FA({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:Th.of(e)}))}keydown(e){kV(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Gp:Hp)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),Xk(this.view))}update(e){for(let t of e.transactions)for(let r of t.effects)r.is(Th)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Lc).top}}function fr(n,e){return n.state.phrase(e)}const Md=30,Nd=/[\s\.,:;?!]/;function Px(n,{from:e,to:t}){let r=n.state.doc.lineAt(e),i=n.state.doc.lineAt(t).to,s=Math.max(r.from,e-Md),o=Math.min(i,t+Md),l=n.state.sliceDoc(s,o);if(s!=r.from){for(let a=0;a<Md;a++)if(!Nd.test(l[a+1])&&Nd.test(l[a])){l=l.slice(a);break}}if(o!=i){for(let a=l.length-1;a>l.length-Md;a--)if(!Nd.test(l[a-1])&&Nd.test(l[a])){l=l.slice(0,a);break}}return ve.announce.of(`${n.state.phrase("current match")}. ${l} ${n.state.phrase("on line")} ${r.number}.`)}const xH=ve.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),vH=[wo,Mo.low(dH),xH];class JA{constructor(e,t,r,i){this.state=e,this.pos=t,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let t=qt(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),r=Math.max(t.from,this.pos-250),i=t.text.slice(r-t.from,this.pos-t.from),s=i.search(tR(e,!1));return s<0?null:{from:r+s,to:this.pos,text:i.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(t),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function Vk(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function yH(n){let e=Object.create(null),t=Object.create(null);for(let{label:i}of n){e[i[0]]=!0;for(let s=1;s<i.length;s++)t[i[s]]=!0}let r=Vk(e)+Vk(t)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function eR(n){let e=n.map(i=>typeof i=="string"?{label:i}:i),[t,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:yH(e);return i=>{let s=i.matchBefore(r);return s||i.explicit?{from:s?s.from:i.pos,options:e,validFor:t}:null}}function SH(n,e){return t=>{for(let r=qt(t.state).resolveInner(t.pos,-1);r;r=r.parent){if(n.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(t)}}class Wk{constructor(e,t,r,i){this.completion=e,this.source=t,this.match=r,this.score=i}}function Sl(n){return n.selection.main.from}function tR(n,e){var t;let{source:r}=n,i=e&&r[0]!="^",s=r[r.length-1]!="$";return!i&&!s?n:new RegExp(`${i?"^":""}(?:${r})${s?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}const Qx=Ns.define();function wH(n,e,t,r){let{main:i}=n.selection,s=t-i.from,o=r-i.from;return{...n.changeByRange(l=>{if(l!=i&&t!=r&&n.sliceDoc(l.from+s,l.from+o)!=n.sliceDoc(t,r))return{range:l};let a=n.toText(e);return{changes:{from:l.from+s,to:r==i.from?l.to:l.from+o,insert:a},range:ae.cursor(l.from+s+a.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const Fk=new WeakMap;function kH(n){if(!Array.isArray(n))return n;let e=Fk.get(n);return e||Fk.set(n,e=eR(n)),e}const Up=Xe.define(),Ch=Xe.define();class TH{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let t=0;t<e.length;){let r=Gn(e,t),i=_i(r);this.chars.push(r);let s=e.slice(t,t+i),o=s.toUpperCase();this.folded.push(Gn(o==s?s.toLowerCase():o,0)),t+=i}this.astral=e.length!=this.chars.length}ret(e,t){return this.score=e,this.matched=t,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:t,folded:r,any:i,precise:s,byWord:o}=this;if(t.length==1){let k=Gn(e,0),$=_i(k),B=$==e.length?0:-100;if(k!=t[0])if(k==r[0])B+=-200;else return null;return this.ret(B,[0,$])}let l=e.indexOf(this.pattern);if(l==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let a=t.length,u=0;if(l<0){for(let k=0,$=Math.min(e.length,200);k<$&&u<a;){let B=Gn(e,k);(B==t[u]||B==r[u])&&(i[u++]=k),k+=_i(B)}if(u<a)return null}let h=0,d=0,p=!1,g=0,b=-1,x=-1,v=/[a-z]/.test(e),w=!0;for(let k=0,$=Math.min(e.length,200),B=0;k<$&&d<a;){let N=Gn(e,k);l<0&&(h<a&&N==t[h]&&(s[h++]=k),g<a&&(N==t[g]||N==r[g]?(g==0&&(b=k),x=k+1,g++):g=0));let z,Z=N<255?N>=48&&N<=57||N>=97&&N<=122?2:N>=65&&N<=90?1:0:(z=Ub(N))!=z.toLowerCase()?1:z!=z.toUpperCase()?2:0;(!k||Z==1&&v||B==0&&Z!=0)&&(t[d]==N||r[d]==N&&(p=!0)?o[d++]=k:o.length&&(w=!1)),B=Z,k+=_i(N)}return d==a&&o[0]==0&&w?this.result(-100+(p?-200:0),o,e):g==a&&b==0?this.ret(-200-e.length+(x==e.length?0:-100),[0,x]):l>-1?this.ret(-700-e.length,[l,l+this.pattern.length]):g==a?this.ret(-900-e.length,[b,x]):d==a?this.result(-100+(p?-200:0)+-700+(w?0:-1100),o,e):t.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,t,r){let i=[],s=0;for(let o of t){let l=o+(this.astral?_i(Gn(r,o)):1);s&&i[s-1]==o?i[s-1]=l:(i[s++]=o,i[s++]=l)}return this.ret(e-r.length,i)}}class CH{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let t=e.slice(0,this.pattern.length),r=t==this.pattern?0:t.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,t.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const ln=Ce.define({combine(n){return Hi(n,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:PH,filterStrict:!1,compareCompletions:(e,t)=>e.label.localeCompare(t.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,tooltipClass:(e,t)=>r=>Yk(e(r),t(r)),optionClass:(e,t)=>r=>Yk(e(r),t(r)),addToOptions:(e,t)=>e.concat(t),filterStrict:(e,t)=>e||t})}});function Yk(n,e){return n?e?n+" "+e:n:e}function PH(n,e,t,r,i,s){let o=n.textDirection==Et.RTL,l=o,a=!1,u="top",h,d,p=e.left-i.left,g=i.right-e.right,b=r.right-r.left,x=r.bottom-r.top;if(l&&p<Math.min(b,g)?l=!1:!l&&g<Math.min(b,p)&&(l=!0),b<=(l?p:g))h=Math.max(i.top,Math.min(t.top,i.bottom-x))-e.top,d=Math.min(400,l?p:g);else{a=!0,d=Math.min(400,(o?e.right:i.right-e.left)-30);let k=i.bottom-e.bottom;k>=x||k>e.top?h=t.bottom-e.top:(u="bottom",h=e.bottom-t.top)}let v=(e.bottom-e.top)/s.offsetHeight,w=(e.right-e.left)/s.offsetWidth;return{style:`${u}: ${h/v}px; max-width: ${d/w}px`,class:"cm-completionInfo-"+(a?o?"left-narrow":"right-narrow":l?"left":"right")}}function QH(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),t.type&&r.classList.add(...t.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(t,r,i,s){let o=document.createElement("span");o.className="cm-completionLabel";let l=t.displayLabel||t.label,a=0;for(let u=0;u<s.length;){let h=s[u++],d=s[u++];h>a&&o.appendChild(document.createTextNode(l.slice(a,h)));let p=o.appendChild(document.createElement("span"));p.appendChild(document.createTextNode(l.slice(h,d))),p.className="cm-completionMatchedText",a=d}return a<l.length&&o.appendChild(document.createTextNode(l.slice(a))),o},position:50},{render(t){if(!t.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=t.detail,r},position:80}),e.sort((t,r)=>t.position-r.position).map(t=>t.render)}function V0(n,e,t){if(n<=t)return{from:0,to:n};if(e<0&&(e=0),e<=n>>1){let i=Math.floor(e/t);return{from:i*t,to:(i+1)*t}}let r=Math.floor((n-e)/t);return{from:n-(r+1)*t,to:n-r*t}}class $H{constructor(e,t,r){this.view=e,this.stateField=t,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:a=>this.placeInfo(a),key:this},this.space=null,this.currentClass="";let i=e.state.field(t),{options:s,selected:o}=i.open,l=e.state.facet(ln);this.optionContent=QH(l),this.optionClass=l.optionClass,this.tooltipClass=l.tooltipClass,this.range=V0(s.length,o,l.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",a=>{let{options:u}=e.state.field(t).open;for(let h=a.target,d;h&&h!=this.dom;h=h.parentNode)if(h.nodeName=="LI"&&(d=/-(\d+)$/.exec(h.id))&&+d[1]<u.length){this.applyCompletion(e,u[+d[1]]),a.preventDefault();return}}),this.dom.addEventListener("focusout",a=>{let u=e.state.field(this.stateField,!1);u&&u.tooltip&&e.state.facet(ln).closeOnBlur&&a.relatedTarget!=e.contentDOM&&e.dispatch({effects:Ch.of(null)})}),this.showOptions(s,i.id)}mount(){this.updateSel()}showOptions(e,t){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,t,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var t;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:s,selected:o,disabled:l}=r.open;(!i.open||i.open.options!=s)&&(this.range=V0(s.length,o,e.state.facet(ln).maxRenderedOptions),this.showOptions(s,r.id)),this.updateSel(),l!=((t=i.open)===null||t===void 0?void 0:t.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!l)}}updateTooltipClass(e){let t=this.tooltipClass(e);if(t!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of t.split(" "))r&&this.dom.classList.add(r);this.currentClass=t}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected>-1&&t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=V0(t.options.length,t.selected,this.view.state.facet(ln).maxRenderedOptions),this.showOptions(t.options,e.id)),this.updateSelectedOption(t.selected)){this.destroyInfo();let{completion:r}=t.options[t.selected],{info:i}=r;if(!i)return;let s=typeof i=="string"?document.createTextNode(i):i(r);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,r)}).catch(o=>er(this.view.state,o,"completion info")):this.addInfoPane(s,r)}}addInfoPane(e,t){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:s}=e;r.appendChild(i),this.infoDestroy=s||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let t=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),t=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return t&&RH(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),s=this.space;if(!s){let o=this.dom.ownerDocument.documentElement;s={left:0,top:0,right:o.clientWidth,bottom:o.clientHeight}}return i.top>Math.min(s.bottom,t.bottom)-10||i.bottom<Math.max(s.top,t.top)+10?null:this.view.state.facet(ln).positionInfo(this.view,t,i,r,s,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,t,r){const i=document.createElement("ul");i.id=t,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",o=>{o.target==i&&o.preventDefault()});let s=null;for(let o=r.from;o<r.to;o++){let{completion:l,match:a}=e[o],{section:u}=l;if(u){let p=typeof u=="string"?u:u.name;if(p!=s&&(o>r.from||r.from==0))if(s=p,typeof u!="string"&&u.header)i.appendChild(u.header(u));else{let g=i.appendChild(document.createElement("completion-section"));g.textContent=p}}const h=i.appendChild(document.createElement("li"));h.id=t+"-"+o,h.setAttribute("role","option");let d=this.optionClass(l);d&&(h.className=d);for(let p of this.optionContent){let g=p(l,this.view.state,this.view,a);g&&h.appendChild(g)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function AH(n,e){return t=>new $H(t,n,e)}function RH(n,e){let t=n.getBoundingClientRect(),r=e.getBoundingClientRect(),i=t.height/n.offsetHeight;r.top<t.top?n.scrollTop-=(t.top-r.top)/i:r.bottom>t.bottom&&(n.scrollTop+=(r.bottom-t.bottom)/i)}function Hk(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function EH(n,e){let t=[],r=null,i=null,s=h=>{t.push(h);let{section:d}=h.completion;if(d){r||(r=[]);let p=typeof d=="string"?d:d.name;r.some(g=>g.name==p)||r.push(typeof d=="string"?{name:p}:d)}},o=e.facet(ln);for(let h of n)if(h.hasResult()){let d=h.result.getMatch;if(h.result.filter===!1)for(let p of h.result.options)s(new Wk(p,h.source,d?d(p):[],1e9-t.length));else{let p=e.sliceDoc(h.from,h.to),g,b=o.filterStrict?new CH(p):new TH(p);for(let x of h.result.options)if(g=b.match(x.label)){let v=x.displayLabel?d?d(x,g.matched):[]:g.matched,w=g.score+(x.boost||0);if(s(new Wk(x,h.source,v,w)),typeof x.section=="object"&&x.section.rank==="dynamic"){let{name:k}=x.section;i||(i=Object.create(null)),i[k]=Math.max(w,i[k]||-1e9)}}}}if(r){let h=Object.create(null),d=0,p=(g,b)=>(g.rank==="dynamic"&&b.rank==="dynamic"?i[b.name]-i[g.name]:0)||(typeof g.rank=="number"?g.rank:1e9)-(typeof b.rank=="number"?b.rank:1e9)||(g.name<b.name?-1:1);for(let g of r.sort(p))d-=1e5,h[g.name]=d;for(let g of t){let{section:b}=g.completion;b&&(g.score+=h[typeof b=="string"?b:b.name])}}let l=[],a=null,u=o.compareCompletions;for(let h of t.sort((d,p)=>p.score-d.score||u(d.completion,p.completion))){let d=h.completion;!a||a.label!=d.label||a.detail!=d.detail||a.type!=null&&d.type!=null&&a.type!=d.type||a.apply!=d.apply||a.boost!=d.boost?l.push(h):Hk(h.completion)>Hk(a)&&(l[l.length-1]=h),a=h.completion}return l}class Wa{constructor(e,t,r,i,s,o){this.options=e,this.attrs=t,this.tooltip=r,this.timestamp=i,this.selected=s,this.disabled=o}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Wa(this.options,Gk(t,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,t,r,i,s,o){if(i&&!o&&e.some(u=>u.isPending))return i.setDisabled();let l=EH(e,t);if(!l.length)return i&&e.some(u=>u.isPending)?i.setDisabled():null;let a=t.facet(ln).selectOnOpen?0:-1;if(i&&i.selected!=a&&i.selected!=-1){let u=i.options[i.selected].completion;for(let h=0;h<l.length;h++)if(l[h].completion==u){a=h;break}}return new Wa(l,Gk(r,a),{pos:e.reduce((u,h)=>h.hasResult()?Math.min(u,h.from):u,1e8),create:IH,above:s.aboveCursor},i?i.timestamp:Date.now(),a,!1)}map(e){return new Wa(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new Wa(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class Kp{constructor(e,t,r){this.active=e,this.id=t,this.open=r}static start(){return new Kp(NH,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,r=t.facet(ln),s=(r.override||t.languageDataAt("autocomplete",Sl(t)).map(kH)).map(a=>(this.active.find(h=>h.source==a)||new Xr(a,this.active.some(h=>h.state!=0)?1:0)).update(e,r));s.length==this.active.length&&s.every((a,u)=>a==this.active[u])&&(s=this.active);let o=this.open,l=e.effects.some(a=>a.is($x));o&&e.docChanged&&(o=o.map(e.changes)),e.selection||s.some(a=>a.hasResult()&&e.changes.touchesRange(a.from,a.to))||!LH(s,this.active)||l?o=Wa.build(s,t,this.id,o,r,l):o&&o.disabled&&!s.some(a=>a.isPending)&&(o=null),!o&&s.every(a=>!a.isPending)&&s.some(a=>a.hasResult())&&(s=s.map(a=>a.hasResult()?new Xr(a.source,0):a));for(let a of e.effects)a.is(rR)&&(o=o&&o.setSelected(a.value,this.id));return s==this.active&&o==this.open?this:new Kp(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?_H:MH}}function LH(n,e){if(n==e)return!0;for(let t=0,r=0;;){for(;t<n.length&&!n[t].hasResult();)t++;for(;r<e.length&&!e[r].hasResult();)r++;let i=t==n.length,s=r==e.length;if(i||s)return i==s;if(n[t++].result!=e[r++].result)return!1}}const _H={"aria-autocomplete":"list"},MH={};function Gk(n,e){let t={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":n};return e>-1&&(t["aria-activedescendant"]=n+"-"+e),t}const NH=[];function nR(n,e){if(n.isUserEvent("input.complete")){let r=n.annotation(Qx);if(r&&e.activateOnCompletion(r))return 12}let t=n.isUserEvent("input.type");return t&&e.activateOnTyping?5:t?1:n.isUserEvent("delete.backward")?2:n.selection?8:n.docChanged?16:0}class Xr{constructor(e,t,r=!1){this.source=e,this.state=t,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,t){let r=nR(e,t),i=this;(r&8||r&16&&this.touches(e))&&(i=new Xr(i.source,0)),r&4&&i.state==0&&(i=new Xr(this.source,1)),i=i.updateFor(e,r);for(let s of e.effects)if(s.is(Up))i=new Xr(i.source,1,s.value);else if(s.is(Ch))i=new Xr(i.source,0);else if(s.is($x))for(let o of s.value)o.source==i.source&&(i=o);return i}updateFor(e,t){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(Sl(e.state))}}class lc extends Xr{constructor(e,t,r,i,s,o){super(e,3,t),this.limit=r,this.result=i,this.from=s,this.to=o}hasResult(){return!0}updateFor(e,t){var r;if(!(t&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),l=Sl(e.state);if(l>o||!i||t&2&&(Sl(e.startState)==this.from||l<this.limit))return new Xr(this.source,t&4?1:0);let a=e.changes.mapPos(this.limit);return BH(i.validFor,e.state,s,o)?new lc(this.source,this.explicit,a,i,s,o):i.update&&(i=i.update(i,s,o,new JA(e.state,l,!1)))?new lc(this.source,this.explicit,a,i,i.from,(r=i.to)!==null&&r!==void 0?r:Sl(e.state)):new Xr(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new lc(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Xr(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function BH(n,e,t,r){if(!n)return!1;let i=e.sliceDoc(t,r);return typeof n=="function"?n(i,t,r,e):tR(n,!0).test(i)}const $x=Xe.define({map(n,e){return n.map(t=>t.map(e))}}),rR=Xe.define(),Kn=cn.define({create(){return Kp.start()},update(n,e){return n.update(e)},provide:n=>[hx.from(n,e=>e.tooltip),ve.contentAttributes.from(n,e=>e.attrs)]});function Ax(n,e){const t=e.completion.apply||e.completion.label;let r=n.state.field(Kn).active.find(i=>i.source==e.source);return r instanceof lc?(typeof t=="string"?n.dispatch({...wH(n.state,t,r.from,r.to),annotations:Qx.of(e.completion)}):t(n,e.completion,r.from,r.to),!0):!1}const IH=AH(Kn,Ax);function Bd(n,e="option"){return t=>{let r=t.state.field(Kn,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<t.state.facet(ln).interactionDelay)return!1;let i=1,s;e=="page"&&(s=B$(t,r.open.tooltip))&&(i=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let{length:o}=r.open.options,l=r.open.selected>-1?r.open.selected+i*(n?1:-1):n?0:o-1;return l<0?l=e=="page"?0:o-1:l>=o&&(l=e=="page"?o-1:0),t.dispatch({effects:rR.of(l)}),!0}}const jH=n=>{let e=n.state.field(Kn,!1);return n.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<n.state.facet(ln).interactionDelay?!1:Ax(n,e.open.options[e.open.selected])},W0=n=>n.state.field(Kn,!1)?(n.dispatch({effects:Up.of(!0)}),!0):!1,DH=n=>{let e=n.state.field(Kn,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:Ch.of(null)}),!0)};class ZH{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const zH=50,qH=1e3,XH=Yt.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of n.state.field(Kn).active)e.isPending&&this.startQuery(e)}update(n){let e=n.state.field(Kn),t=n.state.facet(ln);if(!n.selectionSet&&!n.docChanged&&n.startState.field(Kn)==e)return;let r=n.transactions.some(s=>{let o=nR(s,t);return o&8||(s.selection||s.docChanged)&&!(o&3)});for(let s=0;s<this.running.length;s++){let o=this.running[s];if(r||o.context.abortOnDocChange&&n.docChanged||o.updates.length+n.transactions.length>zH&&Date.now()-o.time>qH){for(let l of o.context.abortListeners)try{l()}catch(a){er(this.view.state,a)}o.context.abortListeners=null,this.running.splice(s--,1)}else o.updates.push(...n.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),n.transactions.some(s=>s.effects.some(o=>o.is(Up)))&&(this.pendingStart=!0);let i=this.pendingStart?50:t.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(s=>s.isPending&&!this.running.some(o=>o.active.source==s.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let s of n.transactions)s.isUserEvent("input.type")?this.composing=2:this.composing==2&&s.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:n}=this.view,e=n.field(Kn);for(let t of e.active)t.isPending&&!this.running.some(r=>r.active.source==t.source)&&this.startQuery(t);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(ln).updateSyncTime))}startQuery(n){let{state:e}=this.view,t=Sl(e),r=new JA(e,t,n.explicit,this.view),i=new ZH(n,r);this.running.push(i),Promise.resolve(n.source(r)).then(s=>{i.context.aborted||(i.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Ch.of(null)}),er(this.view.state,s)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(ln).updateSyncTime))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(ln),r=this.view.state.field(Kn);for(let i=0;i<this.running.length;i++){let s=this.running[i];if(s.done===void 0)continue;if(this.running.splice(i--,1),s.done){let l=Sl(s.updates.length?s.updates[0].startState:this.view.state),a=Math.min(l,s.done.from+(s.active.explicit?0:1)),u=new lc(s.active.source,s.active.explicit,a,s.done,s.done.from,(n=s.done.to)!==null&&n!==void 0?n:l);for(let h of s.updates)u=u.update(h,t);if(u.hasResult()){e.push(u);continue}}let o=r.active.find(l=>l.source==s.active.source);if(o&&o.isPending)if(s.done==null){let l=new Xr(s.active.source,0);for(let a of s.updates)l=l.update(a,t);l.isPending||e.push(l)}else this.startQuery(o)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:$x.of(e)})}},{eventHandlers:{blur(n){let e=this.view.state.field(Kn,!1);if(e&&e.tooltip&&this.view.state.facet(ln).closeOnBlur){let t=e.open&&B$(this.view,e.open.tooltip);(!t||!t.dom.contains(n.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:Ch.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Up.of(!1)}),20),this.composing=0}}}),VH=typeof navigator=="object"&&/Win/.test(navigator.platform),WH=Mo.highest(ve.domEventHandlers({keydown(n,e){let t=e.state.field(Kn,!1);if(!t||!t.open||t.open.disabled||t.open.selected<0||n.key.length>1||n.ctrlKey&&!(VH&&n.altKey)||n.metaKey)return!1;let r=t.open.options[t.open.selected],i=t.active.find(o=>o.source==r.source),s=r.completion.commitCharacters||i.result.commitCharacters;return s&&s.indexOf(n.key)>-1&&Ax(e,r),!1}})),iR=ve.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class FH{constructor(e,t,r,i){this.field=e,this.line=t,this.from=r,this.to=i}}class Rx{constructor(e,t,r){this.field=e,this.from=t,this.to=r}map(e){let t=e.mapPos(this.from,-1,gn.TrackDel),r=e.mapPos(this.to,1,gn.TrackDel);return t==null||r==null?null:new Rx(this.field,t,r)}}class Ex{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let r=[],i=[t],s=e.doc.lineAt(t),o=/^\s*/.exec(s.text)[0];for(let a of this.lines){if(r.length){let u=o,h=/^\t*/.exec(a)[0].length;for(let d=0;d<h;d++)u+=e.facet(Bg);i.push(t+u.length-h),a=u+a.slice(h)}r.push(a),t+=a.length+1}let l=this.fieldPositions.map(a=>new Rx(a.field,i[a.line]+a.from,i[a.line]+a.to));return{text:r,ranges:l}}static parse(e){let t=[],r=[],i=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(o);){let l=s[1]?+s[1]:null,a=s[2]||s[3]||"",u=-1,h=a.replace(/\\[{}]/g,d=>d[1]);for(let d=0;d<t.length;d++)(l!=null?t[d].seq==l:h&&t[d].name==h)&&(u=d);if(u<0){let d=0;for(;d<t.length&&(l==null||t[d].seq!=null&&t[d].seq<l);)d++;t.splice(d,0,{seq:l,name:h}),u=d;for(let p of i)p.field>=u&&p.field++}for(let d of i)if(d.line==r.length&&d.from>s.index){let p=s[2]?3+(s[1]||"").length:2;d.from-=p,d.to-=p}i.push(new FH(u,r.length,s.index,s.index+h.length)),o=o.slice(0,s.index)+a+o.slice(s.index+s[0].length)}o=o.replace(/\\([{}])/g,(l,a,u)=>{for(let h of i)h.line==r.length&&h.from>u&&(h.from--,h.to--);return a}),r.push(o)}return new Ex(r,i)}}let YH=Me.widget({widget:new class extends Gi{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),HH=Me.mark({class:"cm-snippetField"});class _c{constructor(e,t){this.ranges=e,this.active=t,this.deco=Me.set(e.map(r=>(r.from==r.to?YH:HH).range(r.from,r.to)),!0)}map(e){let t=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;t.push(i)}return new _c(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(r=>r.field==this.active&&r.from<=t.from&&r.to>=t.to))}}const rf=Xe.define({map(n,e){return n&&n.map(e)}}),GH=Xe.define(),Ph=cn.define({create(){return null},update(n,e){for(let t of e.effects){if(t.is(rf))return t.value;if(t.is(GH)&&n)return new _c(n.ranges,t.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>ve.decorations.from(n,e=>e?e.deco:Me.none)});function Lx(n,e){return ae.create(n.filter(t=>t.field==e).map(t=>ae.range(t.from,t.to)))}function UH(n){let e=Ex.parse(n);return(t,r,i,s)=>{let{text:o,ranges:l}=e.instantiate(t.state,i),{main:a}=t.state.selection,u={changes:{from:i,to:s==a.from?a.to:s,insert:ht.of(o)},scrollIntoView:!0,annotations:r?[Qx.of(r),Jt.userEvent.of("input.complete")]:void 0};if(l.length&&(u.selection=Lx(l,0)),l.some(h=>h.field>0)){let h=new _c(l,0),d=u.effects=[rf.of(h)];t.state.field(Ph,!1)===void 0&&d.push(Xe.appendConfig.of([Ph,nG,rG,iR]))}t.dispatch(t.state.update(u))}}function sR(n){return({state:e,dispatch:t})=>{let r=e.field(Ph,!1);if(!r||n<0&&r.active==0)return!1;let i=r.active+n,s=n>0&&!r.ranges.some(o=>o.field==i+n);return t(e.update({selection:Lx(r.ranges,i),effects:rf.of(s?null:new _c(r.ranges,i)),scrollIntoView:!0})),!0}}const KH=({state:n,dispatch:e})=>n.field(Ph,!1)?(e(n.update({effects:rf.of(null)})),!0):!1,JH=sR(1),eG=sR(-1),tG=[{key:"Tab",run:JH,shift:eG},{key:"Escape",run:KH}],Uk=Ce.define({combine(n){return n.length?n[0]:tG}}),nG=Mo.highest(Hh.compute([Uk],n=>n.facet(Uk)));function Yn(n,e){return{...e,apply:UH(n)}}const rG=ve.domEventHandlers({mousedown(n,e){let t=e.state.field(Ph,!1),r;if(!t||(r=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let i=t.ranges.find(s=>s.from<=r&&s.to>=r);return!i||i.field==t.active?!1:(e.dispatch({selection:Lx(t.ranges,i.field),effects:rf.of(t.ranges.some(s=>s.field>i.field)?new _c(t.ranges,i.field):null),scrollIntoView:!0}),!0)}}),Qh={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Ol=Xe.define({map(n,e){let t=e.mapPos(n,-1,gn.TrackAfter);return t??void 0}}),_x=new class extends Al{};_x.startSide=1;_x.endSide=-1;const oR=cn.define({create(){return ct.empty},update(n,e){if(n=n.map(e.changes),e.selection){let t=e.state.doc.lineAt(e.selection.main.head);n=n.update({filter:r=>r>=t.from&&r<=t.to})}for(let t of e.effects)t.is(Ol)&&(n=n.update({add:[_x.range(t.value,t.value+1)]}));return n}});function iG(){return[oG,oR]}const F0="()[]{}<>";function lR(n){for(let e=0;e<F0.length;e+=2)if(F0.charCodeAt(e)==n)return F0.charAt(e+1);return Ub(n<128?n:n+1)}function aR(n,e){return n.languageDataAt("closeBrackets",e)[0]||Qh}const sG=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),oG=ve.inputHandler.of((n,e,t,r)=>{if((sG?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let i=n.state.selection.main;if(r.length>2||r.length==2&&_i(Gn(r,0))==1||e!=i.from||t!=i.to)return!1;let s=cG(n.state,r);return s?(n.dispatch(s),!0):!1}),lG=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let r=aR(n,n.selection.main.head).brackets||Qh.brackets,i=null,s=n.changeByRange(o=>{if(o.empty){let l=uG(n.doc,o.head);for(let a of r)if(a==l&&Xg(n.doc,o.head)==lR(Gn(a,0)))return{changes:{from:o.head-a.length,to:o.head+a.length},range:ae.cursor(o.head-a.length)}}return{range:i=o}});return i||e(n.update(s,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},aG=[{key:"Backspace",run:lG}];function cG(n,e){let t=aR(n,n.selection.main.head),r=t.brackets||Qh.brackets;for(let i of r){let s=lR(Gn(i,0));if(e==i)return s==i?dG(n,i,r.indexOf(i+i+i)>-1,t):hG(n,i,s,t.before||Qh.before);if(e==s&&cR(n,n.selection.main.from))return fG(n,i,s)}return null}function cR(n,e){let t=!1;return n.field(oR).between(0,n.doc.length,r=>{r==e&&(t=!0)}),t}function Xg(n,e){let t=n.sliceString(e,e+2);return t.slice(0,_i(Gn(t,0)))}function uG(n,e){let t=n.sliceString(e-2,e);return _i(Gn(t,0))==t.length?t:t.slice(1)}function hG(n,e,t,r){let i=null,s=n.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:t,from:o.to}],effects:Ol.of(o.to+e.length),range:ae.range(o.anchor+e.length,o.head+e.length)};let l=Xg(n.doc,o.head);return!l||/\s/.test(l)||r.indexOf(l)>-1?{changes:{insert:e+t,from:o.head},effects:Ol.of(o.head+e.length),range:ae.cursor(o.head+e.length)}:{range:i=o}});return i?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function fG(n,e,t){let r=null,i=n.changeByRange(s=>s.empty&&Xg(n.doc,s.head)==t?{changes:{from:s.head,to:s.head+t.length,insert:t},range:ae.cursor(s.head+t.length)}:r={range:s});return r?null:n.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function dG(n,e,t,r){let i=r.stringPrefixes||Qh.stringPrefixes,s=null,o=n.changeByRange(l=>{if(!l.empty)return{changes:[{insert:e,from:l.from},{insert:e,from:l.to}],effects:Ol.of(l.to+e.length),range:ae.range(l.anchor+e.length,l.head+e.length)};let a=l.head,u=Xg(n.doc,a),h;if(u==e){if(Kk(n,a))return{changes:{insert:e+e,from:a},effects:Ol.of(a+e.length),range:ae.cursor(a+e.length)};if(cR(n,a)){let p=t&&n.sliceDoc(a,a+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:a,to:a+p.length,insert:p},range:ae.cursor(a+p.length)}}}else{if(t&&n.sliceDoc(a-2*e.length,a)==e+e&&(h=Jk(n,a-2*e.length,i))>-1&&Kk(n,h))return{changes:{insert:e+e+e+e,from:a},effects:Ol.of(a+e.length),range:ae.cursor(a+e.length)};if(n.charCategorizer(a)(u)!=Nt.Word&&Jk(n,a,i)>-1&&!pG(n,a,e,i))return{changes:{insert:e+e,from:a},effects:Ol.of(a+e.length),range:ae.cursor(a+e.length)}}return{range:s=l}});return s?null:n.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function Kk(n,e){let t=qt(n).resolveInner(e+1);return t.parent&&t.from==e}function pG(n,e,t,r){let i=qt(n).resolveInner(e,-1),s=r.reduce((o,l)=>Math.max(o,l.length),0);for(let o=0;o<5;o++){let l=n.sliceDoc(i.from,Math.min(i.to,i.from+t.length+s)),a=l.indexOf(t);if(!a||a>-1&&r.indexOf(l.slice(0,a))>-1){let h=i.firstChild;for(;h&&h.from==i.from&&h.to-h.from>t.length+a;){if(n.sliceDoc(h.to-t.length,h.to)==t)return!1;h=h.firstChild}return!0}let u=i.to==e&&i.parent;if(!u)break;i=u}return!1}function Jk(n,e,t){let r=n.charCategorizer(e);if(r(n.sliceDoc(e-1,e))!=Nt.Word)return e;for(let i of t){let s=e-i.length;if(n.sliceDoc(s,e)==i&&r(n.sliceDoc(s-1,s))!=Nt.Word)return s}return-1}function gG(n={}){return[WH,Kn,ln.of(n),XH,mG,iR]}const uR=[{key:"Ctrl-Space",run:W0},{mac:"Alt-`",run:W0},{mac:"Alt-i",run:W0},{key:"Escape",run:DH},{key:"ArrowDown",run:Bd(!0)},{key:"ArrowUp",run:Bd(!1)},{key:"PageDown",run:Bd(!0,"page")},{key:"PageUp",run:Bd(!1,"page")},{key:"Enter",run:jH}],mG=Mo.highest(Hh.computeN([ln],n=>n.facet(ln).defaultKeymap?[uR]:[]));class eT{constructor(e,t,r){this.from=e,this.to=t,this.diagnostic=r}}class pl{constructor(e,t,r){this.diagnostics=e,this.panel=t,this.selected=r}static init(e,t,r){let i=r.facet($h).markerFilter;i&&(e=i(e,r));let s=e.slice().sort((h,d)=>h.from-d.from||h.to-d.to),o=new Rs,l=[],a=0;for(let h=0;;){let d=h==s.length?null:s[h];if(!d&&!l.length)break;let p,g;for(l.length?(p=a,g=l.reduce((x,v)=>Math.min(x,v.to),d&&d.from>p?d.from:1e8)):(p=d.from,g=d.to,l.push(d),h++);h<s.length;){let x=s[h];if(x.from==p&&(x.to>x.from||x.to==p))l.push(x),h++,g=Math.min(x.to,g);else{g=Math.min(x.from,g);break}}let b=$G(l);if(l.some(x=>x.from==x.to||x.from==x.to-1&&r.doc.lineAt(x.from).to==x.from))o.add(p,p,Me.widget({widget:new TG(b),diagnostics:l.slice()}));else{let x=l.reduce((v,w)=>w.markClass?v+" "+w.markClass:v,"");o.add(p,g,Me.mark({class:"cm-lintRange cm-lintRange-"+b+x,diagnostics:l.slice(),inclusiveEnd:l.some(v=>v.to>g)}))}a=g;for(let x=0;x<l.length;x++)l[x].to<=a&&l.splice(x--,1)}let u=o.finish();return new pl(u,t,vc(u))}}function vc(n,e=null,t=0){let r=null;return n.between(t,1e9,(i,s,{spec:o})=>{if(!(e&&o.diagnostics.indexOf(e)<0))if(!r)r=new eT(i,s,e||o.diagnostics[0]);else{if(o.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new eT(r.from,s,r.diagnostic)}}),r}function OG(n,e){let t=e.pos,r=e.end||t,i=n.state.facet($h).hideOn(n,t,r);if(i!=null)return i;let s=n.startState.doc.lineAt(e.pos);return!!(n.effects.some(o=>o.is(hR))||n.changes.touchesRange(s.from,Math.max(s.to,r)))}function bG(n,e){return n.field(xr,!1)?e:e.concat(Xe.appendConfig.of(AG))}const hR=Xe.define(),Mx=Xe.define(),fR=Xe.define(),xr=cn.define({create(){return new pl(Me.none,null,null)},update(n,e){if(e.docChanged&&n.diagnostics.size){let t=n.diagnostics.map(e.changes),r=null,i=n.panel;if(n.selected){let s=e.changes.mapPos(n.selected.from,1);r=vc(t,n.selected.diagnostic,s)||vc(t,null,s)}!t.size&&i&&e.state.facet($h).autoPanel&&(i=null),n=new pl(t,i,r)}for(let t of e.effects)if(t.is(hR)){let r=e.state.facet($h).autoPanel?t.value.length?Ah.open:null:n.panel;n=pl.init(t.value,r,e.state)}else t.is(Mx)?n=new pl(n.diagnostics,t.value?Ah.open:null,n.selected):t.is(fR)&&(n=new pl(n.diagnostics,n.panel,t.value));return n},provide:n=>[yh.from(n,e=>e.panel),ve.decorations.from(n,e=>e.diagnostics)]}),xG=Me.mark({class:"cm-lintRange cm-lintRange-active"});function vG(n,e,t){let{diagnostics:r}=n.state.field(xr),i,s=-1,o=-1;r.between(e-(t<0?1:0),e+(t>0?1:0),(a,u,{spec:h})=>{if(e>=a&&e<=u&&(a==u||(e>a||t>0)&&(e<u||t<0)))return i=h.diagnostics,s=a,o=u,!1});let l=n.state.facet($h).tooltipFilter;return i&&l&&(i=l(i,n.state)),i?{pos:s,end:o,above:n.state.doc.lineAt(s).to<o,create(){return{dom:yG(n,i)}}}:null}function yG(n,e){return kt("ul",{class:"cm-tooltip-lint"},e.map(t=>pR(n,t,!1)))}const SG=n=>{let e=n.state.field(xr,!1);(!e||!e.panel)&&n.dispatch({effects:bG(n.state,[Mx.of(!0)])});let t=vh(n,Ah.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},tT=n=>{let e=n.state.field(xr,!1);return!e||!e.panel?!1:(n.dispatch({effects:Mx.of(!1)}),!0)},wG=n=>{let e=n.state.field(xr,!1);if(!e)return!1;let t=n.state.selection.main,r=e.diagnostics.iter(t.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==t.from&&r.to==t.to)?!1:(n.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},kG=[{key:"Mod-Shift-m",run:SG,preventDefault:!0},{key:"F8",run:wG}],$h=Ce.define({combine(n){return Object.assign({sources:n.map(e=>e.source).filter(e=>e!=null)},Hi(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,t)=>e?t?r=>e(r)||t(r):e:t}))}});function dR(n){let e=[];if(n)e:for(let{name:t}of n){for(let r=0;r<t.length;r++){let i=t[r];if(/[a-zA-Z]/.test(i)&&!e.some(s=>s.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function pR(n,e,t){var r;let i=t?dR(e.actions):[];return kt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},kt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(n):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((s,o)=>{let l=!1,a=p=>{if(p.preventDefault(),l)return;l=!0;let g=vc(n.state.field(xr).diagnostics,e);g&&s.apply(n,g.from,g.to)},{name:u}=s,h=i[o]?u.indexOf(i[o]):-1,d=h<0?u:[u.slice(0,h),kt("u",u.slice(h,h+1)),u.slice(h+1)];return kt("button",{type:"button",class:"cm-diagnosticAction",onclick:a,onmousedown:a,"aria-label":` Action: ${u}${h<0?"":` (access key "${i[o]})"`}.`},d)}),e.source&&kt("div",{class:"cm-diagnosticSource"},e.source))}class TG extends Gi{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return kt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class nT{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=pR(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Ah{constructor(e){this.view=e,this.items=[];let t=i=>{if(i.keyCode==27)tT(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=dR(s.actions);for(let l=0;l<o.length;l++)if(o[l].toUpperCase().charCodeAt(0)==i.keyCode){let a=vc(this.view.state.field(xr).diagnostics,s);a&&s.actions[l].apply(e,a.from,a.to)}}else return;i.preventDefault()},r=i=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(i.target)&&this.moveSelection(s)};this.list=kt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:r}),this.dom=kt("div",{class:"cm-panel-lint"},this.list,kt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>tT(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(xr).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(xr),r=0,i=!1,s=null,o=new Set;for(e.between(0,this.view.state.doc.length,(l,a,{spec:u})=>{for(let h of u.diagnostics){if(o.has(h))continue;o.add(h);let d=-1,p;for(let g=r;g<this.items.length;g++)if(this.items[g].diagnostic==h){d=g;break}d<0?(p=new nT(this.view,h),this.items.splice(r,0,p),i=!0):(p=this.items[d],d>r&&(this.items.splice(r,d-r),i=!0)),t&&p.diagnostic==t.diagnostic?p.dom.hasAttribute("aria-selected")||(p.dom.setAttribute("aria-selected","true"),s=p):p.dom.hasAttribute("aria-selected")&&p.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new nT(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:l,panel:a})=>{let u=a.height/this.list.offsetHeight;l.top<a.top?this.list.scrollTop-=(a.top-l.top)/u:l.bottom>a.bottom&&(this.list.scrollTop+=(l.bottom-a.bottom)/u)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function t(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)t();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(xr),r=vc(t.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:fR.of(r)})}static open(e){return new Ah(e)}}function CG(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function Id(n){return CG(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const PG=ve.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Id("#d11")},".cm-lintRange-warning":{backgroundImage:Id("orange")},".cm-lintRange-info":{backgroundImage:Id("#999")},".cm-lintRange-hint":{backgroundImage:Id("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function QG(n){return n=="error"?4:n=="warning"?3:n=="info"?2:1}function $G(n){let e="hint",t=1;for(let r of n){let i=QG(r.severity);i>t&&(t=i,e=r.severity)}return e}const AG=[xr,ve.decorations.compute([xr],n=>{let{selected:e,panel:t}=n.field(xr);return!e||!t||e.from==e.to?Me.none:Me.set([xG.range(e.from,e.to)])}),fW(vG,{hideOn:OG}),PG],RG=[Z$(),TW(),ZV(),VF(),xF(),AV(),MV(),at.allowMultipleSelections.of(!0),oF(),vx(wF,{fallback:!0}),AF(),iG(),gG(),tW(),iW(),FV(),KY(),Hh.of([...aG,...VY,...OH,...eY,...gF,...uR,...kG])];var rT={};class Jp{constructor(e,t,r,i,s,o,l,a,u,h=0,d){this.p=e,this.stack=t,this.state=r,this.reducePos=i,this.pos=s,this.score=o,this.buffer=l,this.bufferBase=a,this.curContext=u,this.lookAhead=h,this.parent=d}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,r=0){let i=e.parser.context;return new Jp(e,[],t,r,r,0,[],0,i?new iT(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var t;let r=e>>19,i=e&65535,{parser:s}=this.p,o=this.reducePos<this.pos-25;o&&this.setLookAhead(this.pos);let l=s.dynamicPrecedence(i);if(l&&(this.score+=l),r==0){this.pushState(s.getGoto(this.state,i,!0),this.reducePos),i<s.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,o?8:4,!0),this.reduceContext(i,this.reducePos);return}let a=this.stack.length-(r-1)*3-(e&262144?6:0),u=a?this.stack[a-2]:this.p.ranges[0].from,h=this.reducePos-u;h>=2e3&&!(!((t=this.p.parser.nodeSet.types[i])===null||t===void 0)&&t.isAnonymous)&&(u==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=h):this.p.lastBigReductionSize<h&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=u,this.p.lastBigReductionSize=h));let d=a?this.stack[a-1]:0,p=this.bufferBase+this.buffer.length-d;if(i<s.minRepeatTerm||e&131072){let g=s.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,u,g,p+4,!0)}if(e&262144)this.state=this.stack[a];else{let g=this.stack[a-3];this.state=s.getGoto(g,i,!0)}for(;this.stack.length>a;)this.stack.pop();this.reduceContext(i,u)}storeNode(e,t,r,i=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,l=this.buffer.length;if(l==0&&o.parent&&(l=o.bufferBase-o.parent.bufferBase,o=o.parent),l>0&&o.buffer[l-4]==0&&o.buffer[l-1]>-1){if(t==r)return;if(o.buffer[l-2]>=t){o.buffer[l-2]=r;return}}}if(!s||this.pos==r)this.buffer.push(e,t,r,i);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0){let l=!1;for(let a=o;a>0&&this.buffer[a-2]>r;a-=4)if(this.buffer[a-1]>=0){l=!0;break}if(l)for(;o>0&&this.buffer[o-2]>r;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,i>4&&(i-=4)}this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=r,this.buffer[o+3]=i}}shift(e,t,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let s=e,{parser:o}=this.p;(i>this.pos||t<=o.maxNode)&&(this.pos=i,o.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,r),this.shiftContext(t,r),t<=o.maxNode&&this.buffer.push(t,r,i,4)}else this.pos=i,this.shiftContext(t,r),t<=this.p.parser.maxNode&&this.buffer.push(t,r,i,4)}apply(e,t,r,i){e&65536?this.reduce(e):this.shift(e,t,r,i)}useNode(e,t){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(t,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let r=e.buffer.slice(t),i=e.bufferBase+t;for(;e&&i==e.bufferBase;)e=e.parent;return new Jp(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,r?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new EG(this);;){let r=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if(r==0)return!1;if((r&65536)==0)return!0;t.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>8||this.stack.length>=120){let i=[];for(let s=0,o;s<t.length;s+=2)(o=t[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&i.push(t[s],o);if(this.stack.length<120)for(let s=0;i.length<8&&s<t.length;s+=2){let o=t[s+1];i.some((l,a)=>a&1&&l==o)||i.push(t[s],o)}t=i}let r=[];for(let i=0;i<t.length&&r.length<4;i+=2){let s=t[i+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[i],this.pos),o.reducePos=this.pos,o.score-=200,r.push(o)}return r}forceReduce(){let{parser:e}=this.p,t=e.stateSlot(this.state,5);if((t&65536)==0)return!1;if(!e.validAction(this.state,t)){let r=t>>19,i=t&65535,s=this.stack.length-r*3;if(s<0||e.getGoto(this.stack[s],i,!1)<0){let o=this.findForcedReduction();if(o==null)return!1;t=o}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(t),!0}findForcedReduction(){let{parser:e}=this.p,t=[],r=(i,s)=>{if(!t.includes(i))return t.push(i),e.allActions(i,o=>{if(!(o&393216))if(o&65536){let l=(o>>19)-s;if(l>1){let a=o&65535,u=this.stack.length-l*3;if(u>=0&&e.getGoto(this.stack[u],a,!1)>=0)return l<<19|65536|a}}else{let l=r(o,s+1);if(l!=null)return l}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new iT(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class iT{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}class EG{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=i}}class eg{constructor(e,t,r){this.stack=e,this.pos=t,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new eg(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new eg(this.stack,this.pos,this.index)}}function Fu(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let r=0,i=0;r<n.length;){let s=0;for(;;){let o=n.charCodeAt(r++),l=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let a=o-32;if(a>=46&&(a-=46,l=!0),s+=a,l)break;s*=46}t?t[i++]=s:t=new e(s)}return t}class tp{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const sT=new tp;class LG{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=sT,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let r=this.range,i=this.rangeIndex,s=this.pos+e;for(;s<r.from;){if(!i)return null;let o=this.ranges[--i];s-=r.from-o.to,r=o}for(;t<0?s>r.to:s>=r.to;){if(i==this.ranges.length-1)return null;let o=this.ranges[++i];s+=o.from-r.to,r=o}return s}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let t of this.ranges)if(t.to>e)return Math.max(e,t.from);return this.end}peek(e){let t=this.chunkOff+e,r,i;if(t>=0&&t<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(r=s,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let o=this.rangeIndex,l=this.range;for(;l.to<=r;)l=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>l.to&&(this.chunk2=this.chunk2.slice(0,l.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,t=0){let r=t?this.resolveOffset(t,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,t){this.token.value=e,this.token.end=t}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=sT,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let r="";for(let i of this.ranges){if(i.from>=t)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,t)))}return r}}class ac{constructor(e,t){this.data=e,this.id=t}token(e,t){let{parser:r}=t.p;gR(this.data,e,t,this.id,r.data,r.tokenPrecTable)}}ac.prototype.contextual=ac.prototype.fallback=ac.prototype.extend=!1;class tg{constructor(e,t,r){this.precTable=t,this.elseToken=r,this.data=typeof e=="string"?Fu(e):e}token(e,t){let r=e.pos,i=0;for(;;){let s=e.next<0,o=e.resolveOffset(1,1);if(gR(this.data,e,t,0,this.data,this.precTable),e.token.value>-1)break;if(this.elseToken==null)return;if(s||i++,o==null)break;e.reset(o,e.token)}i&&(e.reset(r,e.token),e.acceptToken(this.elseToken,i))}}tg.prototype.contextual=ac.prototype.fallback=ac.prototype.extend=!1;class yr{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function gR(n,e,t,r,i,s){let o=0,l=1<<r,{dialect:a}=t.p.parser;e:for(;(l&n[o])!=0;){let u=n[o+1];for(let g=o+3;g<u;g+=2)if((n[g+1]&l)>0){let b=n[g];if(a.allows(b)&&(e.token.value==-1||e.token.value==b||_G(b,e.token.value,i,s))){e.acceptToken(b);break}}let h=e.next,d=0,p=n[o+2];if(e.next<0&&p>d&&n[u+p*3-3]==65535){o=n[u+p*3-1];continue e}for(;d<p;){let g=d+p>>1,b=u+g+(g<<1),x=n[b],v=n[b+1]||65536;if(h<x)p=g;else if(h>=v)d=g+1;else{o=n[b+2],e.advance();continue e}}break}}function oT(n,e,t){for(let r=e,i;(i=n[r])!=65535;r++)if(i==t)return r-e;return-1}function _G(n,e,t,r){let i=oT(t,r,e);return i<0||oT(t,r,n)<i}const dr=typeof process<"u"&&rT&&/\bparse\b/.test(rT.LOG);let Y0=null;function lT(n,e,t){let r=n.cursor($t.IncludeAnonymous);for(r.moveTo(e);;)if(!(t<0?r.childBefore(e):r.childAfter(e)))for(;;){if((t<0?r.to<e:r.from>e)&&!r.type.isError)return t<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(n.length,Math.max(r.from+1,e+25));if(t<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return t<0?0:n.length}}class MG{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?lT(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?lT(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let r=this.trees[t],i=this.index[t];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=r.children[i],o=this.start[t]+r.positions[i];if(o>e)return this.nextStart=o,null;if(s instanceof jt){if(o==e){if(o<this.safeFrom)return null;let l=o+s.length;if(l<=this.safeTo){let a=s.prop(Ue.lookAhead);if(!a||l+a<this.fragment.to)return s}}this.index[t]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+s.length}}}class NG{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new tp)}getActions(e){let t=0,r=null,{parser:i}=e.p,{tokenizers:s}=i,o=i.stateSlot(e.state,3),l=e.curContext?e.curContext.hash:0,a=0;for(let u=0;u<s.length;u++){if((1<<u&o)==0)continue;let h=s[u],d=this.tokens[u];if(!(r&&!h.fallback)&&((h.contextual||d.start!=e.pos||d.mask!=o||d.context!=l)&&(this.updateCachedToken(d,h,e),d.mask=o,d.context=l),d.lookAhead>d.end+25&&(a=Math.max(d.lookAhead,a)),d.value!=0)){let p=t;if(d.extended>-1&&(t=this.addActions(e,d.extended,d.end,t)),t=this.addActions(e,d.value,d.end,t),!h.extend&&(r=d,t>p))break}}for(;this.actions.length>t;)this.actions.pop();return a&&e.setLookAhead(a),!r&&e.pos==this.stream.end&&(r=new tp,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,t=this.addActions(e,r.value,r.end,t)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new tp,{pos:r,p:i}=e;return t.start=r,t.end=Math.min(r+1,i.stream.end),t.value=r==i.stream.end?i.parser.eofTerm:0,t}updateCachedToken(e,t,r){let i=this.stream.clipPos(r.pos);if(t.token(this.stream.reset(i,e),r),e.value>-1){let{parser:s}=r.p;for(let o=0;o<s.specialized.length;o++)if(s.specialized[o]==e.value){let l=s.specializers[o](this.stream.read(e.start,e.end),r);if(l>=0&&r.p.parser.dialect.allows(l>>1)){(l&1)==0?e.value=l>>1:e.extended=l>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,t,r,i){for(let s=0;s<i;s+=3)if(this.actions[s]==e)return i;return this.actions[i++]=e,this.actions[i++]=t,this.actions[i++]=r,i}addActions(e,t,r,i){let{state:s}=e,{parser:o}=e.p,{data:l}=o;for(let a=0;a<2;a++)for(let u=o.stateSlot(s,a?2:1);;u+=3){if(l[u]==65535)if(l[u+1]==1)u=vs(l,u+2);else{i==0&&l[u+1]==2&&(i=this.putAction(vs(l,u+2),t,r,i));break}l[u]==t&&(i=this.putAction(vs(l,u+1),t,r,i))}return i}}class BG{constructor(e,t,r,i){this.parser=e,this.input=t,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new LG(t,i),this.tokens=new NG(e,this.stream),this.topTerm=e.top[1];let{from:s}=i[0];this.stacks=[Jp.start(this,e.top[0],s)],this.fragments=r.length&&this.stream.end-s>e.bufferLength*4?new MG(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,r=this.stacks=[],i,s;if(this.bigReductionCount>300&&e.length==1){let[o]=e;for(;o.forceReduce()&&o.stack.length&&o.stack[o.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let o=0;o<e.length;o++){let l=e[o];for(;;){if(this.tokens.mainToken=null,l.pos>t)r.push(l);else{if(this.advanceStack(l,r,e))continue;{i||(i=[],s=[]),i.push(l);let a=this.tokens.getMainToken(l);s.push(a.value,a.end)}}break}}if(!r.length){let o=i&&jG(i);if(o)return dr&&console.log("Finish with "+this.stackID(o)),this.stackToTree(o);if(this.parser.strict)throw dr&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&i){let o=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,s,r);if(o)return dr&&console.log("Force-finish "+this.stackID(o)),this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(r.length>o)for(r.sort((l,a)=>a.score-l.score);r.length>o;)r.pop();r.some(l=>l.reducePos>t)&&this.recovering--}else if(r.length>1){e:for(let o=0;o<r.length-1;o++){let l=r[o];for(let a=o+1;a<r.length;a++){let u=r[a];if(l.sameState(u)||l.buffer.length>500&&u.buffer.length>500)if((l.score-u.score||l.buffer.length-u.buffer.length)>0)r.splice(a--,1);else{r.splice(o--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let o=1;o<r.length;o++)r[o].pos<this.minStackPos&&(this.minStackPos=r[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,r){let i=e.pos,{parser:s}=this,o=dr?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let u=e.curContext&&e.curContext.tracker.strict,h=u?e.curContext.hash:0;for(let d=this.fragments.nodeAt(i);d;){let p=this.parser.nodeSet.types[d.type.id]==d.type?s.getGoto(e.state,d.type.id):-1;if(p>-1&&d.length&&(!u||(d.prop(Ue.contextHash)||0)==h))return e.useNode(d,p),dr&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(d.type.id)})`),!0;if(!(d instanceof jt)||d.children.length==0||d.positions[0]>0)break;let g=d.children[0];if(g instanceof jt&&d.positions[0]==0)d=g;else break}}let l=s.stateSlot(e.state,4);if(l>0)return e.reduce(l),dr&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(l&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let a=this.tokens.getActions(e);for(let u=0;u<a.length;){let h=a[u++],d=a[u++],p=a[u++],g=u==a.length||!r,b=g?e:e.split(),x=this.tokens.mainToken;if(b.apply(h,d,x?x.start:b.pos,p),dr&&console.log(o+this.stackID(b)+` (via ${(h&65536)==0?"shift":`reduce of ${s.getName(h&65535)}`} for ${s.getName(d)} @ ${i}${b==e?"":", split"})`),g)return!0;b.pos>i?t.push(b):r.push(b)}return!1}advanceFully(e,t){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return aT(e,t),!0}}runRecovery(e,t,r){let i=null,s=!1;for(let o=0;o<e.length;o++){let l=e[o],a=t[o<<1],u=t[(o<<1)+1],h=dr?this.stackID(l)+" -> ":"";if(l.deadEnd&&(s||(s=!0,l.restart(),dr&&console.log(h+this.stackID(l)+" (restarted)"),this.advanceFully(l,r))))continue;let d=l.split(),p=h;for(let g=0;d.forceReduce()&&g<10&&(dr&&console.log(p+this.stackID(d)+" (via force-reduce)"),!this.advanceFully(d,r));g++)dr&&(p=this.stackID(d)+" -> ");for(let g of l.recoverByInsert(a))dr&&console.log(h+this.stackID(g)+" (via recover-insert)"),this.advanceFully(g,r);this.stream.end>l.pos?(u==l.pos&&(u++,a=0),l.recoverByDelete(a,u),dr&&console.log(h+this.stackID(l)+` (via recover-delete ${this.parser.getName(a)})`),aT(l,r)):(!i||i.score<l.score)&&(i=l)}return i}stackToTree(e){return e.close(),jt.build({buffer:eg.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(Y0||(Y0=new WeakMap)).get(e);return t||Y0.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function aT(n,e){for(let t=0;t<e.length;t++){let r=e[t];if(r.pos==n.pos&&r.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class IG{constructor(e,t,r){this.source=e,this.flags=t,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}const H0=n=>n;class mR{constructor(e){this.start=e.start,this.shift=e.shift||H0,this.reduce=e.reduce||H0,this.reuse=e.reuse||H0,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class Nl extends F${constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let l=0;l<e.repeatNodeCount;l++)t.push("");let r=Object.keys(e.topRules).map(l=>e.topRules[l][1]),i=[];for(let l=0;l<t.length;l++)i.push([]);function s(l,a,u){i[l].push([a,a.deserialize(String(u))])}if(e.nodeProps)for(let l of e.nodeProps){let a=l[0];typeof a=="string"&&(a=Ue[a]);for(let u=1;u<l.length;){let h=l[u++];if(h>=0)s(h,a,l[u++]);else{let d=l[u+-h];for(let p=-h;p>0;p--)s(l[u++],a,d);u++}}}this.nodeSet=new fx(t.map((l,a)=>zn.define({name:a>=this.minRepeatTerm?void 0:l,id:a,props:i[a],top:r.indexOf(a)>-1,error:a==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(a)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=z$;let o=Fu(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let l=0;l<this.specializerSpecs.length;l++)this.specialized[l]=this.specializerSpecs[l].term;this.specializers=this.specializerSpecs.map(cT),this.states=Fu(e.states,Uint32Array),this.data=Fu(e.stateData),this.goto=Fu(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(l=>typeof l=="number"?new ac(o,l):l),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,r){let i=new BG(this,e,t,r);for(let s of this.wrappers)i=s(i,e,t,r);return i}getGoto(e,t,r=!1){let i=this.goto;if(t>=i[0])return-1;for(let s=i[t+1];;){let o=i[s++],l=o&1,a=i[s++];if(l&&r)return a;for(let u=s+(o>>1);s<u;s++)if(i[s]==e)return a;if(l)return-1}}hasAction(e,t){let r=this.data;for(let i=0;i<2;i++)for(let s=this.stateSlot(e,i?2:1),o;;s+=3){if((o=r[s])==65535)if(r[s+1]==1)o=r[s=vs(r,s+2)];else{if(r[s+1]==2)return vs(r,s+2);break}if(o==t||o==0)return vs(r,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){return!!this.allActions(e,r=>r==t?!0:null)}allActions(e,t){let r=this.stateSlot(e,4),i=r?t(r):void 0;for(let s=this.stateSlot(e,1);i==null;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=vs(this.data,s+2);else break;i=t(vs(this.data,s+1))}return i}nextStates(e){let t=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=vs(this.data,r+2);else break;if((this.data[r+2]&1)==0){let i=this.data[r+1];t.some((s,o)=>o&1&&s==i)||t.push(this.data[r],i)}}return t}configure(e){let t=Object.assign(Object.create(Nl.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=r}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(s=>s.from==r);return i?i.to:r})),e.specializers&&(t.specializers=this.specializers.slice(),t.specializerSpecs=this.specializerSpecs.map((r,i)=>{let s=e.specializers.find(l=>l.from==r.external);if(!s)return r;let o=Object.assign(Object.assign({},r),{external:s.to});return t.specializers[i]=cT(o),o})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),r=t.map(()=>!1);if(e)for(let s of e.split(" ")){let o=t.indexOf(s);o>=0&&(r[o]=!0)}let i=null;for(let s=0;s<t.length;s++)if(!r[s])for(let o=this.dialects[t[s]],l;(l=this.data[o++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[l]=1;return new IG(e,r,i)}static deserialize(e){return new Nl(e)}}function vs(n,e){return n[e]|n[e+1]<<16}function jG(n){let e=null;for(let t of n){let r=t.p.stoppedAt;(t.pos==t.p.stream.end||r!=null&&t.pos>r)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}function cT(n){if(n.external){let e=n.extend?1:0;return(t,r)=>n.external(t,r)<<1|e}return n.get}const DG=316,ZG=317,uT=1,zG=2,qG=3,XG=4,VG=318,WG=320,FG=321,YG=5,HG=6,GG=0,F1=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],OR=125,UG=59,Y1=47,KG=42,JG=43,eU=45,tU=60,nU=44,rU=63,iU=46,sU=91,oU=new mR({start:!1,shift(n,e){return e==YG||e==HG||e==WG?n:e==FG},strict:!1}),lU=new yr((n,e)=>{let{next:t}=n;(t==OR||t==-1||e.context)&&n.acceptToken(VG)},{contextual:!0,fallback:!0}),aU=new yr((n,e)=>{let{next:t}=n,r;F1.indexOf(t)>-1||t==Y1&&((r=n.peek(1))==Y1||r==KG)||t!=OR&&t!=UG&&t!=-1&&!e.context&&n.acceptToken(DG)},{contextual:!0}),cU=new yr((n,e)=>{n.next==sU&&!e.context&&n.acceptToken(ZG)},{contextual:!0}),uU=new yr((n,e)=>{let{next:t}=n;if(t==JG||t==eU){if(n.advance(),t==n.next){n.advance();let r=!e.context&&e.canShift(uT);n.acceptToken(r?uT:zG)}}else t==rU&&n.peek(1)==iU&&(n.advance(),n.advance(),(n.next<48||n.next>57)&&n.acceptToken(qG))},{contextual:!0});function G0(n,e){return n>=65&&n<=90||n>=97&&n<=122||n==95||n>=192||!e&&n>=48&&n<=57}const hU=new yr((n,e)=>{if(n.next!=tU||!e.dialectEnabled(GG)||(n.advance(),n.next==Y1))return;let t=0;for(;F1.indexOf(n.next)>-1;)n.advance(),t++;if(G0(n.next,!0)){for(n.advance(),t++;G0(n.next,!1);)n.advance(),t++;for(;F1.indexOf(n.next)>-1;)n.advance(),t++;if(n.next==nU)return;for(let r=0;;r++){if(r==7){if(!G0(n.next,!0))return;break}if(n.next!="extends".charCodeAt(r))break;n.advance(),t++}}n.acceptToken(XG,-t)}),fU=Uh({"get set async static":_.modifier,"for while do if else switch try catch finally return throw break continue default case defer":_.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":_.operatorKeyword,"let var const using function class extends":_.definitionKeyword,"import export from":_.moduleKeyword,"with debugger new":_.keyword,TemplateString:_.special(_.string),super:_.atom,BooleanLiteral:_.bool,this:_.self,null:_.null,Star:_.modifier,VariableName:_.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":_.function(_.variableName),VariableDefinition:_.definition(_.variableName),Label:_.labelName,PropertyName:_.propertyName,PrivatePropertyName:_.special(_.propertyName),"CallExpression/MemberExpression/PropertyName":_.function(_.propertyName),"FunctionDeclaration/VariableDefinition":_.function(_.definition(_.variableName)),"ClassDeclaration/VariableDefinition":_.definition(_.className),"NewExpression/VariableName":_.className,PropertyDefinition:_.definition(_.propertyName),PrivatePropertyDefinition:_.definition(_.special(_.propertyName)),UpdateOp:_.updateOperator,"LineComment Hashbang":_.lineComment,BlockComment:_.blockComment,Number:_.number,String:_.string,Escape:_.escape,ArithOp:_.arithmeticOperator,LogicOp:_.logicOperator,BitOp:_.bitwiseOperator,CompareOp:_.compareOperator,RegExp:_.regexp,Equals:_.definitionOperator,Arrow:_.function(_.punctuation),": Spread":_.punctuation,"( )":_.paren,"[ ]":_.squareBracket,"{ }":_.brace,"InterpolationStart InterpolationEnd":_.special(_.brace),".":_.derefOperator,", ;":_.separator,"@":_.meta,TypeName:_.typeName,TypeDefinition:_.definition(_.typeName),"type enum interface implements namespace module declare":_.definitionKeyword,"abstract global Privacy readonly override":_.modifier,"is keyof unique infer asserts":_.operatorKeyword,JSXAttributeValue:_.attributeValue,JSXText:_.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":_.angleBracket,"JSXIdentifier JSXNameSpacedName":_.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":_.attributeName,"JSXBuiltin/JSXIdentifier":_.standard(_.tagName)}),dU={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},pU={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},gU={__proto__:null,"<":193},mU=Nl.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:oU,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[fU],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[aU,cU,uU,hU,2,3,4,5,6,7,8,9,10,11,12,13,14,lU,new tg("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new tg("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:327,get:n=>dU[n]||-1},{term:343,get:n=>pU[n]||-1},{term:95,get:n=>gU[n]||-1}],tokenPrec:15201}),bR=[Yn("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),Yn("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),Yn("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Yn("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),Yn("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),Yn(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),Yn("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),Yn(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),Yn(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),Yn('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Yn('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],OU=bR.concat([Yn("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),Yn("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),Yn("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),hT=new W$,xR=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function Au(n){return(e,t)=>{let r=e.node.getChild("VariableDefinition");return r&&t(r,n),!0}}const bU=["FunctionDeclaration"],xU={FunctionDeclaration:Au("function"),ClassDeclaration:Au("class"),ClassExpression:()=>!0,EnumDeclaration:Au("constant"),TypeAliasDeclaration:Au("type"),NamespaceDeclaration:Au("namespace"),VariableDefinition(n,e){n.matchContext(bU)||e(n,"variable")},TypeDefinition(n,e){e(n,"type")},__proto__:null};function vR(n,e){let t=hT.get(e);if(t)return t;let r=[],i=!0;function s(o,l){let a=n.sliceString(o.from,o.to);r.push({label:a,type:l})}return e.cursor($t.IncludeAnonymous).iterate(o=>{if(i)i=!1;else if(o.name){let l=xU[o.name];if(l&&l(o,s)||xR.has(o.name))return!1}else if(o.to-o.from>8192){for(let l of vR(n,o.node))r.push(l);return!1}}),hT.set(e,r),r}const fT=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,yR=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function vU(n){let e=qt(n.state).resolveInner(n.pos,-1);if(yR.indexOf(e.name)>-1)return null;let t=e.name=="VariableName"||e.to-e.from<20&&fT.test(n.state.sliceDoc(e.from,e.to));if(!t&&!n.explicit)return null;let r=[];for(let i=e;i;i=i.parent)xR.has(i.name)&&(r=r.concat(vR(n.state.doc,i)));return{options:r,from:t?e.from:n.pos,validFor:fT}}const qi=_l.define({name:"javascript",parser:mU.configure({props:[Kh.add({IfStatement:sc({except:/^\s*({|else\b)/}),TryStatement:sc({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:iF,SwitchBody:n=>{let e=n.textAfter,t=/^\s*\}/.test(e),r=/^\s*(case|default)\b/.test(e);return n.baseIndent+(t?0:r?1:2)*n.unit},Block:rF({closing:"}"}),ArrowFunction:n=>n.baseIndent+n.unit,"TemplateString BlockComment":()=>null,"Statement Property":sc({except:/^\s*{/}),JSXElement(n){let e=/^\s*<\//.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},JSXEscape(n){let e=/\s*\}/.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},"JSXOpenTag JSXSelfClosingTag"(n){return n.column(n.node.from)+n.unit}}),Jh.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":xx,BlockComment(n){return{from:n.from+2,to:n.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),SR={test:n=>/^JSX/.test(n.name),facet:G$({commentTokens:{block:{open:"{/*",close:"*/}"}}})},wR=qi.configure({dialect:"ts"},"typescript"),kR=qi.configure({dialect:"jsx",props:[mx.add(n=>n.isTop?[SR]:void 0)]}),TR=qi.configure({dialect:"jsx ts",props:[mx.add(n=>n.isTop?[SR]:void 0)]},"typescript");let CR=n=>({label:n,type:"keyword"});const PR="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(CR),yU=PR.concat(["declare","implements","private","protected","public"].map(CR));function QR(n={}){let e=n.jsx?n.typescript?TR:kR:n.typescript?wR:qi,t=n.typescript?OU.concat(yU):bR.concat(PR);return new Ng(e,[qi.data.of({autocomplete:SH(yR,eR(t))}),qi.data.of({autocomplete:vU}),n.jsx?kU:[]])}function SU(n){for(;;){if(n.name=="JSXOpenTag"||n.name=="JSXSelfClosingTag"||n.name=="JSXFragmentTag")return n;if(n.name=="JSXEscape"||!n.parent)return null;n=n.parent}}function dT(n,e,t=n.length){for(let r=e?.firstChild;r;r=r.nextSibling)if(r.name=="JSXIdentifier"||r.name=="JSXBuiltin"||r.name=="JSXNamespacedName"||r.name=="JSXMemberExpression")return n.sliceString(r.from,Math.min(r.to,t));return""}const wU=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),kU=ve.inputHandler.of((n,e,t,r,i)=>{if((wU?n.composing:n.compositionStarted)||n.state.readOnly||e!=t||r!=">"&&r!="/"||!qi.isActiveAt(n.state,e,-1))return!1;let s=i(),{state:o}=s,l=o.changeByRange(a=>{var u;let{head:h}=a,d=qt(o).resolveInner(h-1,-1),p;if(d.name=="JSXStartTag"&&(d=d.parent),!(o.doc.sliceString(h-1,h)!=r||d.name=="JSXAttributeValue"&&d.to>h)){if(r==">"&&d.name=="JSXFragmentTag")return{range:a,changes:{from:h,insert:"</>"}};if(r=="/"&&d.name=="JSXStartCloseTag"){let g=d.parent,b=g.parent;if(b&&g.from==h-2&&((p=dT(o.doc,b.firstChild,h))||((u=b.firstChild)===null||u===void 0?void 0:u.name)=="JSXFragmentTag")){let x=`${p}>`;return{range:ae.cursor(h+x.length,-1),changes:{from:h,insert:x}}}}else if(r==">"){let g=SU(d);if(g&&g.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(o.doc.sliceString(h,h+2))&&(p=dT(o.doc,g,h)))return{range:a,changes:{from:h,insert:`</${p}>`}}}}return{range:a}});return l.changes.empty?!1:(n.dispatch([s,o.update(l,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),TU=Uh({String:_.string,Number:_.number,"True False":_.bool,PropertyName:_.propertyName,Null:_.null,", :":_.separator,"[ ]":_.squareBracket,"{ }":_.brace}),CU=Nl.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#ClOOQO'#Cr'#CrQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CtOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59W,59WO!iQPO,59WOVQPO,59QOqQPO'#CmO!nQPO,59`OOQO1G.k1G.kOVQPO'#CnO!vQPO,59aOOQO1G.r1G.rOOQO1G.l1G.lOOQO,59X,59XOOQO-E6k-E6kOOQO,59Y,59YOOQO-E6l-E6l",stateData:"#O~OeOS~OQSORSOSSOTSOWQO_ROgPO~OVXOgUO~O^[O~PVO[^O~O]_OVhX~OVaO~O]bO^iX~O^dO~O]_OVha~O]bO^ia~O",goto:"!kjPPPPPPkPPkqwPPPPk{!RPPP!XP!e!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:" JsonText True False Null Number String } { Object Property PropertyName : , ] [ Array",maxTerm:25,nodeProps:[["isolate",-2,6,11,""],["openedBy",7,"{",14,"["],["closedBy",8,"}",15,"]"]],propSources:[TU],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oe~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Og~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zO]~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yO[~~'OO_~~'TO^~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0}),PU=_l.define({name:"json",parser:CU.configure({props:[Kh.add({Object:sc({except:/^\s*\}/}),Array:sc({except:/^\s*\]/})}),Jh.add({"Object Array":xx})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function QU(){return new Ng(PU)}const $U=55,AU=1,RU=56,EU=2,LU=57,_U=3,pT=4,MU=5,Nx=6,$R=7,AR=8,RR=9,ER=10,NU=11,BU=12,IU=13,U0=58,jU=14,DU=15,gT=59,LR=21,ZU=23,_R=24,zU=25,H1=27,MR=28,qU=29,XU=32,VU=35,WU=37,FU=38,YU=0,HU=1,GU={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},UU={dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},mT={dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}};function KU(n){return n==45||n==46||n==58||n>=65&&n<=90||n==95||n>=97&&n<=122||n>=161}let OT=null,bT=null,xT=0;function G1(n,e){let t=n.pos+e;if(xT==t&&bT==n)return OT;let r=n.peek(e),i="";for(;KU(r);)i+=String.fromCharCode(r),r=n.peek(++e);return bT=n,xT=t,OT=i?i.toLowerCase():r==JU||r==eK?void 0:null}const NR=60,ng=62,Bx=47,JU=63,eK=33,tK=45;function vT(n,e){this.name=n,this.parent=e}const nK=[Nx,ER,$R,AR,RR],rK=new mR({start:null,shift(n,e,t,r){return nK.indexOf(e)>-1?new vT(G1(r,1)||"",n):n},reduce(n,e){return e==LR&&n?n.parent:n},reuse(n,e,t,r){let i=e.type.id;return i==Nx||i==WU?new vT(G1(r,1)||"",n):n},strict:!1}),iK=new yr((n,e)=>{if(n.next!=NR){n.next<0&&e.context&&n.acceptToken(U0);return}n.advance();let t=n.next==Bx;t&&n.advance();let r=G1(n,0);if(r===void 0)return;if(!r)return n.acceptToken(t?DU:jU);let i=e.context?e.context.name:null;if(t){if(r==i)return n.acceptToken(NU);if(i&&UU[i])return n.acceptToken(U0,-2);if(e.dialectEnabled(YU))return n.acceptToken(BU);for(let s=e.context;s;s=s.parent)if(s.name==r)return;n.acceptToken(IU)}else{if(r=="script")return n.acceptToken($R);if(r=="style")return n.acceptToken(AR);if(r=="textarea")return n.acceptToken(RR);if(GU.hasOwnProperty(r))return n.acceptToken(ER);i&&mT[i]&&mT[i][r]?n.acceptToken(U0,-1):n.acceptToken(Nx)}},{contextual:!0}),sK=new yr(n=>{for(let e=0,t=0;;t++){if(n.next<0){t&&n.acceptToken(gT);break}if(n.next==tK)e++;else if(n.next==ng&&e>=2){t>=3&&n.acceptToken(gT,-2);break}else e=0;n.advance()}});function oK(n){for(;n;n=n.parent)if(n.name=="svg"||n.name=="math")return!0;return!1}const lK=new yr((n,e)=>{if(n.next==Bx&&n.peek(1)==ng){let t=e.dialectEnabled(HU)||oK(e.context);n.acceptToken(t?MU:pT,2)}else n.next==ng&&n.acceptToken(pT,1)});function Ix(n,e,t){let r=2+n.length;return new yr(i=>{for(let s=0,o=0,l=0;;l++){if(i.next<0){l&&i.acceptToken(e);break}if(s==0&&i.next==NR||s==1&&i.next==Bx||s>=2&&s<r&&i.next==n.charCodeAt(s-2))s++,o++;else if(s==r&&i.next==ng){l>o?i.acceptToken(e,-o):i.acceptToken(t,-(o-2));break}else if((i.next==10||i.next==13)&&l){i.acceptToken(e,1);break}else s=o=0;i.advance()}})}const aK=Ix("script",$U,AU),cK=Ix("style",RU,EU),uK=Ix("textarea",LU,_U),hK=Uh({"Text RawText IncompleteTag IncompleteCloseTag":_.content,"StartTag StartCloseTag SelfClosingEndTag EndTag":_.angleBracket,TagName:_.tagName,"MismatchedCloseTag/TagName":[_.tagName,_.invalid],AttributeName:_.attributeName,"AttributeValue UnquotedAttributeValue":_.attributeValue,Is:_.definitionOperator,"EntityReference CharacterReference":_.character,Comment:_.blockComment,ProcessingInst:_.processingInstruction,DoctypeDecl:_.documentMeta}),fK=Nl.deserialize({version:14,states:",xOVO!rOOO!ZQ#tO'#CrO!`Q#tO'#C{O!eQ#tO'#DOO!jQ#tO'#DRO!oQ#tO'#DTO!tOaO'#CqO#PObO'#CqO#[OdO'#CqO$kO!rO'#CqOOO`'#Cq'#CqO$rO$fO'#DUO$zQ#tO'#DWO%PQ#tO'#DXOOO`'#Dl'#DlOOO`'#DZ'#DZQVO!rOOO%UQ&rO,59^O%aQ&rO,59gO%lQ&rO,59jO%wQ&rO,59mO&SQ&rO,59oOOOa'#D_'#D_O&_OaO'#CyO&jOaO,59]OOOb'#D`'#D`O&rObO'#C|O&}ObO,59]OOOd'#Da'#DaO'VOdO'#DPO'bOdO,59]OOO`'#Db'#DbO'jO!rO,59]O'qQ#tO'#DSOOO`,59],59]OOOp'#Dc'#DcO'vO$fO,59pOOO`,59p,59pO(OQ#|O,59rO(TQ#|O,59sOOO`-E7X-E7XO(YQ&rO'#CtOOQW'#D['#D[O(hQ&rO1G.xOOOa1G.x1G.xOOO`1G/Z1G/ZO(sQ&rO1G/ROOOb1G/R1G/RO)OQ&rO1G/UOOOd1G/U1G/UO)ZQ&rO1G/XOOO`1G/X1G/XO)fQ&rO1G/ZOOOa-E7]-E7]O)qQ#tO'#CzOOO`1G.w1G.wOOOb-E7^-E7^O)vQ#tO'#C}OOOd-E7_-E7_O){Q#tO'#DQOOO`-E7`-E7`O*QQ#|O,59nOOOp-E7a-E7aOOO`1G/[1G/[OOO`1G/^1G/^OOO`1G/_1G/_O*VQ,UO,59`OOQW-E7Y-E7YOOOa7+$d7+$dOOO`7+$u7+$uOOOb7+$m7+$mOOOd7+$p7+$pOOO`7+$s7+$sO*bQ#|O,59fO*gQ#|O,59iO*lQ#|O,59lOOO`1G/Y1G/YO*qO7[O'#CwO+SOMhO'#CwOOQW1G.z1G.zOOO`1G/Q1G/QOOO`1G/T1G/TOOO`1G/W1G/WOOOO'#D]'#D]O+eO7[O,59cOOQW,59c,59cOOOO'#D^'#D^O+vOMhO,59cOOOO-E7Z-E7ZOOQW1G.}1G.}OOOO-E7[-E7[",stateData:",c~O!_OS~OUSOVPOWQOXROYTO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O|_O!eZO~OgaO~OgbO~OgcO~OgdO~OgeO~O!XfOPmP![mP~O!YiOQpP![pP~O!ZlORsP![sP~OUSOVPOWQOXROYTOZqO[]O][O^^O_^Oa^Ob^Oc^Od^Oy^O!eZO~O![rO~P#gO!]sO!fuO~OgvO~OgwO~OS|OT}OiyO~OS!POT}OiyO~OS!ROT}OiyO~OS!TOT}OiyO~OS}OT}OiyO~O!XfOPmX![mX~OP!WO![!XO~O!YiOQpX![pX~OQ!ZO![!XO~O!ZlORsX![sX~OR!]O![!XO~O![!XO~P#gOg!_O~O!]sO!f!aO~OS!bO~OS!cO~Oj!dOShXThXihX~OS!fOT!gOiyO~OS!hOT!gOiyO~OS!iOT!gOiyO~OS!jOT!gOiyO~OS!gOT!gOiyO~Og!kO~Og!lO~Og!mO~OS!nO~Ol!qO!a!oO!c!pO~OS!rO~OS!sO~OS!tO~Ob!uOc!uOd!uO!a!wO!b!uO~Ob!xOc!xOd!xO!c!wO!d!xO~Ob!uOc!uOd!uO!a!{O!b!uO~Ob!xOc!xOd!xO!c!{O!d!xO~OT~cbd!ey|!e~",goto:"%q!aPPPPPPPPPPPPPPPPPPPPP!b!hP!nPP!zP!}#Q#T#Z#^#a#g#j#m#s#y!bP!b!bP$P$V$m$s$y%P%V%]%cPPPPPPPP%iX^OX`pXUOX`pezabcde{!O!Q!S!UR!q!dRhUR!XhXVOX`pRkVR!XkXWOX`pRnWR!XnXXOX`pQrXR!XpXYOX`pQ`ORx`Q{aQ!ObQ!QcQ!SdQ!UeZ!e{!O!Q!S!UQ!v!oR!z!vQ!y!pR!|!yQgUR!VgQjVR!YjQmWR![mQpXR!^pQtZR!`tS_O`ToXp",nodeNames:" StartCloseTag StartCloseTag StartCloseTag EndTag SelfClosingEndTag StartTag StartTag StartTag StartTag StartTag StartCloseTag StartCloseTag StartCloseTag IncompleteTag IncompleteCloseTag Document Text EntityReference CharacterReference InvalidEntity Element OpenTag TagName Attribute AttributeName Is AttributeValue UnquotedAttributeValue ScriptText CloseTag OpenTag StyleText CloseTag OpenTag TextareaText CloseTag OpenTag CloseTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag CloseTag DoctypeDecl",maxTerm:68,context:rK,nodeProps:[["closedBy",-10,1,2,3,7,8,9,10,11,12,13,"EndTag",6,"EndTag SelfClosingEndTag",-4,22,31,34,37,"CloseTag"],["openedBy",4,"StartTag StartCloseTag",5,"StartTag",-4,30,33,36,38,"OpenTag"],["group",-10,14,15,18,19,20,21,40,41,42,43,"Entity",17,"Entity TextContent",-3,29,32,35,"TextContent Entity"],["isolate",-11,22,30,31,33,34,36,37,38,39,42,43,"ltr",-3,27,28,40,""]],propSources:[hK],skippedNodes:[0],repeatNodeCount:9,tokenData:"!<p!aR!YOX$qXY,QYZ,QZ[$q[]&X]^,Q^p$qpq,Qqr-_rs3_sv-_vw3}wxHYx}-_}!OH{!O!P-_!P!Q$q!Q![-_![!]Mz!]!^-_!^!_!$S!_!`!;x!`!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4U-_4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!Z$|caPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr$qrs&}sv$qvw+Pwx(tx!^$q!^!_*V!_!a&X!a#S$q#S#T&X#T;'S$q;'S;=`+z<%lO$q!R&bXaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&Xq'UVaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}P'pTaPOv'kw!^'k!_;'S'k;'S;=`(P<%lO'kP(SP;=`<%l'kp([S!dpOv(Vx;'S(V;'S;=`(h<%lO(Vp(kP;=`<%l(Vq(qP;=`<%l&}a({WaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t`)jT!b`Or)esv)ew;'S)e;'S;=`)y<%lO)e`)|P;=`<%l)ea*SP;=`<%l(t!Q*^V!b`!dpOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!Q*vP;=`<%l*V!R*|P;=`<%l&XW+UYlWOX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+PW+wP;=`<%l+P!Z+}P;=`<%l$q!a,]`aP!b`!dp!_^OX&XXY,QYZ,QZ]&X]^,Q^p&Xpq,Qqr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!_-ljiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q[/ebiSlWOX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+PS0rXiSqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0mS1bP;=`<%l0m[1hP;=`<%l/^!V1vciSaP!b`!dpOq&Xqr1krs&}sv1kvw0mwx(tx!P1k!P!Q&X!Q!^1k!^!_*V!_!a&X!a#s1k#s$f&X$f;'S1k;'S;=`3R<%l?Ah1k?Ah?BY&X?BY?Mn1k?MnO&X!V3UP;=`<%l1k!_3[P;=`<%l-_!Z3hV!ahaP!dpOv&}wx'kx!^&}!^!_(V!_;'S&};'S;=`(n<%lO&}!_4WiiSlWd!ROX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst>]tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^/^!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!Z5zblWOX5uXZ7SZ[5u[^7S^p5uqr5urs7Sst+Ptw5uwx7Sx!]5u!]!^7w!^!a7S!a#S5u#S#T7S#T;'S5u;'S;=`8n<%lO5u!R7VVOp7Sqs7St!]7S!]!^7l!^;'S7S;'S;=`7q<%lO7S!R7qOb!R!R7tP;=`<%l7S!Z8OYlWb!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!Z8qP;=`<%l5u!_8{iiSlWOX5uXZ7SZ[5u[^7S^p5uqr8trs7Sst/^tw8twx7Sx!P8t!P!Q5u!Q!]8t!]!^:j!^!a7S!a#S8t#S#T;{#T#s8t#s$f5u$f;'S8t;'S;=`>V<%l?Ah8t?Ah?BY5u?BY?Mn8t?MnO5u!_:sbiSlWb!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!V<QciSOp7Sqr;{rs7Sst0mtw;{wx7Sx!P;{!P!Q7S!Q!];{!]!^=]!^!a7S!a#s;{#s$f7S$f;'S;{;'S;=`>P<%l?Ah;{?Ah?BY7S?BY?Mn;{?MnO7S!V=dXiSb!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!V>SP;=`<%l;{!_>YP;=`<%l8t!_>dhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^/^!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!Z@TalWOX@OXZAYZ[@O[^AY^p@Oqr@OrsAYsw@OwxAYx!]@O!]!^Az!^!aAY!a#S@O#S#TAY#T;'S@O;'S;=`Bq<%lO@O!RA]UOpAYq!]AY!]!^Ao!^;'SAY;'S;=`At<%lOAY!RAtOc!R!RAwP;=`<%lAY!ZBRYlWc!ROX+PZ[+P^p+Pqr+Psw+Px!^+P!a#S+P#T;'S+P;'S;=`+t<%lO+P!ZBtP;=`<%l@O!_COhiSlWOX@OXZAYZ[@O[^AY^p@OqrBwrsAYswBwwxAYx!PBw!P!Q@O!Q!]Bw!]!^Dj!^!aAY!a#SBw#S#TE{#T#sBw#s$f@O$f;'SBw;'S;=`HS<%l?AhBw?Ah?BY@O?BY?MnBw?MnO@O!_DsbiSlWc!ROX+PZ[+P^p+Pqr/^sw/^x!P/^!P!Q+P!Q!^/^!a#S/^#S#T0m#T#s/^#s$f+P$f;'S/^;'S;=`1e<%l?Ah/^?Ah?BY+P?BY?Mn/^?MnO+P!VFQbiSOpAYqrE{rsAYswE{wxAYx!PE{!P!QAY!Q!]E{!]!^GY!^!aAY!a#sE{#s$fAY$f;'SE{;'S;=`G|<%l?AhE{?Ah?BYAY?BY?MnE{?MnOAY!VGaXiSc!Rqr0msw0mx!P0m!Q!^0m!a#s0m$f;'S0m;'S;=`1_<%l?Ah0m?BY?Mn0m!VHPP;=`<%lE{!_HVP;=`<%lBw!ZHcW!cxaP!b`Or(trs'ksv(tw!^(t!^!_)e!_;'S(t;'S;=`*P<%lO(t!aIYliSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OKQ!O!P-_!P!Q$q!Q!^-_!^!_*V!_!a&X!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!aK_kiSaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx!P-_!P!Q$q!Q!^-_!^!_*V!_!`&X!`!aMS!a#S-_#S#T1k#T#s-_#s$f$q$f;'S-_;'S;=`3X<%l?Ah-_?Ah?BY$q?BY?Mn-_?MnO$q!TM_XaP!b`!dp!fQOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X!aNZ!ZiSgQaPlW!b`!dpOX$qXZ&XZ[$q[^&X^p$qpq&Xqr-_rs&}sv-_vw/^wx(tx}-_}!OMz!O!PMz!P!Q$q!Q![Mz![!]Mz!]!^-_!^!_*V!_!a&X!a!c-_!c!}Mz!}#R-_#R#SMz#S#T1k#T#oMz#o#s-_#s$f$q$f$}-_$}%OMz%O%W-_%W%oMz%o%p-_%p&aMz&a&b-_&b1pMz1p4UMz4U4dMz4d4e-_4e$ISMz$IS$I`-_$I`$IbMz$Ib$Je-_$Je$JgMz$Jg$Kh-_$Kh%#tMz%#t&/x-_&/x&EtMz&Et&FV-_&FV;'SMz;'S;:j!#|;:j;=`3X<%l?&r-_?&r?AhMz?Ah?BY$q?BY?MnMz?MnO$q!a!$PP;=`<%lMz!R!$ZY!b`!dpOq*Vqr!$yrs(Vsv*Vwx)ex!a*V!a!b!4t!b;'S*V;'S;=`*s<%lO*V!R!%Q]!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!%y!O!f*V!f!g!']!g#W*V#W#X!0`#X;'S*V;'S;=`*s<%lO*V!R!&QX!b`!dpOr*Vrs(Vsv*Vwx)ex}*V}!O!&m!O;'S*V;'S;=`*s<%lO*V!R!&vV!b`!dp!ePOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!'dX!b`!dpOr*Vrs(Vsv*Vwx)ex!q*V!q!r!(P!r;'S*V;'S;=`*s<%lO*V!R!(WX!b`!dpOr*Vrs(Vsv*Vwx)ex!e*V!e!f!(s!f;'S*V;'S;=`*s<%lO*V!R!(zX!b`!dpOr*Vrs(Vsv*Vwx)ex!v*V!v!w!)g!w;'S*V;'S;=`*s<%lO*V!R!)nX!b`!dpOr*Vrs(Vsv*Vwx)ex!{*V!{!|!*Z!|;'S*V;'S;=`*s<%lO*V!R!*bX!b`!dpOr*Vrs(Vsv*Vwx)ex!r*V!r!s!*}!s;'S*V;'S;=`*s<%lO*V!R!+UX!b`!dpOr*Vrs(Vsv*Vwx)ex!g*V!g!h!+q!h;'S*V;'S;=`*s<%lO*V!R!+xY!b`!dpOr!+qrs!,hsv!+qvw!-Swx!.[x!`!+q!`!a!/j!a;'S!+q;'S;=`!0Y<%lO!+qq!,mV!dpOv!,hvx!-Sx!`!,h!`!a!-q!a;'S!,h;'S;=`!.U<%lO!,hP!-VTO!`!-S!`!a!-f!a;'S!-S;'S;=`!-k<%lO!-SP!-kO|PP!-nP;=`<%l!-Sq!-xS!dp|POv(Vx;'S(V;'S;=`(h<%lO(Vq!.XP;=`<%l!,ha!.aX!b`Or!.[rs!-Ssv!.[vw!-Sw!`!.[!`!a!.|!a;'S!.[;'S;=`!/d<%lO!.[a!/TT!b`|POr)esv)ew;'S)e;'S;=`)y<%lO)ea!/gP;=`<%l!.[!R!/sV!b`!dp|POr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!0]P;=`<%l!+q!R!0gX!b`!dpOr*Vrs(Vsv*Vwx)ex#c*V#c#d!1S#d;'S*V;'S;=`*s<%lO*V!R!1ZX!b`!dpOr*Vrs(Vsv*Vwx)ex#V*V#V#W!1v#W;'S*V;'S;=`*s<%lO*V!R!1}X!b`!dpOr*Vrs(Vsv*Vwx)ex#h*V#h#i!2j#i;'S*V;'S;=`*s<%lO*V!R!2qX!b`!dpOr*Vrs(Vsv*Vwx)ex#m*V#m#n!3^#n;'S*V;'S;=`*s<%lO*V!R!3eX!b`!dpOr*Vrs(Vsv*Vwx)ex#d*V#d#e!4Q#e;'S*V;'S;=`*s<%lO*V!R!4XX!b`!dpOr*Vrs(Vsv*Vwx)ex#X*V#X#Y!+q#Y;'S*V;'S;=`*s<%lO*V!R!4{Y!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!a!4t!a!b!:]!b;'S!4t;'S;=`!;r<%lO!4tq!5pV!dpOv!5kvx!6Vx!a!5k!a!b!7W!b;'S!5k;'S;=`!8V<%lO!5kP!6YTO!a!6V!a!b!6i!b;'S!6V;'S;=`!7Q<%lO!6VP!6lTO!`!6V!`!a!6{!a;'S!6V;'S;=`!7Q<%lO!6VP!7QOyPP!7TP;=`<%l!6Vq!7]V!dpOv!5kvx!6Vx!`!5k!`!a!7r!a;'S!5k;'S;=`!8V<%lO!5kq!7yS!dpyPOv(Vx;'S(V;'S;=`(h<%lO(Vq!8YP;=`<%l!5ka!8bX!b`Or!8]rs!6Vsv!8]vw!6Vw!a!8]!a!b!8}!b;'S!8];'S;=`!:V<%lO!8]a!9SX!b`Or!8]rs!6Vsv!8]vw!6Vw!`!8]!`!a!9o!a;'S!8];'S;=`!:V<%lO!8]a!9vT!b`yPOr)esv)ew;'S)e;'S;=`)y<%lO)ea!:YP;=`<%l!8]!R!:dY!b`!dpOr!4trs!5ksv!4tvw!6Vwx!8]x!`!4t!`!a!;S!a;'S!4t;'S;=`!;r<%lO!4t!R!;]V!b`!dpyPOr*Vrs(Vsv*Vwx)ex;'S*V;'S;=`*s<%lO*V!R!;uP;=`<%l!4t!V!<TXjSaP!b`!dpOr&Xrs&}sv&Xwx(tx!^&X!^!_*V!_;'S&X;'S;=`*y<%lO&X",tokenizers:[aK,cK,uK,lK,iK,sK,0,1,2,3,4,5],topRules:{Document:[0,16]},dialects:{noMatch:0,selfClosing:515},tokenPrec:517});function BR(n,e){let t=Object.create(null);for(let r of n.getChildren(_R)){let i=r.getChild(zU),s=r.getChild(H1)||r.getChild(MR);i&&(t[e.read(i.from,i.to)]=s?s.type.id==H1?e.read(s.from+1,s.to-1):e.read(s.from,s.to):"")}return t}function yT(n,e){let t=n.getChild(ZU);return t?e.read(t.from,t.to):" "}function K0(n,e,t){let r;for(let i of t)if(!i.attrs||i.attrs(r||(r=BR(n.node.parent.firstChild,e))))return{parser:i.parser};return null}function IR(n=[],e=[]){let t=[],r=[],i=[],s=[];for(let l of n)(l.tag=="script"?t:l.tag=="style"?r:l.tag=="textarea"?i:s).push(l);let o=e.length?Object.create(null):null;for(let l of e)(o[l.name]||(o[l.name]=[])).push(l);return LW((l,a)=>{let u=l.type.id;if(u==qU)return K0(l,a,t);if(u==XU)return K0(l,a,r);if(u==VU)return K0(l,a,i);if(u==LR&&s.length){let h=l.node,d=h.firstChild,p=d&&yT(d,a),g;if(p){for(let b of s)if(b.tag==p&&(!b.attrs||b.attrs(g||(g=BR(d,a))))){let x=h.lastChild,v=x.type.id==FU?x.from:h.to;if(v>d.to)return{parser:b.parser,overlay:[{from:d.to,to:v}]}}}}if(o&&u==_R){let h=l.node,d;if(d=h.firstChild){let p=o[a.read(d.from,d.to)];if(p)for(let g of p){if(g.tagName&&g.tagName!=yT(h.parent,a))continue;let b=h.lastChild;if(b.type.id==H1){let x=b.from+1,v=b.lastChild,w=b.to-(v&&v.isError?0:1);if(w>x)return{parser:g.parser,overlay:[{from:x,to:w}]}}else if(b.type.id==MR)return{parser:g.parser,overlay:[{from:b.from,to:b.to}]}}}}return null})}const dK=122,ST=1,pK=123,gK=124,jR=2,mK=125,OK=3,bK=4,DR=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],xK=58,vK=40,ZR=95,yK=91,np=45,SK=46,wK=35,kK=37,TK=38,CK=92,PK=10,QK=42;function Rh(n){return n>=65&&n<=90||n>=97&&n<=122||n>=161}function jx(n){return n>=48&&n<=57}function wT(n){return jx(n)||n>=97&&n<=102||n>=65&&n<=70}const zR=(n,e,t)=>(r,i)=>{for(let s=!1,o=0,l=0;;l++){let{next:a}=r;if(Rh(a)||a==np||a==ZR||s&&jx(a))!s&&(a!=np||l>0)&&(s=!0),o===l&&a==np&&o++,r.advance();else if(a==CK&&r.peek(1)!=PK){if(r.advance(),wT(r.next)){do r.advance();while(wT(r.next));r.next==32&&r.advance()}else r.next>-1&&r.advance();s=!0}else{s&&r.acceptToken(o==2&&i.canShift(jR)?e:a==vK?t:n);break}}},$K=new yr(zR(pK,jR,gK)),AK=new yr(zR(mK,OK,bK)),RK=new yr(n=>{if(DR.includes(n.peek(-1))){let{next:e}=n;(Rh(e)||e==ZR||e==wK||e==SK||e==QK||e==yK||e==xK&&Rh(n.peek(1))||e==np||e==TK)&&n.acceptToken(dK)}}),EK=new yr(n=>{if(!DR.includes(n.peek(-1))){let{next:e}=n;if(e==kK&&(n.advance(),n.acceptToken(ST)),Rh(e)){do n.advance();while(Rh(n.next)||jx(n.next));n.acceptToken(ST)}}}),LK=Uh({"AtKeyword import charset namespace keyframes media supports":_.definitionKeyword,"from to selector":_.keyword,NamespaceName:_.namespace,KeyframeName:_.labelName,KeyframeRangeName:_.operatorKeyword,TagName:_.tagName,ClassName:_.className,PseudoClassName:_.constant(_.className),IdName:_.labelName,"FeatureName PropertyName":_.propertyName,AttributeName:_.attributeName,NumberLiteral:_.number,KeywordQuery:_.keyword,UnaryQueryOp:_.operatorKeyword,"CallTag ValueName":_.atom,VariableName:_.variableName,Callee:_.operatorKeyword,Unit:_.unit,"UniversalSelector NestingSelector":_.definitionOperator,"MatchOp CompareOp":_.compareOperator,"ChildOp SiblingOp, LogicOp":_.logicOperator,BinOp:_.arithmeticOperator,Important:_.modifier,Comment:_.blockComment,ColorLiteral:_.color,"ParenthesizedContent StringLiteral":_.string,":":_.punctuation,"PseudoOp #":_.derefOperator,"; ,":_.separator,"( )":_.paren,"[ ]":_.squareBracket,"{ }":_.brace}),_K={__proto__:null,lang:38,"nth-child":38,"nth-last-child":38,"nth-of-type":38,"nth-last-of-type":38,dir:38,"host-context":38,if:84,url:124,"url-prefix":124,domain:124,regexp:124},MK={__proto__:null,or:98,and:98,not:106,only:106,layer:170},NK={__proto__:null,selector:112,layer:166},BK={__proto__:null,"@import":162,"@media":174,"@charset":178,"@namespace":182,"@keyframes":188,"@supports":200,"@scope":204},IK={__proto__:null,to:207},jK=Nl.deserialize({version:14,states:"EbQYQdOOO#qQdOOP#xO`OOOOQP'#Cf'#CfOOQP'#Ce'#CeO#}QdO'#ChO$nQaO'#CcO$xQdO'#CkO%TQdO'#DpO%YQdO'#DrO%_QdO'#DuO%_QdO'#DxOOQP'#FV'#FVO&eQhO'#EhOOQS'#FU'#FUOOQS'#Ek'#EkQYQdOOO&lQdO'#EOO&PQhO'#EUO&lQdO'#EWO'aQdO'#EYO'lQdO'#E]O'tQhO'#EcO(VQdO'#EeO(bQaO'#CfO)VQ`O'#D{O)[Q`O'#F`O)gQdO'#F`QOQ`OOP)qO&jO'#CaPOOO)C@t)C@tOOQP'#Cj'#CjOOQP,59S,59SO#}QdO,59SO)|QdO,59VO%TQdO,5:[O%YQdO,5:^O%_QdO,5:aO%_QdO,5:cO%_QdO,5:dO%_QdO'#ErO*XQ`O,58}O*aQdO'#DzOOQS,58},58}OOQP'#Cn'#CnOOQO'#Dn'#DnOOQP,59V,59VO*hQ`O,59VO*mQ`O,59VOOQP'#Dq'#DqOOQP,5:[,5:[OOQO'#Ds'#DsO*rQpO,5:^O+]QaO,5:aO+sQaO,5:dOOQW'#DZ'#DZO,ZQhO'#DdO,xQhO'#FaO'tQhO'#DbO-WQ`O'#DhOOQW'#F['#F[O-]Q`O,5;SO-eQ`O'#DeOOQS-E8i-E8iOOQ['#Cs'#CsO-jQdO'#CtO.QQdO'#CzO.hQdO'#C}O/OQ!pO'#DPO1RQ!jO,5:jOOQO'#DU'#DUO*mQ`O'#DTO1cQ!nO'#FXO3`Q`O'#DVO3eQ`O'#DkOOQ['#FX'#FXO-`Q`O,5:pO3jQ!bO,5:rOOQS'#E['#E[O3rQ`O,5:tO3wQdO,5:tOOQO'#E_'#E_O4PQ`O,5:wO4UQhO,5:}O%_QdO'#DgOOQS,5;P,5;PO-eQ`O,5;PO4^QdO,5;PO4fQdO,5:gO4vQdO'#EtO5TQ`O,5;zO5TQ`O,5;zPOOO'#Ej'#EjP5`O&jO,58{POOO,58{,58{OOQP1G.n1G.nOOQP1G.q1G.qO*hQ`O1G.qO*mQ`O1G.qOOQP1G/v1G/vO5kQpO1G/xO5sQaO1G/{O6ZQaO1G/}O6qQaO1G0OO7XQaO,5;^OOQO-E8p-E8pOOQS1G.i1G.iO7cQ`O,5:fO7hQdO'#DoO7oQdO'#CrOOQP1G/x1G/xO&lQdO1G/xO7vQ!jO'#DZO8UQ!bO,59vO8^QhO,5:OOOQO'#F]'#F]O8XQ!bO,59zO'tQhO,59xO8fQhO'#EvO8sQ`O,5;{O9OQhO,59|O9uQhO'#DiOOQW,5:S,5:SOOQS1G0n1G0nOOQW,5:P,5:PO9|Q!fO'#FYOOQS'#FY'#FYOOQS'#Em'#EmO;^QdO,59`OOQ[,59`,59`O;tQdO,59fOOQ[,59f,59fO<[QdO,59iOOQ[,59i,59iOOQ[,59k,59kO&lQdO,59mO<rQhO'#EQOOQW'#EQ'#EQO=WQ`O1G0UO1[QhO1G0UOOQ[,59o,59oO'tQhO'#DXOOQ[,59q,59qO=]Q#tO,5:VOOQS1G0[1G0[OOQS1G0^1G0^OOQS1G0`1G0`O=hQ`O1G0`O=mQdO'#E`OOQS1G0c1G0cOOQS1G0i1G0iO=xQaO,5:RO-`Q`O1G0kOOQS1G0k1G0kO-eQ`O1G0kO>PQ!fO1G0ROOQO1G0R1G0ROOQO,5;`,5;`O>gQdO,5;`OOQO-E8r-E8rO>tQ`O1G1fPOOO-E8h-E8hPOOO1G.g1G.gOOQP7+$]7+$]OOQP7+%d7+%dO&lQdO7+%dOOQS1G0Q1G0QO?PQaO'#F_O?ZQ`O,5:ZO?`Q!fO'#ElO@^QdO'#FWO@hQ`O,59^O@mQ!bO7+%dO&lQdO1G/bO@uQhO1G/fOOQW1G/j1G/jOOQW1G/d1G/dOAWQhO,5;bOOQO-E8t-E8tOAfQhO'#DZOAtQhO'#F^OBPQ`O'#F^OBUQ`O,5:TOOQS-E8k-E8kOOQ[1G.z1G.zOOQ[1G/Q1G/QOOQ[1G/T1G/TOOQ[1G/X1G/XOBZQdO,5:lOOQS7+%p7+%pOB`Q`O7+%pOBeQhO'#DYOBmQ`O,59sO'tQhO,59sOOQ[1G/q1G/qOBuQ`O1G/qOOQS7+%z7+%zOBzQbO'#DPOOQO'#Eb'#EbOCYQ`O'#EaOOQO'#Ea'#EaOCeQ`O'#EwOCmQdO,5:zOOQS,5:z,5:zOOQ[1G/m1G/mOOQS7+&V7+&VO-`Q`O7+&VOCxQ!fO'#EsO&lQdO'#EsOEPQdO7+%mOOQO7+%m7+%mOOQO1G0z1G0zOEdQ!bO<<IOOElQdO'#EqOEvQ`O,5;yOOQP1G/u1G/uOOQS-E8j-E8jOFOQdO'#EpOFYQ`O,5;rOOQ]1G.x1G.xOOQP<<IO<<IOOFbQdO7+$|OOQO'#D]'#D]OFiQ!bO7+%QOFqQhO'#EoOF{Q`O,5;xO&lQdO,5;xOOQW1G/o1G/oOOQO'#ES'#ESOGTQ`O1G0WOOQS<<I[<<I[O&lQdO,59tOGnQhO1G/_OOQ[1G/_1G/_OGuQ`O1G/_OOQW-E8l-E8lOOQ[7+%]7+%]OOQO,5:{,5:{O=pQdO'#ExOCeQ`O,5;cOOQS,5;c,5;cOOQS-E8u-E8uOOQS1G0f1G0fOOQS<<Iq<<IqOG}Q!fO,5;_OOQS-E8q-E8qOOQO<<IX<<IXOOQPAN>jAN>jOIUQaO,5;]OOQO-E8o-E8oOI`QdO,5;[OOQO-E8n-E8nOOQW<<Hh<<HhOOQW<<Hl<<HlOIjQhO<<HlOI{QhO,5;ZOJWQ`O,5;ZOOQO-E8m-E8mOJ]QdO1G1dOBZQdO'#EuOJgQ`O7+%rOOQW7+%r7+%rOJoQ!bO1G/`OOQ[7+$y7+$yOJzQhO7+$yPKRQ`O'#EnOOQO,5;d,5;dOOQO-E8v-E8vOOQS1G0}1G0}OKWQ`OAN>WO&lQdO1G0uOK]Q`O7+'OOOQO,5;a,5;aOOQO-E8s-E8sOOQW<<I^<<I^OOQ[<<He<<HePOQW,5;Y,5;YOOQWG23rG23rOKeQdO7+&a",stateData:"Kx~O#sOS#tQQ~OW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#oRO~OQiOW[OZ[O]TO`VOaVOi]OjWOmXO!jYO!mZO!saO!ybO!{cO!}dO#QeO#WfO#YgO#ohO~O#m$SP~P!dO#tmO~O#ooO~O]qO`rOarOjsOmtO!juO!mwO#nvO~OpzO!^xO~P$SOc!QO#o|O#p}O~O#o!RO~O#o!TO~OW[OZ[O]TO`VOaVOjWOmXO!jYO!mZO#oRO~OS!]Oe!YO!V![O!Y!`O#q!XOp$TP~Ok$TP~P&POQ!jOe!cOm!dOp!eOr!mOt!mOz!kO!`!lO#o!bO#p!hO#}!fO~Ot!qO!`!lO#o!pO~Ot!sO#o!sO~OS!]Oe!YO!V![O!Y!`O#q!XO~Oe!vOpzO#Z!xO~O]YX`YX`!pXaYXjYXmYXpYX!^YX!jYX!mYX#nYX~O`!zO~Ok!{O#m$SXo$SX~O#m$SXo$SX~P!dO#u#OO#v#OO#w#QO~Oc#UO#o|O#p}O~OpzO!^xO~Oo$SP~P!dOe#`O~Oe#aO~Ol#bO!h#cO~O]qO`rOarOjsOmtO~Op!ia!^!ia!j!ia!m!ia#n!iad!ia~P*zOp!la!^!la!j!la!m!la#n!lad!la~P*zOR#gOS!]Oe!YOr#gOt#gO!V![O!Y!`O#q#dO#}!fO~O!R#iO!^#jOk$TXp$TX~Oe#mO~Ok#oOpzO~Oe!vO~O]#rO`#rOd#uOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl#wO~P&lO]#rO`#rOi#rOj#rOk#rOo#yO~P&lOP#zOSsXesXksXvsX!VsX!YsX!usX!wsX#qsX!TsXQsX]sX`sXdsXisXjsXmsXpsXrsXtsXzsX!`sX#osX#psX#}sXlsXosX!^sX!qsX#msX~Ov#{O!u#|O!w#}Ok$TP~P'tOe#aOS#{Xk#{Xv#{X!V#{X!Y#{X!u#{X!w#{X#q#{XQ#{X]#{X`#{Xd#{Xi#{Xj#{Xm#{Xp#{Xr#{Xt#{Xz#{X!`#{X#o#{X#p#{X#}#{Xl#{Xo#{X!^#{X!q#{X#m#{X~Oe$RO~Oe$TO~Ok$VOv#{O~Ok$WO~Ot$XO!`!lO~Op$YO~OpzO!R#iO~OpzO#Z$`O~O!q$bOk!oa#m!oao!oa~P&lOk#hX#m#hXo#hX~P!dOk!{O#m$Sao$Sa~O#u#OO#v#OO#w$hO~Ol$jO!h$kO~Op!ii!^!ii!j!ii!m!ii#n!iid!ii~P*zOp!ki!^!ki!j!ki!m!ki#n!kid!ki~P*zOp!li!^!li!j!li!m!li#n!lid!li~P*zOp#fa!^#fa~P$SOo$lO~Od$RP~P%_Od#zP~P&lO`!PXd}X!R}X!T!PX~O`$sO!T$tO~Od$uO!R#iO~Ok#jXp#jX!^#jX~P'tO!^#jOk$Tap$Ta~O!R#iOk!Uap!Ua!^!Uad!Ua`!Ua~OS!]Oe!YO!V![O!Y!`O#q$yO~Od$QP~P9dOv#{OQ#|X]#|X`#|Xd#|Xe#|Xi#|Xj#|Xk#|Xm#|Xp#|Xr#|Xt#|Xz#|X!`#|X#o#|X#p#|X#}#|Xl#|Xo#|X~O]#rO`#rOd%OOi#rOj#rOk#rO~P&lO]#rO`#rOi#rOj#rOk#rOl%PO~P&lO]#rO`#rOi#rOj#rOk#rOo%QO~P&lOe%SOS!tXk!tX!V!tX!Y!tX#q!tX~Ok%TO~Od%YOt%ZO!a%ZO~Ok%[O~Oo%cO#o%^O#}%]O~Od%dO~P$SOv#{O!^%hO!q%jOk!oi#m!oio!oi~P&lOk#ha#m#hao#ha~P!dOk!{O#m$Sio$Si~O!^%mOd$RX~P$SOd%oO~Ov#{OQ#`Xd#`Xe#`Xm#`Xp#`Xr#`Xt#`Xz#`X!^#`X!`#`X#o#`X#p#`X#}#`X~O!^%qOd#zX~P&lOd%sO~Ol%tOv#{O~OR#gOr#gOt#gO#q%vO#}!fO~O!R#iOk#jap#ja!^#ja~O`!PXd}X!R}X!^}X~O!R#iO!^%xOd$QX~O`%zO~Od%{O~O#o%|O~Ok&OO~O`&PO!R#iO~Od&ROk&QO~Od&UO~OP#zOpsX!^sXdsX~O#}%]Op#TX!^#TX~OpzO!^&WO~Oo&[O#o%^O#}%]O~Ov#{OQ#gXe#gXk#gXm#gXp#gXr#gXt#gXz#gX!^#gX!`#gX!q#gX#m#gX#o#gX#p#gX#}#gXo#gX~O!^%hO!q&`Ok!oq#m!oqo!oq~P&lOl&aOv#{O~Od#eX!^#eX~P%_O!^%mOd$Ra~Od#dX!^#dX~P&lO!^%qOd#za~Od&fO~P&lOd&gO!T&hO~Od#cX!^#cX~P9dO!^%xOd$Qa~O]&mOd&oO~OS#bae#ba!V#ba!Y#ba#q#ba~Od&qO~PG]Od&qOk&rO~Ov#{OQ#gae#gak#gam#gap#gar#gat#gaz#ga!^#ga!`#ga!q#ga#m#ga#o#ga#p#ga#}#gao#ga~Od#ea!^#ea~P$SOd#da!^#da~P&lOR#gOr#gOt#gO#q%vO#}%]O~O!R#iOd#ca!^#ca~O`&xO~O!^%xOd$Qi~P&lO]&mOd&|O~Ov#{Od|ik|i~Od&}O~PG]Ok'OO~Od'PO~O!^%xOd$Qq~Od#cq!^#cq~P&lO#s!a#t#}]#}v!m~",goto:"2h$UPPPPP$VP$YP$c$uP$cP%X$cPP%_PPP%e%o%oPPPPP%oPP%oP&]P%oP%o'W%oP't'w'}'}(^'}P'}P'}P'}'}P(m'}(yP(|PP)p)v$c)|$c*SP$cP$c$cP*Y*{+YP$YP+aP+dP$YP$YP$YP+j$YP+m+p+s+z$YP$YPP$YP,P,V,f,|-[-b-l-r-x.O.U.`.f.l.rPPPPPPPPPPP.x/R/w/z0|P1U1u2O2R2U2[RnQ_^OP`kz!{$dq[OPYZ`kuvwxz!v!{#`$d%mqSOPYZ`kuvwxz!v!{#`$d%mQpTR#RqQ!OVR#SrQ#S!QS$Q!i!jR$i#U!V!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'Q!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QU#g!Y$t&hU%`$Y%b&WR&V%_!V!iac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QR$S!kQ%W$RR&S%Xk!^]bf!Y![!g#i#j#m$P$R%X%xQ#e!YQ${#mQ%w$tQ&j%xR&w&hQ!ygQ#p!`Q$^!xR%f$`R#n!]!U!mac!c!d!e!z#a#c#t#v#x#{$a$k$p$s%h%i%q%u%z&P&d&l&x'QQ!qdR$X!rQ!PVR#TrQ#S!PR$i#TQ!SWR#VsQ!UXR#WtQ{UQ!wgQ#^yQ#o!_Q$U!nQ$[!uQ$_!yQ%e$^Q&Y%aQ&]%fR&v&XSjPzQ!}kQ$c!{R%k$dZiPkz!{$dR$P!gQ%}%SR&z&mR!rdR!teR$Z!tS%a$Y%bR&t&WV%_$Y%b&WQ#PmR$g#PQ`OSkPzU!a`k$dR$d!{Q$p#aY%p$p%u&d&l'QQ%u$sQ&d%qQ&l%zR'Q&xQ#t!cQ#v!dQ#x!eV$}#t#v#xQ%X$RR&T%XQ%y$zS&k%y&yR&y&lQ%r$pR&e%rQ%n$mR&c%nQyUR#]yQ%i$aR&_%iQ!|jS$e!|$fR$f!}Q&n%}R&{&nQ#k!ZR$x#kQ%b$YR&Z%bQ&X%aR&u&X__OP`kz!{$d^UOP`kz!{$dQ!VYQ!WZQ#XuQ#YvQ#ZwQ#[xQ$]!vQ$m#`R&b%mR$q#aQ!gaQ!oc[#q!c!d!e#t#v#xQ$a!zd$o#a$p$s%q%u%z&d&l&x'QQ$r#cQ%R#{S%g$a%iQ%l$kQ&^%hR&p&P]#s!c!d!e#t#v#xW!Z]b!g$PQ!ufQ#f!YQ#l![Q$v#iQ$w#jQ$z#mS%V$R%XR&i%xQ#h!YQ%w$tR&w&hR$|#mR$n#`QlPR#_zQ!_]Q!nbQ$O!gR%U$P",nodeNames:" Unit VariableName VariableName QueryCallee Comment StyleSheet RuleSet UniversalSelector TagSelector TagName NestingSelector ClassSelector . ClassName PseudoClassSelector : :: PseudoClassName PseudoClassName ) ( ArgList ValueName ParenthesizedValue AtKeyword # ; ] [ BracketedValue } { BracedValue ColorLiteral NumberLiteral StringLiteral BinaryExpression BinOp CallExpression Callee IfExpression if ArgList IfBranch KeywordQuery FeatureQuery FeatureName BinaryQuery LogicOp ComparisonQuery CompareOp UnaryQuery UnaryQueryOp ParenthesizedQuery SelectorQuery selector ParenthesizedSelector CallQuery ArgList , CallLiteral CallTag ParenthesizedContent PseudoClassName ArgList IdSelector IdName AttributeSelector AttributeName MatchOp ChildSelector ChildOp DescendantSelector SiblingSelector SiblingOp Block Declaration PropertyName Important ImportStatement import Layer layer LayerName layer MediaStatement media CharsetStatement charset NamespaceStatement namespace NamespaceName KeyframesStatement keyframes KeyframeName KeyframeList KeyframeSelector KeyframeRangeName SupportsStatement supports ScopeStatement scope to AtRule Styles",maxTerm:143,nodeProps:[["isolate",-2,5,36,""],["openedBy",20,"(",28,"[",31,"{"],["closedBy",21,")",29,"]",32,"}"]],propSources:[LK],skippedNodes:[0,5,106],repeatNodeCount:15,tokenData:"JQ~R!YOX$qX^%i^p$qpq%iqr({rs-ust/itu6Wuv$qvw7Qwx7cxy9Qyz9cz{9h{|:R|}>t}!O?V!O!P?t!P!Q@]!Q![AU![!]BP!]!^B{!^!_C^!_!`DY!`!aDm!a!b$q!b!cEn!c!}$q!}#OG{#O#P$q#P#QH^#Q#R6W#R#o$q#o#pHo#p#q6W#q#rIQ#r#sIc#s#y$q#y#z%i#z$f$q$f$g%i$g#BY$q#BY#BZ%i#BZ$IS$q$IS$I_%i$I_$I|$q$I|$JO%i$JO$JT$q$JT$JU%i$JU$KV$q$KV$KW%i$KW&FU$q&FU&FV%i&FV;'S$q;'S;=`Iz<%lO$q`$tSOy%Qz;'S%Q;'S;=`%c<%lO%Q`%VS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q`%fP;=`<%l%Q~%nh#s~OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Q~'ah#s~!a`OX%QX^'Y^p%Qpq'Yqy%Qz#y%Q#y#z'Y#z$f%Q$f$g'Y$g#BY%Q#BY#BZ'Y#BZ$IS%Q$IS$I_'Y$I_$I|%Q$I|$JO'Y$JO$JT%Q$JT$JU'Y$JU$KV%Q$KV$KW'Y$KW&FU%Q&FU&FV'Y&FV;'S%Q;'S;=`%c<%lO%Qj)OUOy%Qz#]%Q#]#^)b#^;'S%Q;'S;=`%c<%lO%Qj)gU!a`Oy%Qz#a%Q#a#b)y#b;'S%Q;'S;=`%c<%lO%Qj*OU!a`Oy%Qz#d%Q#d#e*b#e;'S%Q;'S;=`%c<%lO%Qj*gU!a`Oy%Qz#c%Q#c#d*y#d;'S%Q;'S;=`%c<%lO%Qj+OU!a`Oy%Qz#f%Q#f#g+b#g;'S%Q;'S;=`%c<%lO%Qj+gU!a`Oy%Qz#h%Q#h#i+y#i;'S%Q;'S;=`%c<%lO%Qj,OU!a`Oy%Qz#T%Q#T#U,b#U;'S%Q;'S;=`%c<%lO%Qj,gU!a`Oy%Qz#b%Q#b#c,y#c;'S%Q;'S;=`%c<%lO%Qj-OU!a`Oy%Qz#h%Q#h#i-b#i;'S%Q;'S;=`%c<%lO%Qj-iS!qY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Q~-xWOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c<%lO-u~.gOt~~.jRO;'S-u;'S;=`.s;=`O-u~.vXOY-uZr-urs.bs#O-u#O#P.g#P;'S-u;'S;=`/c;=`<%l-u<%lO-u~/fP;=`<%l-uj/nYjYOy%Qz!Q%Q!Q![0^![!c%Q!c!i0^!i#T%Q#T#Z0^#Z;'S%Q;'S;=`%c<%lO%Qj0cY!a`Oy%Qz!Q%Q!Q![1R![!c%Q!c!i1R!i#T%Q#T#Z1R#Z;'S%Q;'S;=`%c<%lO%Qj1WY!a`Oy%Qz!Q%Q!Q![1v![!c%Q!c!i1v!i#T%Q#T#Z1v#Z;'S%Q;'S;=`%c<%lO%Qj1}YrY!a`Oy%Qz!Q%Q!Q![2m![!c%Q!c!i2m!i#T%Q#T#Z2m#Z;'S%Q;'S;=`%c<%lO%Qj2tYrY!a`Oy%Qz!Q%Q!Q![3d![!c%Q!c!i3d!i#T%Q#T#Z3d#Z;'S%Q;'S;=`%c<%lO%Qj3iY!a`Oy%Qz!Q%Q!Q![4X![!c%Q!c!i4X!i#T%Q#T#Z4X#Z;'S%Q;'S;=`%c<%lO%Qj4`YrY!a`Oy%Qz!Q%Q!Q![5O![!c%Q!c!i5O!i#T%Q#T#Z5O#Z;'S%Q;'S;=`%c<%lO%Qj5TY!a`Oy%Qz!Q%Q!Q![5s![!c%Q!c!i5s!i#T%Q#T#Z5s#Z;'S%Q;'S;=`%c<%lO%Qj5zSrY!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qd6ZUOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qd6tS!hS!a`Oy%Qz;'S%Q;'S;=`%c<%lO%Qb7VSZQOy%Qz;'S%Q;'S;=`%c<%lO%Q~7fWOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z<%lO7c~8RRO;'S7c;'S;=`8[;=`O7c~8_XOY7cZw7cwx.bx#O7c#O#P8O#P;'S7c;'S;=`8z;=`<%l7c<%lO7c~8}P;=`<%l7cj9VSeYOy%Qz;'S%Q;'S;=`%c<%lO%Q~9hOd~n9oUWQvWOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Qj:YWvW!mQOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj:wU!a`Oy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Qj;bY!a`#}YOy%Qz!Q%Q!Q![;Z![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj<VY!a`Oy%Qz{%Q{|<u|}%Q}!O<u!O!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj<zU!a`Oy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj=eU!a`#}YOy%Qz!Q%Q!Q![=^![;'S%Q;'S;=`%c<%lO%Qj>O[!a`#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%Qj>yS!^YOy%Qz;'S%Q;'S;=`%c<%lO%Qj?[WvWOy%Qz!O%Q!O!P:r!P!Q%Q!Q![=w![;'S%Q;'S;=`%c<%lO%Qj?yU]YOy%Qz!Q%Q!Q![;Z![;'S%Q;'S;=`%c<%lO%Q~@bTvWOy%Qz{@q{;'S%Q;'S;=`%c<%lO%Q~@xS!a`#t~Oy%Qz;'S%Q;'S;=`%c<%lO%QjAZ[#}YOy%Qz!O%Q!O!P;Z!P!Q%Q!Q![=w![!g%Q!g!h<Q!h#X%Q#X#Y<Q#Y;'S%Q;'S;=`%c<%lO%QjBUU`YOy%Qz![%Q![!]Bh!];'S%Q;'S;=`%c<%lO%QbBoSaQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjCQSkYOy%Qz;'S%Q;'S;=`%c<%lO%QhCcU!TWOy%Qz!_%Q!_!`Cu!`;'S%Q;'S;=`%c<%lO%QhC|S!TW!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QlDaS!TW!hSOy%Qz;'S%Q;'S;=`%c<%lO%QjDtV!jQ!TWOy%Qz!_%Q!_!`Cu!`!aEZ!a;'S%Q;'S;=`%c<%lO%QbEbS!jQ!a`Oy%Qz;'S%Q;'S;=`%c<%lO%QjEqYOy%Qz}%Q}!OFa!O!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjFfW!a`Oy%Qz!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjGV[iY!a`Oy%Qz}%Q}!OGO!O!Q%Q!Q![GO![!c%Q!c!}GO!}#T%Q#T#oGO#o;'S%Q;'S;=`%c<%lO%QjHQSmYOy%Qz;'S%Q;'S;=`%c<%lO%QnHcSl^Oy%Qz;'S%Q;'S;=`%c<%lO%QjHtSpYOy%Qz;'S%Q;'S;=`%c<%lO%QjIVSoYOy%Qz;'S%Q;'S;=`%c<%lO%QfIhU!mQOy%Qz!_%Q!_!`6m!`;'S%Q;'S;=`%c<%lO%Q`I}P;=`<%l$q",tokenizers:[RK,EK,$K,AK,1,2,3,4,new tg("m~RRYZ[z{a~~g~aO#v~~dP!P!Qg~lO#w~~",28,129)],topRules:{StyleSheet:[0,6],Styles:[1,105]},specialized:[{term:124,get:n=>_K[n]||-1},{term:125,get:n=>MK[n]||-1},{term:4,get:n=>NK[n]||-1},{term:25,get:n=>BK[n]||-1},{term:123,get:n=>IK[n]||-1}],tokenPrec:1963});let J0=null;function eO(){if(!J0&&typeof document=="object"&&document.body){let{style:n}=document.body,e=[],t=new Set;for(let r in n)r!="cssText"&&r!="cssFloat"&&typeof n[r]=="string"&&(/[A-Z]/.test(r)&&(r=r.replace(/[A-Z]/g,i=>"-"+i.toLowerCase())),t.has(r)||(e.push(r),t.add(r)));J0=e.sort().map(r=>({type:"property",label:r,apply:r+": "}))}return J0||[]}const kT=["active","after","any-link","autofill","backdrop","before","checked","cue","default","defined","disabled","empty","enabled","file-selector-button","first","first-child","first-letter","first-line","first-of-type","focus","focus-visible","focus-within","fullscreen","has","host","host-context","hover","in-range","indeterminate","invalid","is","lang","last-child","last-of-type","left","link","marker","modal","not","nth-child","nth-last-child","nth-last-of-type","nth-of-type","only-child","only-of-type","optional","out-of-range","part","placeholder","placeholder-shown","read-only","read-write","required","right","root","scope","selection","slotted","target","target-text","valid","visited","where"].map(n=>({type:"class",label:n})),TT=["above","absolute","activeborder","additive","activecaption","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","antialiased","appworkspace","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic-abegede-gez","ethiopic-halehame-aa-er","ethiopic-halehame-gez","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","graytext","grid","groove","hand","hard-light","help","hidden","hide","higher","highlight","highlighttext","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","justify","keep-all","landscape","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-hexadecimal","lower-latin","lower-norwegian","lowercase","ltr","luminosity","manipulation","match","matrix","matrix3d","medium","menu","menutext","message-box","middle","min-intrinsic","mix","monospace","move","multiple","multiple_mask_images","multiply","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","opacity","open-quote","optimizeLegibility","optimizeSpeed","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","self-start","self-end","semi-condensed","semi-expanded","separate","serif","show","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","text","text-bottom","text-top","textarea","textfield","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","to","top","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-latin","uppercase","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"].map(n=>({type:"keyword",label:n})).concat(["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"].map(n=>({type:"constant",label:n}))),DK=["a","abbr","address","article","aside","b","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","dd","del","details","dfn","dialog","div","dl","dt","em","figcaption","figure","footer","form","header","hgroup","h1","h2","h3","h4","h5","h6","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","main","meter","nav","ol","output","p","pre","ruby","section","select","small","source","span","strong","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","tr","u","ul"].map(n=>({type:"type",label:n})),ZK=["@charset","@color-profile","@container","@counter-style","@font-face","@font-feature-values","@font-palette-values","@import","@keyframes","@layer","@media","@namespace","@page","@position-try","@property","@scope","@starting-style","@supports","@view-transition"].map(n=>({type:"keyword",label:n})),xs=/^(\w[\w-]*|-\w[\w-]*|)$/,zK=/^-(-[\w-]*)?$/;function qK(n,e){var t;if((n.name=="("||n.type.isError)&&(n=n.parent||n),n.name!="ArgList")return!1;let r=(t=n.parent)===null||t===void 0?void 0:t.firstChild;return r?.name!="Callee"?!1:e.sliceString(r.from,r.to)=="var"}const CT=new W$,XK=["Declaration"];function VK(n){for(let e=n;;){if(e.type.isTop)return e;if(!(e=e.parent))return n}}function qR(n,e,t){if(e.to-e.from>4096){let r=CT.get(e);if(r)return r;let i=[],s=new Set,o=e.cursor($t.IncludeAnonymous);if(o.firstChild())do for(let l of qR(n,o.node,t))s.has(l.label)||(s.add(l.label),i.push(l));while(o.nextSibling());return CT.set(e,i),i}else{let r=[],i=new Set;return e.cursor().iterate(s=>{var o;if(t(s)&&s.matchContext(XK)&&((o=s.node.nextSibling)===null||o===void 0?void 0:o.name)==":"){let l=n.sliceString(s.from,s.to);i.has(l)||(i.add(l),r.push({label:l,type:"variable"}))}}),r}}const WK=n=>e=>{let{state:t,pos:r}=e,i=qt(t).resolveInner(r,-1),s=i.type.isError&&i.from==i.to-1&&t.doc.sliceString(i.from,i.to)=="-";if(i.name=="PropertyName"||(s||i.name=="TagName")&&/^(Block|Styles)$/.test(i.resolve(i.to).name))return{from:i.from,options:eO(),validFor:xs};if(i.name=="ValueName")return{from:i.from,options:TT,validFor:xs};if(i.name=="PseudoClassName")return{from:i.from,options:kT,validFor:xs};if(n(i)||(e.explicit||s)&&qK(i,t.doc))return{from:n(i)||s?i.from:r,options:qR(t.doc,VK(i),n),validFor:zK};if(i.name=="TagName"){for(let{parent:a}=i;a;a=a.parent)if(a.name=="Block")return{from:i.from,options:eO(),validFor:xs};return{from:i.from,options:DK,validFor:xs}}if(i.name=="AtKeyword")return{from:i.from,options:ZK,validFor:xs};if(!e.explicit)return null;let o=i.resolve(r),l=o.childBefore(r);return l&&l.name==":"&&o.name=="PseudoClassSelector"?{from:r,options:kT,validFor:xs}:l&&l.name==":"&&o.name=="Declaration"||o.name=="ArgList"?{from:r,options:TT,validFor:xs}:o.name=="Block"||o.name=="Styles"?{from:r,options:eO(),validFor:xs}:null},FK=WK(n=>n.name=="VariableName"),rg=_l.define({name:"css",parser:jK.configure({props:[Kh.add({Declaration:sc()}),Jh.add({"Block KeyframeList":xx})]}),languageData:{commentTokens:{block:{open:"/*",close:"*/"}},indentOnInput:/^\s*\}$/,wordChars:"-"}});function YK(){return new Ng(rg,rg.data.of({autocomplete:FK}))}const Ru=["_blank","_self","_top","_parent"],tO=["ascii","utf-8","utf-16","latin1","latin1"],nO=["get","post","put","delete"],rO=["application/x-www-form-urlencoded","multipart/form-data","text/plain"],pr=["true","false"],Le={},HK={a:{attrs:{href:null,ping:null,type:null,media:null,target:Ru,hreflang:null}},abbr:Le,address:Le,area:{attrs:{alt:null,coords:null,href:null,target:null,ping:null,media:null,hreflang:null,type:null,shape:["default","rect","circle","poly"]}},article:Le,aside:Le,audio:{attrs:{src:null,mediagroup:null,crossorigin:["anonymous","use-credentials"],preload:["none","metadata","auto"],autoplay:["autoplay"],loop:["loop"],controls:["controls"]}},b:Le,base:{attrs:{href:null,target:Ru}},bdi:Le,bdo:Le,blockquote:{attrs:{cite:null}},body:Le,br:Le,button:{attrs:{form:null,formaction:null,name:null,value:null,autofocus:["autofocus"],disabled:["autofocus"],formenctype:rO,formmethod:nO,formnovalidate:["novalidate"],formtarget:Ru,type:["submit","reset","button"]}},canvas:{attrs:{width:null,height:null}},caption:Le,center:Le,cite:Le,code:Le,col:{attrs:{span:null}},colgroup:{attrs:{span:null}},command:{attrs:{type:["command","checkbox","radio"],label:null,icon:null,radiogroup:null,command:null,title:null,disabled:["disabled"],checked:["checked"]}},data:{attrs:{value:null}},datagrid:{attrs:{disabled:["disabled"],multiple:["multiple"]}},datalist:{attrs:{data:null}},dd:Le,del:{attrs:{cite:null,datetime:null}},details:{attrs:{open:["open"]}},dfn:Le,div:Le,dl:Le,dt:Le,em:Le,embed:{attrs:{src:null,type:null,width:null,height:null}},eventsource:{attrs:{src:null}},fieldset:{attrs:{disabled:["disabled"],form:null,name:null}},figcaption:Le,figure:Le,footer:Le,form:{attrs:{action:null,name:null,"accept-charset":tO,autocomplete:["on","off"],enctype:rO,method:nO,novalidate:["novalidate"],target:Ru}},h1:Le,h2:Le,h3:Le,h4:Le,h5:Le,h6:Le,head:{children:["title","base","link","style","meta","script","noscript","command"]},header:Le,hgroup:Le,hr:Le,html:{attrs:{manifest:null}},i:Le,iframe:{attrs:{src:null,srcdoc:null,name:null,width:null,height:null,sandbox:["allow-top-navigation","allow-same-origin","allow-forms","allow-scripts"],seamless:["seamless"]}},img:{attrs:{alt:null,src:null,ismap:null,usemap:null,width:null,height:null,crossorigin:["anonymous","use-credentials"]}},input:{attrs:{alt:null,dirname:null,form:null,formaction:null,height:null,list:null,max:null,maxlength:null,min:null,name:null,pattern:null,placeholder:null,size:null,src:null,step:null,value:null,width:null,accept:["audio/*","video/*","image/*"],autocomplete:["on","off"],autofocus:["autofocus"],checked:["checked"],disabled:["disabled"],formenctype:rO,formmethod:nO,formnovalidate:["novalidate"],formtarget:Ru,multiple:["multiple"],readonly:["readonly"],required:["required"],type:["hidden","text","search","tel","url","email","password","datetime","date","month","week","time","datetime-local","number","range","color","checkbox","radio","file","submit","image","reset","button"]}},ins:{attrs:{cite:null,datetime:null}},kbd:Le,keygen:{attrs:{challenge:null,form:null,name:null,autofocus:["autofocus"],disabled:["disabled"],keytype:["RSA"]}},label:{attrs:{for:null,form:null}},legend:Le,li:{attrs:{value:null}},link:{attrs:{href:null,type:null,hreflang:null,media:null,sizes:["all","16x16","16x16 32x32","16x16 32x32 64x64"]}},map:{attrs:{name:null}},mark:Le,menu:{attrs:{label:null,type:["list","context","toolbar"]}},meta:{attrs:{content:null,charset:tO,name:["viewport","application-name","author","description","generator","keywords"],"http-equiv":["content-language","content-type","default-style","refresh"]}},meter:{attrs:{value:null,min:null,low:null,high:null,max:null,optimum:null}},nav:Le,noscript:Le,object:{attrs:{data:null,type:null,name:null,usemap:null,form:null,width:null,height:null,typemustmatch:["typemustmatch"]}},ol:{attrs:{reversed:["reversed"],start:null,type:["1","a","A","i","I"]},children:["li","script","template","ul","ol"]},optgroup:{attrs:{disabled:["disabled"],label:null}},option:{attrs:{disabled:["disabled"],label:null,selected:["selected"],value:null}},output:{attrs:{for:null,form:null,name:null}},p:Le,param:{attrs:{name:null,value:null}},pre:Le,progress:{attrs:{value:null,max:null}},q:{attrs:{cite:null}},rp:Le,rt:Le,ruby:Le,samp:Le,script:{attrs:{type:["text/javascript"],src:null,async:["async"],defer:["defer"],charset:tO}},section:Le,select:{attrs:{form:null,name:null,size:null,autofocus:["autofocus"],disabled:["disabled"],multiple:["multiple"]}},slot:{attrs:{name:null}},small:Le,source:{attrs:{src:null,type:null,media:null}},span:Le,strong:Le,style:{attrs:{type:["text/css"],media:null,scoped:null}},sub:Le,summary:Le,sup:Le,table:Le,tbody:Le,td:{attrs:{colspan:null,rowspan:null,headers:null}},template:Le,textarea:{attrs:{dirname:null,form:null,maxlength:null,name:null,placeholder:null,rows:null,cols:null,autofocus:["autofocus"],disabled:["disabled"],readonly:["readonly"],required:["required"],wrap:["soft","hard"]}},tfoot:Le,th:{attrs:{colspan:null,rowspan:null,headers:null,scope:["row","col","rowgroup","colgroup"]}},thead:Le,time:{attrs:{datetime:null}},title:Le,tr:Le,track:{attrs:{src:null,label:null,default:null,kind:["subtitles","captions","descriptions","chapters","metadata"],srclang:null}},ul:{children:["li","script","template","ul","ol"]},var:Le,video:{attrs:{src:null,poster:null,width:null,height:null,crossorigin:["anonymous","use-credentials"],preload:["auto","metadata","none"],autoplay:["autoplay"],mediagroup:["movie"],muted:["muted"],controls:["controls"]}},wbr:Le},XR={accesskey:null,class:null,contenteditable:pr,contextmenu:null,dir:["ltr","rtl","auto"],draggable:["true","false","auto"],dropzone:["copy","move","link","string:","file:"],hidden:["hidden"],id:null,inert:["inert"],itemid:null,itemprop:null,itemref:null,itemscope:["itemscope"],itemtype:null,lang:["ar","bn","de","en-GB","en-US","es","fr","hi","id","ja","pa","pt","ru","tr","zh"],spellcheck:pr,autocorrect:pr,autocapitalize:pr,style:null,tabindex:null,title:null,translate:["yes","no"],rel:["stylesheet","alternate","author","bookmark","help","license","next","nofollow","noreferrer","prefetch","prev","search","tag"],role:"alert application article banner button cell checkbox complementary contentinfo dialog document feed figure form grid gridcell heading img list listbox listitem main navigation region row rowgroup search switch tab table tabpanel textbox timer".split(" "),"aria-activedescendant":null,"aria-atomic":pr,"aria-autocomplete":["inline","list","both","none"],"aria-busy":pr,"aria-checked":["true","false","mixed","undefined"],"aria-controls":null,"aria-describedby":null,"aria-disabled":pr,"aria-dropeffect":null,"aria-expanded":["true","false","undefined"],"aria-flowto":null,"aria-grabbed":["true","false","undefined"],"aria-haspopup":pr,"aria-hidden":pr,"aria-invalid":["true","false","grammar","spelling"],"aria-label":null,"aria-labelledby":null,"aria-level":null,"aria-live":["off","polite","assertive"],"aria-multiline":pr,"aria-multiselectable":pr,"aria-owns":null,"aria-posinset":null,"aria-pressed":["true","false","mixed","undefined"],"aria-readonly":pr,"aria-relevant":null,"aria-required":pr,"aria-selected":["true","false","undefined"],"aria-setsize":null,"aria-sort":["ascending","descending","none","other"],"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null},VR="beforeunload copy cut dragstart dragover dragleave dragenter dragend drag paste focus blur change click load mousedown mouseenter mouseleave mouseup keydown keyup resize scroll unload".split(" ").map(n=>"on"+n);for(let n of VR)XR[n]=null;class ig{constructor(e,t){this.tags={...HK,...e},this.globalAttrs={...XR,...t},this.allTags=Object.keys(this.tags),this.globalAttrNames=Object.keys(this.globalAttrs)}}ig.default=new ig;function yc(n,e,t=n.length){if(!e)return"";let r=e.firstChild,i=r&&r.getChild("TagName");return i?n.sliceString(i.from,Math.min(i.to,t)):""}function Sc(n,e=!1){for(;n;n=n.parent)if(n.name=="Element")if(e)e=!1;else return n;return null}function WR(n,e,t){let r=t.tags[yc(n,Sc(e))];return r?.children||t.allTags}function Dx(n,e){let t=[];for(let r=Sc(e);r&&!r.type.isTop;r=Sc(r.parent)){let i=yc(n,r);if(i&&r.lastChild.name=="CloseTag")break;i&&t.indexOf(i)<0&&(e.name=="EndTag"||e.from>=r.firstChild.to)&&t.push(i)}return t}const FR=/^[:\-\.\w\u00b7-\uffff]*$/;function PT(n,e,t,r,i){let s=/\s*>/.test(n.sliceDoc(i,i+5))?"":">",o=Sc(t,!0);return{from:r,to:i,options:WR(n.doc,o,e).map(l=>({label:l,type:"type"})).concat(Dx(n.doc,t).map((l,a)=>({label:"/"+l,apply:"/"+l+s,type:"type",boost:99-a}))),validFor:/^\/?[:\-\.\w\u00b7-\uffff]*$/}}function QT(n,e,t,r){let i=/\s*>/.test(n.sliceDoc(r,r+5))?"":">";return{from:t,to:r,options:Dx(n.doc,e).map((s,o)=>({label:s,apply:s+i,type:"type",boost:99-o})),validFor:FR}}function GK(n,e,t,r){let i=[],s=0;for(let o of WR(n.doc,t,e))i.push({label:"<"+o,type:"type"});for(let o of Dx(n.doc,t))i.push({label:"</"+o+">",type:"type",boost:99-s++});return{from:r,to:r,options:i,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}function UK(n,e,t,r,i){let s=Sc(t),o=s?e.tags[yc(n.doc,s)]:null,l=o&&o.attrs?Object.keys(o.attrs):[],a=o&&o.globalAttrs===!1?l:l.length?l.concat(e.globalAttrNames):e.globalAttrNames;return{from:r,to:i,options:a.map(u=>({label:u,type:"property"})),validFor:FR}}function KK(n,e,t,r,i){var s;let o=(s=t.parent)===null||s===void 0?void 0:s.getChild("AttributeName"),l=[],a;if(o){let u=n.sliceDoc(o.from,o.to),h=e.globalAttrs[u];if(!h){let d=Sc(t),p=d?e.tags[yc(n.doc,d)]:null;h=p?.attrs&&p.attrs[u]}if(h){let d=n.sliceDoc(r,i).toLowerCase(),p='"',g='"';/^['"]/.test(d)?(a=d[0]=='"'?/^[^"]*$/:/^[^']*$/,p="",g=n.sliceDoc(i,i+1)==d[0]?"":d[0],d=d.slice(1),r++):a=/^[^\s<>='"]*$/;for(let b of h)l.push({label:b,apply:p+b+g,type:"constant"})}}return{from:r,to:i,options:l,validFor:a}}function JK(n,e){let{state:t,pos:r}=e,i=qt(t).resolveInner(r,-1),s=i.resolve(r);for(let o=r,l;s==i&&(l=i.childBefore(o));){let a=l.lastChild;if(!a||!a.type.isError||a.from<a.to)break;s=i=l,o=a.from}return i.name=="TagName"?i.parent&&/CloseTag$/.test(i.parent.name)?QT(t,i,i.from,r):PT(t,n,i,i.from,r):i.name=="StartTag"?PT(t,n,i,r,r):i.name=="StartCloseTag"||i.name=="IncompleteCloseTag"?QT(t,i,r,r):i.name=="OpenTag"||i.name=="SelfClosingTag"||i.name=="AttributeName"?UK(t,n,i,i.name=="AttributeName"?i.from:r,r):i.name=="Is"||i.name=="AttributeValue"||i.name=="UnquotedAttributeValue"?KK(t,n,i,i.name=="Is"?r:i.from,r):e.explicit&&(s.name=="Element"||s.name=="Text"||s.name=="Document")?GK(t,n,i,r):null}function eJ(n){let{extraTags:e,extraGlobalAttributes:t}=n,r=t||e?new ig(e,t):ig.default;return i=>JK(r,i)}const tJ=qi.parser.configure({top:"SingleExpression"}),YR=[{tag:"script",attrs:n=>n.type=="text/typescript"||n.lang=="ts",parser:wR.parser},{tag:"script",attrs:n=>n.type=="text/babel"||n.type=="text/jsx",parser:kR.parser},{tag:"script",attrs:n=>n.type=="text/typescript-jsx",parser:TR.parser},{tag:"script",attrs(n){return/^(importmap|speculationrules|application\/(.+\+)?json)$/i.test(n.type)},parser:tJ},{tag:"script",attrs(n){return!n.type||/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i.test(n.type)},parser:qi.parser},{tag:"style",attrs(n){return(!n.lang||n.lang=="css")&&(!n.type||/^(text\/)?(x-)?(stylesheet|css)$/i.test(n.type))},parser:rg.parser}],HR=[{name:"style",parser:rg.parser.configure({top:"Styles"})}].concat(VR.map(n=>({name:n,parser:qi.parser}))),GR=_l.define({name:"html",parser:fK.configure({props:[Kh.add({Element(n){let e=/^(\s*)(<\/)?/.exec(n.textAfter);return n.node.to<=n.pos+e[0].length?n.continue():n.lineIndent(n.node.from)+(e[2]?0:n.unit)},"OpenTag CloseTag SelfClosingTag"(n){return n.column(n.node.from)+n.unit},Document(n){if(n.pos+/\s*/.exec(n.textAfter)[0].length<n.node.to)return n.continue();let e=null,t;for(let r=n.node;;){let i=r.lastChild;if(!i||i.name!="Element"||i.to!=r.to)break;e=r=i}return e&&!((t=e.lastChild)&&(t.name=="CloseTag"||t.name=="SelfClosingTag"))?n.lineIndent(e.from)+n.unit:null}}),Jh.add({Element(n){let e=n.firstChild,t=n.lastChild;return!e||e.name!="OpenTag"?null:{from:e.to,to:t.name=="CloseTag"?t.from:n.to}}}),hA.add({"OpenTag CloseTag":n=>n.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/\w+\W$/,wordChars:"-_"}}),rp=GR.configure({wrap:IR(YR,HR)});function nJ(n={}){let e="",t;n.matchClosingTags===!1&&(e="noMatch"),n.selfClosingTags===!0&&(e=(e?e+" ":"")+"selfClosing"),(n.nestedLanguages&&n.nestedLanguages.length||n.nestedAttributes&&n.nestedAttributes.length)&&(t=IR((n.nestedLanguages||[]).concat(YR),(n.nestedAttributes||[]).concat(HR)));let r=t?GR.configure({wrap:t,dialect:e}):e?rp.configure({dialect:e}):rp;return new Ng(r,[rp.data.of({autocomplete:eJ(n)}),n.autoCloseTags!==!1?rJ:[],QR().support,YK().support])}const $T=new Set("area base br col command embed frame hr img input keygen link meta param source track wbr menuitem".split(" ")),rJ=ve.inputHandler.of((n,e,t,r,i)=>{if(n.composing||n.state.readOnly||e!=t||r!=">"&&r!="/"||!rp.isActiveAt(n.state,e,-1))return!1;let s=i(),{state:o}=s,l=o.changeByRange(a=>{var u,h,d;let p=o.doc.sliceString(a.from-1,a.to)==r,{head:g}=a,b=qt(o).resolveInner(g,-1),x;if(p&&r==">"&&b.name=="EndTag"){let v=b.parent;if(((h=(u=v.parent)===null||u===void 0?void 0:u.lastChild)===null||h===void 0?void 0:h.name)!="CloseTag"&&(x=yc(o.doc,v.parent,g))&&!$T.has(x)){let w=g+(o.doc.sliceString(g,g+1)===">"?1:0),k=`</${x}>`;return{range:a,changes:{from:g,to:w,insert:k}}}}else if(p&&r=="/"&&b.name=="IncompleteCloseTag"){let v=b.parent;if(b.from==g-2&&((d=v.lastChild)===null||d===void 0?void 0:d.name)!="CloseTag"&&(x=yc(o.doc,v,g))&&!$T.has(x)){let w=g+(o.doc.sliceString(g,g+1)===">"?1:0),k=`${x}>`;return{range:ae.cursor(g+k.length,-1),changes:{from:g,to:w,insert:k}}}}return{range:a}});return l.changes.empty?!1:(n.dispatch([s,o.update(l,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),iO={fontSize:"14px",fontFamily:"JetBrains Mono, Consolas, monospace",lineHeight:"1.6"},iJ={borderLeftWidth:"2px"},Mr={insertedTextDecoration:"none",deletedTextDecoration:"line-through",insertedLinePadding:"1px 3px",borderRadious:"3px"},Eu={border:"none",paddingRight:"8px",fontSize:"0.9em",fontWeight:"500"},sO={border:"none",borderRadius:"4px",padding:"2px 10px"},sJ={borderRadius:"2px"},oO={borderRadius:"2px"},lO={borderRadius:"4px",padding:"0 5px",margin:"0 2px"},aO={width:"12px",height:"12px",borderRadius:"6px"},jd={borderRadius:"4px",padding:"2px 6px"},$a={borderRadius:"4px",borderRadiusSelected:"3px",lineHeight:"1.3",padding:"4px 8px",paddingRight:"8px"},Aa="#ffffff",Hn="#24292e",UR="#BBDFFF",Ra="#6e7781",AT="#f6f8fa",oJ="#116329",Ri="#6a737d",cO="#6f42c1",oo="#005cc5",Lu="#d73a49",uO="#032f62",RT="#22863a",al="#e36209",lJ="#f1f8ff",cl="#e1e4e8",aJ="#f8f9fa",bl="#cb2431",cJ="#BBDFFF20",Dd=aJ,hO=Hn,uJ=UR,hJ="#e8f0fe",fJ="#0366d6",ET="#b08800",LT="#79b8ff40",U1="#0969da",dJ="#8250df",_T="#e6ffec80",MT="#ffebe980",fO="#0f6d31",dO="#cf222e",pJ=ve.theme({"&":{color:Hn,backgroundColor:Aa,fontSize:iO.fontSize,fontFamily:iO.fontFamily},".cm-content":{caretColor:hO,lineHeight:iO.lineHeight},".cm-cursor, .cm-dropCursor":{borderLeftColor:hO,borderLeftWidth:iJ.borderLeftWidth},".cm-fat-cursor":{backgroundColor:`${hO}99`,color:Aa},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:uJ,color:Hn},".cm-selectionLayer":{zIndex:100},".cm-searchMatch":{backgroundColor:"#daebff",outline:`1px solid ${oo}`,color:Hn,borderRadius:jd.borderRadius,"& span":{color:Hn}},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#79b8ff",color:Aa,padding:jd.padding,"& span":{color:Aa}},".cm-search.cm-panel.cm-textfield":{color:Hn,borderRadius:jd.borderRadius,padding:jd.padding},".cm-panels":{backgroundColor:AT,color:Ra,borderRadius:"0 0 4px 4px"},".cm-panels.cm-panels-top":{borderBottom:`1px solid ${cl}`},".cm-panels.cm-panels-bottom":{borderTop:`1px solid ${cl}`},".cm-panel button":{backgroundColor:Aa,color:Hn,border:sO.border,borderRadius:sO.borderRadius,padding:sO.padding},".cm-panel button:hover":{backgroundColor:"#f5f5f5"},".cm-activeLine":{backgroundColor:cJ,borderRadius:sJ.borderRadius,zIndex:1},".cm-gutters":{backgroundColor:AT,color:Ra,border:Eu.border,borderRight:`1px solid ${cl}`,paddingRight:Eu.paddingRight},".cm-activeLineGutter":{backgroundColor:lJ,color:Hn,fontWeight:Eu.fontWeight},".cm-lineNumbers":{fontSize:Eu.fontSize},".cm-foldGutter":{fontSize:Eu.fontSize},".cm-foldGutter .cm-gutterElement":{color:Ra,cursor:"pointer"},".cm-foldGutter .cm-gutterElement:hover":{color:Hn},".cm-insertedLine":{textDecoration:Mr.insertedTextDecoration,backgroundColor:_T,color:fO,padding:Mr.insertedLinePadding,borderRadius:Mr.borderRadious},"ins.cm-insertedLine, ins.cm-insertedLine:not(:has(.cm-changedText))":{textDecoration:Mr.insertedTextDecoration,backgroundColor:`${_T} !important`,color:fO,padding:Mr.insertedLinePadding,borderRadius:Mr.borderRadious,border:`1px solid ${fO}30`},"ins.cm-insertedLine .cm-changedText":{background:"transparent !important"},".cm-deletedLine":{textDecoration:Mr.deletedTextDecoration,backgroundColor:MT,color:dO,padding:Mr.insertedLinePadding,borderRadius:Mr.borderRadious},"del.cm-deletedLine, del, del:not(:has(.cm-deletedText))":{textDecoration:Mr.deletedTextDecoration,backgroundColor:`${MT} !important`,color:dO,padding:Mr.insertedLinePadding,borderRadius:Mr.borderRadious,border:`1px solid ${dO}30`},"del .cm-deletedText, del .cm-changedText":{background:"transparent !important"},".cm-tooltip":{backgroundColor:Dd,border:`1px solid ${cl}`,borderRadius:$a.borderRadius,padding:$a.padding,boxShadow:"0 1px 5px rgba(0, 0, 0, 0.1)"},".cm-tooltip-autocomplete":{"& > ul":{backgroundColor:Dd,border:"none"},"& > ul > li":{padding:$a.padding,lineHeight:$a.lineHeight},"& > ul > li[aria-selected]":{backgroundColor:"#0366d630",color:Hn,borderRadius:$a.borderRadiusSelected},"& > ul > li:hover":{backgroundColor:"#0366d615"},"& > ul > li > span.cm-completionIcon":{color:Ra,paddingRight:$a.paddingRight},"& > ul > li > span.cm-completionDetail":{color:Ra,fontStyle:"italic"}},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:Dd,borderBottomColor:Dd},".cm-diagnostic":{"&-error":{borderLeft:`3px solid ${bl}`},"&-warning":{borderLeft:`3px solid ${ET}`},"&-info":{borderLeft:`3px solid ${U1}`}},".cm-lintPoint-error":{borderBottom:`2px wavy ${bl}`},".cm-lintPoint-warning":{borderBottom:`2px wavy ${ET}`},".cm-matchingBracket":{backgroundColor:hJ,outline:`1px solid ${fJ}80`,borderRadius:oO.borderRadius},".cm-nonmatchingBracket":{backgroundColor:"#ffeef080",outline:`1px solid ${bl}`,borderRadius:oO.borderRadius},".cm-selectionMatch":{backgroundColor:LT,outline:`1px solid ${UR}50`,borderRadius:oO.borderRadius},".cm-foldPlaceholder":{backgroundColor:LT,color:Ra,border:`1px dotted ${cl}70`,borderRadius:lO.borderRadius,padding:lO.padding,margin:lO.margin},"&.cm-focused":{outline:"none",boxShadow:`0 0 0 2px ${Aa}, 0 0 0 3px ${U1}40`},"& .cm-scroller::-webkit-scrollbar":{width:aO.width,height:aO.height},"& .cm-scroller::-webkit-scrollbar-track":{background:cl},"& .cm-scroller::-webkit-scrollbar-thumb":{backgroundColor:Hn,borderRadius:aO.borderRadius,border:`3px solid ${cl}`},"& .cm-scroller::-webkit-scrollbar-thumb:hover":{backgroundColor:Ri},".cm-ghostText":{opacity:"0.5",color:"#959da5"}},{dark:!1}),gJ=Rc.define([{tag:_.keyword,color:Lu,fontWeight:"bold"},{tag:_.controlKeyword,color:Lu,fontWeight:"bold"},{tag:_.moduleKeyword,color:Lu,fontWeight:"bold"},{tag:[_.name,_.deleted,_.character,_.macroName],color:oo},{tag:[_.variableName],color:oo},{tag:[_.propertyName],color:cO,fontStyle:"normal"},{tag:[_.typeName],color:Lu},{tag:[_.className],color:cO,fontStyle:"italic"},{tag:[_.namespace],color:oo,fontStyle:"italic"},{tag:[_.operator,_.operatorKeyword],color:Hn},{tag:[_.bracket],color:Ri},{tag:[_.brace],color:Ri},{tag:[_.punctuation],color:Ri},{tag:[_.function(_.variableName),_.labelName],color:RT},{tag:[_.definition(_.variableName)],color:oo},{tag:_.number,color:al},{tag:_.changed,color:al},{tag:_.annotation,color:bl,fontStyle:"italic"},{tag:_.modifier,color:al,fontStyle:"italic"},{tag:_.self,color:al},{tag:[_.color,_.constant(_.name),_.standard(_.name)],color:al},{tag:[_.atom,_.bool,_.special(_.variableName)],color:al},{tag:[_.processingInstruction,_.inserted],color:RT},{tag:[_.special(_.string),_.regexp],color:uO},{tag:_.string,color:uO},{tag:_.definition(_.typeName),color:Lu,fontWeight:"bold"},{tag:_.meta,color:Ri},{tag:_.comment,fontStyle:"italic",color:Ri},{tag:_.docComment,fontStyle:"italic",color:Ri},{tag:[_.tagName],color:oJ},{tag:[_.attributeName],color:cO},{tag:[_.heading],fontWeight:"bold",color:oo},{tag:[_.strong],fontWeight:"bold",color:oo},{tag:[_.emphasis],fontStyle:"italic",color:uO},{tag:[_.link],color:dJ,fontWeight:"500",textDecoration:"underline",textUnderlinePosition:"under"},{tag:[_.url],color:U1,textDecoration:"underline",textUnderlineOffset:"2px"},{tag:[_.invalid],color:Hn,textDecoration:"underline wavy",borderBottom:`1px wavy ${bl}`},{tag:[_.strikethrough],color:bl,textDecoration:"line-through"},{tag:_.constant(_.name),color:al},{tag:_.deleted,color:bl},{tag:_.squareBracket,color:Ri},{tag:_.angleBracket,color:Ri},{tag:_.monospace,color:Hn},{tag:[_.contentSeparator],color:oo},{tag:_.quote,color:Ri}]),mJ=[pJ,vx(gJ)],pO={fontSize:"14px",fontFamily:"JetBrains Mono, Consolas, monospace",lineHeight:"1.6"},OJ={borderLeftWidth:"2px"},Nr={insertedTextDecoration:"none",deletedTextDecoration:"line-through",insertedLinePadding:"1px 3px",borderRadious:"3px"},_u={border:"none",paddingRight:"8px",fontSize:"0.9em",fontWeight:"500"},gO={border:"none",borderRadius:"4px",padding:"2px 10px"},bJ={borderRadius:"2px"},mO={borderRadius:"2px"},OO={borderRadius:"4px",padding:"0 5px",margin:"0 2px"},bO={width:"12px",height:"12px",borderRadius:"6px"},Zd={borderRadius:"4px",padding:"2px 6px"},Ea={borderRadius:"4px",borderRadiusSelected:"3px",lineHeight:"1.3",padding:"4px 8px",paddingRight:"8px"},xO="#0d1117",ii="#c9d1d9",KR="#264F78",Bn="#8b949e",ip="#ffffff",vO="#7ee787",yO="#d2a8ff",lo="#79c0ff",Mu="#ff7b72",SO="#a5d6ff",xJ="#2c333a",vJ="#3c444d",ul="#ffab70",wO="#161b22",Nu="#30363d",yJ="#21262d",xl="#f97583",SJ="#2d333b1a",hl="#21262d",kO=ip,NT=KR,wJ="#3a587a75",BT="#4d90fe",IT="#d29922",kJ="#3a587a55",K1="#58a6ff",TJ="#bc8cff",jT="#2ea04350",DT="#f8514940",TO="#7ee787",CO="#ff7b72",CJ=ve.theme({"&":{color:ii,backgroundColor:xO,fontSize:pO.fontSize,fontFamily:pO.fontFamily},".cm-content":{caretColor:kO,lineHeight:pO.lineHeight},".cm-cursor, .cm-dropCursor":{borderLeftColor:kO,borderLeftWidth:OJ.borderLeftWidth},".cm-fat-cursor":{backgroundColor:`${kO}99`,color:xO},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:NT},".cm-selectionLayer":{zIndex:100},".cm-searchMatch":{backgroundColor:"#3a587a",outline:`1px solid ${lo}`,color:ii,borderRadius:Zd.borderRadius,"& span":{color:ii}},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:BT,color:ip,padding:Zd.padding,"& span":{color:ip}},".cm-search.cm-panel.cm-textfield":{color:ii,borderRadius:Zd.borderRadius,padding:Zd.padding},".cm-panels":{backgroundColor:hl,color:ii,borderRadius:"4px"},".cm-panels.cm-panels-top":{borderBottom:`1px solid ${Nu}`},".cm-panels.cm-panels-bottom":{borderTop:`1px solid ${Nu}`},".cm-panel button":{backgroundColor:hl,color:ii,border:gO.border,borderRadius:gO.borderRadius,padding:gO.padding},".cm-panel button:hover":{backgroundColor:xJ},".cm-activeLine":{backgroundColor:SJ,borderRadius:bJ.borderRadius,zIndex:1},".cm-gutters":{backgroundColor:wO,color:Bn,border:_u.border,borderRight:"1px solid #30363d",paddingRight:_u.paddingRight},".cm-activeLineGutter":{backgroundColor:yJ,color:ii,fontWeight:_u.fontWeight},".cm-lineNumbers":{fontSize:_u.fontSize},".cm-foldGutter":{fontSize:_u.fontSize},".cm-foldGutter .cm-gutterElement":{color:Bn,cursor:"pointer"},".cm-foldGutter .cm-gutterElement:hover":{color:ii},".cm-insertedLine":{textDecoration:Nr.insertedTextDecoration,backgroundColor:jT,color:TO,padding:Nr.insertedLinePadding,borderRadius:Nr.borderRadious},"ins.cm-insertedLine, ins.cm-insertedLine:not(:has(.cm-changedText))":{textDecoration:Nr.insertedTextDecoration,backgroundColor:`${jT} !important`,color:TO,padding:Nr.insertedLinePadding,borderRadius:Nr.borderRadious,border:`1px solid ${TO}40`},"ins.cm-insertedLine .cm-changedText":{background:"transparent !important"},".cm-deletedLine":{textDecoration:Nr.deletedTextDecoration,backgroundColor:DT,color:CO,padding:Nr.insertedLinePadding,borderRadius:Nr.borderRadious},"del.cm-deletedLine, del, del:not(:has(.cm-deletedText))":{textDecoration:Nr.deletedTextDecoration,backgroundColor:`${DT} !important`,color:CO,padding:Nr.insertedLinePadding,borderRadius:Nr.borderRadious,border:`1px solid ${CO}40`},"del .cm-deletedText, del .cm-changedText":{background:"transparent !important"},".cm-tooltip":{backgroundColor:hl,border:`1px solid ${Nu}`,borderRadius:Ea.borderRadius,padding:Ea.padding,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"},".cm-tooltip-autocomplete":{"& > ul":{backgroundColor:hl,border:"none"},"& > ul > li":{padding:Ea.padding,lineHeight:Ea.lineHeight},"& > ul > li[aria-selected]":{backgroundColor:NT,color:ip,borderRadius:Ea.borderRadiusSelected},"& > ul > li > span.cm-completionIcon":{color:Bn,paddingRight:Ea.paddingRight},"& > ul > li > span.cm-completionDetail":{color:Bn,fontStyle:"italic"}},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:hl,borderBottomColor:hl},".cm-diagnostic":{"&-error":{borderLeft:`3px solid ${xl}`},"&-warning":{borderLeft:`3px solid ${IT}`},"&-info":{borderLeft:`3px solid ${K1}`}},".cm-lintPoint-error":{borderBottom:`2px wavy ${xl}`},".cm-lintPoint-warning":{borderBottom:`2px wavy ${IT}`},".cm-matchingBracket":{backgroundColor:wJ,outline:`1px solid ${BT}`,borderRadius:mO.borderRadius},".cm-nonmatchingBracket":{backgroundColor:"#f9758340",outline:`1px solid ${xl}`,borderRadius:mO.borderRadius},".cm-selectionMatch":{backgroundColor:kJ,outline:`1px solid ${KR}50`,borderRadius:mO.borderRadius},".cm-foldPlaceholder":{backgroundColor:hl,color:Bn,border:`1px dotted ${Nu}70`,borderRadius:OO.borderRadius,padding:OO.padding,margin:OO.margin},"&.cm-focused":{outline:"none",boxShadow:`0 0 0 2px ${xO}, 0 0 0 3px ${K1}40`},"& .cm-scroller::-webkit-scrollbar":{width:bO.width,height:bO.height},"& .cm-scroller::-webkit-scrollbar-track":{background:wO},"& .cm-scroller::-webkit-scrollbar-thumb":{backgroundColor:Nu,borderRadius:bO.borderRadius,border:`3px solid ${wO}`},"& .cm-scroller::-webkit-scrollbar-thumb:hover":{backgroundColor:vJ},".cm-ghostText":{opacity:"0.5",color:Bn}},{dark:!0}),PJ=Rc.define([{tag:_.keyword,color:Mu,fontWeight:"bold"},{tag:_.controlKeyword,color:Mu,fontWeight:"bold"},{tag:_.moduleKeyword,color:Mu,fontWeight:"bold"},{tag:[_.name,_.deleted,_.character,_.macroName],color:lo},{tag:[_.variableName],color:lo},{tag:[_.propertyName],color:yO,fontStyle:"normal"},{tag:[_.typeName],color:Mu},{tag:[_.className],color:yO,fontStyle:"italic"},{tag:[_.namespace],color:lo,fontStyle:"italic"},{tag:[_.operator,_.operatorKeyword],color:ii},{tag:[_.bracket],color:Bn},{tag:[_.brace],color:Bn},{tag:[_.punctuation],color:Bn},{tag:[_.function(_.variableName),_.labelName],color:vO},{tag:[_.definition(_.variableName)],color:lo},{tag:_.number,color:ul},{tag:_.changed,color:ul},{tag:_.annotation,color:xl,fontStyle:"italic"},{tag:_.modifier,color:ul,fontStyle:"italic"},{tag:_.self,color:ul},{tag:[_.color,_.constant(_.name),_.standard(_.name)],color:ul},{tag:[_.atom,_.bool,_.special(_.variableName)],color:ul},{tag:[_.processingInstruction,_.inserted],color:vO},{tag:[_.special(_.string),_.regexp],color:SO},{tag:_.string,color:SO},{tag:_.definition(_.typeName),color:Mu,fontWeight:"bold"},{tag:_.meta,color:Bn},{tag:_.comment,fontStyle:"italic",color:Bn},{tag:_.docComment,fontStyle:"italic",color:Bn},{tag:[_.tagName],color:vO},{tag:[_.attributeName],color:yO},{tag:[_.heading],fontWeight:"bold",color:lo},{tag:[_.strong],fontWeight:"bold",color:lo},{tag:[_.emphasis],fontStyle:"italic",color:SO},{tag:[_.link],color:TJ,fontWeight:"500",textDecoration:"underline",textUnderlinePosition:"under"},{tag:[_.url],color:K1,textDecoration:"underline",textUnderlineOffset:"2px"},{tag:[_.invalid],color:ii,textDecoration:"underline wavy",borderBottom:`1px wavy ${xl}`},{tag:[_.strikethrough],color:xl,textDecoration:"line-through"},{tag:_.constant(_.name),color:ul},{tag:_.deleted,color:xl},{tag:_.squareBracket,color:Bn},{tag:_.angleBracket,color:Bn},{tag:_.monospace,color:ii},{tag:[_.contentSeparator],color:lo},{tag:_.quote,color:Bn}]),QJ=[CJ,vx(PJ)],JR=({lang:n="text",className:e=void 0,style:t=void 0,shape:r=void 0,txtPlaceholder:i=void 0,value:s=void 0,isDisabled:o=!1,onChange:l=void 0,onBlur:a=void 0,onFocus:u=void 0,error:h=void 0,onValidate:d=void 0,config:p=void 0})=>{const{appTheme:g,globalShape:b}=C.useContext(Lt),x=C.useMemo(()=>g.globalTheme==="dark",[g.globalTheme]),v=C.useMemo(()=>p?.isAsPreview,[p?.isAsPreview]),w=C.useRef(null),k=C.useRef(null),[$,B]=C.useState(s??""),N=C.useRef(!1),z=C.useCallback(Co.debounce(H=>{wq(H,N,l,p,d)},150),[l]),Z=H=>{switch(H){case"json":return[QU()];case"tsx":return[QR({typescript:!0,jsx:!0})];case"html":return[nJ()];case"text":default:return[]}};return C.useEffect(()=>{if(!w.current)return;const H=ve.updateListener.of(P=>{if(P.docChanged){const Q=P.state.doc.toString();o||(B(Q),z(Q))}}),te=ve.domEventHandlers({blur:(P,Q)=>{Tq(P,Q.state.doc.toString(),N,p,d,a)},focus:(P,Q)=>{kq(P,Q.state.doc.toString(),u)}}),K=[RG,Hh.of([WY]),...Array.isArray(Z(n))?Z(n):[Z(n)],H,te,at.readOnly.of(o),ve.editable.of(!o)];p?.isNumberStartZero&&K.push(Z$({formatNumber:P=>String(P-1)})),i&&K.push(UV(i)),x?K.push(QJ):K.push(mJ);const R=at.create({doc:$,extensions:K}),E=new ve({state:R,parent:w.current});return k.current=E,()=>{E.destroy(),k.current=null}},[n,x,o,i]),C.useEffect(()=>{if(!k.current||s==null)return;const H=k.current.state.doc.toString();if(s===H)return;const te=Ut.of([{from:0,to:H.length,insert:s}],H.length);k.current.dispatch({changes:te})},[s]),O.jsxs("div",{className:je("input-code",r||b,{disabled:o,"has-error":h?.isError},e),style:t?.inputCode,children:[!v&&O.jsx("div",{className:"cap-box",style:t?.capBox,children:O.jsx("p",{children:n.toLocaleUpperCase()})}),O.jsx("div",{ref:w,className:je("code-editor-box",x?"dark":"light",{"code-editor-box-preview":v}),style:t?.codeEditorBox,onClick:H=>{H.target.classList.contains("code-editor-box")&&k.current?.focus()}}),!v&&O.jsx("div",{className:"bottom-cap-box",style:t?.bottomCapBox,children:h&&h.isError&&h.errorMessage&&O.jsxs("div",{className:"error-box",children:[O.jsx(kc,{className:"global-icon"}),O.jsx("p",{children:h.errorMessage})]})})]})},$J=()=>{const{htmlValue:n}=xn();return O.jsx("div",{style:{padding:"var(--space-300)",maxHeight:"100%",overflow:"hidden"},children:O.jsx(JR,{lang:"html",value:n,isDisabled:!0,config:{isAsPreview:!0}})})},AJ=({canvasScrollPosition:n,setCanvasScrollPosition:e})=>{const{htmlValue:t,isDesktopView:r}=xn(),i=C.useMemo(()=>t.replace("<style>",`<style> 
 ::-webkit-scrollbar { width: 0px; height: 0px; } 
`),[t]),s=C.useRef(null),o=l=>{const a=s.current;a&&a?.scrollTo({top:l})};return C.useEffect(()=>{o(Co.max([n,0])||0)},[]),C.useEffect(()=>{console.log("init",n);const l=s.current;if(!l)return;let a;const u=()=>{window.clearTimeout(a),a=window.setTimeout(()=>{e(l.scrollTop),console.log("canvas",l.scrollTop)},90)};return l.addEventListener("scroll",u,{passive:!0}),()=>l.removeEventListener("scroll",u)},[]),O.jsx("div",{ref:s,className:"global-disbaled-bg normal-scrollbar",style:{maxHeight:"100%",overflow:"auto",display:"flex",justifyContent:"center",padding:"0px 0px",scrollbarGutter:"stable"},children:O.jsx("div",{className:je("paper-block-content",{"mobile-view":!r,"desktop-view":r}),style:{width:r?"100%":"370px"},dangerouslySetInnerHTML:{__html:i}})})},RJ=()=>{const{paperValue:n}=xn();return O.jsx("div",{style:{padding:"var(--space-300)",maxHeight:"100%",overflow:"hidden"},children:O.jsx(JR,{lang:"json",value:JSON.stringify(n,null,4),isDisabled:!0,config:{isAsPreview:!0}})})},EJ=()=>{const{isDesktopView:n,setIsDesktopView:e,isShowHidden:t,setIsShowHidden:r}=xn(),[i,s]=C.useState("canvas"),[o,l]=C.useState(0);return O.jsxs("div",{style:{display:"grid",height:"100%",gridTemplateRows:"max-content 1fr"},children:[O.jsxs("div",{className:"canvas-header",children:[O.jsxs("div",{style:{display:"flex",gap:"var(--space-100)",alignItems:"center"},children:[O.jsx(yB,{selectedItem:i,onClickTabItem:a=>{s(a)},tabItem:[{id:"canvas",txtLabel:"Canvas",iconBefore:O.jsx(K6,{className:"global-icon"})},{id:"preview",txtLabel:"Preview",iconBefore:O.jsx(i2,{className:"global-icon"})},{id:"html",txtLabel:"HTML Output",iconBefore:O.jsx(xC,{className:"global-icon"})},{id:"json",txtLabel:"JSON Output",iconBefore:O.jsx(D6,{className:"global-icon"})}]}),O.jsx(We,{className:"header-action-button",icon:O.jsx(X6,{className:"global-icon"}),txtLabel:"Desktop view",onClick:()=>{e(!0)},isSelected:n}),O.jsx(We,{className:"header-action-button",icon:O.jsx(vC,{className:"global-icon"}),txtLabel:"Mobile view",onClick:()=>{e(!1)},isSelected:!n}),O.jsx(We,{className:"header-action-button",icon:t?O.jsx(i2,{className:"global-icon"}):O.jsx(F6,{className:"global-icon"}),txtLabel:`Visibility ${t?"On":"Off"}`,onClick:()=>{r(!t)},isSelected:!n})]}),O.jsxs("div",{className:"canvas-view-select-container",children:[O.jsx(qe,{txtLabel:"Cancel",appearance:"subtle",onClick:()=>{}}),O.jsx(qe,{txtLabel:"Save Template",appearance:"primary",onClick:()=>{}})]})]}),O.jsx(C.Activity,{mode:i==="canvas"?"visible":"hidden",children:O.jsx(Sq,{canvasScrollPosition:o,setCanvasScrollPosition:l})}),O.jsx(C.Activity,{mode:i==="preview"?"visible":"hidden",children:O.jsx(AJ,{canvasScrollPosition:o,setCanvasScrollPosition:l})}),O.jsx(C.Activity,{mode:i==="html"?"visible":"hidden",children:O.jsx($J,{})}),O.jsx(C.Activity,{mode:i==="json"?"visible":"hidden",children:O.jsx(RJ,{})})]})},St=({txtLabel:n,children:e})=>O.jsxs("div",{style:{display:"grid",gap:"var(--space-150)",borderBottom:"1px solid var(--clr-surface-3)",paddingBottom:"var(--space-200)"},children:[O.jsx("p",{className:"text-sub text-title",children:n}),O.jsx("div",{children:e})]}),Dt=({isSelected:n=!1})=>O.jsx("div",{className:je("radio-circle-indicator",n?"circle-on":"circle-off",{"full-on":n})}),LJ=({form:n,onChange:e})=>O.jsx(St,{txtLabel:"Column Count",children:O.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"var(--space-100)"},children:[O.jsx(qe,{txtLabel:"1 Column",onClick:()=>{e("columnCount","1")},iconBefore:O.jsx(Dt,{isSelected:n.columnCount==="1"}),isSelected:n.columnCount==="1"}),O.jsx(qe,{txtLabel:"2 Column",onClick:()=>{e("columnCount","2")},iconBefore:O.jsx(Dt,{isSelected:n.columnCount==="2"}),isSelected:n.columnCount==="2"}),O.jsx(qe,{txtLabel:"3 Column",onClick:()=>{e("columnCount","3")},iconBefore:O.jsx(Dt,{isSelected:n.columnCount==="3"}),isSelected:n.columnCount==="3"})]})}),_J=({form:n,onChange:e})=>O.jsx(St,{txtLabel:"Column Gap",children:O.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"var(--space-100)",maxWidth:"100%"},children:O.jsx(Fe,{type:"number",txtPlaceholder:"Value...",value:n.columnGap,onChange:t=>{e("columnGap",t)},onBlur:(t,r)=>{!r&&e("columnGap",r||"0")},config:{sufixElement:"px",maxLength:2}})})}),MJ=({form:n,onChange:e})=>O.jsx(St,{txtLabel:"Column Size",children:O.jsxs("div",{style:{display:"grid",gridTemplateColumns:n.columnCount==="3"?"1fr 1fr 1fr":n.columnCount==="2"?"1fr 1fr":"1fr",gap:"var(--space-100)",maxWidth:"100%"},children:[O.jsx(Fe,{type:"number",txtPlaceholder:"Auto",value:n.column1Size,onChange:t=>{e("column1Size",t)},config:{prefixElement:"C1",sufixElement:"px",maxLength:3}}),(n.columnCount==="2"||n.columnCount==="3")&&O.jsx(Fe,{type:"number",txtPlaceholder:"Auto",value:n.column2Size,onChange:t=>{e("column2Size",t)},config:{prefixElement:"C2",sufixElement:"px",maxLength:3}}),n.columnCount==="3"&&O.jsx(Fe,{type:"number",txtPlaceholder:"Auto",value:n.column3Size,onChange:t=>{e("column3Size",t)},config:{prefixElement:"C3",sufixElement:"px",maxLength:3}})]})}),NJ=n=>{switch(n){case"number":case"number-text":return{type:"numeric",mode:"tel"};default:return{type:"text",mode:"text"}}},vl=(n,e)=>e==="number"&&n?Qp(n):n,BJ=(n,e)=>{e({isError:!1,errorMessage:""},n)},sg=(n,e,t,r)=>{let i=!1,s="";if(r.isRequired&&!i&&(e||(i=!0,s="This field cannot be empty!")),r.minLength&&!i&&n!=="number"&&e.length<r.minLength&&(i=!0,s=`Minimum ${r.minLength} characters required`),r.maxLength&&!i&&n!=="number"&&e.length>r.maxLength&&(i=!0,s=`Maximum ${r.maxLength} characters allowed`),(r.maxValue!==void 0||r.minValue!==void 0)&&!i&&n==="number"){const o=$c(e),l=parseInt(o??"0");r.maxValue!==void 0&&r.minValue!==void 0&&(l<r.minValue||l>r.maxValue)?(i=!0,s=`Value is out of range (${vl(`${r.minValue}`,"number")} ~ ${vl(`${r.maxValue}`,"number")})`):r.maxValue!==void 0&&l>r.maxValue?(i=!0,s=`Value cannot exceed ${vl(`${r.maxValue}`,"number")}`):r.minValue!==void 0&&l<r.minValue&&(i=!0,s=`Value must be at least ${vl(`${r.minValue}`,"number")}`)}if(r.validRegex&&!i&&n!=="number"){for(const[o,l]of r.validRegex)if(!o.test(e)){i=!0,s=l;break}}t({isError:i,errorMessage:s},e)},IJ=(n,e,t)=>{const r=g=>g.split("").filter(i).length,i=g=>/[a-zA-Z0-9]/.test(g),s=vl(t,"number"),o=vl(e,"number"),a=(n.selectionStart??0)-1;if(a>=o.length){const g=s.length;n.setSelectionRange(g,g);return}const u=o.slice(0,a),h=r(u);let d=0,p=0;for(;d<s.length&&(i(s[d])&&p++,!(p>=h+2));d++);requestAnimationFrame(()=>{n.setSelectionRange(d,d)})},jJ=(n,e,t,r,i,s,o,l,a,u)=>{const h=n.target.value;let d=h;switch(t){case"text-no-space":d=h.replace(/\s/g,"");break;case"number-text":d=h.replace(/[^0-9]/g,"");break;case"number":d=$c(h);break;case"text":default:d=h;break}l?.isAllowBreakline===!1&&(d=d.replaceAll(/\n/g,"")),l?.maxLength&&(d=d.slice(0,l.maxLength)),r(d),o(d,n),u&&a?.isError&&BJ(d,u),t==="number"&&IJ(n.target,e,d),i||s(!0)},DJ=(n,e,t,r,i,s,o,l,a)=>{let h=n.target.value.trim();t==="number"&&(h=$c(h)),e!==h&&(r(h),s(h,n)),l&&i&&o&&sg(t,h,l,o),a&&a(n,h)},ZJ=(n,e,t)=>{t&&t(n,e)},zJ=(n,e,t,r,i,s,o)=>{t(""),r("",n),s&&i&&sg(e,"",s,i),o?.current&&o.current.focus()},qJ=(n,e,t,r)=>{const i=n.current;if(!i||e==null)return;i.style.height="auto";const s=i.scrollHeight,o=Math.round(s/e),l=Math.min(Math.max(t,o),r);i.style.overflowY=o>r?"auto":"hidden",i.style.height=`${l*e}px`},e5=({ref:n=void 0,id:e=void 0,className:t=void 0,style:r=void 0,shape:i=void 0,afterElement:s=void 0,beforeElement:o=void 0,type:l="text",txtPlaceholder:a=void 0,value:u="",isDisabled:h=!1,onChange:d=void 0,onBlur:p=void 0,onFocus:g=void 0,error:b=void 0,onValidate:x=void 0,triggerValidate:v=0,config:w=void 0})=>{const{globalShape:k}=C.useContext(Lt),[$,B]=C.useState(u),[N,z]=C.useState(!1),[Z,H]=C.useState(!1),te=C.useMemo(()=>NJ(l),[l]),K=C.useRef(null);C.useEffect(()=>{n&&K.current&&(typeof n=="function"?n(K.current):n.current!==void 0&&(n.current=K.current))},[n]);const R=C.useCallback(Co.debounce((j,q)=>{d&&d(j,q)},150),[d]);C.useEffect(()=>{u!==$&&!Z&&(B(u),x&&w&&N&&sg(l,u,x,w))},[u]),C.useEffect(()=>{v===1&&x&&w&&sg(l,u,x,w)},[v]);const[E,P]=C.useState(0),Q=C.useMemo(()=>w?.initialLines??2,[w?.initialLines]),I=C.useMemo(()=>w?.maxLines??4,[w?.maxLines]);return C.useEffect(()=>{if(K.current&&E===0){const j=window.getComputedStyle(K.current),q=parseFloat(j.lineHeight);isNaN(q)||P(q)}},[]),C.useEffect(()=>{qJ(K,E,Q,I)},[$,E,I,Q]),O.jsxs("div",{className:je("input-textarea-box",t),children:[O.jsxs("div",{className:je("input-textarea-container",i||k,{disabled:h,error:b?.isError}),onClick:()=>{K.current?.focus()},children:[w?.prefixElement&&O.jsx("div",{className:"prefix-box",children:w?.prefixElement}),O.jsx("textarea",{id:e,ref:K,className:je("input-textarea"),style:r?.input,placeholder:a,value:vl($,l),onChange:j=>{h||jJ(j,u,l,B,N,z,R,w,b,x)},onBlur:j=>{h||DJ(j,u,l,B,N,R,w,x,p),H(!1)},onFocus:j=>{h||ZJ(j,u,g),H(!0)},rows:1,disabled:h,inputMode:te.mode}),w?.sufixElement&&O.jsx("div",{className:"sufix-box",children:w?.sufixElement}),w?.isWithCounter&&!h&&O.jsx("div",{children:O.jsx("p",{className:"text-sub text-sm",children:`${$.length}${w.maxLength?` / ${w.maxLength}`:""}`})}),$.length>0&&!h&&w?.isShowClear&&O.jsx(We,{className:"clear-button",icon:O.jsx(Bl,{}),txtLabel:"Clear",appearance:"subtle",isShowtooltip:!1,onClick:j=>{zJ(j,l,B,R,w,x,K)}}),h&&O.jsx("div",{className:"lock-box",children:O.jsx(hg,{className:"global-icon"})})]}),o&&O.jsx("div",{className:"before-element-box",children:o}),s&&O.jsx("div",{className:"after-element-box",children:s}),b&&b.isError&&b.errorMessage&&O.jsxs("div",{className:"error-box",children:[O.jsx(kc,{className:"global-icon"}),O.jsx("p",{children:b.errorMessage})]})]})},XJ=({form:n,onChange:e})=>O.jsx(St,{txtLabel:"URL Direction",children:O.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"var(--space-100)",maxWidth:"100%"},children:O.jsx(e5,{type:"text-no-space",txtPlaceholder:"Enter URL link...",value:n.url,onChange:t=>{e("url",t)}})})}),t5=(n,e)=>{e(n)},VJ=(n,e,t,r,i)=>{r&&t5(n,r),i&&i({isError:!1,errorMessage:""},n),e||t(!0)},sp=(n,e,t)=>{let r=!1,i="";t.isRequired&&!r&&(n||(r=!0,i="This field cannot be empty!")),e({isError:r,errorMessage:i},n)},WJ=n=>{n&&t5("",n)},FJ=(n,e,t,r,i,s,o)=>{n.stopPropagation(),i&&WJ(i),s&&r&&sp("",s,r),o?.current&&o.current.focus(),e||t(!0)},Fa=(n,e)=>{const t=n.toLowerCase().replace("#",""),r=()=>t.split("").map(a=>parseInt(a+a,16));let i,s,o;if(t.length===3)[i,s,o]=r();else{const a=parseInt(t.slice(0,6),16);i=a>>16&255,s=a>>8&255,o=a&255}const l=e&&t.length===8?parseInt(t.slice(6,8),16)/255:1;return{r:i,g:s,b:o,a:l}},La=(n,e)=>{const t=i=>Math.round(i).toString(16).padStart(2,"0");if(!e||n.a===1)return`#${t(n.r)}${t(n.g)}${t(n.b)}`.toUpperCase();const r=Math.round(n.a*255);return`#${t(n.r)}${t(n.g)}${t(n.b)}${t(r)}`.toUpperCase()};function Mc(){return(Mc=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function Zx(n,e){if(n==null)return{};var t,r,i={},s=Object.keys(n);for(r=0;r<s.length;r++)e.indexOf(t=s[r])>=0||(i[t]=n[t]);return i}function J1(n){var e=C.useRef(n),t=C.useRef(function(r){e.current&&e.current(r)});return e.current=n,t.current}var wc=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n<e?e:n},ih=function(n){return"touches"in n},eb=function(n){return n&&n.ownerDocument.defaultView||self},ZT=function(n,e,t){var r=n.getBoundingClientRect(),i=ih(e)?function(s,o){for(var l=0;l<s.length;l++)if(s[l].identifier===o)return s[l];return s[0]}(e.touches,t):e;return{left:wc((i.pageX-(r.left+eb(n).pageXOffset))/r.width),top:wc((i.pageY-(r.top+eb(n).pageYOffset))/r.height)}},zT=function(n){!ih(n)&&n.preventDefault()},zx=tt.memo(function(n){var e=n.onMove,t=n.onKey,r=Zx(n,["onMove","onKey"]),i=C.useRef(null),s=J1(e),o=J1(t),l=C.useRef(null),a=C.useRef(!1),u=C.useMemo(function(){var g=function(v){zT(v),(ih(v)?v.touches.length>0:v.buttons>0)&&i.current?s(ZT(i.current,v,l.current)):x(!1)},b=function(){return x(!1)};function x(v){var w=a.current,k=eb(i.current),$=v?k.addEventListener:k.removeEventListener;$(w?"touchmove":"mousemove",g),$(w?"touchend":"mouseup",b)}return[function(v){var w=v.nativeEvent,k=i.current;if(k&&(zT(w),!function(B,N){return N&&!ih(B)}(w,a.current)&&k)){if(ih(w)){a.current=!0;var $=w.changedTouches||[];$.length&&(l.current=$[0].identifier)}k.focus(),s(ZT(k,w,l.current)),x(!0)}},function(v){var w=v.which||v.keyCode;w<37||w>40||(v.preventDefault(),o({left:w===39?.05:w===37?-.05:0,top:w===40?.05:w===38?-.05:0}))},x]},[o,s]),h=u[0],d=u[1],p=u[2];return C.useEffect(function(){return p},[p]),tt.createElement("div",Mc({},r,{onTouchStart:h,onMouseDown:h,className:"react-colorful__interactive",ref:i,onKeyDown:d,tabIndex:0,role:"slider"}))}),sf=function(n){return n.filter(Boolean).join(" ")},qx=function(n){var e=n.color,t=n.left,r=n.top,i=r===void 0?.5:r,s=sf(["react-colorful__pointer",n.className]);return tt.createElement("div",{className:s,style:{top:100*i+"%",left:100*t+"%"}},tt.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},an=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t},YJ=function(n){return i5(tb(n))},tb=function(n){return n[0]==="#"&&(n=n.substring(1)),n.length<6?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?an(parseInt(n[3]+n[3],16)/255,2):1}:{r:parseInt(n.substring(0,2),16),g:parseInt(n.substring(2,4),16),b:parseInt(n.substring(4,6),16),a:n.length===8?an(parseInt(n.substring(6,8),16)/255,2):1}},HJ=function(n){return GJ(r5(n))},n5=function(n){var e=n.s,t=n.v,r=n.a,i=(200-e)*t/100;return{h:an(n.h),s:an(i>0&&i<200?e*t/100/(i<=100?i:200-i)*100:0),l:an(i/2),a:an(r,2)}},nb=function(n){var e=n5(n);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},PO=function(n){var e=n5(n);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},r5=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),l=r*(1-(e-s)*t),a=r*(1-(1-e+s)*t),u=s%6;return{r:an(255*[r,l,o,o,a,r][u]),g:an(255*[a,r,r,l,o,o][u]),b:an(255*[o,o,a,r,r,l][u]),a:an(i,2)}},zd=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},GJ=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=i<1?zd(an(255*i)):"";return"#"+zd(e)+zd(t)+zd(r)+s},i5=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),l=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:an(60*(l<0?l+6:l)),s:an(s?o/s*100:0),v:an(s/255*100),a:i}},s5=tt.memo(function(n){var e=n.hue,t=n.onChange,r=sf(["react-colorful__hue",n.className]);return tt.createElement("div",{className:r},tt.createElement(zx,{onMove:function(i){t({h:360*i.left})},onKey:function(i){t({h:wc(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":an(e),"aria-valuemax":"360","aria-valuemin":"0"},tt.createElement(qx,{className:"react-colorful__hue-pointer",left:e/360,color:nb({h:e,s:100,v:100,a:1})})))}),o5=tt.memo(function(n){var e=n.hsva,t=n.onChange,r={backgroundColor:nb({h:e.h,s:100,v:100,a:1})};return tt.createElement("div",{className:"react-colorful__saturation",style:r},tt.createElement(zx,{onMove:function(i){t({s:100*i.left,v:100-100*i.top})},onKey:function(i){t({s:wc(e.s+100*i.left,0,100),v:wc(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+an(e.s)+"%, Brightness "+an(e.v)+"%"},tt.createElement(qx,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:nb(e)})))}),Xx=function(n,e){if(n===e)return!0;for(var t in n)if(n[t]!==e[t])return!1;return!0},UJ=function(n,e){return n.toLowerCase()===e.toLowerCase()||Xx(tb(n),tb(e))};function l5(n,e,t){var r=J1(t),i=C.useState(function(){return n.toHsva(e)}),s=i[0],o=i[1],l=C.useRef({color:e,hsva:s});C.useEffect(function(){if(!n.equal(e,l.current.color)){var u=n.toHsva(e);l.current={hsva:u,color:e},o(u)}},[e,n]),C.useEffect(function(){var u;Xx(s,l.current.hsva)||n.equal(u=n.fromHsva(s),l.current.color)||(l.current={hsva:s,color:u},r(u))},[s,n,r]);var a=C.useCallback(function(u){o(function(h){return Object.assign({},h,u)})},[]);return[s,a]}var KJ=typeof window<"u"?C.useLayoutEffect:C.useEffect,JJ=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},qT=new Map,a5=function(n){KJ(function(){var e=n.current?n.current.ownerDocument:document;if(e!==void 0&&!qT.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,qT.set(e,t);var r=JJ();r&&t.setAttribute("nonce",r),e.head.appendChild(t)}},[])},eee=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=Zx(n,["className","colorModel","color","onChange"]),l=C.useRef(null);a5(l);var a=l5(t,i,s),u=a[0],h=a[1],d=sf(["react-colorful",e]);return tt.createElement("div",Mc({},o,{ref:l,className:d}),tt.createElement(o5,{hsva:u,onChange:h}),tt.createElement(s5,{hue:u.h,onChange:h,className:"react-colorful__last-control"}))},tee={defaultColor:"000",toHsva:YJ,fromHsva:function(n){return HJ({h:n.h,s:n.s,v:n.v,a:1})},equal:UJ},nee=function(n){return tt.createElement(eee,Mc({},n,{colorModel:tee}))},ree=function(n){var e=n.className,t=n.hsva,r=n.onChange,i={backgroundImage:"linear-gradient(90deg, "+PO(Object.assign({},t,{a:0}))+", "+PO(Object.assign({},t,{a:1}))+")"},s=sf(["react-colorful__alpha",e]),o=an(100*t.a);return tt.createElement("div",{className:s},tt.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),tt.createElement(zx,{onMove:function(l){r({a:l.left})},onKey:function(l){r({a:wc(t.a+l.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},tt.createElement(qx,{className:"react-colorful__alpha-pointer",left:t.a,color:PO(t)})))},iee=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=Zx(n,["className","colorModel","color","onChange"]),l=C.useRef(null);a5(l);var a=l5(t,i,s),u=a[0],h=a[1],d=sf(["react-colorful",e]);return tt.createElement("div",Mc({},o,{ref:l,className:d}),tt.createElement(o5,{hsva:u,onChange:h}),tt.createElement(s5,{hue:u.h,onChange:h}),tt.createElement(ree,{hsva:u,onChange:h,className:"react-colorful__last-control"}))},see={defaultColor:{r:0,g:0,b:0,a:1},toHsva:i5,fromHsva:r5,equal:Xx},oee=function(n){return tt.createElement(iee,Mc({},n,{colorModel:see}))};const Vx=({value:n,isAllowAlpha:e,height:t,width:r})=>{const i=C.useMemo(()=>Fa(n,e),[n]);return O.jsxs("div",{style:{position:"relative"},children:[O.jsx("div",{className:"global-radius",style:{border:"1px solid var(--clr-border)",position:"absolute",height:t??"31.6px",width:r??"31.6px",backgroundColor:e?`rgba(${i.r},${i.g},${i.b},${i.a})`:`rgb(${i.r},${i.g},${i.b})`}}),O.jsx("div",{className:"global-radius checkered-background",style:{height:t??"31.6px",width:r??"31.6px"}})]})},XT=({className:n,shape:e,value:t="",onChange:r,initMode:i,onModeChange:s,isAllowAlpha:o=!1})=>{const{globalShape:l,appTheme:a}=C.useContext(Lt),[u,h]=C.useState(t?Fa(t,o):{r:0,g:0,b:0,a:1}),[d,p]=C.useState(i??"hex"),[g,b]=C.useState(`${u.r}`),[x,v]=C.useState(!1),[w,k]=C.useState(`${u.g}`),[$,B]=C.useState(!1),[N,z]=C.useState(`${u.g}`),[Z,H]=C.useState(!1),[te,K]=C.useState(`${(u.a*100).toFixed(0)}`),[R,E]=C.useState(!1),[P,Q]=C.useState(La(u,o)),[I,j]=C.useState(!1),q=C.useCallback(Co.debounce(F=>{I||Q(La(F,o)),x||b(`${F.r}`),$||k(`${F.g}`),Z||z(`${F.b}`),R||K(`${(F.a*100).toFixed(0)}`)},10),[Q,b,k]),V=C.useCallback(Co.debounce((F,U)=>{r&&r(La(F,U))},300),[r]);return C.useEffect(()=>{q(u),V(u,o)},[JSON.stringify(u)]),C.useEffect(()=>{t&&t!==La(u,o)&&h(Fa(t,o))},[t]),O.jsxs("div",{className:je("color-picker",e||l,a.globalTheme,n),children:[O.jsx("div",{style:{padding:"12px"},children:o?O.jsx(oee,{className:"color-picker-box",color:u,onChange:h}):O.jsx(nee,{className:"color-picker-box",color:La(u,o),onChange:F=>h(Fa(F,o))})}),O.jsxs("div",{className:"color-input-box",children:[O.jsx("div",{style:{marginTop:"var(--space-25)"},children:O.jsx(Vx,{value:P,isAllowAlpha:o})}),O.jsxs("div",{style:{flexGrow:"1"},children:[d==="hex"&&O.jsx(Fe,{className:"hex-input",type:"text",value:P,onChange:F=>{Q(F)},onFocus:()=>{j(!0)},onBlur:(F,U)=>{j(!1),(o?/^#([0-9A-F]{3}|[0-9A-F]{6}|[0-9A-F]{8})$/i:/^#([0-9A-F]{3}|[0-9A-F]{6})$/i).test(U)?h(Fa(U,o)):setTimeout(()=>{Q(La(u,o))},600)}}),d==="rgb"&&O.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--space-100)"},children:[O.jsx(Fe,{className:"rgba-input",type:"number-text",value:g,onChange:F=>{b(F)},onFocus:()=>{v(!0)},onBlur:(F,U)=>{v(!1);const oe=parseInt(U);oe<=255?h(J=>({...J,r:oe})):setTimeout(()=>{b(`${u.r}`)},600)},config:{prefixElement:"R",maxLength:3}}),O.jsx(Fe,{className:"rgba-input",type:"number-text",value:w,onChange:F=>{k(F)},onFocus:()=>{B(!0)},onBlur:(F,U)=>{B(!1);const oe=parseInt(U);oe<=255?h(J=>({...J,g:oe})):setTimeout(()=>{k(`${u.g}`)},600)},config:{prefixElement:"G",maxLength:3}}),O.jsx(Fe,{className:"rgba-input",type:"number-text",value:N,onChange:F=>{z(F)},onFocus:()=>{H(!0)},onBlur:(F,U)=>{H(!1);const oe=parseInt(U);oe<=255?h(J=>({...J,b:oe})):setTimeout(()=>{z(`${u.b}`)},600)},config:{prefixElement:"B",maxLength:3}}),o&&O.jsx(Fe,{className:"rgba-input",type:"number-text",value:te,onChange:F=>{K(F)},onFocus:()=>{E(!0)},onBlur:(F,U)=>{E(!1);const oe=parseInt(U);oe<=225?h(J=>({...J,a:oe/100})):setTimeout(()=>{K(`${(u.a*100).toFixed(0)}`)},600)},config:{prefixElement:"A",sufixElement:"%",maxLength:3}})]})]}),O.jsx("div",{style:{maxWidth:"100%"},children:O.jsx(We,{className:"toggle-mode-button",icon:O.jsx(bC,{}),txtLabel:"input mode",isShowtooltip:!1,appearance:"subtle",onClick:()=>{p(d==="hex"?"rgb":"hex"),s&&s(d==="hex"?"rgb":"hex")}})})]})]})},lee=({mode:n,setMode:e,className:t,trigger:r,style:i=void 0,shape:s=void 0,isDisabled:o=!1,value:l,config:a,onColorChange:u,onClose:h,onOpen:d,elementHeader:p=void 0,elementFooter:g=void 0,floatingConfig:b=void 0,bottomSheetOpen:x,setBottomSheetOpen:v})=>{const{screenSize:w}=C.useContext(Lt),k=C.useRef(null),$=C.useMemo(()=>r?typeof r=="function"?O.jsx(O.Fragment,{children:tt.cloneElement(r(void 0,void 0,x,k),{ref:k,onClick:()=>{o||v(!x)},disabled:o})}):O.jsx("div",{className:je("bottom-sheet-trigger-box"),style:i?.triggerBox,children:tt.cloneElement(r,{ref:k,onClick:()=>{o||v(!x)},disabled:o})}):O.jsx(O.Fragment,{}),[r,o,x]),[B,N]=C.useState(0);return C.useEffect(()=>{v(!1)},[w]),w!=="mobile"||b?.mode?.length===1&&b.mode.includes("dropdown")?O.jsx(Tc,{className:je("input-color-dropdown",t),trigger:r,elementHeader:p,elementFooter:g,onClose:h,onOpen:d,isDisabled:o,triggerClose:B,floatingConfig:b,shape:s,style:{container:i?.container,triggerBox:i?.triggerBox},children:O.jsx(XT,{className:"drodown-color-picker",initMode:n,isAllowAlpha:a?.isAllowAlpha,value:l,onChange:z=>{u&&u(z)},onModeChange:z=>{e(z)},shape:s})}):O.jsxs(O.Fragment,{children:[$,O.jsx(Qc,{isOpen:x,setIsOpen:v,className:je("input-color-bottom-sheet",t),elementHeader:p,elementFooter:g,onClose:h,onOpen:d,floatingConfig:{...b,defaultSnapPoint:"FULL"},shape:s,style:{container:i?.container,triggerBox:i?.triggerBox},children:O.jsx(XT,{initMode:n,isAllowAlpha:a?.isAllowAlpha,value:l,onChange:z=>{u&&u(z)},onModeChange:z=>{e(z)},shape:s})})]})},Wx=({id:n=void 0,className:e=void 0,style:t=void 0,shape:r=void 0,afterElement:i=void 0,beforeElement:s=void 0,txtPlaceholder:o=void 0,value:l="",isDisabled:a=!1,onChange:u=void 0,error:h=void 0,onValidate:d=void 0,triggerValidate:p=0,config:g=void 0})=>{const{globalShape:b}=C.useContext(Lt),[x,v]=C.useState(!1),[w,k]=C.useState(!1),[$,B]=C.useState("hex"),N=tc(()=>{if($==="rgb"){const te=Fa(l,g?.isAllowAlpha);return`${g?.isAllowAlpha?"rgba(":"rgb("}${te.r}, ${te.g}, ${te.b}${g?.isAllowAlpha?`, ${te.a.toFixed(2)})`:")"}`}else return l},[l,$]),[z,Z]=C.useState(!1),H=C.useRef(null);return C.useEffect(()=>{!x&&d&&g&&w&&sp(l,d,g)},[l]),C.useEffect(()=>{p===1&&!x&&d&&g&&sp(l,d,g)},[p]),O.jsxs("div",{className:je("input-color-box",{open:x}),children:[O.jsx(lee,{mode:$,setMode:B,isDisabled:a,trigger:(te,K,R,E)=>(E.current&&(H.current=E.current),O.jsxs("div",{ref:te,...K?.()??{},role:"button",tabIndex:a?-1:0,id:n,className:je("input-color",r||b,{disabled:a,selected:R,error:h?.isError},e),style:t?.triggerButton,onKeyDown:P=>{const Q=!P.target.classList.contains("clear-button");(P.keyCode===13||P.keyCode===32)&&Q&&(P.preventDefault(),H.current?.click())},children:[g?.prefixElement&&O.jsx("div",{className:"prefix-box",children:g?.prefixElement}),O.jsx("div",{className:"value-label-box",children:l?O.jsx("p",{className:"value-label",children:N}):O.jsx("span",{className:"placeholder",children:o})}),g?.sufixElement&&O.jsx("div",{className:"sufix-box",children:g?.sufixElement}),l&&!a&&g?.isShowClear&&O.jsx(We,{className:"clear-button",icon:O.jsx(Bl,{}),txtLabel:"Clear",appearance:"subtle",isShowtooltip:!1,onClick:P=>{FJ(P,w,k,g,u,d,H)}}),a?O.jsx("div",{className:"lock-box",children:O.jsx(hg,{className:"global-icon"})}):O.jsx("div",{className:"caret-box",children:R?O.jsx(OC,{className:"global-icon"}):O.jsx(lb,{className:"global-icon"})})]})),shape:r,style:t?.dropdownMenu,value:l,config:g,onColorChange:te=>{a||VJ(te,w,k,u,d)},onOpen:()=>{v(!0)},onClose:()=>{v(!1),w&&d&&g&&sp(l,d,g)},bottomSheetOpen:z,setBottomSheetOpen:Z,floatingConfig:{isLockScroll:!0,isContainerWidthSameAsTrigger:!1}}),O.jsxs("div",{className:"before-element-box",children:[O.jsx("div",{style:{margin:"var(--space-50)"},onClick:()=>{H.current?.click(),Z(!0)},children:O.jsx(Vx,{value:l,isAllowAlpha:g?.isAllowAlpha,height:"28px",width:"28px"})}),s]}),O.jsxs("div",{className:"after-element-box",children:[O.jsx(We,{icon:O.jsx(bC,{className:"global-icon"}),txtLabel:"Change mode",tooltipPlacement:"top",onClick:()=>{B(te=>te==="rgb"?"hex":"rgb")}}),i]}),h&&h.isError&&h.errorMessage&&O.jsxs("div",{className:"error-box",children:[O.jsx(kc,{className:"global-icon"}),O.jsx("p",{children:h.errorMessage})]})]})},aee=({form:n,onChange:e})=>O.jsx(St,{txtLabel:"Text Color",children:O.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"var(--space-100)",maxWidth:"100%"},children:O.jsx(Wx,{txtPlaceholder:"Select color...",value:n.textColor,onChange:t=>{e("textColor",t||"#000000")}})})}),cee=({form:n,onChange:e})=>O.jsx(St,{txtLabel:"Heading Type",children:O.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"var(--space-100)"},children:[O.jsx(qe,{txtLabel:"Heading 1",onClick:()=>{e("textType","h1")},iconBefore:O.jsx(Dt,{isSelected:n.textType==="h1"}),isSelected:n.textType==="h1"}),O.jsx(qe,{txtLabel:"Heading 2",onClick:()=>{e("textType","h2")},iconBefore:O.jsx(Dt,{isSelected:n.textType==="h2"}),isSelected:n.textType==="h2"}),O.jsx(qe,{txtLabel:"Heading 3",onClick:()=>{e("textType","h3")},iconBefore:O.jsx(Dt,{isSelected:n.textType==="h3"}),isSelected:n.textType==="h3"})]})}),uee=({form:n,onChange:e})=>O.jsx(St,{txtLabel:"Text Size",children:O.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"var(--space-100)",maxWidth:"100%"},children:O.jsx(Fe,{type:"number",txtPlaceholder:"Value...",value:n.fontSize,onChange:t=>{e("fontSize",t)},onBlur:(t,r)=>{!r&&e("fontSize",r||"12")},config:{sufixElement:"px",maxLength:2}})})}),hee=({form:n,onChange:e})=>O.jsx(St,{txtLabel:"Global Heading Size",children:O.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"var(--space-100)",maxWidth:"100%"},children:["h1Size"in n&&O.jsx(Fe,{type:"number",txtPlaceholder:"Value...",value:n.h1Size,onChange:t=>{e("h1Size",t)},onBlur:(t,r)=>{!r&&e("h1Size",r||"32")},config:{prefixElement:"H1",sufixElement:"px",maxLength:2}}),"h2Size"in n&&O.jsx(Fe,{type:"number",txtPlaceholder:"Value...",value:n.h2Size,onChange:t=>{e("h2Size",t)},onBlur:(t,r)=>{!r&&e("h2Size",r||"24")},config:{prefixElement:"H2",sufixElement:"px",maxLength:2}}),"h3Size"in n&&O.jsx(Fe,{type:"number",txtPlaceholder:"Value...",value:n.h3Size,onChange:t=>{e("h3Size",t)},onBlur:(t,r)=>{!r&&e("h3Size",r||"20")},config:{prefixElement:"H3",sufixElement:"px",maxLength:2}})]})}),fee=(n,e)=>n.map(t=>{const r=e.find(i=>i.id===t);return r?{txtLabel:r.txtLabel,icon:r.icon}:{txtLabel:t,icon:void 0}}),dee=(n,e,t,r,i)=>{let s=[...e];if(t&&(s=s.filter(o=>`${o.txtLabel}${o.alias}`.toLowerCase().includes(t.toLowerCase()))),r)return n.length>=r?s.map(o=>n.includes(o.id)?o:{...o,isDisabled:!0}):s;if(i)if(s.findIndex(l=>l.id==="#all")===-1&&(s=[{id:"#all",txtLabel:"All",type:"option"},...s]),n.length>0&&!n.includes("#all")){const l=s.findIndex(a=>a.id==="#all");return s[l]={...s[l],isDisabled:!0},s}else return n.includes("#all")?s.map(l=>n.includes(l.id)?l:{...l,isDisabled:!0}):s;else return s},c5=(n,e,t,r)=>{t(n,e,r)},pee=(n,e)=>{e({isError:!1,errorMessage:""},n)},op=(n,e,t)=>{let r=!1,i="";t.isRequired&&!r&&n.length===0&&(r=!0,i="This field cannot be empty!"),t.maxValue&&!r&&n.length>t.maxValue&&(r=!0,i=`Value selected cannot exceed ${Qp(`${t.maxValue}`)} items`),t.minValue&&!r&&n.length<t.minValue&&(r=!0,i=`Value must be at least ${Qp(`${t.minValue}`)} items`),e({isError:r,errorMessage:i},n)},gee=(n,e,t,r,i,s,o,l,a,u)=>{let h=[...t];r==="multiple"?t.includes(e.id)?h=h.filter(d=>d!=e.id):h.push(e.id):h=[e.id],o?.maxValue&&h.length>o.maxValue&&(h=[...t]),l&&c5(h,e,l,n),u&&a?.isError&&pee(h,u),i||s(!0)},u5=(n,e)=>{e&&c5([],void 0,e,n)},mee=(n,e,t,r,i,s,o)=>{n.stopPropagation(),i&&u5(n,i),s&&r&&op([],s,r),o?.current&&o.current.focus(),e||t(!0)},h5=({id:n=void 0,className:e=void 0,style:t=void 0,shape:r=void 0,afterElement:i=void 0,beforeElement:s=void 0,type:o="single",txtPlaceholder:l=void 0,option:a=[],value:u=[],isDisabled:h=!1,isLoading:d=!1,onChange:p=void 0,error:g=void 0,onValidate:b=void 0,triggerValidate:x=0,config:v=void 0})=>{const{globalShape:w}=C.useContext(Lt),[k,$]=C.useState(!1),[B,N]=C.useState(!1),[z,Z]=C.useState(""),H=tc(()=>dee(u,a,z,v?.maxValue,v?.isIncludeAll),[a,u,z,v?.maxValue]),te=tc(()=>{const P=fee(u,H);return O.jsx(O.Fragment,{children:P.map((Q,I)=>O.jsxs("span",{className:"value-label-text",style:{whiteSpace:"pre"},children:[o==="single"&&Q.icon,Q.txtLabel,I+1!==P.length?",":""]},Q.txtLabel))})},[u,H]),K=C.useRef(null),R=C.useRef(null),E=tc(()=>a.filter(P=>P.type==="option"),[a]);return C.useEffect(()=>{!k&&b&&v&&B&&op(u,b,v)},[JSON.stringify(u)]),C.useEffect(()=>{x===1&&!k&&b&&v&&op(u,b,v)},[x]),O.jsxs("div",{className:je("input-selection-box",{open:k}),children:[O.jsxs("select",{style:{display:"none"},id:n,value:o==="multiple"?u:u.length>0?u[0]:"",multiple:o==="multiple",disabled:!0,children:[O.jsx("option",{value:""}),E.filter(P=>P.type==="option").map(P=>O.jsx("option",{value:P.id,children:P.txtLabel},P.id))]}),O.jsx(Gb,{className:"input-select-dropdown",isDisabled:h,isLoading:d,trigger:(P,Q,I,j)=>(j.current&&(K.current=j.current),O.jsxs("div",{ref:P,...Q?.()??{},role:"button",tabIndex:h?-1:0,id:n,className:je("input-selection",r||w,{disabled:h,selected:I,error:g?.isError},e),style:t?.triggerButton,onKeyDown:q=>{const V=!q.target.classList.contains("clear-button");(q.keyCode===13||q.keyCode===32)&&V&&(q.preventDefault(),K.current||(K.current=j.current),K.current?.click())},children:[v?.prefixElement&&O.jsx("div",{className:"prefix-box",children:v?.prefixElement}),O.jsx("div",{className:"value-label-box",children:u.length>0?O.jsx(O.Fragment,{children:te}):O.jsx("span",{className:"placeholder",children:l})}),v?.sufixElement&&O.jsx("div",{className:"sufix-box",children:v?.sufixElement}),u.length>0&&!h&&v?.isShowInlineClear&&O.jsx(We,{className:"clear-button",icon:O.jsx(Bl,{}),txtLabel:"Clear",appearance:"subtle",isShowtooltip:!1,onClick:q=>{mee(q,B,N,v,p,b,K)}}),h?O.jsx("div",{className:"lock-box",children:O.jsx(hg,{className:"global-icon"})}):O.jsx("div",{className:"caret-box",children:I?O.jsx(OC,{className:"global-icon"}):O.jsx(lb,{className:"global-icon"})})]})),options:H,optionSelected:u,optionSelectedAppearance:"appear-selected",shape:r,style:t?.dropdownMenu,onClick:(P,Q,I)=>{h||gee(I,Q,u,o,B,N,v,p,g,b)},onOpen:()=>{$(!0)},onClose:()=>{$(!1),Z(""),B&&b&&v&&op(u,b,v)},elementHeader:v?.isCombobox||v?.isShowOptionBoxClear?O.jsxs(O.Fragment,{children:[v?.isCombobox?O.jsx("div",{className:"search-bar-box",children:O.jsx(Fe,{ref:R,type:"text",txtPlaceholder:"Search...",value:z,onChange:P=>{Z(P)},config:{prefixElement:O.jsx(H6,{className:"global-icon"})}})}):void 0,v?.isShowOptionBoxClear&&O.jsx("div",{className:"reset-box",children:O.jsx(qe,{shape:"box",className:"reset-button",txtLabel:"Clear Selection",appearance:"subtle",onClick:P=>{p&&u5(P,p)}})})]}):void 0,elementFooter:z&&H.length===0&&a.length>0?O.jsxs("div",{className:"empty-box",children:[O.jsx(g8,{className:"global-icon",size:32}),O.jsxs("div",{children:[O.jsx("span",{children:"No result."}),O.jsx("span",{children:"Try other search param!"})]})]}):void 0,floatingConfig:{isLockScroll:!0,isContainerWidthSameAsTrigger:!0,isWithCheckmark:o==="multiple",isCloseOnItemClicked:o==="single"}}),s&&O.jsx("div",{className:"before-element-box",children:s}),i&&O.jsx("div",{className:"after-element-box",children:i}),g&&g.isError&&g.errorMessage&&O.jsxs("div",{className:"error-box",children:[O.jsx(kc,{className:"global-icon"}),O.jsx("p",{children:g.errorMessage})]})]})},Oee=({form:n,onChange:e})=>O.jsx(St,{txtLabel:"Global Font Family",children:O.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"var(--space-100)",maxWidth:"100%"},children:O.jsx(h5,{type:"single",option:I2,value:n.fontFamily?[n.fontFamily]:[],onChange:t=>{e("fontFamily",t[0]||I2[0].id||"")}})})}),bee=({form:n,onChange:e})=>O.jsx(St,{txtLabel:"Font Family",children:O.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"var(--space-100)",maxWidth:"100%"},children:O.jsx(h5,{type:"single",option:B2,value:n.fontFamily?[n.fontFamily]:[],onChange:t=>{e("fontFamily",t[0]||B2[0].id||"")}})})}),of=({value:n,onChange:e,onClear:t,defaultColor:r="#FFFFFF"})=>O.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-200)"},children:[n?O.jsx("div",{style:{flexGrow:"1"},children:O.jsx(Wx,{txtPlaceholder:"Select color...",value:n,onChange:i=>{e(i||r)}})}):O.jsx("div",{style:{marginLeft:"var(--space-50)"},children:O.jsx(Vx,{value:"#FFFFFF00",isAllowAlpha:!0,height:"28px",width:"28px"})}),O.jsx(We,{icon:n?O.jsx(Bl,{className:"global-icon"}):O.jsx(wC,{className:"global-icon"}),txtLabel:n?"Remove color":"Add Color",onClick:()=>{e(n?void 0:r),t&&t()},tooltipPlacement:"top-end",isShowtooltip:!0})]}),xee=({form:n,onChange:e})=>O.jsx(St,{txtLabel:"Backdrop Color",children:O.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"var(--space-100)",maxWidth:"100%"},children:O.jsx(of,{value:n.backdropColor,onChange:t=>{e("backdropColor",t||"")}})})}),vee=({form:n,onChange:e})=>O.jsx(St,{txtLabel:"Paper Color",children:O.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"var(--space-100)",maxWidth:"100%"},children:O.jsx(of,{value:n.backgroundColor,onChange:t=>{e("backgroundColor",t||"")}})})}),yee=({form:n,onChange:e})=>{const{setRefreshListType:t}=xn();return O.jsx(St,{txtLabel:"List Type",children:O.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"var(--space-100)"},children:[O.jsx(qe,{txtLabel:"bullet",onClick:()=>{if(n.listType!=="bullet"){e("listType","bullet");const r=JSON.stringify(n.textDelta).replaceAll('"list":"ordered"','"list":"bullet"');e("textDelta",JSON.parse(r)),setTimeout(()=>{t(1)},100),setTimeout(()=>{t(0)},500)}},isSelected:n.listType==="bullet",iconBefore:O.jsx(Dt,{isSelected:n.listType==="bullet"})}),O.jsx(qe,{txtLabel:"ordered",onClick:()=>{if(n.listType!=="ordered"){e("listType","ordered");const r=JSON.stringify(n.textDelta).replaceAll('"list":"bullet"','"list":"ordered"');e("textDelta",JSON.parse(r)),setTimeout(()=>{t(1)},100),setTimeout(()=>{t(0)},500)}},isSelected:n.listType==="ordered",iconBefore:O.jsx(Dt,{isSelected:n.listType==="ordered"})})]})})},See=({form:n,onChange:e})=>O.jsx(St,{txtLabel:"Image URL",children:O.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"var(--space-100)",maxWidth:"100%"},children:O.jsx(e5,{type:"text-no-space",txtPlaceholder:"Enter URL link...",value:n.imageSrcUrl,onChange:t=>{e("imageSrcUrl",t)}})})}),wee=({form:n,onChange:e})=>O.jsx(St,{txtLabel:"Button Color",children:O.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"var(--space-100)",maxWidth:"100%"},children:O.jsx(of,{value:n.buttonColor,onChange:t=>{e("buttonColor",t||""),t===void 0&&n.textColor==="#FFFFFF"&&e("textColor",n.buttonColor||"#0F147A"),n.buttonColor||(e("buttonColor","#0F147A"),n.textColor==="#0F147A"&&e("textColor","#FFFFFF"))}})})}),kee=({form:n,onChange:e})=>O.jsx(St,{txtLabel:"Button Width",children:O.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"var(--space-100)"},children:[O.jsx(qe,{txtLabel:"auto",onClick:()=>{e("buttonWidth","auto")},isSelected:n.buttonWidth==="auto",iconBefore:O.jsx(Dt,{isSelected:n.buttonWidth==="auto"})}),O.jsx(qe,{txtLabel:"full",onClick:()=>{e("buttonWidth","full")},isSelected:n.buttonWidth==="full",iconBefore:O.jsx(Dt,{isSelected:n.buttonWidth==="full"})})]})});function f5(n){return ye({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18 3a3 3 0 0 1 2.995 2.824l.005 .176v12a3 3 0 0 1 -2.824 2.995l-.176 .005h-12a3 3 0 0 1 -2.995 -2.824l-.005 -.176v-12a3 3 0 0 1 2.824 -2.995l.176 -.005h12zm0 2h-12a1 1 0 0 0 -.993 .883l-.007 .117v9h14v-9a1 1 0 0 0 -.883 -.993l-.117 -.007z"},child:[]}]})(n)}function d5(n){return ye({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18 3a3 3 0 0 1 2.995 2.824l.005 .176v12a3 3 0 0 1 -2.824 2.995l-.176 .005h-12a3 3 0 0 1 -2.995 -2.824l-.005 -.176v-12a3 3 0 0 1 2.824 -2.995l.176 -.005h12zm1 6h-14v9a1 1 0 0 0 .883 .993l.117 .007h12a1 1 0 0 0 .993 -.883l.007 -.117v-9z"},child:[]}]})(n)}function p5(n){return ye({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M6 21a3 3 0 0 1 -3 -3v-12a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3zm8 -16h-8a1 1 0 0 0 -1 1v12a1 1 0 0 0 1 1h8z"},child:[]}]})(n)}function g5(n){return ye({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M6 21a3 3 0 0 1 -3 -3v-12a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v12a3 3 0 0 1 -3 3zm12 -16h-8v14h8a1 1 0 0 0 1 -1v-12a1 1 0 0 0 -1 -1"},child:[]}]})(n)}function Tee(n){return ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 20l-16 0"},child:[]},{tag:"path",attr:{d:"M4 4l0 .01"},child:[]},{tag:"path",attr:{d:"M8 4l0 .01"},child:[]},{tag:"path",attr:{d:"M12 4l0 .01"},child:[]},{tag:"path",attr:{d:"M16 4l0 .01"},child:[]},{tag:"path",attr:{d:"M20 4l0 .01"},child:[]},{tag:"path",attr:{d:"M4 8l0 .01"},child:[]},{tag:"path",attr:{d:"M12 8l0 .01"},child:[]},{tag:"path",attr:{d:"M20 8l0 .01"},child:[]},{tag:"path",attr:{d:"M4 12l0 .01"},child:[]},{tag:"path",attr:{d:"M8 12l0 .01"},child:[]},{tag:"path",attr:{d:"M12 12l0 .01"},child:[]},{tag:"path",attr:{d:"M16 12l0 .01"},child:[]},{tag:"path",attr:{d:"M20 12l0 .01"},child:[]},{tag:"path",attr:{d:"M4 16l0 .01"},child:[]},{tag:"path",attr:{d:"M12 16l0 .01"},child:[]},{tag:"path",attr:{d:"M20 16l0 .01"},child:[]}]})(n)}function Cee(n){return ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 20l0 -16"},child:[]},{tag:"path",attr:{d:"M8 4l0 .01"},child:[]},{tag:"path",attr:{d:"M12 4l0 .01"},child:[]},{tag:"path",attr:{d:"M16 4l0 .01"},child:[]},{tag:"path",attr:{d:"M20 4l0 .01"},child:[]},{tag:"path",attr:{d:"M12 8l0 .01"},child:[]},{tag:"path",attr:{d:"M20 8l0 .01"},child:[]},{tag:"path",attr:{d:"M8 12l0 .01"},child:[]},{tag:"path",attr:{d:"M12 12l0 .01"},child:[]},{tag:"path",attr:{d:"M16 12l0 .01"},child:[]},{tag:"path",attr:{d:"M20 12l0 .01"},child:[]},{tag:"path",attr:{d:"M12 16l0 .01"},child:[]},{tag:"path",attr:{d:"M20 16l0 .01"},child:[]},{tag:"path",attr:{d:"M8 20l0 .01"},child:[]},{tag:"path",attr:{d:"M12 20l0 .01"},child:[]},{tag:"path",attr:{d:"M16 20l0 .01"},child:[]},{tag:"path",attr:{d:"M20 20l0 .01"},child:[]}]})(n)}function Pee(n){return ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 4l0 16"},child:[]},{tag:"path",attr:{d:"M4 4l0 .01"},child:[]},{tag:"path",attr:{d:"M8 4l0 .01"},child:[]},{tag:"path",attr:{d:"M12 4l0 .01"},child:[]},{tag:"path",attr:{d:"M16 4l0 .01"},child:[]},{tag:"path",attr:{d:"M4 8l0 .01"},child:[]},{tag:"path",attr:{d:"M12 8l0 .01"},child:[]},{tag:"path",attr:{d:"M4 12l0 .01"},child:[]},{tag:"path",attr:{d:"M8 12l0 .01"},child:[]},{tag:"path",attr:{d:"M12 12l0 .01"},child:[]},{tag:"path",attr:{d:"M16 12l0 .01"},child:[]},{tag:"path",attr:{d:"M4 16l0 .01"},child:[]},{tag:"path",attr:{d:"M12 16l0 .01"},child:[]},{tag:"path",attr:{d:"M4 20l0 .01"},child:[]},{tag:"path",attr:{d:"M8 20l0 .01"},child:[]},{tag:"path",attr:{d:"M12 20l0 .01"},child:[]},{tag:"path",attr:{d:"M16 20l0 .01"},child:[]}]})(n)}function Qee(n){return ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4l16 0"},child:[]},{tag:"path",attr:{d:"M4 8l0 .01"},child:[]},{tag:"path",attr:{d:"M12 8l0 .01"},child:[]},{tag:"path",attr:{d:"M20 8l0 .01"},child:[]},{tag:"path",attr:{d:"M4 12l0 .01"},child:[]},{tag:"path",attr:{d:"M8 12l0 .01"},child:[]},{tag:"path",attr:{d:"M12 12l0 .01"},child:[]},{tag:"path",attr:{d:"M16 12l0 .01"},child:[]},{tag:"path",attr:{d:"M20 12l0 .01"},child:[]},{tag:"path",attr:{d:"M4 16l0 .01"},child:[]},{tag:"path",attr:{d:"M12 16l0 .01"},child:[]},{tag:"path",attr:{d:"M20 16l0 .01"},child:[]},{tag:"path",attr:{d:"M4 20l0 .01"},child:[]},{tag:"path",attr:{d:"M8 20l0 .01"},child:[]},{tag:"path",attr:{d:"M12 20l0 .01"},child:[]},{tag:"path",attr:{d:"M16 20l0 .01"},child:[]},{tag:"path",attr:{d:"M20 20l0 .01"},child:[]}]})(n)}function $ee(n){return ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 19h-6a8 8 0 0 1 -8 -8v-6"},child:[]}]})(n)}function Aee(n){return ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 5v6a8 8 0 0 1 -8 8h-6"},child:[]}]})(n)}function Ree(n){return ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 19v-6a8 8 0 0 1 8 -8h6"},child:[]}]})(n)}function Eee(n){return ye({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 5h6a8 8 0 0 1 8 8v6"},child:[]}]})(n)}const Lee=({form:n,onChange:e})=>O.jsx(St,{txtLabel:"Block Radius",children:O.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"var(--space-100)",maxWidth:"100%",marginTop:"var(--space-100)"},children:["borderRadiusTL"in n&&O.jsx(Fe,{type:"number",txtPlaceholder:"Value...",value:n.borderRadiusTL,onChange:t=>{e("borderRadiusTL",t)},onBlur:(t,r)=>{!r&&e("borderRadiusTL",r||"0")},config:{prefixElement:O.jsx(Ree,{className:"global-icon"}),sufixElement:"px",maxLength:3}}),"borderRadiusTR"in n&&O.jsx(Fe,{type:"number",txtPlaceholder:"Value...",value:n.borderRadiusTR,onChange:t=>{e("borderRadiusTR",t)},onBlur:(t,r)=>{!r&&e("borderRadiusTR",r||"0")},config:{prefixElement:O.jsx(Eee,{className:"global-icon"}),sufixElement:"px",maxLength:3}}),"borderRadiusBL"in n&&O.jsx(Fe,{type:"number",txtPlaceholder:"Value...",value:n.borderRadiusBL,onChange:t=>{e("borderRadiusBL",t)},onBlur:(t,r)=>{!r&&e("borderRadiusBL",r||"0")},config:{prefixElement:O.jsx($ee,{className:"global-icon"}),sufixElement:"px",maxLength:3}}),"borderRadiusBR"in n&&O.jsx(Fe,{type:"number",txtPlaceholder:"Value...",value:n.borderRadiusBR,onChange:t=>{e("borderRadiusBR",t)},onBlur:(t,r)=>{!r&&e("borderRadiusBR",r||"0")},config:{prefixElement:O.jsx(Aee,{className:"global-icon"}),sufixElement:"px",maxLength:3}})]})}),_ee=({form:n,onChange:e})=>O.jsx(St,{txtLabel:"Background Color",children:O.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"var(--space-100)",maxWidth:"100%"},children:O.jsx(of,{value:n.backgroundColor,onChange:t=>{e("backgroundColor",t||"")}})})}),Mee=({form:n,onChange:e,contentLabel:t="Content"})=>O.jsxs(St,{txtLabel:"Content Padding",children:["contentPaddingTop"in n&&O.jsx("div",{style:{display:"grid",gridTemplateColumns:"0.33fr",gap:"var(--space-200)",justifyContent:"center",maxWidth:"100%"},children:O.jsx(Fe,{type:"number",txtPlaceholder:"Value...",value:n.contentPaddingTop,onChange:r=>{e("contentPaddingTop",r)},onBlur:(r,i)=>{!i&&e("contentPaddingTop",i||"0")},config:{prefixElement:O.jsx(d5,{className:"global-icon"}),sufixElement:"px",maxLength:3}})}),O.jsxs("div",{style:{display:"grid",alignItems:"center",gridTemplateColumns:"1fr 1fr 1fr",gap:"var(--space-200)",maxWidth:"100%",marginTop:"var(--space-200)"},children:["contentPaddingLeft"in n&&O.jsx(Fe,{type:"number",txtPlaceholder:"Value...",value:n.contentPaddingLeft,onChange:r=>{e("contentPaddingLeft",r)},onBlur:(r,i)=>{!i&&e("contentPaddingLeft",i||"0")},config:{prefixElement:O.jsx(g5,{className:"global-icon"}),sufixElement:"px",maxLength:3}}),O.jsx("div",{className:"global-disbaled-bg",style:{border:"1px dashed var(--clr-border)",padding:"var(--space-200)"},children:O.jsx("div",{style:{backgroundColor:"var(--clr-surface-1)",border:"1px dashed var(--clr-border)",padding:"var(--space-100)"},children:O.jsx("p",{className:"text-sm",style:{textAlign:"center",color:"var(--clr-surface-5)"},children:t})})}),"contentPaddingRight"in n&&O.jsx(Fe,{type:"number",txtPlaceholder:"Value...",value:n.contentPaddingRight,onChange:r=>{e("contentPaddingRight",r)},onBlur:(r,i)=>{!i&&e("contentPaddingRight",i||"0")},config:{prefixElement:O.jsx(p5,{className:"global-icon"}),sufixElement:"px",maxLength:3}})]}),"contentPaddingBottom"in n&&O.jsx("div",{style:{display:"grid",gridTemplateColumns:"0.33fr",gap:"var(--space-200)",justifyContent:"center",maxWidth:"100%",marginTop:"var(--space-200)"},children:O.jsx(Fe,{type:"number",txtPlaceholder:"Value...",value:n.contentPaddingBottom,onChange:r=>{e("contentPaddingBottom",r)},onBlur:(r,i)=>{!i&&e("contentPaddingBottom",i||"0")},config:{prefixElement:O.jsx(f5,{className:"global-icon"}),sufixElement:"px",maxLength:3}})})]}),Nee=({form:n,onChange:e})=>O.jsx(St,{txtLabel:"Dimention",children:O.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"var(--space-100)",maxWidth:"100%"},children:["height"in n&&O.jsx(Fe,{type:"number",txtPlaceholder:"Auto",value:n.height,onChange:t=>{e("height",t)},onBlur:(t,r)=>{!r&&e("height",r)},config:{prefixElement:O.jsx(j6,{className:"global-icon"}),sufixElement:"px",maxLength:3}}),"width"in n&&O.jsx(Fe,{type:"number",txtPlaceholder:"Auto",value:n.width,onChange:t=>{e("width",t)},onBlur:(t,r)=>{!r&&e("width",r)},config:{prefixElement:O.jsx(mC,{className:"global-icon"}),sufixElement:"px",maxLength:3}})]})}),Bee=({form:n,onChange:e})=>O.jsxs(St,{txtLabel:"Block Padding",children:["paddingTop"in n&&O.jsx("div",{style:{display:"grid",gridTemplateColumns:"0.33fr",gap:"var(--space-200)",justifyContent:"center",maxWidth:"100%"},children:O.jsx(Fe,{type:"number",txtPlaceholder:"Value...",value:n.paddingTop,onChange:t=>{e("paddingTop",t)},onBlur:(t,r)=>{!r&&e("paddingTop",r||"0")},config:{prefixElement:O.jsx(d5,{className:"global-icon"}),sufixElement:"px",maxLength:3}})}),O.jsxs("div",{style:{display:"grid",alignItems:"center",gridTemplateColumns:"1fr 1fr 1fr",gap:"var(--space-200)",maxWidth:"100%",marginTop:"var(--space-200)"},children:["paddingLeft"in n&&O.jsx(Fe,{type:"number",txtPlaceholder:"Value...",value:n.paddingLeft,onChange:t=>{e("paddingLeft",t)},onBlur:(t,r)=>{!r&&e("paddingLeft",r||"0")},config:{prefixElement:O.jsx(g5,{className:"global-icon"}),sufixElement:"px",maxLength:3}}),O.jsx("div",{className:"global-disbaled-bg",style:{border:"1px dashed var(--clr-border)",padding:"var(--space-200)"},children:O.jsx("div",{style:{backgroundColor:"var(--clr-surface-1)",border:"1px dashed var(--clr-border)",padding:"var(--space-100)"},children:O.jsx("p",{className:"text-sm",style:{textAlign:"center",color:"var(--clr-surface-5)"},children:"Content"})})}),"paddingRight"in n&&O.jsx(Fe,{type:"number",txtPlaceholder:"Value...",value:n.paddingRight,onChange:t=>{e("paddingRight",t)},onBlur:(t,r)=>{!r&&e("paddingRight",r||"0")},config:{prefixElement:O.jsx(p5,{className:"global-icon"}),sufixElement:"px",maxLength:3}})]}),"paddingBottom"in n&&O.jsx("div",{style:{display:"grid",gridTemplateColumns:"0.33fr",gap:"var(--space-200)",justifyContent:"center",maxWidth:"100%",marginTop:"var(--space-200)"},children:O.jsx(Fe,{type:"number",txtPlaceholder:"Value...",value:n.paddingBottom,onChange:t=>{e("paddingBottom",t)},onBlur:(t,r)=>{!r&&e("paddingBottom",r||"0")},config:{prefixElement:O.jsx(f5,{className:"global-icon"}),sufixElement:"px",maxLength:3}})})]}),Iee=({form:n,onChange:e})=>O.jsx(St,{txtLabel:"Text Alignment",children:O.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:"var(--space-100)"},children:[O.jsx(qe,{txtLabel:O.jsx(CC,{className:"global-icon"}),onClick:()=>{e("textAlign","left")},isSelected:n.textAlign==="left",iconBefore:O.jsx(Dt,{isSelected:n.textAlign==="left"})}),O.jsx(qe,{txtLabel:O.jsx(kC,{className:"global-icon"}),onClick:()=>{e("textAlign","center")},isSelected:n.textAlign==="center",iconBefore:O.jsx(Dt,{isSelected:n.textAlign==="center"})}),O.jsx(qe,{txtLabel:O.jsx(PC,{className:"global-icon"}),onClick:()=>{e("textAlign","right")},isSelected:n.textAlign==="right",iconBefore:O.jsx(Dt,{isSelected:n.textAlign==="right"})}),O.jsx(qe,{txtLabel:O.jsx(TC,{className:"global-icon"}),onClick:()=>{e("textAlign","justify")},isSelected:n.textAlign==="justify",iconBefore:O.jsx(Dt,{isSelected:n.textAlign==="justify"})})]})}),jee=({form:n,onChange:e})=>O.jsx(St,{txtLabel:"Alignment",children:O.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"var(--space-100)"},children:[O.jsx(qe,{txtLabel:O.jsx(M6,{className:"global-icon"}),onClick:()=>{e("alignment","start")},isSelected:n.alignment==="start",iconBefore:O.jsx(Dt,{isSelected:n.alignment==="start"})}),O.jsx(qe,{txtLabel:O.jsx(E6,{className:"global-icon"}),onClick:()=>{e("alignment","center")},isSelected:n.alignment==="center",iconBefore:O.jsx(Dt,{isSelected:n.alignment==="center"})}),O.jsx(qe,{txtLabel:O.jsx(A6,{className:"global-icon"}),onClick:()=>{e("alignment","end")},isSelected:n.alignment==="end",iconBefore:O.jsx(Dt,{isSelected:n.alignment==="end"})})]})}),Dee=({form:n,onChange:e})=>O.jsx(St,{txtLabel:"Justify",children:O.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"var(--space-100)"},children:[O.jsx(qe,{txtLabel:O.jsx(L6,{className:"global-icon"}),onClick:()=>{e("justify","left")},isSelected:n.justify==="left",iconBefore:O.jsx(Dt,{isSelected:n.justify==="left"})}),O.jsx(qe,{txtLabel:O.jsx(R6,{className:"global-icon"}),onClick:()=>{e("justify","center")},isSelected:n.justify==="center",iconBefore:O.jsx(Dt,{isSelected:n.justify==="center"})}),O.jsx(qe,{txtLabel:O.jsx(_6,{className:"global-icon"}),onClick:()=>{e("justify","right")},isSelected:n.justify==="right",iconBefore:O.jsx(Dt,{isSelected:n.justify==="right"})})]})}),Zee=({form:n,onChange:e})=>O.jsx(St,{txtLabel:"Paper Max Dimention",children:O.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"var(--space-100)",maxWidth:"100%"},children:"width"in n&&O.jsx(Fe,{type:"number",txtPlaceholder:"Auto",value:n.width,onChange:t=>{e("width",t)},onBlur:(t,r)=>{!r&&e("width",r)},isDisabled:!0,config:{prefixElement:O.jsx(mC,{className:"global-icon"}),sufixElement:"px",maxLength:3}})})}),zee=({form:n,onChange:e})=>O.jsx(St,{txtLabel:"Devider Color",children:O.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"var(--space-100)",maxWidth:"100%"},children:O.jsx(Wx,{txtPlaceholder:"Select color...",value:n.deviderColor,onChange:t=>{e("deviderColor",t||"#FFFFFF")}})})}),qee=({form:n,onChange:e})=>O.jsxs(St,{txtLabel:"Border",children:[O.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"var(--space-100)",maxWidth:"100%"},children:O.jsx(of,{value:n.borderColor,onChange:t=>{e("borderColor",t||"")},onClear:()=>{e("borderTop","1"),e("borderBottom","1"),e("borderLeft","1"),e("borderRight","1")},defaultColor:"#F1F1F1"})}),O.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"var(--space-100)",maxWidth:"100%",marginTop:"var(--space-100)"},children:[!!n.borderColor&&"borderTop"in n&&O.jsx(Fe,{type:"number",txtPlaceholder:"Value...",value:n.borderTop,onChange:t=>{e("borderTop",t)},onBlur:(t,r)=>{!r&&e("borderTop",r||"0")},config:{prefixElement:O.jsx(Qee,{className:"global-icon"}),sufixElement:"px",maxLength:2}}),!!n.borderColor&&"borderBottom"in n&&O.jsx(Fe,{type:"number",txtPlaceholder:"Value...",value:n.borderBottom,onChange:t=>{e("borderBottom",t)},onBlur:(t,r)=>{!r&&e("borderBottom",r||"0")},config:{prefixElement:O.jsx(Tee,{className:"global-icon"}),sufixElement:"px",maxLength:2}}),!!n.borderColor&&"borderLeft"in n&&O.jsx(Fe,{type:"number",txtPlaceholder:"Value...",value:n.borderLeft,onChange:t=>{e("borderLeft",t)},onBlur:(t,r)=>{!r&&e("borderLeft",r||"0")},config:{prefixElement:O.jsx(Cee,{className:"global-icon"}),sufixElement:"px",maxLength:2}}),!!n.borderColor&&"borderRight"in n&&O.jsx(Fe,{type:"number",txtPlaceholder:"Value...",value:n.borderRight,onChange:t=>{e("borderRight",t)},onBlur:(t,r)=>{!r&&e("borderRight",r||"0")},config:{prefixElement:O.jsx(Pee,{className:"global-icon"}),sufixElement:"px",maxLength:2}})]})]}),Xee=({form:n,onChange:e})=>O.jsx(St,{txtLabel:"Hide On",children:O.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:"var(--space-100)"},children:[O.jsx(qe,{txtLabel:"off",onClick:()=>{e("visibility","both")},isSelected:n.visibility==="both",iconBefore:O.jsx(Dt,{isSelected:n.visibility==="both"})}),O.jsx(qe,{txtLabel:O.jsx(U6,{className:"global-icon"}),onClick:()=>{e("visibility","hide-desktop")},isSelected:n.visibility==="hide-desktop",iconBefore:O.jsx(Dt,{isSelected:n.visibility==="hide-desktop"})}),O.jsx(qe,{txtLabel:O.jsx(vC,{className:"global-icon"}),onClick:()=>{e("visibility","hide-mobile")},isSelected:n.visibility==="hide-mobile",iconBefore:O.jsx(Dt,{isSelected:n.visibility==="hide-mobile"})})]})}),Vee=()=>{const{selectedId:n,triggerRefreshListType:e,paperValue:t,setPaperValue:r}=xn(),i=C.useRef(null),[s,o]=C.useState(t.root.props),l=(u,h)=>{o(d=>{const p={...d};return p[u]=h,p})},a=u=>{r(h=>{const d={...h};return d[u].props={...s},d})};return C.useEffect(()=>{const u=n||"root";JSON.stringify(s)!==JSON.stringify(t[u].props)&&(console.log("update from properies"),a(u))},[JSON.stringify(s)]),C.useEffect(()=>{o(t[n||"root"].props),i.current&&i.current.scrollIntoView({behavior:"smooth"})},[n,e]),O.jsxs("div",{children:[O.jsx("div",{ref:i,style:{paddingTop:"var(--space-200)"}}),O.jsxs("div",{style:{display:"grid",gap:"var(--space-200)"},children:["textType"in s&&O.jsx(cee,{form:s,onChange:l}),"columnCount"in s&&O.jsx(LJ,{form:s,onChange:l}),"columnCount"in s&&O.jsx(MJ,{form:s,onChange:l}),"columnGap"in s&&O.jsx(_J,{form:s,onChange:l}),"imageSrcUrl"in s&&O.jsx(See,{form:s,onChange:l}),"url"in s&&O.jsx(XJ,{form:s,onChange:l}),"textColor"in s&&O.jsx(aee,{form:s,onChange:l}),"fontSize"in s&&O.jsx(uee,{form:s,onChange:l}),("h1Size"in s||"h2Size"in s||"h3Size"in s)&&O.jsx(hee,{form:s,onChange:l}),"fontFamily"in s&&n==="root"&&O.jsx(Oee,{form:s,onChange:l}),"fontFamily"in s&&n!=="root"&&O.jsx(bee,{form:s,onChange:l}),"listType"in s&&O.jsx(yee,{form:s,onChange:l}),"buttonColor"in s&&O.jsx(wee,{form:s,onChange:l}),"buttonWidth"in s&&O.jsx(kee,{form:s,onChange:l}),"deviderColor"in s&&O.jsx(zee,{form:s,onChange:l}),("height"in s||"width"in s&&n!=="root")&&O.jsx(Nee,{form:s,onChange:l}),"textAlign"in s&&O.jsx(Iee,{form:s,onChange:l}),"borderColor"in s&&O.jsx(qee,{form:s,onChange:l}),("borderRadiusTL"in s||"borderRadiusTR"in s||"borderRadiusBL"in s||"borderRadiusBR"in s)&&O.jsx(Lee,{form:s,onChange:l}),("contentPaddingTop"in s||"contentPaddingBottom"in s||"contentPaddingRight"in s||"contentPaddingLeft"in s)&&O.jsx(Mee,{form:s,onChange:l,contentLabel:t[n].type==="button"?"Label":""}),"backdropColor"in s&&O.jsx(xee,{form:s,onChange:l}),"backgroundColor"in s&&n==="root"&&O.jsx(vee,{form:s,onChange:l}),"backgroundColor"in s&&n!=="root"&&O.jsx(_ee,{form:s,onChange:l}),"alignment"in s&&O.jsx(jee,{form:s,onChange:l}),"justify"in s&&O.jsx(Dee,{form:s,onChange:l}),("paddingTop"in s||"paddingBottom"in s||"paddingRight"in s||"paddingLeft"in s)&&O.jsx(Bee,{form:s,onChange:l}),"visibility"in s&&O.jsx(Xee,{form:s,onChange:l}),"width"in s&&n=="root"&&O.jsx(Zee,{form:s,onChange:l})]})]})},Wee={textDelta:{ops:[{insert:`New Title Block
`}]},textColor:"#000000",textType:"h1",fontFamily:"global",textAlign:"left",borderRadiusTL:"0",borderRadiusTR:"0",borderRadiusBL:"0",borderRadiusBR:"0",borderColor:"",borderTop:"1",borderBottom:"1",borderLeft:"1",borderRight:"1",visibility:"both"},Fee={textDelta:{ops:[{insert:`New Text Block
`}]},textColor:"#000000",fontSize:"12",fontFamily:"global",textAlign:"left",borderRadiusTL:"0",borderRadiusTR:"0",borderRadiusBL:"0",borderRadiusBR:"0",borderColor:"",borderTop:"1",borderBottom:"1",borderLeft:"1",borderRight:"1",visibility:"both"},Yee={textDelta:{ops:[{insert:"New List"},{attributes:{list:"bullet"},insert:`
`}]},listType:"bullet",textColor:"#000000",fontSize:"12",fontFamily:"global",borderRadiusTL:"0",borderRadiusTR:"0",borderRadiusBL:"0",borderRadiusBR:"0",borderColor:"",borderTop:"1",borderBottom:"1",borderLeft:"1",borderRight:"1",visibility:"both"},Hee={imageSrcUrl:"",url:"",height:"",width:"",justify:"center",borderRadiusTL:"0",borderRadiusTR:"0",borderRadiusBL:"0",borderRadiusBR:"0",visibility:"both"},Gee={textDelta:{ops:[{attributes:{bold:!0},insert:"Button"},{insert:`
`}]},fontSize:"14",url:"",textAlign:"center",buttonWidth:"auto",buttonColor:"#0F147A",textColor:"#FFFFFF",borderRadiusTL:"0",borderRadiusTR:"0",borderRadiusBL:"0",borderRadiusBR:"0",borderColor:"",borderTop:"1",borderBottom:"1",borderLeft:"1",borderRight:"1",contentPaddingTop:"12",contentPaddingBottom:"12",contentPaddingLeft:"24",contentPaddingRight:"24",visibility:"both"},ute=()=>{const[n,e]=C.useState(!0),[t,r]=C.useState(!0),[i,s]=C.useState("root"),[o,l]=C.useState({root:{type:"main",props:{backdropColor:"#FFFFFF",backgroundColor:"#FFFFFF",fontFamily:"aria",h1Size:"32",h2Size:"24",h3Size:"20",width:"600"},childIds:[]}}),a=(E,P,Q)=>{let j=new sP.QuillDeltaToHtmlConverter(E.ops,{inlineStyles:!0}).convert();const q=o.root.props.h1Size?`${o.root.props.h1Size}px`:void 0,V=o.root.props.h2Size?`${o.root.props.h2Size}px`:void 0,F=o.root.props.h3Size?`${o.root.props.h3Size}px`:void 0;if(P==="list")j=j.replace("<ul>",`<ul style="color:${Q.textColor||""}; padding-left:1.5em; font-size:${Q.fontSize?`${Q.fontSize}px`:"12px"}; ${Q.fontFamily?`font-family:${Q.fontFamily&&Q.fontFamily!=="global"&&Ni[Q.fontFamily]||""}`:""}">`).replace("<ol>",`<ol style="color:${Q.textColor||""}; padding-left:1.5em; font-size:${Q.fontSize?`${Q.fontSize}px`:"12px"}; ${Q.fontFamily?`font-family:${Q.fontFamily&&Q.fontFamily!=="global"&&Ni[Q.fontFamily]||""}`:""}">`);else{let U=Q.textType?Q.textType:"p";j=j.replace("<p>",`<${U} style="word-break: break-word; color:${Q.textColor||""}; text-align:${Q.textAlign||""}; font-size:${Q.textType==="h1"?q||"32px":Q.textType==="h2"?V||"24px":Q.textType==="h3"?F||"20px":Q.fontSize?`${Q.fontSize}px`:"12px"}; ${Q.fontFamily&&Q.fontFamily!=="global"?`font-family:${Q.fontFamily&&Ni[Q.fontFamily]||""}`:""}">`).replace("</p>",`</${U}>`)}return j=`${j}`,j},u=(E,P,Q)=>{const I=o[E];let j="";return I.childIds.forEach(q=>{j+=d(q)||""}),`<td ${P?`width:"${P}"`:""} style="box-sizing:content-box; vertical-align:${Q}; padding-left:0; padding-right:0px; ${P?`width:${P}px`:""};">
                    ${j}
                </td>`},h=(E,P)=>P==="hide-mobile"?`<div class="hide-mobile">${E}</div>`:P==="hide-desktop"?`
            <div class="hide-desktop show-mobile" style="display:none; max-height:0px; overflow:hidden;">
                ${E}
            </div>
            `:E,d=E=>{const P=o[E];if(P){const Q=P.props,I=P.type;let j="";if(I==="heading"||I==="text"||I==="list"){const q=Q.textDelta;j=q?a(q,I,Q):""}else if(I==="image")j=`<div style="text-align:${Q.justify}; height:${Q.height?`${Q.height}px`:"auto"};"><a ${Q.url?`href="${Q.url}" target="_blank"`:""} style="text-decoration:none;"><img src="${Q.imageSrcUrl}" style="vertical-align:middle; display:inline-block; max-width:100%; height:${Q.height?`${Q.height}px`:"20px"}; width:${Q.width?`${Q.width}px`:"20px"}; border-radius:${Q.borderRadiusTL||0}px ${Q.borderRadiusTR||0}px ${Q.borderRadiusBR||0}px ${Q.borderRadiusBL||0}px;"/></a></div>`;else if(I==="button"){const q=Q.textDelta,V=q?a(q,I,Q):"";j=`<div style="text-align:${Q.textAlign}"><a href="${Q.url||"#"}" target="_blank" style="color:${Q.textColor}; text-decoration:none;"><div style="display:${Q.buttonWidth==="full"?"block":"inline-block"};background-color:${Q.buttonColor||"transparent"}; padding-top:${Q.contentPaddingTop||"0"}px; padding-right:${Q.contentPaddingRight||"0"}px; padding-bottom:${Q.contentPaddingBottom||"0"}px; padding-left:${Q.contentPaddingLeft||"0"}px; border-top-left-radius:${Q.borderRadiusTL?`${Q.borderRadiusTL}px`:"0px"}; border-top-right-radius:${Q.borderRadiusTR?`${Q.borderRadiusTR}px`:"0px"}; border-bottom-left-radius:${Q.borderRadiusBL?`${Q.borderRadiusBL}px`:"0px"}; border-bottom-right-radius:${Q.borderRadiusBR?`${Q.borderRadiusBR}px`:"0px"}; border-top:${`${Q.borderTop||"0"}px solid ${Q.borderColor||"transparent"}`}; border-bottom:${`${Q.borderBottom||"0"}px solid ${Q.borderColor||"transparent"}`}; border-left:${`${Q.borderLeft||"0"}px solid ${Q.borderColor||"transparent"}`}; border-right:${`${Q.borderRight||"0"}px solid ${Q.borderColor||"transparent"}`};">${V}</div></a></div>`}else if(I==="container")j=`<div>${P.childIds.map(q=>d(q)).join("")}</div>`;else if(I==="column"){const q=(U,oe)=>{const J=oe[`column${U+1}Size`];return J?`${J}`:""},V=parseInt(Q.columnCount||"1");let F="";for(let U=0;U<V;U++){const oe=P.childIds[U];if(oe){const J=q(U,Q);F+=u(oe,J,`${Q.alignment==="start"?"top":Q.alignment==="end"?"bottom":"middle"}`)}}j=`<table role="presentation" border="0" cellpadding="0" cellspacing="0" width="100%" style="table-layout:fixed;border-collapse:collapse"><tr>${F}</tr></table>`}else I==="spacer"?j=`<div style="display:block; height:${Q.height?`${Q.height}px`:"0px"}"></div>`:I==="devider"?j=`<div style="display:block"><div style="border-bottom:${Q.height?`${Q.height}px`:"0px"} solid ${Q.deviderColor||"transparent"};width:100%;"></div></div>`:j="<p>||||</p>";return j=`<div style="padding-top:${Q.paddingTop||"0"}px; padding-right:${Q.paddingRight||"0"}px; padding-bottom:${Q.paddingBottom||"0"}px; padding-left:${Q.paddingLeft||"0"}px; background-color:${Q.backgroundColor||"transparent"}; border-top-left-radius:${["button","image"].includes(P.type)?"0px":`${Q.borderRadiusTL||"0"}px`}; border-top-right-radius:${["button","image"].includes(P.type)?"0px":`${Q.borderRadiusTR||"0"}px`}; border-bottom-left-radius:${["button","image"].includes(P.type)?"0px":`${Q.borderRadiusBL||"0"}px`}; border-bottom-right-radius:${["button","image"].includes(P.type)?"0px":`${Q.borderRadiusBR||"0"}px`}; border-top:${["button","image"].includes(P.type)?"0px solid transparent":`${Q.borderTop||"0"}px solid ${Q.borderColor||"transparent"}`}; border-bottom:${["button","image"].includes(P.type)?"0px solid transparent":`${Q.borderBottom||"0"}px solid ${Q.borderColor||"transparent"}`}; border-left:${["button","image"].includes(P.type)?"0px solid transparent":`${Q.borderLeft||"0"}px solid ${Q.borderColor||"transparent"}`}; border-right:${["button","image"].includes(P.type)?"0px solid transparent":`${Q.borderRight||"0"}px solid ${Q.borderColor||"transparent"}`};">${j}</div>`,Q.visibility&&(j=h(j,Q.visibility)),j}};function p(E){return E.replace(/[^\x00-\x7F]/g,P=>`&#${P.charCodeAt(0)};`)}const g=tc(()=>{const E=o.root,P=E.props,Q=`<!doctype html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <style>
            * {margin:0px; line-height:normal;}
            h1 {font-size:32px;}
            h2 {font-size:24px;}
            h3 {font-size:20px;}
            p {font-size:12px;}

            /* Hide on Mobile */
            @media only screen and (max-width: 600px) {
                .hide-mobile {
                    display: none !important;
                }
                .show-mobile {
                    display: block !important; /* or table, depending on element */
                    max-height: none !important;
                    overflow: visible !important;
                }
            }

            /* Hide on Desktop */
            .hide-desktop {
                display: none; /* Hidden by default on desktop */
                max-height: 0px;
                overflow: hidden;
            }
        </style>
    </head>
    <body>
        <div style="background-color:${P.backdropColor||"transparent"}; height:fit-content; width:100%; font-family:${Ni[P.fontFamily||"aria"]};">
            <table 
                role="presentation" 
                align="center" 
                width="100%" 
                cellpadding="0" 
                cellspacing="0" 
                border="0"
                style="margin:0px auto; max-width:600px; background-color:${P.backgroundColor||"transparent"}"
            >
                <tbody>
                    <tr>
                        <td>
<!-- Main email content -->
${E.childIds.map(I=>d(I)).join(`
`)}
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    <body>
</html>`;return p(Q)},[JSON.stringify(o)]),[b,x]=C.useState(0);function v(E,P,Q){const I=E.indexOf(Q);return E.splice(I===-1?E.length:I,0,P),E}function w(E,P,Q){const I=E.indexOf(Q),j=I===-1?E.length:I+1;return E.splice(j,0,P),E}function k(E,P){const Q=E.indexOf(P);return Q>0&&([E[Q-1],E[Q]]=[E[Q],E[Q-1]]),E}function $(E,P){const Q=E.indexOf(P);return Q!==-1&&Q<E.length-1&&([E[Q],E[Q+1]]=[E[Q+1],E[Q]]),E}const B=(E,P,Q,I)=>{const j={...o},q=`block_${new Date().getTime()}`,V={type:E,props:{backgroundColor:void 0,paddingTop:"16",paddingRight:"24",paddingBottom:"16",paddingLeft:"24"},childIds:[]};switch(E){case"heading":V.props={...V.props,...Wee};break;case"text":V.props={...V.props,...Fee};break;case"list":V.props={...V.props,...Yee};break;case"image":V.props={...V.props,...Hee};break;case"button":V.props={...V.props,...Gee};break;case"container":V.props={...V.props,borderRadiusTL:"0",borderRadiusTR:"0",borderRadiusBL:"0",borderRadiusBR:"0",borderColor:void 0,borderTop:"1",borderBottom:"1",borderLeft:"1",borderRight:"1",visibility:"both"};break;case"column":V.props.columnCount="2",V.props.columnGap="2",V.props.alignment="center",V.props.justify="center",V.props.column1Size="",V.props.column2Size="",V.props.column3Size="",V.props.visibility="both",V.childIds=[`${q}_clm1`,`${q}_clm2`,`${q}_clm3`],j[`${q}_clm1`]={type:"container",props:{},childIds:[]},j[`${q}_clm2`]={type:"container",props:{},childIds:[]},j[`${q}_clm3`]={type:"container",props:{},childIds:[]};break;case"devider":V.props={deviderColor:"#F1F1F1",height:"2",paddingTop:"16",paddingRight:"0",paddingBottom:"16",paddingLeft:"0",visibility:"both"};break;case"spacer":V.props={backgroundColor:void 0,height:"40",visibility:"both"};break}I?j[Q].childIds=v(j[Q].childIds,q,P):j[Q].childIds=w(j[Q].childIds,q,P),j[q]=V,l(j)};function N(E){const P={...o};function Q(I){const j=P[I];if(j){if(j.childIds&&j.childIds.length>0)for(const q of j.childIds)Q(q);delete P[I]}}for(const[I,j]of Object.entries(P))j.childIds?.includes(E)&&(j.childIds=j.childIds.filter(q=>q!==E));Q(E),l(P),s("root")}const z=(E,P)=>{const Q={...o};Q[P].childIds=k(Q[P].childIds,E),l(Q)},Z=(E,P)=>{const Q={...o};Q[P].childIds=$(Q[P].childIds,E),l(Q)},H=(E,P)=>{const Q={},I=new Map;let j=0;const q=()=>{const U=new Date().getTime();return j++,`block_${U}_${j}`},V=U=>{if(I.has(U))return I.get(U);const oe=P[U];if(!oe)return console.warn(`Block ${U} not found`),U;const J=q();I.set(U,J);const ee={type:oe.type,props:{...oe.props},childIds:[]};return oe.childIds&&oe.childIds.length>0&&(ee.childIds=oe.childIds.map(fe=>V(fe))),Q[J]=ee,J},F=V(E);return console.log(Q),console.log(F),{newRootId:F,newBlocks:Q}},te=(E,P)=>{console.log(P);const{newRootId:Q,newBlocks:I}=H(E,o),j={...o,...I},q=[];j[P].childIds.forEach(V=>{q.push(V),V===E&&q.push(Q)}),j[P].childIds=q,l(j)},[K,R]=C.useState(null);return O.jsx(FT.Provider,{value:{isDesktopView:n,setIsDesktopView:e,isShowHidden:t,setIsShowHidden:r,selectedId:i,setSelectedId:s,paperValue:o,setPaperValue:l,addNewBlock:B,removeBlock:N,moveUpBlock:z,moveDownBlock:Z,copyDownBlock:te,triggerRefreshListType:b,setRefreshListType:x,htmlValue:g,draggedContent:K,setDraggedContent:R},children:O.jsx(O8,{propertiesSection:O.jsx(Vee,{}),children:O.jsx(EJ,{})})})};export{ute as default};
